import{An as mergeProps,B as ElDropdownItem,Bn as resolveComponent,Dn as h,Dr as normalizeClass,En as guardReactiveProps,Fn as openBlock,Hn as resolveDynamicComponent,In as popScopeId,Jn as withCtx,Kn as watch,Kt as share_default,Ln as pushScopeId,Mr as toDisplayString,Or as normalizeProps,Pt as more_filled_default,Qn as markRaw,Rn as renderList,Rr as __toESM,Sn as createVNode,Un as toHandlers,V as ElDropdownMenu,Vn as resolveDirective,Xn as withScopeId,Yn as withDirectives,_n as createBlock,bt as delete_default,er as ref,fn as Fragment,gn as createBaseVNode,hn as computed,jn as nextTick,kr as normalizeStyle,nn as _plugin_vue_export_helper_default,or as unref,tr as shallowReactive,tt as ElButton,vn as createCommentVNode,wn as defineComponent,wt as edit_default,xn as createTextVNode,yn as createElementBlock,z as ElDropdown,zn as renderSlot}from"./index-BSx7YI45.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            */function getInternetExplorerVersion(){var e=window.navigator.userAgent,t=e.indexOf(`MSIE `);if(t>0)return parseInt(e.substring(t+5,e.indexOf(`.`,t)),10);if(e.indexOf(`Trident/`)>0){var n=e.indexOf(`rv:`);return parseInt(e.substring(n+3,e.indexOf(`.`,n)),10)}var r=e.indexOf(`Edge/`);return r>0?parseInt(e.substring(r+5,e.indexOf(`.`,r)),10):-1}var isIE;function initCompat(){initCompat.init||(initCompat.init=!0,isIE=getInternetExplorerVersion()!==-1)}var script$3={name:`ResizeObserver`,props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:[`notify`],mounted(){initCompat(),nextTick(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});let e=document.createElement(`object`);this._resizeObject=e,e.setAttribute(`aria-hidden`,`true`),e.setAttribute(`tabindex`,-1),e.onload=this.addResizeHandlers,e.type=`text/html`,isIE&&this.$el.appendChild(e),e.data=`about:blank`,isIE||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit(`notify`,{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener(`resize`,this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!isIE&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener(`resize`,this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},_withId=withScopeId(`data-v-b329ee4c`);pushScopeId(`data-v-b329ee4c`);var _hoisted_1$2={class:`resize-observer`,tabindex:`-1`};popScopeId(),script$3.render=_withId((e,t,n,r,i,a)=>(openBlock(),createBlock(`div`,_hoisted_1$2))),script$3.__scopeId=`data-v-b329ee4c`,script$3.__file=`src/components/ResizeObserver.vue`;function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},_typeof$1(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw TypeError(`Cannot call a class as a function`)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,`value`in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<`u`&&Symbol.iterator in Object(e))return Array.from(e)}function _unsupportedIterableToArray(e,t){if(e){if(typeof e==`string`)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n===`Object`&&e.constructor&&(n=e.constructor.name),n===`Map`||n===`Set`)return Array.from(e);if(n===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}}function _arrayLikeToArray(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _nonIterableSpread(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function processOptions(e){return typeof e==`function`?{callback:e}:e}function throttle(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r,i,a,o=function(o){if(a=[...arguments].slice(1),!(r&&o===i)){var s=n.leading;typeof s==`function`&&(s=s(o,i)),(!r||o!==i)&&s&&e.apply(void 0,[o].concat(_toConsumableArray(a))),i=o,clearTimeout(r),r=setTimeout(function(){e.apply(void 0,[o].concat(_toConsumableArray(a))),r=0},t)}};return o._clear=function(){clearTimeout(r),r=null},o}function deepEqual(e,t){if(e===t)return!0;if(_typeof$1(e)===`object`){for(var n in e)if(!deepEqual(e[n],t[n]))return!1;return!0}return!1}var VisibilityState=function(){function e(t,n,r){_classCallCheck(this,e),this.el=t,this.observer=null,this.frozen=!1,this.createObserver(n,r)}return _createClass(e,[{key:`createObserver`,value:function(e,t){var n=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=processOptions(e),this.callback=function(e,t){n.options.callback(e,t),e&&n.options.once&&(n.frozen=!0,n.destroyObserver())},this.callback&&this.options.throttle){var r=(this.options.throttleOptions||{}).leading;this.callback=throttle(this.callback,this.options.throttle,{leading:function(e){return r===`both`||r===`visible`&&e||r===`hidden`&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(e){var t=e[0];if(e.length>1){var r=e.find(function(e){return e.isIntersecting});r&&(t=r)}if(n.callback){var i=t.isIntersecting&&t.intersectionRatio>=n.threshold;if(i===n.oldResult)return;n.oldResult=i,n.callback(i,t)}},this.options.intersection),nextTick(function(){n.observer&&n.observer.observe(n.el)})}}},{key:`destroyObserver`,value:function(){this.observer&&=(this.observer.disconnect(),null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:`threshold`,get:function(){return this.options.intersection&&typeof this.options.intersection.threshold==`number`?this.options.intersection.threshold:0}}]),e}();function beforeMount(e,t,n){var r=t.value;r&&(typeof IntersectionObserver>`u`||(e._vue_visibilityState=new VisibilityState(e,r,n)))}function updated(e,t,n){var r=t.value,i=t.oldValue;if(!deepEqual(r,i)){var a=e._vue_visibilityState;if(!r){unmounted(e);return}a?a.createObserver(r,n):beforeMount(e,{value:r},n)}}function unmounted(e){var t=e._vue_visibilityState;t&&(t.destroyObserver(),delete e._vue_visibilityState)}var ObserveVisibility={beforeMount,updated,unmounted};function mitt_es_default(e){return{all:e||=new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map(function(e){e(n)}),(e.get(`*`)||[]).slice().map(function(e){e(t,n)})}}}var config={itemsLimit:1e3},regex=/(auto|scroll)/;function parents(e,t){return e.parentNode===null?t:parents(e.parentNode,t.concat([e]))}var style=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},overflow=function(e){return style(e,`overflow`)+style(e,`overflow-y`)+style(e,`overflow-x`)},scroll=function(e){return regex.test(overflow(e))};function getScrollParent(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var t=parents(e.parentNode,[]),n=0;n<t.length;n+=1)if(scroll(t[n]))return t[n];return document.scrollingElement||document.documentElement}}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},_typeof(e)}var props={items:{type:Array,required:!0},keyField:{type:String,default:`id`},direction:{type:String,default:`vertical`,validator:function(e){return[`vertical`,`horizontal`].includes(e)}},listTag:{type:String,default:`div`},itemTag:{type:String,default:`div`}};function simpleArray(){return this.items.length&&_typeof(this.items[0])!==`object`}var supportsPassive=!1;if(typeof window<`u`){supportsPassive=!1;try{var opts=Object.defineProperty({},`passive`,{get:function(){supportsPassive=!0}});window.addEventListener(`test`,null,opts)}catch{}}var uid=0,script$2={name:`RecycleScroller`,components:{ResizeObserver:script$3},directives:{ObserveVisibility},props:{...props,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:`size`},typeField:{type:String,default:`type`},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:`div`},itemTag:{type:String,default:`div`},listClass:{type:[String,Object,Array],default:``},itemClass:{type:[String,Object,Array],default:``}},emits:[`resize`,`visible`,`hidden`,`update`,`scroll-start`,`scroll-end`],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){let e={"-1":{accumulator:0}},t=this.items,n=this.sizeField,r=this.minItemSize,i=1e4,a=0,o;for(let s=0,c=t.length;s<c;s++)o=t[s][n]||r,o<i&&(i=o),a+=o,e[s]={accumulator:a,size:o};return this.$_computedMinItemSize=i,e}return[]},simpleArray,itemIndexByKey(){let{keyField:e,items:t}=this,n={};for(let r=0,i=t.length;r<i;r++)n[t[r][e]]=r;return n}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&this.itemSize},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){let e=this.$_lastUpdateScrollPosition;typeof e==`number`&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,t,n,r,i){let a=shallowReactive({item:n,position:0,nr:markRaw({id:uid++,index:t,used:!0,key:r,type:i})});return e.push(a),a},unuseView(e,t=!1){let n=this.$_unusedViews,r=e.nr.type,i=n.get(r);i||(i=[],n.set(r,i)),i.push(e),t||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit(`resize`),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;let e=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;let{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});e(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&e()},this.updateInterval))}},handleVisibilityChange(e,t){this.ready&&(e||t.boundingClientRect.width!==0||t.boundingClientRect.height!==0?(this.$emit(`visible`),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit(`hidden`))},updateVisibleItems(e,t=!1){let n=this.itemSize,r=this.gridItems||1,i=this.itemSecondarySize||n,a=this.$_computedMinItemSize,o=this.typeField,s=this.simpleArray?null:this.keyField,c=this.items,l=c.length,u=this.sizes,d=this.$_views,f=this.$_unusedViews,p=this.pool,m=this.itemIndexByKey,g,_,v,y,b;if(!l)g=_=y=b=v=0;else if(this.$_prerender)g=y=0,_=b=Math.min(this.prerender,c.length),v=null;else{let e=this.getScroll();if(t){let t=e.start-this.$_lastUpdateScrollPosition;if(t<0&&(t=-t),n===null&&t<a||t<n)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;let i=this.buffer;e.start-=i,e.end+=i;let o=0;if(this.$refs.before&&(o=this.$refs.before.scrollHeight,e.start-=o),this.$refs.after){let t=this.$refs.after.scrollHeight;e.end+=t}if(n===null){let t,n=0,r=l-1,i=~~(l/2),a;do a=i,t=u[i].accumulator,t<e.start?n=i:i<l-1&&u[i+1].accumulator>e.start&&(r=i),i=~~((n+r)/2);while(i!==a);for(i<0&&(i=0),g=i,v=u[l-1].accumulator,_=i;_<l&&u[_].accumulator<e.end;_++);for(_===-1?_=c.length-1:(_++,_>l&&(_=l)),y=g;y<l&&o+u[y].accumulator<e.start;y++);for(b=y;b<l&&o+u[b].accumulator<e.end;b++);}else{g=~~(e.start/n*r);let t=g%r;g-=t,_=Math.ceil(e.end/n*r),y=Math.max(0,Math.floor((e.start-o)/n*r)),b=Math.floor((e.end-o)/n*r),g<0&&(g=0),_>l&&(_=l),y<0&&(y=0),b>l&&(b=l),v=Math.ceil(l/r)*n}}_-g>config.itemsLimit&&this.itemsLimitError(),this.totalSize=v;let x,S=g<=this.$_endIndex&&_>=this.$_startIndex;if(S)for(let t=0,n=p.length;t<n;t++)x=p[t],x.nr.used&&(e&&(x.nr.index=m[x.item[s]]),(x.nr.index==null||x.nr.index<g||x.nr.index>=_)&&this.unuseView(x));let C=S?null:new Map,w,T,E;for(let e=g;e<_;e++){w=c[e];let t=s?w[s]:w;if(t==null)throw Error(`Key is ${t} on item (keyField is '${s}')`);if(x=d.get(t),!n&&!u[e].size){x&&this.unuseView(x);continue}T=w[o];let a=f.get(T),l=!1;if(!x)S?x=a&&a.length?a.pop():this.addView(p,e,w,t,T):(E=C.get(T)||0,(!a||E>=a.length)&&(x=this.addView(p,e,w,t,T),this.unuseView(x,!0),a=f.get(T)),x=a[E],C.set(T,E+1)),d.delete(x.nr.key),x.nr.used=!0,x.nr.index=e,x.nr.key=t,x.nr.type=T,d.set(t,x),l=!0;else if(!x.nr.used&&(x.nr.used=!0,l=!0,a)){let e=a.indexOf(x);e!==-1&&a.splice(e,1)}x.item=w,l&&(e===c.length-1&&this.$emit(`scroll-end`),e===0&&this.$emit(`scroll-start`)),n===null?(x.position=u[e-1].accumulator,x.offset=0):(x.position=Math.floor(e/r)*n,x.offset=e%r*i)}return this.$_startIndex=g,this.$_endIndex=_,this.emitUpdate&&this.$emit(`update`,g,_,y,b),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:S}},getListenerTarget(){let e=getScrollParent(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){let{$el:e,direction:t}=this,n=t===`vertical`,r;if(this.pageMode){let t=e.getBoundingClientRect(),i=n?t.height:t.width,a=-(n?t.top:t.left),o=n?window.innerHeight:window.innerWidth;a<0&&(o+=a,a=0),a+o>i&&(o=i-a),r={start:a,end:a+o}}else r=n?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return r},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener(`scroll`,this.handleScroll,supportsPassive?{passive:!0}:!1),this.listenerTarget.addEventListener(`resize`,this.handleResize)},removeListeners(){this.listenerTarget&&=(this.listenerTarget.removeEventListener(`scroll`,this.handleScroll),this.listenerTarget.removeEventListener(`resize`,this.handleResize),null)},scrollToItem(e){let t,n=this.gridItems||1;t=this.itemSize===null?e>0?this.sizes[e-1].accumulator:0:Math.floor(e/n)*this.itemSize,this.scrollToPosition(t)},scrollToPosition(e){let t=this.direction===`vertical`?{scroll:`scrollTop`,start:`top`}:{scroll:`scrollLeft`,start:`left`},n,r,i;if(this.pageMode){let a=getScrollParent(this.$el),o=a.tagName===`HTML`?0:a[t.scroll],s=a.getBoundingClientRect(),c=this.$el.getBoundingClientRect()[t.start]-s[t.start];n=a,r=t.scroll,i=e+o+c}else n=this.$el,r=t.scroll,i=e;n[r]=i},itemsLimitError(){throw setTimeout(()=>{}),Error(`Rendered items limit reached`)},sortViews(){this.pool.sort((e,t)=>e.nr.index-t.nr.index)}}},_hoisted_1$1={key:0,ref:`before`,class:`vue-recycle-scroller__slot`},_hoisted_2$1={key:1,ref:`after`,class:`vue-recycle-scroller__slot`};function render$1(t,r,a,c,u,d){let f=resolveComponent(`ResizeObserver`),p=resolveDirective(`observe-visibility`);return withDirectives((openBlock(),createElementBlock(`div`,{class:normalizeClass([`vue-recycle-scroller`,{ready:u.ready,"page-mode":a.pageMode,[`direction-${t.direction}`]:!0}]),onScrollPassive:r[0]||=(...e)=>d.handleScroll&&d.handleScroll(...e)},[t.$slots.before?(openBlock(),createElementBlock(`div`,_hoisted_1$1,[renderSlot(t.$slots,`before`)],512)):createCommentVNode(`v-if`,!0),(openBlock(),createBlock(resolveDynamicComponent(a.listTag),{ref:`wrapper`,style:normalizeStyle({[t.direction===`vertical`?`minHeight`:`minWidth`]:u.totalSize+`px`}),class:normalizeClass([`vue-recycle-scroller__item-wrapper`,a.listClass])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.pool,n=>(openBlock(),createBlock(resolveDynamicComponent(a.itemTag),mergeProps({key:n.nr.id,style:u.ready?{transform:`translate${t.direction===`vertical`?`Y`:`X`}(${n.position}px) translate${t.direction===`vertical`?`X`:`Y`}(${n.offset}px)`,width:a.gridItems?`${t.direction===`vertical`&&a.itemSecondarySize||a.itemSize}px`:void 0,height:a.gridItems?`${t.direction===`horizontal`&&a.itemSecondarySize||a.itemSize}px`:void 0}:null,class:[`vue-recycle-scroller__item-view`,[a.itemClass,{hover:!a.skipHover&&u.hoverKey===n.nr.key}]]},toHandlers(a.skipHover?{}:{mouseenter:()=>{u.hoverKey=n.nr.key},mouseleave:()=>{u.hoverKey=null}})),{default:withCtx(()=>[renderSlot(t.$slots,`default`,{item:n.item,index:n.nr.index,active:n.nr.used})]),_:2},1040,[`style`,`class`]))),128)),renderSlot(t.$slots,`empty`)]),_:3},8,[`style`,`class`])),t.$slots.after?(openBlock(),createElementBlock(`div`,_hoisted_2$1,[renderSlot(t.$slots,`after`)],512)):createCommentVNode(`v-if`,!0),createVNode(f,{onNotify:d.handleResize},null,8,[`onNotify`])],34)),[[p,d.handleVisibilityChange]])}script$2.render=render$1,script$2.__file=`src/components/RecycleScroller.vue`;var script$1={name:`DynamicScroller`,components:{RecycleScroller:script$2},provide(){return typeof ResizeObserver<`u`&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(let t of e)if(t.target&&t.target.$_vs_onResize){let e,n;if(t.borderBoxSize){let r=t.borderBoxSize[0];e=r.inlineSize,n=r.blockSize}else e=t.contentRect.width,n=t.contentRect.height;t.target.$_vs_onResize(t.target.$_vs_id,e,n)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...props,minItemSize:{type:[Number,String],required:!0}},emits:[`resize`,`visible`],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray,itemsWithSize(){let e=[],{items:t,keyField:n,simpleArray:r}=this,i=this.vscrollData.sizes,a=t.length;for(let o=0;o<a;o++){let a=t[o],s=r?o:a[n],c=i[s];c===void 0&&!this.$_undefinedMap[s]&&(c=0),e.push({item:a,id:s,size:c})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,t){let n=this.$el.scrollTop,r=0,i=0,a=Math.min(e.length,t.length);for(let o=0;o<a&&!(r>=n);o++)r+=t[o].size||this.minItemSize,i+=e[o].size||this.minItemSize;let o=i-r;o!==0&&(this.$el.scrollTop+=o)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=mitt_es_default()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit(`resize`)},onScrollerVisible(){this.$_events.emit(`vscroll:update`,{force:!1}),this.$emit(`visible`)},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit(`vscroll:update`,{force:!0})},scrollToItem(e){let t=this.$refs.scroller;t&&t.scrollToItem(e)},getItemSize(e,t=void 0){let n=this.simpleArray?t??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[n]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;let e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;let t=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(t)})};requestAnimationFrame(t)})}}};function render(t,r,i,s,c,u){let d=resolveComponent(`RecycleScroller`);return openBlock(),createBlock(d,mergeProps({ref:`scroller`,items:u.itemsWithSize,"min-item-size":i.minItemSize,direction:t.direction,"key-field":`id`,"list-tag":t.listTag,"item-tag":t.itemTag},t.$attrs,{onResize:u.onScrollerResize,onVisible:u.onScrollerVisible}),{default:withCtx(({item:e,index:n,active:r})=>[renderSlot(t.$slots,`default`,normalizeProps(guardReactiveProps({item:e.item,index:n,active:r,itemWithSize:e})))]),before:withCtx(()=>[renderSlot(t.$slots,`before`)]),after:withCtx(()=>[renderSlot(t.$slots,`after`)]),empty:withCtx(()=>[renderSlot(t.$slots,`empty`)]),_:3},16,[`items`,`min-item-size`,`direction`,`list-tag`,`item-tag`,`onResize`,`onVisible`])}script$1.render=render,script$1.__file=`src/components/DynamicScroller.vue`;var script={name:`DynamicScrollerItem`,inject:[`vscrollData`,`vscrollParent`,`vscrollResizeObserver`],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:`div`}},emits:[`resize`],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:`updateWatchData`,id(e,t){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){let n=this.vscrollData.sizes[t],r=this.vscrollData.sizes[e];n!=null&&n!==r&&this.applySize(n)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(let e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on(`vscroll:update`,this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off(`vscroll:update`,this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch(`item`,()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&=(this.$_watchData(),null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){let e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.applyWidthHeight(e,t)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,t){let n=~~(this.vscrollParent.direction===`vertical`?t:e);n&&this.size!==n&&this.applySize(n)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit(`resize`,this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||=(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,!0))},unobserveSize(){this.vscrollResizeObserver&&(this.$_sizeObserved&&=(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,!1))},onResize(e,t,n){this.id===e&&this.applyWidthHeight(t,n)}},render(){return h(this.tag,this.$slots.default())}};script.__file=`src/components/DynamicScrollerItem.vue`;var minItemSize=60,virtualList_default=defineComponent({__name:`index`,props:{data:{default:()=>[]},size:{default:10},autoRrefresh:{type:Boolean,default:!0}},emits:[`onScrollEnd`],setup(e,{emit:t}){let n=t,r=ref(null),i=computed(()=>e.size*minItemSize);return watch(()=>e.data,()=>{nextTick(()=>{r.value&&e.autoRrefresh&&r.value.forceUpdate()})},{deep:1}),(e,t)=>(openBlock(),createBlock(unref(script$1),{ref_key:`scrollerRef`,ref:r,items:e.data,"min-item-size":minItemSize,onScrollEnd:t[0]||=e=>n(`onScrollEnd`),style:normalizeStyle({maxHeight:`${i.value}px`,overflowY:`auto`}),class:`h-full`,"key-field":`id`},{default:withCtx(({item:t,index:n,active:r})=>[createVNode(unref(script),{item:t,active:r,"data-index":n},{default:withCtx(()=>[renderSlot(e.$slots,`default`,{item:t,index:n})]),_:2},1032,[`item`,`active`,`data-index`])]),_:3},8,[`items`,`style`]))}}),_hoisted_1={class:`demo-card`},_hoisted_2={class:`demo-content`},_hoisted_3={class:`list-container`},_hoisted_4={class:`list-item`},_hoisted_5={class:`item-info`},_hoisted_6={class:`item-avatar`},_hoisted_7={class:`item-text`},infinite_virtual_list_default=_plugin_vue_export_helper_default({__name:`infinite-virtual-list`,setup(e){let n=ref(Array.from({length:1e3},(e,t)=>({id:t+1,text:`这是虚拟列表中的第 ${t+1} 个数据项`})));return(e,r)=>{let i=ElButton,a=ElDropdownItem,s=ElDropdownMenu,c=ElDropdown,u=virtualList_default;return openBlock(),createElementBlock(`div`,_hoisted_1,[r[3]||=createBaseVNode(`div`,{class:`demo-info`},[createBaseVNode(`h4`,{class:`title`},`虚拟长列表 (Virtual List)`),createBaseVNode(`p`,{class:`desc`},`高效渲染海量数据，仅在视口区域内生成 DOM 节点`)],-1),createBaseVNode(`div`,_hoisted_2,[createBaseVNode(`div`,_hoisted_3,[createVNode(u,{data:n.value,itemSize:60,maxSize:20},{default:withCtx(({row:e})=>[createBaseVNode(`div`,_hoisted_4,[createBaseVNode(`div`,_hoisted_5,[createBaseVNode(`div`,_hoisted_6,toDisplayString(e.text.charAt(0))+toDisplayString(e.id),1),createBaseVNode(`span`,_hoisted_7,toDisplayString(e.text),1)]),createVNode(c,{placement:`bottom`,trigger:`click`},{dropdown:withCtx(()=>[createVNode(s,null,{default:withCtx(()=>[createVNode(a,{icon:unref(edit_default)},{default:withCtx(()=>r[0]||=[createTextVNode(`编辑项目`)]),_:1},8,[`icon`]),createVNode(a,{icon:unref(share_default)},{default:withCtx(()=>r[1]||=[createTextVNode(`分享此项`)]),_:1},8,[`icon`]),createVNode(a,{icon:unref(delete_default),divided:``,type:`danger`},{default:withCtx(()=>r[2]||=[createTextVNode(`删除`)]),_:1},8,[`icon`])]),_:1})]),default:withCtx(()=>[createVNode(i,{link:``,icon:unref(more_filled_default)},null,8,[`icon`])]),_:1})])]),_:1},8,[`data`])])])])}}},[[`__scopeId`,`data-v-100ecd69`]]);export{infinite_virtual_list_default as default};