import{r as a}from"./main-aXKQxMsy.js";import{aY as o}from"./core-OJ5DsH9Q.js";const t=o.create({baseURL:window.api.url,timeout:5e3});t.defaults.headers["Content-Type"]="application/json";t.interceptors.request.use(e=>e,e=>Promise.reject(e));t.interceptors.response.use(e=>e.status===200?Promise.resolve(e):Promise.reject(e),e=>{if(e.response)switch(e.response.status){case 401:localStorage.removeItem("token"),alert("连接超时，请重新登录"),a.push({path:"/"});break;case 403:alert("登录过期，请重新登录"),localStorage.removeItem("token"),a.push({path:"/"});break;case 404:alert("网络请求不存在");break;case 500:alert("网络请求有误");default:alert("服务错误")}else return window.navigator.onLine?Promise.reject(e):void 0});function c(){return t({url:"/v3/weather/weatherInfo?city=510100&key=850268c979fccb70b1ee1732dc64f20c",method:"get"})}function i(e){const r=JSON.stringify({keyWord:e.keyword});return t({url:`/td/geocoder?ds=${encodeURIComponent(r)}&tk=b40e3cf3d6fa4b1a6c1dc2d2a5288b7e`,method:"GET"})}function d(e){const r=JSON.stringify({orig:e.orig,dest:e.dest,style:"0"});return t({url:"/td/drive",method:"GET",params:{postStr:r,type:"search",tk:"b40e3cf3d6fa4b1a6c1dc2d2a5288b7e"}})}export{i as a,d as b,c as g};
