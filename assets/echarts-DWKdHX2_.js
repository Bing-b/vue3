import{An as onBeforeUnmount,Br as __exportAll,En as inject,Hr as __toESM,Kn as watch,Nn as openBlock,Qn as isRef,Qt as _plugin_vue_export_helper_default,Sn as getCurrentInstance,cr as toRefs,dn as computed,fn as createBaseVNode,hn as createElementBlock,jn as onMounted,kn as nextTick,or as shallowRef,qn as watchEffect,rr as ref,tr as reactive,ur as unref,w as ElSwitch,wn as h,xn as defineComponent,yn as createVNode$1}from"./index-CidyMYlX.js";/* empty css            */var extendStatics=function(t,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},extendStatics(t,n)};function __extends(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);extendStatics(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),env=new(function(){function t(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<`u`}return t}());typeof wx==`object`&&typeof wx.getSystemInfoSync==`function`?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>`u`&&typeof self<`u`?env.worker=!0:!env.hasGlobalWindow||`Deno`in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(t,n){var r=n.browser,a=t.match(/Firefox\/([\d.]+)/),o=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),s=t.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(t);a&&(r.firefox=!0,r.version=a[1]),o&&(r.ie=!0,r.version=o[1]),s&&(r.edge=!0,r.version=s[1],r.newEdge=+s[1].split(`.`)[0]>18),c&&(r.weChat=!0),n.svgSupported=typeof SVGRect<`u`,n.touchEventsSupported=`ontouchstart`in window&&!r.ie&&!r.edge,n.pointerEventsSupported=`onpointerdown`in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<`u`;var l=document.documentElement.style;n.transform3dSupported=(r.ie&&`transition`in l||r.edge||`WebKitCSSMatrix`in window&&`m11`in new WebKitCSSMatrix||`MozPerspective`in l)&&!(`OTransition`in l),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}var env_default=env,DEFAULT_FONT=`12px sans-serif`,OFFSET=20,SCALE=100,defaultWidthMapStr=`007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N`;function getTextWidthMap(t){var n={};if(typeof JSON>`u`)return n;for(var r=0;r<t.length;r++){var a=String.fromCharCode(r+32);n[a]=(t.charCodeAt(r)-OFFSET)/SCALE}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<`u`&&document.createElement(`canvas`)},measureText:(function(){var t,n;return function(r,a){if(!t){var o=platformApi.createCanvas();t=o&&o.getContext(`2d`)}if(t)return n!==a&&(n=t.font=a||`12px sans-serif`),t.measureText(r);r||=``,a||=`12px sans-serif`;var s=/((?:\d+)?\.?\d*)px/.exec(a),c=s&&+s[1]||12,l=0;if(a.indexOf(`mono`)>=0)l=c*r.length;else for(var u=0;u<r.length;u++){var d=DEFAULT_TEXT_WIDTH_MAP[r[u]];l+=d==null?c:d*c}return{width:l}}})(),loadImage:function(t,n,r){var a=new Image;return a.onload=n,a.onerror=r,a.src=t,a}},BUILTIN_OBJECT=reduce([`Function`,`RegExp`,`Date`,`Error`,`CanvasGradient`,`CanvasPattern`,`Image`,`Canvas`],function(t,n){return t[`[object `+n+`]`]=!0,t},{}),TYPED_ARRAY=reduce([`Int8`,`Uint8`,`Uint8Clamped`,`Int16`,`Uint16`,`Int32`,`Uint32`,`Float32`,`Float64`],function(t,n){return t[`[object `+n+`Array]`]=!0,t},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=function(){}.constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey=`__proto__`,idStart=2311;function guid(){return idStart++}function logError(){var t=[...arguments];typeof console<`u`&&console.error.apply(console,t)}function clone$4(t){if(typeof t!=`object`||!t)return t;var n=t,r=objToString.call(t);if(r===`[object Array]`){if(!isPrimitive(t)){n=[];for(var a=0,o=t.length;a<o;a++)n[a]=clone$4(t[a])}}else if(TYPED_ARRAY[r]){if(!isPrimitive(t)){var s=t.constructor;if(s.from)n=s.from(t);else{n=new s(t.length);for(var a=0,o=t.length;a<o;a++)n[a]=t[a]}}}else if(!BUILTIN_OBJECT[r]&&!isPrimitive(t)&&!isDom(t))for(var c in n={},t)t.hasOwnProperty(c)&&c!==protoKey&&(n[c]=clone$4(t[c]));return n}function merge(t,n,r){if(!isObject$3(n)||!isObject$3(t))return r?clone$4(n):t;for(var a in n)if(n.hasOwnProperty(a)&&a!==protoKey){var o=t[a],s=n[a];isObject$3(s)&&isObject$3(o)&&!isArray$1(s)&&!isArray$1(o)&&!isDom(s)&&!isDom(o)&&!isBuiltInObject(s)&&!isBuiltInObject(o)&&!isPrimitive(s)&&!isPrimitive(o)?merge(o,s,r):(r||!(a in t))&&(t[a]=clone$4(n[a]))}return t}function mergeAll(t,n){for(var r=t[0],a=1,o=t.length;a<o;a++)r=merge(r,t[a],n);return r}function extend(t,n){if(Object.assign)Object.assign(t,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey&&(t[r]=n[r]);return t}function defaults(t,n,r){for(var a=keys(n),o=0,s=a.length;o<s;o++){var c=a[o];(r?n[c]!=null:t[c]==null)&&(t[c]=n[c])}return t}platformApi.createCanvas;function indexOf(t,n){if(t){if(t.indexOf)return t.indexOf(n);for(var r=0,a=t.length;r<a;r++)if(t[r]===n)return r}return-1}function inherits(t,n){var r=t.prototype;function a(){}for(var o in a.prototype=n.prototype,t.prototype=new a,r)r.hasOwnProperty(o)&&(t.prototype[o]=r[o]);t.prototype.constructor=t,t.superClass=n}function mixin(t,n,r){if(t=`prototype`in t?t.prototype:t,n=`prototype`in n?n.prototype:n,Object.getOwnPropertyNames)for(var a=Object.getOwnPropertyNames(n),o=0;o<a.length;o++){var s=a[o];s!==`constructor`&&(r?n[s]!=null:t[s]==null)&&(t[s]=n[s])}else defaults(t,n,r)}function isArrayLike(t){return!t||typeof t==`string`?!1:typeof t.length==`number`}function each$15(t,n,r){if(t&&n)if(t.forEach&&t.forEach===nativeForEach)t.forEach(n,r);else if(t.length===+t.length)for(var a=0,o=t.length;a<o;a++)n.call(r,t[a],a,t);else for(var s in t)t.hasOwnProperty(s)&&n.call(r,t[s],s,t)}function map$1(t,n,r){if(!t)return[];if(!n)return slice(t);if(t.map&&t.map===nativeMap)return t.map(n,r);for(var a=[],o=0,s=t.length;o<s;o++)a.push(n.call(r,t[o],o,t));return a}function reduce(t,n,r,a){if(t&&n){for(var o=0,s=t.length;o<s;o++)r=n.call(a,r,t[o],o,t);return r}}function filter(t,n,r){if(!t)return[];if(!n)return slice(t);if(t.filter&&t.filter===nativeFilter)return t.filter(n,r);for(var a=[],o=0,s=t.length;o<s;o++)n.call(r,t[o],o,t)&&a.push(t[o]);return a}function find(t,n,r){if(t&&n){for(var a=0,o=t.length;a<o;a++)if(n.call(r,t[a],a,t))return t[a]}}function keys(t){if(!t)return[];if(Object.keys)return Object.keys(t);var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill(t,n){var r=[...arguments].slice(2);return function(){return t.apply(n,r.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(t){var n=[...arguments].slice(1);return function(){return t.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$1(t){return Array.isArray?Array.isArray(t):objToString.call(t)===`[object Array]`}function isFunction(t){return typeof t==`function`}function isString(t){return typeof t==`string`}function isStringSafe(t){return objToString.call(t)===`[object String]`}function isNumber(t){return typeof t==`number`}function isObject$3(t){var n=typeof t;return n===`function`||!!t&&n===`object`}function isBuiltInObject(t){return!!BUILTIN_OBJECT[objToString.call(t)]}function isTypedArray(t){return!!TYPED_ARRAY[objToString.call(t)]}function isDom(t){return typeof t==`object`&&typeof t.nodeType==`number`&&typeof t.ownerDocument==`object`}function isGradientObject(t){return t.colorStops!=null}function isImagePatternObject(t){return t.image!=null}function isRegExp(t){return objToString.call(t)===`[object RegExp]`}function eqNaN(t){return t!==t}function retrieve(){for(var t=[...arguments],n=0,r=t.length;n<r;n++)if(t[n]!=null)return t[n]}function retrieve2(t,n){return t??n}function retrieve3(t,n,r){return t??n??r}function slice(t){var n=[...arguments].slice(1);return nativeSlice.apply(t,n)}function normalizeCssArray$1(t){if(typeof t==`number`)return[t,t,t,t];var n=t.length;return n===2?[t[0],t[1],t[0],t[1]]:n===3?[t[0],t[1],t[2],t[1]]:t}function assert(t,n){if(!t)throw Error(n)}function trim$1(t){return t==null?null:typeof t.trim==`function`?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,``)}var primitiveKey=`__ec_primitive__`;function setAsPrimitive(t){t[primitiveKey]=!0}function isPrimitive(t){return t[primitiveKey]}var MapPolyfill=function(){function t(){this.data={}}return t.prototype.delete=function(t){var n=this.has(t);return n&&delete this.data[t],n},t.prototype.has=function(t){return this.data.hasOwnProperty(t)},t.prototype.get=function(t){return this.data[t]},t.prototype.set=function(t,n){return this.data[t]=n,this},t.prototype.keys=function(){return keys(this.data)},t.prototype.forEach=function(t){var n=this.data;for(var r in n)n.hasOwnProperty(r)&&t(n[r],r)},t}(),isNativeMapSupported=typeof Map==`function`;function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function t(n){var r=isArray$1(n);this.data=maybeNativeMap();var a=this;n instanceof t?n.each(o):n&&each$15(n,o);function o(t,n){r?a.set(t,n):a.set(n,t)}}return t.prototype.hasKey=function(t){return this.data.has(t)},t.prototype.get=function(t){return this.data.get(t)},t.prototype.set=function(t,n){return this.data.set(t,n),n},t.prototype.each=function(t,n){this.data.forEach(function(r,a){t.call(n,r,a)})},t.prototype.keys=function(){var t=this.data.keys();return isNativeMapSupported?Array.from(t):t},t.prototype.removeKey=function(t){this.data.delete(t)},t}();function createHashMap(t){return new HashMap(t)}function concatArray(t,n){for(var r=new t.constructor(t.length+n.length),a=0;a<t.length;a++)r[a]=t[a];for(var o=t.length,a=0;a<n.length;a++)r[a+o]=n[a];return r}function createObject(t,n){var r;if(Object.create)r=Object.create(t);else{var a=function(){};a.prototype=t,r=new a}return n&&extend(r,n),r}function disableUserSelect(t){var n=t.style;n.webkitUserSelect=`none`,n.userSelect=`none`,n.webkitTapHighlightColor=`rgba(0,0,0,0)`,n[`-webkit-touch-callout`]=`none`}function hasOwn(t,n){return t.hasOwnProperty(n)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(t,n){return t??=0,n??=0,[t,n]}function copy$1(t,n){return t[0]=n[0],t[1]=n[1],t}function clone$3(t){return[t[0],t[1]]}function set$1(t,n,r){return t[0]=n,t[1]=r,t}function add(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t}function scaleAndAdd$1(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t}function sub(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function len(t){return Math.sqrt(lenSquare(t))}function lenSquare(t){return t[0]*t[0]+t[1]*t[1]}function scale$2(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t}function normalize$3(t,n){var r=len(n);return r===0?(t[0]=0,t[1]=0):(t[0]=n[0]/r,t[1]=n[1]/r),t}function distance(t,n){return Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1]))}var dist$1=distance;function distanceSquare(t,n){return(t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])}var distSquare=distanceSquare;function lerp$1(t,n,r,a){return t[0]=n[0]+a*(r[0]-n[0]),t[1]=n[1]+a*(r[1]-n[1]),t}function applyTransform$1(t,n,r){var a=n[0],o=n[1];return t[0]=r[0]*a+r[2]*o+r[4],t[1]=r[1]*a+r[3]*o+r[5],t}function min$1(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t}function max$1(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t}var Param=function(){function t(t,n){this.target=t,this.topTarget=n&&n.topTarget}return t}(),Draggable_default=function(){function t(t){this.handler=t,t.on(`mousedown`,this._dragStart,this),t.on(`mousemove`,this._drag,this),t.on(`mouseup`,this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var n=t.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new Param(n,t),`dragstart`,t.event))},t.prototype._drag=function(t){var n=this._draggingTarget;if(n){var r=t.offsetX,a=t.offsetY,o=r-this._x,s=a-this._y;this._x=r,this._y=a,n.drift(o,s,t),this.handler.dispatchToElement(new Param(n,t),`drag`,t.event);var c=this.handler.findHover(r,a,n).target,l=this._dropTarget;this._dropTarget=c,n!==c&&(l&&c!==l&&this.handler.dispatchToElement(new Param(l,t),`dragleave`,t.event),c&&c!==l&&this.handler.dispatchToElement(new Param(c,t),`dragenter`,t.event))}},t.prototype._dragEnd=function(t){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,t),`dragend`,t.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,t),`drop`,t.event),this._draggingTarget=null,this._dropTarget=null},t}(),Eventful_default=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,n,r,a){this._$handlers||={};var o=this._$handlers;if(typeof n==`function`&&(a=r,r=n,n=null),!r||!t)return this;var s=this._$eventProcessor;n!=null&&s&&s.normalizeQuery&&(n=s.normalizeQuery(n)),o[t]||(o[t]=[]);for(var c=0;c<o[t].length;c++)if(o[t][c].h===r)return this;var l={h:r,query:n,ctx:a||this,callAtLast:r.zrEventfulCallAtLast},u=o[t].length-1,d=o[t][u];return d&&d.callAtLast?o[t].splice(u,0,l):o[t].push(l),this},t.prototype.isSilent=function(t){var n=this._$handlers;return!n||!n[t]||!n[t].length},t.prototype.off=function(t,n){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(n){if(r[t]){for(var a=[],o=0,s=r[t].length;o<s;o++)r[t][o].h!==n&&a.push(r[t][o]);r[t]=a}r[t]&&r[t].length===0&&delete r[t]}else delete r[t];return this},t.prototype.trigger=function(t){var n=[...arguments].slice(1);if(!this._$handlers)return this;var r=this._$handlers[t],a=this._$eventProcessor;if(r)for(var o=n.length,s=r.length,c=0;c<s;c++){var l=r[c];if(!(a&&a.filter&&l.query!=null&&!a.filter(t,l.query)))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,n[0]);break;case 2:l.h.call(l.ctx,n[0],n[1]);break;default:l.h.apply(l.ctx,n);break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){var n=[...arguments].slice(1);if(!this._$handlers)return this;var r=this._$handlers[t],a=this._$eventProcessor;if(r)for(var o=n.length,s=n[o-1],c=r.length,l=0;l<c;l++){var u=r[l];if(!(a&&a.filter&&u.query!=null&&!a.filter(t,u.query)))switch(o){case 0:u.h.call(s);break;case 1:u.h.call(s,n[0]);break;case 2:u.h.call(s,n[0],n[1]);break;default:u.h.apply(s,n.slice(1,o-1));break}}return a&&a.afterTrigger&&a.afterTrigger(t),this},t}(),LN2=Math.log(2);function determinant(t,n,r,a,o,s){var c=a+`-`+o,l=t.length;if(s.hasOwnProperty(c))return s[c];if(n===1){var u=Math.round(Math.log((1<<l)-1&~o)/LN2);return t[r][u]}for(var d=a|1<<r,f=r+1;a&1<<f;)f++;for(var p=0,g=0,_=0;g<l;g++){var v=1<<g;v&o||(p+=(_%2?-1:1)*t[r][g]*determinant(t,n-1,f,d,o|v,s),_++)}return s[c]=p,p}function buildTransformer(t,n){var r=[[t[0],t[1],1,0,0,0,-n[0]*t[0],-n[0]*t[1]],[0,0,0,t[0],t[1],1,-n[1]*t[0],-n[1]*t[1]],[t[2],t[3],1,0,0,0,-n[2]*t[2],-n[2]*t[3]],[0,0,0,t[2],t[3],1,-n[3]*t[2],-n[3]*t[3]],[t[4],t[5],1,0,0,0,-n[4]*t[4],-n[4]*t[5]],[0,0,0,t[4],t[5],1,-n[5]*t[4],-n[5]*t[5]],[t[6],t[7],1,0,0,0,-n[6]*t[6],-n[6]*t[7]],[0,0,0,t[6],t[7],1,-n[7]*t[6],-n[7]*t[7]]],a={},o=determinant(r,8,0,0,0,a);if(o!==0){for(var s=[],c=0;c<8;c++)for(var l=0;l<8;l++)s[l]??(s[l]=0),s[l]+=((c+l)%2?-1:1)*determinant(r,7,c===0?1:0,1<<c,1<<l,a)/o*n[c];return function(t,n,r){var a=n*s[6]+r*s[7]+1;t[0]=(n*s[0]+r*s[1]+s[2])/a,t[1]=(n*s[3]+r*s[4]+s[5])/a}}}var EVENT_SAVED_PROP=`___zrEVENTSAVED`,_calcOut$1=[];function transformLocalCoord(t,n,r,a,o){return transformCoordWithViewport(_calcOut$1,n,a,o,!0)&&transformCoordWithViewport(t,r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(t,n,r,a,o){if(n.getBoundingClientRect&&env_default.domSupported&&!isCanvasEl(n)){var s=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),c=preparePointerTransformer(prepareCoordMarkers(n,s),s,o);if(c)return c(t,r,a),!0}return!1}function prepareCoordMarkers(t,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var a=[`left`,`right`],o=[`top`,`bottom`],s=0;s<4;s++){var c=document.createElement(`div`),l=c.style,u=s%2,d=(s>>1)%2;l.cssText=[`position: absolute`,`visibility: hidden`,`padding: 0`,`margin: 0`,`border-width: 0`,`user-select: none`,`width:0`,`height:0`,a[u]+`:0`,o[d]+`:0`,a[1-u]+`:auto`,o[1-d]+`:auto`,``].join(`!important;`),t.appendChild(c),r.push(c)}return r}function preparePointerTransformer(t,n,r){for(var a=r?`invTrans`:`trans`,o=n[a],s=n.srcCoords,c=[],l=[],u=!0,d=0;d<4;d++){var f=t[d].getBoundingClientRect(),p=2*d,g=f.left,_=f.top;c.push(g,_),u=u&&s&&g===s[p]&&_===s[p+1],l.push(t[d].offsetLeft,t[d].offsetTop)}return u&&o?o:(n.srcCoords=c,n[a]=r?buildTransformer(l,c):buildTransformer(c,l))}function isCanvasEl(t){return t.nodeName.toUpperCase()===`CANVAS`}var replaceReg=/([&<>"'])/g,replaceMap={"&":`&amp;`,"<":`&lt;`,">":`&gt;`,'"':`&quot;`,"'":`&#39;`};function encodeHTML(t){return t==null?``:(t+``).replace(replaceReg,function(t,n){return replaceMap[n]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env_default.browser.firefox&&+env_default.browser.version.split(`.`)[0]<39;function clientToLocal(t,n,r,a){return r||={},a?calculateZrXY(t,n,r):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX==null?calculateZrXY(t,n,r):(r.zrX=n.offsetX,r.zrY=n.offsetY),r}function calculateZrXY(t,n,r){if(env_default.domSupported&&t.getBoundingClientRect){var a=n.clientX,o=n.clientY;if(isCanvasEl(t)){var s=t.getBoundingClientRect();r.zrX=a-s.left,r.zrY=o-s.top;return}else if(transformCoordWithViewport(_calcOut,t,a,o)){r.zrX=_calcOut[0],r.zrY=_calcOut[1];return}}r.zrX=r.zrY=0}function getNativeEvent(t){return t||window.event}function normalizeEvent(t,n,r){if(n=getNativeEvent(n),n.zrX!=null)return n;var a=n.type;if(a&&a.indexOf(`touch`)>=0){var o=a===`touchend`?n.changedTouches[0]:n.targetTouches[0];o&&clientToLocal(t,o,n,r)}else{clientToLocal(t,n,n,r);var s=getWheelDeltaMayPolyfill(n);n.zrDelta=s?s/120:-(n.detail||0)/3}var c=n.button;return n.which==null&&c!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=c&1?1:c&2?3:c&4?2:0),n}function getWheelDeltaMayPolyfill(t){var n=t.wheelDelta;if(n)return n;var r=t.deltaX,a=t.deltaY;if(r==null||a==null)return n;var o=a===0?Math.abs(r):Math.abs(a),s=a>0?-1:a<0?1:r>0?-1:1;return 3*o*s}function addEventListener(t,n,r,a){t.addEventListener(n,r,a)}function removeEventListener(t,n,r,a){t.removeEventListener(n,r,a)}var stop=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(t){return t.which===2||t.which===3}var GestureMgr=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,n,r){return this._doTrack(t,n,r),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,n,r){var a=t.touches;if(a){for(var o={points:[],touches:[],target:n,event:t},s=0,c=a.length;s<c;s++){var l=a[s],u=clientToLocal(r,l,{});o.points.push([u.zrX,u.zrY]),o.touches.push(l)}this._track.push(o)}},t.prototype._recognize=function(t){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var r=recognizers[n](this._track,t);if(r)return r}},t}();function dist(t){var n=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(n*n+r*r)}function center$1(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var recognizers={pinch:function(t,n){var r=t.length;if(r){var a=(t[r-1]||{}).points,o=(t[r-2]||{}).points||a;if(o&&o.length>1&&a&&a.length>1){var s=dist(a)/dist(o);!isFinite(s)&&(s=1),n.pinchScale=s;var c=center$1(a);return n.pinchX=c[0],n.pinchY=c[1],{type:`pinch`,target:t[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function copy(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function mul(t,n,r){var a=n[0]*r[0]+n[2]*r[1],o=n[1]*r[0]+n[3]*r[1],s=n[0]*r[2]+n[2]*r[3],c=n[1]*r[2]+n[3]*r[3],l=n[0]*r[4]+n[2]*r[5]+n[4],u=n[1]*r[4]+n[3]*r[5]+n[5];return t[0]=a,t[1]=o,t[2]=s,t[3]=c,t[4]=l,t[5]=u,t}function translate(t,n,r){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4]+r[0],t[5]=n[5]+r[1],t}function rotate(t,n,r,a){a===void 0&&(a=[0,0]);var o=n[0],s=n[2],c=n[4],l=n[1],u=n[3],d=n[5],f=Math.sin(r),p=Math.cos(r);return t[0]=o*p+l*f,t[1]=-o*f+l*p,t[2]=s*p+u*f,t[3]=-s*f+p*u,t[4]=p*(c-a[0])+f*(d-a[1])+a[0],t[5]=p*(d-a[1])-f*(c-a[0])+a[1],t}function scale$1(t,n,r){var a=r[0],o=r[1];return t[0]=n[0]*a,t[1]=n[1]*o,t[2]=n[2]*a,t[3]=n[3]*o,t[4]=n[4]*a,t[5]=n[5]*o,t}function invert(t,n){var r=n[0],a=n[2],o=n[4],s=n[1],c=n[3],l=n[5],u=r*c-s*a;return u?(u=1/u,t[0]=c*u,t[1]=-s*u,t[2]=-a*u,t[3]=r*u,t[4]=(a*l-c*o)*u,t[5]=(s*o-r*l)*u,t):null}function clone$2(t){var n=create$1();return copy(n,t),n}var Point_default=function(){function t(t,n){this.x=t||0,this.y=n||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,n){return this.x=t,this.y=n,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,n){this.x+=t.x*n,this.y+=t.y*n},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var n=this.x-t.x,r=this.y-t.y;return Math.sqrt(n*n+r*r)},t.prototype.distanceSquare=function(t){var n=this.x-t.x,r=this.y-t.y;return n*n+r*r},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var n=this.x,r=this.y;return this.x=t[0]*n+t[2]*r+t[4],this.y=t[1]*n+t[3]*r+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,n,r){t.x=n,t.y=r},t.copy=function(t,n){t.x=n.x,t.y=n.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,n){return t.x*n.x+t.y*n.y},t.add=function(t,n,r){t.x=n.x+r.x,t.y=n.y+r.y},t.sub=function(t,n,r){t.x=n.x-r.x,t.y=n.y-r.y},t.scale=function(t,n,r){t.x=n.x*r,t.y=n.y*r},t.scaleAndAdd=function(t,n,r,a){t.x=n.x+r.x*a,t.y=n.y+r.y*a},t.lerp=function(t,n,r,a){var o=1-a;t.x=o*n.x+a*r.x,t.y=o*n.y+a*r.y},t}(),mathMin$10=Math.min,mathMax$10=Math.max,lt=new Point_default,rb=new Point_default,lb=new Point_default,rt=new Point_default,minTv$1=new Point_default,maxTv$1=new Point_default,BoundingRect_default=function(){function t(t,n,r,a){r<0&&(t+=r,r=-r),a<0&&(n+=a,a=-a),this.x=t,this.y=n,this.width=r,this.height=a}return t.prototype.union=function(t){var n=mathMin$10(t.x,this.x),r=mathMin$10(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$10(t.x+t.width,this.x+this.width)-n:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$10(t.y+t.height,this.y+this.height)-r:this.height=t.height,this.x=n,this.y=r},t.prototype.applyTransform=function(n){t.applyTransform(this,this,n)},t.prototype.calculateTransform=function(t){var n=this,r=t.width/n.width,a=t.height/n.height,o=create$1();return translate(o,o,[-n.x,-n.y]),scale$1(o,o,[r,a]),translate(o,o,[t.x,t.y]),o},t.prototype.intersect=function(n,r){if(!n)return!1;n instanceof t||(n=t.create(n));var a=this,o=a.x,s=a.x+a.width,c=a.y,l=a.y+a.height,u=n.x,d=n.x+n.width,f=n.y,p=n.y+n.height,g=!(s<u||d<o||l<f||p<c);if(r){var _=1/0,v=0,y=Math.abs(s-u),b=Math.abs(d-o),x=Math.abs(l-f),S=Math.abs(p-c),C=Math.min(y,b),w=Math.min(x,S);s<u||d<o?C>v&&(v=C,y<b?Point_default.set(maxTv$1,-y,0):Point_default.set(maxTv$1,b,0)):C<_&&(_=C,y<b?Point_default.set(minTv$1,y,0):Point_default.set(minTv$1,-b,0)),l<f||p<c?w>v&&(v=w,x<S?Point_default.set(maxTv$1,0,-x):Point_default.set(maxTv$1,0,S)):C<_&&(_=C,x<S?Point_default.set(minTv$1,0,x):Point_default.set(minTv$1,0,-S))}return r&&Point_default.copy(r,g?minTv$1:maxTv$1),g},t.prototype.contain=function(t,n){var r=this;return t>=r.x&&t<=r.x+r.width&&n>=r.y&&n<=r.y+r.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(n){t.copy(this,n)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(n){return new t(n.x,n.y,n.width,n.height)},t.copy=function(t,n){t.x=n.x,t.y=n.y,t.width=n.width,t.height=n.height},t.applyTransform=function(n,r,a){if(!a){n!==r&&t.copy(n,r);return}if(a[1]<1e-5&&a[1]>-1e-5&&a[2]<1e-5&&a[2]>-1e-5){var o=a[0],s=a[3],c=a[4],l=a[5];n.x=r.x*o+c,n.y=r.y*s+l,n.width=r.width*o,n.height=r.height*s,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt.x=lb.x=r.x,lt.y=rt.y=r.y,rb.x=rt.x=r.x+r.width,rb.y=lb.y=r.y+r.height,lt.transform(a),rt.transform(a),rb.transform(a),lb.transform(a),n.x=mathMin$10(lt.x,rb.x,lb.x,rt.x),n.y=mathMin$10(lt.y,rb.y,lb.y,rt.y);var u=mathMax$10(lt.x,rb.x,lb.x,rt.x),d=mathMax$10(lt.y,rb.y,lb.y,rt.y);n.width=u-n.x,n.height=d-n.y},t}(),SILENT=`silent`;function makeEventPacket(t,n,r){return{type:t,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.handler=null,n}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful_default),HoveredResult=function(){function t(t,n){this.x=t,this.y=n}return t}(),handlerNames=[`click`,`dblclick`,`mousewheel`,`mouseout`,`mouseup`,`mousedown`,`mousemove`,`contextmenu`],tmpRect$1=new BoundingRect_default(0,0,0,0),Handler=function(t){__extends(n,t);function n(n,r,a,o,s){var c=t.call(this)||this;return c._hovered=new HoveredResult(0,0),c.storage=n,c.painter=r,c.painterRoot=o,c._pointerSize=s,a||=new EmptyProxy,c.proxy=null,c.setHandlerProxy(a),c._draggingMgr=new Draggable_default(c),c}return n.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(each$15(handlerNames,function(n){t.on&&t.on(n,this[n],this)},this),t.handler=this),this.proxy=t},n.prototype.mousemove=function(t){var n=t.zrX,r=t.zrY,a=isOutsideBoundary(this,n,r),o=this._hovered,s=o.target;s&&!s.__zr&&(o=this.findHover(o.x,o.y),s=o.target);var c=this._hovered=a?new HoveredResult(n,r):this.findHover(n,r),l=c.target,u=this.proxy;u.setCursor&&u.setCursor(l?l.cursor:`default`),s&&l!==s&&this.dispatchToElement(o,`mouseout`,t),this.dispatchToElement(c,`mousemove`,t),l&&l!==s&&this.dispatchToElement(c,`mouseover`,t)},n.prototype.mouseout=function(t){var n=t.zrEventControl;n!==`only_globalout`&&this.dispatchToElement(this._hovered,`mouseout`,t),n!==`no_globalout`&&this.trigger(`globalout`,{type:`globalout`,event:t})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(t,n){var r=this[t];r&&r.call(this,n)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(t){var n=this.proxy;n.setCursor&&n.setCursor(t)},n.prototype.dispatchToElement=function(t,n,r){t||={};var a=t.target;if(!(a&&a.silent)){for(var o=`on`+n,s=makeEventPacket(n,t,r);a&&(a[o]&&(s.cancelBubble=!!a[o].call(a,s)),a.trigger(n,s),a=a.__hostTarget?a.__hostTarget:a.parent,!s.cancelBubble););s.cancelBubble||(this.trigger(n,s),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(t){typeof t[o]==`function`&&t[o].call(t,s),t.trigger&&t.trigger(n,s)}))}},n.prototype.findHover=function(t,n,r){var a=this.storage.getDisplayList(),o=new HoveredResult(t,n);if(setHoverTarget(a,o,t,n,r),this._pointerSize&&!o.target){for(var s=[],c=this._pointerSize,l=c/2,u=new BoundingRect_default(t-l,n-l,c,c),d=a.length-1;d>=0;d--){var f=a[d];f!==r&&!f.ignore&&!f.ignoreCoarsePointer&&(!f.parent||!f.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(f.getBoundingRect()),f.transform&&tmpRect$1.applyTransform(f.transform),tmpRect$1.intersect(u)&&s.push(f))}if(s.length){for(var p=4,g=Math.PI/12,_=Math.PI*2,v=0;v<l;v+=p)for(var y=0;y<_;y+=g)if(setHoverTarget(s,o,t+v*Math.cos(y),n+v*Math.sin(y),r),o.target)return o}}return o},n.prototype.processGesture=function(t,n){this._gestureMgr||=new GestureMgr;var r=this._gestureMgr;n===`start`&&r.clear();var a=r.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if(n===`end`&&r.clear(),a){var o=a.type;t.gestureEvent=o;var s=new HoveredResult;s.target=a.target,this.dispatchToElement(s,o,a.event)}},n}(Eventful_default);each$15([`click`,`mousedown`,`mouseup`,`mousewheel`,`dblclick`,`contextmenu`],function(t){Handler.prototype[t]=function(n){var r=n.zrX,a=n.zrY,o=isOutsideBoundary(this,r,a),s,c;if((t!==`mouseup`||!o)&&(s=this.findHover(r,a),c=s.target),t===`mousedown`)this._downEl=c,this._downPoint=[n.zrX,n.zrY],this._upEl=c;else if(t===`mouseup`)this._upEl=c;else if(t===`click`){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement(s,t,n)}});function isHover(t,n,r){if(t[t.rectHover?`rectContain`:`contain`](n,r)){for(var a=t,o=void 0,s=!1;a;){if(a.ignoreClip&&(s=!0),!s){var c=a.getClipPath();if(c&&!c.contain(n,r))return!1}a.silent&&(o=!0),a=a.__hostTarget||a.parent}return o?SILENT:!0}return!1}function setHoverTarget(t,n,r,a,o){for(var s=t.length-1;s>=0;s--){var c=t[s],l=void 0;if(c!==o&&!c.ignore&&(l=isHover(c,r,a))&&(!n.topTarget&&(n.topTarget=c),l!==SILENT)){n.target=c;break}}}function isOutsideBoundary(t,n,r){var a=t.painter;return n<0||n>a.getWidth()||r<0||r>a.getHeight()}var Handler_default=Handler,DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(t){for(var n=0;t>=DEFAULT_MIN_MERGE;)n|=t&1,t>>=1;return t+n}function makeAscendingRun(t,n,r,a){var o=n+1;if(o===r)return 1;if(a(t[o++],t[n])<0){for(;o<r&&a(t[o],t[o-1])<0;)o++;reverseRun(t,n,o)}else for(;o<r&&a(t[o],t[o-1])>=0;)o++;return o-n}function reverseRun(t,n,r){for(r--;n<r;){var a=t[n];t[n++]=t[r],t[r--]=a}}function binaryInsertionSort(t,n,r,a,o){for(a===n&&a++;a<r;a++){for(var s=t[a],c=n,l=a,u;c<l;)u=c+l>>>1,o(s,t[u])<0?l=u:c=u+1;var d=a-c;switch(d){case 3:t[c+3]=t[c+2];case 2:t[c+2]=t[c+1];case 1:t[c+1]=t[c];break;default:for(;d>0;)t[c+d]=t[c+d-1],d--}t[c]=s}}function gallopLeft(t,n,r,a,o,s){var c=0,l=0,u=1;if(s(t,n[r+o])>0){for(l=a-o;u<l&&s(t,n[r+o+u])>0;)c=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),c+=o,u+=o}else{for(l=o+1;u<l&&s(t,n[r+o-u])<=0;)c=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var d=c;c=o-u,u=o-d}for(c++;c<u;){var f=c+(u-c>>>1);s(t,n[r+f])>0?c=f+1:u=f}return u}function gallopRight(t,n,r,a,o,s){var c=0,l=0,u=1;if(s(t,n[r+o])<0){for(l=o+1;u<l&&s(t,n[r+o-u])<0;)c=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l);var d=c;c=o-u,u=o-d}else{for(l=a-o;u<l&&s(t,n[r+o+u])>=0;)c=u,u=(u<<1)+1,u<=0&&(u=l);u>l&&(u=l),c+=o,u+=o}for(c++;c<u;){var f=c+(u-c>>>1);s(t,n[r+f])<0?u=f:c=f+1}return u}function TimSort(t,n){var r=DEFAULT_MIN_GALLOPING,a,o,s=0,c=[];a=[],o=[];function l(t,n){a[s]=t,o[s]=n,s+=1}function u(){for(;s>1;){var t=s-2;if(t>=1&&o[t-1]<=o[t]+o[t+1]||t>=2&&o[t-2]<=o[t]+o[t-1])o[t-1]<o[t+1]&&t--;else if(o[t]>o[t+1])break;f(t)}}function d(){for(;s>1;){var t=s-2;t>0&&o[t-1]<o[t+1]&&t--,f(t)}}function f(r){var c=a[r],l=o[r],u=a[r+1],d=o[r+1];o[r]=l+d,r===s-3&&(a[r+1]=a[r+2],o[r+1]=o[r+2]),s--;var f=gallopRight(t[u],t,c,l,0,n);c+=f,l-=f,l!==0&&(d=gallopLeft(t[c+l-1],t,u,d,d-1,n),d!==0&&(l<=d?p(c,l,u,d):g(c,l,u,d)))}function p(a,o,s,l){var u=0;for(u=0;u<o;u++)c[u]=t[a+u];var d=0,f=s,p=a;if(t[p++]=t[f++],--l===0){for(u=0;u<o;u++)t[p+u]=c[d+u];return}if(o===1){for(u=0;u<l;u++)t[p+u]=t[f+u];t[p+l]=c[d];return}for(var g=r,_,v,y;;){_=0,v=0,y=!1;do if(n(t[f],c[d])<0){if(t[p++]=t[f++],v++,_=0,--l===0){y=!0;break}}else if(t[p++]=c[d++],_++,v=0,--o===1){y=!0;break}while((_|v)<g);if(y)break;do{if(_=gallopRight(t[f],c,d,o,0,n),_!==0){for(u=0;u<_;u++)t[p+u]=c[d+u];if(p+=_,d+=_,o-=_,o<=1){y=!0;break}}if(t[p++]=t[f++],--l===0){y=!0;break}if(v=gallopLeft(c[d],t,f,l,0,n),v!==0){for(u=0;u<v;u++)t[p+u]=t[f+u];if(p+=v,f+=v,l-=v,l===0){y=!0;break}}if(t[p++]=c[d++],--o===1){y=!0;break}g--}while(_>=DEFAULT_MIN_GALLOPING||v>=DEFAULT_MIN_GALLOPING);if(y)break;g<0&&(g=0),g+=2}if(r=g,r<1&&(r=1),o===1){for(u=0;u<l;u++)t[p+u]=t[f+u];t[p+l]=c[d]}else if(o===0)throw Error();else for(u=0;u<o;u++)t[p+u]=c[d+u]}function g(a,o,s,l){var u=0;for(u=0;u<l;u++)c[u]=t[s+u];var d=a+o-1,f=l-1,p=s+l-1,g=0,_=0;if(t[p--]=t[d--],--o===0){for(g=p-(l-1),u=0;u<l;u++)t[g+u]=c[u];return}if(l===1){for(p-=o,d-=o,_=p+1,g=d+1,u=o-1;u>=0;u--)t[_+u]=t[g+u];t[p]=c[f];return}for(var v=r;;){var y=0,b=0,x=!1;do if(n(c[f],t[d])<0){if(t[p--]=t[d--],y++,b=0,--o===0){x=!0;break}}else if(t[p--]=c[f--],b++,y=0,--l===1){x=!0;break}while((y|b)<v);if(x)break;do{if(y=o-gallopRight(c[f],t,a,o,o-1,n),y!==0){for(p-=y,d-=y,o-=y,_=p+1,g=d+1,u=y-1;u>=0;u--)t[_+u]=t[g+u];if(o===0){x=!0;break}}if(t[p--]=c[f--],--l===1){x=!0;break}if(b=l-gallopLeft(t[d],c,0,l,l-1,n),b!==0){for(p-=b,f-=b,l-=b,_=p+1,g=f+1,u=0;u<b;u++)t[_+u]=c[g+u];if(l<=1){x=!0;break}}if(t[p--]=t[d--],--o===0){x=!0;break}v--}while(y>=DEFAULT_MIN_GALLOPING||b>=DEFAULT_MIN_GALLOPING);if(x)break;v<0&&(v=0),v+=2}if(r=v,r<1&&(r=1),l===1){for(p-=o,d-=o,_=p+1,g=d+1,u=o-1;u>=0;u--)t[_+u]=t[g+u];t[p]=c[f]}else if(l===0)throw Error();else for(g=p-(l-1),u=0;u<l;u++)t[g+u]=c[u]}return{mergeRuns:u,forceMergeRuns:d,pushRun:l}}function sort$2(t,n,r,a){r||=0,a||=t.length;var o=a-r;if(!(o<2)){var s=0;if(o<DEFAULT_MIN_MERGE){s=makeAscendingRun(t,r,a,n),binaryInsertionSort(t,r,a,r+s,n);return}var c=TimSort(t,n),l=minRunLength(o);do{if(s=makeAscendingRun(t,r,a,n),s<l){var u=o;u>l&&(u=l),binaryInsertionSort(t,r,r+u,r+s,n),s=u}c.pushRun(r,s),c.mergeRuns(),o-=s,r+=s}while(o!==0);c.forceMergeRuns()}}var invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||=!0}function shapeCompareFunc(t,n){return t.zlevel===n.zlevel?t.z===n.z?t.z2-n.z2:t.z-n.z:t.zlevel-n.zlevel}var Storage_default=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return t.prototype.traverse=function(t,n){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,n)},t.prototype.getDisplayList=function(t,n){n||=!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(n),r},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var n=this._roots,r=this._displayList,a=0,o=n.length;a<o;a++)this._updateAndAddDisplayable(n[a],null,t);r.length=this._displayListLen,sort$2(r,shapeCompareFunc)},t.prototype._updateAndAddDisplayable=function(t,n,r){if(!(t.ignore&&!r)){t.beforeUpdate(),t.update(),t.afterUpdate();var a=t.getClipPath();if(t.ignoreClip)n=null;else if(a){n=n?n.slice():[];for(var o=a,s=t;o;)o.parent=s,o.updateTransform(),n.push(o),s=o,o=o.getClipPath()}if(t.childrenRef){for(var c=t.childrenRef(),l=0;l<c.length;l++){var u=c[l];t.__dirty&&(u.__dirty|=1),this._updateAndAddDisplayable(u,n,r)}t.__dirty=0}else{var d=t;n&&n.length?d.__clipPaths=n:d.__clipPaths&&d.__clipPaths.length>0&&(d.__clipPaths=[]),isNaN(d.z)&&(logInvalidZError(),d.z=0),isNaN(d.z2)&&(logInvalidZError(),d.z2=0),isNaN(d.zlevel)&&(logInvalidZError(),d.zlevel=0),this._displayList[this._displayListLen++]=d}var f=t.getDecalElement&&t.getDecalElement();f&&this._updateAndAddDisplayable(f,n,r);var p=t.getTextGuideLine();p&&this._updateAndAddDisplayable(p,n,r);var g=t.getTextContent();g&&this._updateAndAddDisplayable(g,n,r)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array){for(var n=0,r=t.length;n<r;n++)this.delRoot(t[n]);return}var a=indexOf(this._roots,t);a>=0&&this._roots.splice(a,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),requestAnimationFrame_default=env_default.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)},easingFuncs={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:1024**(t-1)},exponentialOut:function(t){return t===1?1:1-2**(-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*1024**(t-1):.5*(-(2**(-10*(t-1)))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var n,r=.1,a=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,n=a/4):n=a*Math.asin(1/r)/(2*Math.PI),-(r*2**(10*--t)*Math.sin((t-n)*(2*Math.PI)/a)))},elasticOut:function(t){var n,r=.1,a=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,n=a/4):n=a*Math.asin(1/r)/(2*Math.PI),r*2**(-10*t)*Math.sin((t-n)*(2*Math.PI)/a)+1)},elasticInOut:function(t){var n,r=.1,a=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,n=a/4):n=a*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*2**(10*--t)*Math.sin((t-n)*(2*Math.PI)/a)):r*2**(-10*--t)*Math.sin((t-n)*(2*Math.PI)/a)*.5+1)},backIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},backOut:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},backInOut:function(t){var n=1.70158*1.525;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)},bounceIn:function(t){return 1-easingFuncs.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?easingFuncs.bounceIn(t*2)*.5:easingFuncs.bounceOut(t*2-1)*.5+.5}},easing_default=easingFuncs,mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(t){return t>-EPSILON$4&&t<EPSILON$4}function isNotAroundZero$1(t){return t>EPSILON$4||t<-EPSILON$4}function cubicAt(t,n,r,a,o){var s=1-o;return s*s*(s*t+3*o*n)+o*o*(o*a+3*s*r)}function cubicDerivativeAt(t,n,r,a,o){var s=1-o;return 3*(((n-t)*s+2*(r-n)*o)*s+(a-r)*o*o)}function cubicRootAt(t,n,r,a,o,s){var c=a+3*(n-r)-t,l=3*(r-n*2+t),u=3*(n-t),d=t-o,f=l*l-3*c*u,p=l*u-9*c*d,g=u*u-3*l*d,_=0;if(isAroundZero$1(f)&&isAroundZero$1(p))if(isAroundZero$1(l))s[0]=0;else{var v=-u/l;v>=0&&v<=1&&(s[_++]=v)}else{var y=p*p-4*f*g;if(isAroundZero$1(y)){var b=p/f,v=-l/c+b,x=-b/2;v>=0&&v<=1&&(s[_++]=v),x>=0&&x<=1&&(s[_++]=x)}else if(y>0){var S=mathSqrt$3(y),C=f*l+1.5*c*(-p+S),w=f*l+1.5*c*(-p-S);C=C<0?-mathPow$2(-C,ONE_THIRD):mathPow$2(C,ONE_THIRD),w=w<0?-mathPow$2(-w,ONE_THIRD):mathPow$2(w,ONE_THIRD);var v=(-l-(C+w))/(3*c);v>=0&&v<=1&&(s[_++]=v)}else{var T=(2*f*l-3*c*p)/(2*mathSqrt$3(f*f*f)),E=Math.acos(T)/3,D=mathSqrt$3(f),O=Math.cos(E),v=(-l-2*D*O)/(3*c),x=(-l+D*(O+THREE_SQRT*Math.sin(E)))/(3*c),A=(-l+D*(O-THREE_SQRT*Math.sin(E)))/(3*c);v>=0&&v<=1&&(s[_++]=v),x>=0&&x<=1&&(s[_++]=x),A>=0&&A<=1&&(s[_++]=A)}}return _}function cubicExtrema(t,n,r,a,o){var s=6*r-12*n+6*t,c=9*n+3*a-3*t-9*r,l=3*n-3*t,u=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(s)){var d=-l/s;d>=0&&d<=1&&(o[u++]=d)}}else{var f=s*s-4*c*l;if(isAroundZero$1(f))o[0]=-s/(2*c);else if(f>0){var p=mathSqrt$3(f),d=(-s+p)/(2*c),g=(-s-p)/(2*c);d>=0&&d<=1&&(o[u++]=d),g>=0&&g<=1&&(o[u++]=g)}}return u}function cubicSubdivide(t,n,r,a,o,s){var c=(n-t)*o+t,l=(r-n)*o+n,u=(a-r)*o+r,d=(l-c)*o+c,f=(u-l)*o+l,p=(f-d)*o+d;s[0]=t,s[1]=c,s[2]=d,s[3]=p,s[4]=p,s[5]=f,s[6]=u,s[7]=a}function cubicProjectPoint(t,n,r,a,o,s,c,l,u,d,f){var p,g=.005,_=1/0,v,y,b,x;_v0[0]=u,_v0[1]=d;for(var S=0;S<1;S+=.05)_v1[0]=cubicAt(t,r,o,c,S),_v1[1]=cubicAt(n,a,s,l,S),b=distSquare(_v0,_v1),b<_&&(p=S,_=b);_=1/0;for(var C=0;C<32&&!(g<EPSILON_NUMERIC);C++)v=p-g,y=p+g,_v1[0]=cubicAt(t,r,o,c,v),_v1[1]=cubicAt(n,a,s,l,v),b=distSquare(_v1,_v0),v>=0&&b<_?(p=v,_=b):(_v2[0]=cubicAt(t,r,o,c,y),_v2[1]=cubicAt(n,a,s,l,y),x=distSquare(_v2,_v0),y<=1&&x<_?(p=y,_=x):g*=.5);return f&&(f[0]=cubicAt(t,r,o,c,p),f[1]=cubicAt(n,a,s,l,p)),mathSqrt$3(_)}function cubicLength(t,n,r,a,o,s,c,l,u){for(var d=t,f=n,p=0,g=1/u,_=1;_<=u;_++){var v=_*g,y=cubicAt(t,r,o,c,v),b=cubicAt(n,a,s,l,v),x=y-d,S=b-f;p+=Math.sqrt(x*x+S*S),d=y,f=b}return p}function quadraticAt$1(t,n,r,a){var o=1-a;return o*(o*t+2*a*n)+a*a*r}function quadraticDerivativeAt(t,n,r,a){return 2*((1-a)*(n-t)+a*(r-n))}function quadraticRootAt(t,n,r,a,o){var s=t-2*n+r,c=2*(n-t),l=t-a,u=0;if(isAroundZero$1(s)){if(isNotAroundZero$1(c)){var d=-l/c;d>=0&&d<=1&&(o[u++]=d)}}else{var f=c*c-4*s*l;if(isAroundZero$1(f)){var d=-c/(2*s);d>=0&&d<=1&&(o[u++]=d)}else if(f>0){var p=mathSqrt$3(f),d=(-c+p)/(2*s),g=(-c-p)/(2*s);d>=0&&d<=1&&(o[u++]=d),g>=0&&g<=1&&(o[u++]=g)}}return u}function quadraticExtremum(t,n,r){var a=t+r-2*n;return a===0?.5:(t-n)/a}function quadraticSubdivide(t,n,r,a,o){var s=(n-t)*a+t,c=(r-n)*a+n,l=(c-s)*a+s;o[0]=t,o[1]=s,o[2]=l,o[3]=l,o[4]=c,o[5]=r}function quadraticProjectPoint(t,n,r,a,o,s,c,l,u){var d,f=.005,p=1/0;_v0[0]=c,_v0[1]=l;for(var g=0;g<1;g+=.05){_v1[0]=quadraticAt$1(t,r,o,g),_v1[1]=quadraticAt$1(n,a,s,g);var _=distSquare(_v0,_v1);_<p&&(d=g,p=_)}p=1/0;for(var v=0;v<32&&!(f<EPSILON_NUMERIC);v++){var y=d-f,b=d+f;_v1[0]=quadraticAt$1(t,r,o,y),_v1[1]=quadraticAt$1(n,a,s,y);var _=distSquare(_v1,_v0);if(y>=0&&_<p)d=y,p=_;else{_v2[0]=quadraticAt$1(t,r,o,b),_v2[1]=quadraticAt$1(n,a,s,b);var x=distSquare(_v2,_v0);b<=1&&x<p?(d=b,p=x):f*=.5}}return u&&(u[0]=quadraticAt$1(t,r,o,d),u[1]=quadraticAt$1(n,a,s,d)),mathSqrt$3(p)}function quadraticLength(t,n,r,a,o,s,c){for(var l=t,u=n,d=0,f=1/c,p=1;p<=c;p++){var g=p*f,_=quadraticAt$1(t,r,o,g),v=quadraticAt$1(n,a,s,g),y=_-l,b=v-u;d+=Math.sqrt(y*y+b*b),l=_,u=v}return d}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(t){var n=t&&regexp.exec(t);if(n){var r=n[1].split(`,`),a=+trim$1(r[0]),o=+trim$1(r[1]),s=+trim$1(r[2]),c=+trim$1(r[3]);if(isNaN(a+o+s+c))return;var l=[];return function(t){return t<=0?0:t>=1?1:cubicRootAt(0,a,s,1,t,l)&&cubicAt(0,o,c,1,l[0])}}}var Clip_default=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||noop,this.ondestroy=t.ondestroy||noop,this.onrestart=t.onrestart||noop,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,n){if(this._inited||=(this._startTime=t+this._delay,!0),this._paused){this._pausedTime+=n;return}var r=this._life,a=t-this._startTime-this._pausedTime,o=a/r;o<0&&(o=0),o=Math.min(o,1);var s=this.easingFunc,c=s?s(o):o;if(this.onframe(c),o===1)if(this.loop)this._startTime=t-a%r,this._pausedTime=0,this.onrestart();else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=isFunction(t)?t:easing_default[t]||createCubicEasingFunc(t)},t}(),Entry=function(){function t(t){this.value=t}return t}(),LinkedList=function(){function t(){this._len=0}return t.prototype.insert=function(t){var n=new Entry(t);return this.insertEntry(n),n},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var n=t.prev,r=t.next;n?n.next=r:this.head=r,r?r.prev=n:this.tail=n,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),LRU_default=function(){function t(t){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,n){var r=this._list,a=this._map,o=null;if(a[t]==null){var s=r.len(),c=this._lastRemovedEntry;if(s>=this._maxSize&&s>0){var l=r.head;r.remove(l),delete a[l.key],o=l.value,this._lastRemovedEntry=l}c?c.value=n:c=new Entry(n),c.key=t,r.insertEntry(c),a[t]=c}return o},t.prototype.get=function(t){var n=this._map[t],r=this._list;if(n!=null)return n!==r.tail&&(r.remove(n),r.insertEntry(n)),n.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(t){return t=Math.round(t),t<0?0:t>255?255:t}function clampCssAngle(t){return t=Math.round(t),t<0?0:t>360?360:t}function clampCssFloat(t){return t<0?0:t>1?1:t}function parseCssInt(t){var n=t;return n.length&&n.charAt(n.length-1)===`%`?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(t){var n=t;return n.length&&n.charAt(n.length-1)===`%`?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(t,n,r){return r<0?r+=1:r>1&&--r,r*6<1?t+(n-t)*r*6:r*2<1?n:r*3<2?t+(n-t)*(2/3-r)*6:t}function lerpNumber(t,n,r){return t+(n-t)*r}function setRgba(t,n,r,a,o){return t[0]=n,t[1]=r,t[2]=a,t[3]=o,t}function copyRgba(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}var colorCache=new LRU_default(20),lastRemovedArr=null;function putToCache(t,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(t,lastRemovedArr||n.slice())}function parse(t,n){if(t){n||=[];var r=colorCache.get(t);if(r)return copyRgba(n,r);t+=``;var a=t.replace(/ /g,``).toLowerCase();if(a in kCSSColorTable)return copyRgba(n,kCSSColorTable[a]),putToCache(t,n),n;var o=a.length;if(a.charAt(0)===`#`){if(o===4||o===5){var s=parseInt(a.slice(1,4),16);if(!(s>=0&&s<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,(s&3840)>>4|(s&3840)>>8,s&240|(s&240)>>4,s&15|(s&15)<<4,o===5?parseInt(a.slice(4),16)/15:1),putToCache(t,n),n}else if(o===7||o===9){var s=parseInt(a.slice(1,7),16);if(!(s>=0&&s<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,(s&16711680)>>16,(s&65280)>>8,s&255,o===9?parseInt(a.slice(7),16)/255:1),putToCache(t,n),n}return}var c=a.indexOf(`(`),l=a.indexOf(`)`);if(c!==-1&&l+1===o){var u=a.substr(0,c),d=a.substr(c+1,l-(c+1)).split(`,`),f=1;switch(u){case`rgba`:if(d.length!==4)return d.length===3?setRgba(n,+d[0],+d[1],+d[2],1):setRgba(n,0,0,0,1);f=parseCssFloat(d.pop());case`rgb`:if(d.length>=3)return setRgba(n,parseCssInt(d[0]),parseCssInt(d[1]),parseCssInt(d[2]),d.length===3?f:parseCssFloat(d[3])),putToCache(t,n),n;setRgba(n,0,0,0,1);return;case`hsla`:if(d.length!==4){setRgba(n,0,0,0,1);return}return d[3]=parseCssFloat(d[3]),hsla2rgba(d,n),putToCache(t,n),n;case`hsl`:if(d.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(d,n),putToCache(t,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(t,n){var r=(parseFloat(t[0])%360+360)%360/360,a=parseCssFloat(t[1]),o=parseCssFloat(t[2]),s=o<=.5?o*(a+1):o+a-o*a,c=o*2-s;return n||=[],setRgba(n,clampCssByte(cssHueToRgb(c,s,r+1/3)*255),clampCssByte(cssHueToRgb(c,s,r)*255),clampCssByte(cssHueToRgb(c,s,r-1/3)*255),1),t.length===4&&(n[3]=t[3]),n}function rgba2hsla(t){if(t){var n=t[0]/255,r=t[1]/255,a=t[2]/255,o=Math.min(n,r,a),s=Math.max(n,r,a),c=s-o,l=(s+o)/2,u,d;if(c===0)u=0,d=0;else{d=l<.5?c/(s+o):c/(2-s-o);var f=((s-n)/6+c/2)/c,p=((s-r)/6+c/2)/c,g=((s-a)/6+c/2)/c;n===s?u=g-p:r===s?u=1/3+f-g:a===s&&(u=2/3+p-f),u<0&&(u+=1),u>1&&--u}var _=[u*360,d,l];return t[3]!=null&&_.push(t[3]),_}}function lift(t,n){var r=parse(t);if(r){for(var a=0;a<3;a++)n<0?r[a]=r[a]*(1-n)|0:r[a]=(255-r[a])*n+r[a]|0,r[a]>255?r[a]=255:r[a]<0&&(r[a]=0);return stringify(r,r.length===4?`rgba`:`rgb`)}}function fastLerp(t,n,r){if(!(!(n&&n.length)||!(t>=0&&t<=1))){r||=[];var a=t*(n.length-1),o=Math.floor(a),s=Math.ceil(a),c=n[o],l=n[s],u=a-o;return r[0]=clampCssByte(lerpNumber(c[0],l[0],u)),r[1]=clampCssByte(lerpNumber(c[1],l[1],u)),r[2]=clampCssByte(lerpNumber(c[2],l[2],u)),r[3]=clampCssFloat(lerpNumber(c[3],l[3],u)),r}}function lerp(t,n,r){if(!(!(n&&n.length)||!(t>=0&&t<=1))){var a=t*(n.length-1),o=Math.floor(a),s=Math.ceil(a),c=parse(n[o]),l=parse(n[s]),u=a-o,d=stringify([clampCssByte(lerpNumber(c[0],l[0],u)),clampCssByte(lerpNumber(c[1],l[1],u)),clampCssByte(lerpNumber(c[2],l[2],u)),clampCssFloat(lerpNumber(c[3],l[3],u))],`rgba`);return r?{color:d,leftIndex:o,rightIndex:s,value:a}:d}}function modifyHSL(t,n,r,a){var o=parse(t);if(t)return o=rgba2hsla(o),n!=null&&(o[0]=clampCssAngle(n)),r!=null&&(o[1]=parseCssFloat(r)),a!=null&&(o[2]=parseCssFloat(a)),stringify(hsla2rgba(o),`rgba`)}function modifyAlpha(t,n){var r=parse(t);if(r&&n!=null)return r[3]=clampCssFloat(n),stringify(r,`rgba`)}function stringify(t,n){if(!(!t||!t.length)){var r=t[0]+`,`+t[1]+`,`+t[2];return(n===`rgba`||n===`hsva`||n===`hsla`)&&(r+=`,`+t[3]),n+`(`+r+`)`}}function lum(t,n){var r=parse(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var liftedColorCache=new LRU_default(100);function liftColor(t){if(isString(t)){var n=liftedColorCache.get(t);return n||(n=lift(t,-.1),liftedColorCache.put(t,n)),n}else if(isGradientObject(t)){var r=extend({},t);return r.colorStops=map$1(t.colorStops,function(t){return{offset:t.offset,color:lift(t.color,-.1)}}),r}return t}var mathRound$1=Math.round;function normalizeColor(t){var n;if(!t||t===`transparent`)t=`none`;else if(typeof t==`string`&&t.indexOf(`rgba`)>-1){var r=parse(t);r&&(t=`rgb(`+r[0]+`,`+r[1]+`,`+r[2]+`)`,n=r[3])}return{color:t,opacity:n??1}}var EPSILON$3=1e-4;function isAroundZero(t){return t<EPSILON$3&&t>-EPSILON$3}function round3(t){return mathRound$1(t*1e3)/1e3}function round4(t){return mathRound$1(t*1e4)/1e4}function getMatrixStr(t){return`matrix(`+round3(t[0])+`,`+round3(t[1])+`,`+round3(t[2])+`,`+round3(t[3])+`,`+round4(t[4])+`,`+round4(t[5])+`)`}var TEXT_ALIGN_TO_ANCHOR={left:`start`,right:`end`,center:`middle`,middle:`middle`};function adjustTextY$1(t,n,r){return r===`top`?t+=n/2:r===`bottom`&&(t-=n/2),t}function hasShadow(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function getShadowKey(t){var n=t.style,r=t.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(`,`)}function isImagePattern(t){return t&&!!t.image}function isSVGPattern(t){return t&&!!t.svgElement}function isPattern(t){return isImagePattern(t)||isSVGPattern(t)}function isLinearGradient(t){return t.type===`linear`}function isRadialGradient(t){return t.type===`radial`}function isGradient(t){return t&&(t.type===`linear`||t.type===`radial`)}function getIdURL(t){return`url(#`+t+`)`}function getPathPrecision(t){var n=t.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString(t){var n=t.x||0,r=t.y||0,a=(t.rotation||0)*RADIAN_TO_DEGREE,o=retrieve2(t.scaleX,1),s=retrieve2(t.scaleY,1),c=t.skewX||0,l=t.skewY||0,u=[];return(n||r)&&u.push(`translate(`+n+`px,`+r+`px)`),a&&u.push(`rotate(`+a+`)`),(o!==1||s!==1)&&u.push(`scale(`+o+`,`+s+`)`),(c||l)&&u.push(`skew(`+mathRound$1(c*RADIAN_TO_DEGREE)+`deg, `+mathRound$1(l*RADIAN_TO_DEGREE)+`deg)`),u.join(` `)}var encodeBase64=(function(){return env_default.hasGlobalWindow&&isFunction(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<`u`?function(t){return Buffer.from(t).toString(`base64`)}:function(t){return null}})(),arraySlice=Array.prototype.slice;function interpolateNumber$1(t,n,r){return(n-t)*r+t}function interpolate1DArray(t,n,r,a){for(var o=n.length,s=0;s<o;s++)t[s]=interpolateNumber$1(n[s],r[s],a);return t}function interpolate2DArray(t,n,r,a){for(var o=n.length,s=o&&n[0].length,c=0;c<o;c++){t[c]||(t[c]=[]);for(var l=0;l<s;l++)t[c][l]=interpolateNumber$1(n[c][l],r[c][l],a)}return t}function add1DArray(t,n,r,a){for(var o=n.length,s=0;s<o;s++)t[s]=n[s]+r[s]*a;return t}function add2DArray(t,n,r,a){for(var o=n.length,s=o&&n[0].length,c=0;c<o;c++){t[c]||(t[c]=[]);for(var l=0;l<s;l++)t[c][l]=n[c][l]+r[c][l]*a}return t}function fillColorStops(t,n){for(var r=t.length,a=n.length,o=r>a?n:t,s=Math.min(r,a),c=o[s-1]||{color:[0,0,0,0],offset:0},l=s;l<Math.max(r,a);l++)o.push({offset:c.offset,color:c.color.slice()})}function fillArray(t,n,r){var a=t,o=n;if(!(!a.push||!o.push)){var s=a.length,c=o.length;if(s!==c)if(s>c)a.length=c;else for(var l=s;l<c;l++)a.push(r===1?o[l]:arraySlice.call(o[l]));for(var u=a[0]&&a[0].length,l=0;l<a.length;l++)if(r===1)isNaN(a[l])&&(a[l]=o[l]);else for(var d=0;d<u;d++)isNaN(a[l][d])&&(a[l][d]=o[l][d])}}function cloneValue(t){if(isArrayLike(t)){var n=t.length;if(isArrayLike(t[0])){for(var r=[],a=0;a<n;a++)r.push(arraySlice.call(t[a]));return r}return arraySlice.call(t)}return t}function rgba2String(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],`rgba(`+t.join(`,`)+`)`}function guessArrayDim(t){return isArrayLike(t&&t[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(t){return t===VALUE_TYPE_LINEAR_GRADIENT||t===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(t){return t===VALUE_TYPE_1D_ARRAY||t===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,n,r){this._needsSort=!0;var a=this.keyframes,o=a.length,s=!1,c=VALUE_TYPE_UNKOWN,l=n;if(isArrayLike(n)){var u=guessArrayDim(n);c=u,(u===1&&!isNumber(n[0])||u===2&&!isNumber(n[0][0]))&&(s=!0)}else if(isNumber(n)&&!eqNaN(n))c=VALUE_TYPE_NUMBER;else if(isString(n))if(!isNaN(+n))c=VALUE_TYPE_NUMBER;else{var d=parse(n);d&&(l=d,c=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var f=extend({},l);f.colorStops=map$1(n.colorStops,function(t){return{offset:t.offset,color:parse(t.color)}}),isLinearGradient(n)?c=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(c=VALUE_TYPE_RADIAL_GRADIENT),l=f}o===0?this.valType=c:(c!==this.valType||c===VALUE_TYPE_UNKOWN)&&(s=!0),this.discrete=this.discrete||s;var p={time:t,value:l,rawValue:n,percent:0};return r&&(p.easing=r,p.easingFunc=isFunction(r)?r:easing_default[r]||createCubicEasingFunc(r)),a.push(p),p},t.prototype.prepare=function(t,n){var r=this.keyframes;this._needsSort&&r.sort(function(t,n){return t.time-n.time});for(var a=this.valType,o=r.length,s=r[o-1],c=this.discrete,l=isArrayValueType(a),u=isGradientValueType(a),d=0;d<o;d++){var f=r[d],p=f.value,g=s.value;f.percent=f.time/t,c||(l&&d!==o-1?fillArray(p,g,a):u&&fillColorStops(p.colorStops,g.colorStops))}if(!c&&a!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var _=r[0].value,d=0;d<o;d++)a===VALUE_TYPE_NUMBER?r[d].additiveValue=r[d].value-_:a===VALUE_TYPE_COLOR?r[d].additiveValue=add1DArray([],r[d].value,_,-1):isArrayValueType(a)&&(r[d].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],r[d].value,_,-1):add2DArray([],r[d].value,_,-1))}},t.prototype.step=function(t,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var r=this._additiveTrack!=null,a=r?`additiveValue`:`value`,o=this.valType,s=this.keyframes,c=s.length,l=this.propName,u=o===VALUE_TYPE_COLOR,d,f=this._lastFr,p=Math.min,g,_;if(c===1)g=_=s[0];else{if(n<0)d=0;else if(n<this._lastFrP){for(d=p(f+1,c-1);d>=0&&!(s[d].percent<=n);d--);d=p(d,c-2)}else{for(d=f;d<c&&!(s[d].percent>n);d++);d=p(d-1,c-2)}_=s[d+1],g=s[d]}if(g&&_){this._lastFr=d,this._lastFrP=n;var v=_.percent-g.percent,y=v===0?1:p((n-g.percent)/v,1);_.easingFunc&&(y=_.easingFunc(y));var b=r?this._additiveValue:u?tmpRgba:t[l];if((isArrayValueType(o)||u)&&!b&&(b=this._additiveValue=[]),this.discrete)t[l]=y<1?g.rawValue:_.rawValue;else if(isArrayValueType(o))o===VALUE_TYPE_1D_ARRAY?interpolate1DArray(b,g[a],_[a],y):interpolate2DArray(b,g[a],_[a],y);else if(isGradientValueType(o)){var x=g[a],S=_[a],C=o===VALUE_TYPE_LINEAR_GRADIENT;t[l]={type:C?`linear`:`radial`,x:interpolateNumber$1(x.x,S.x,y),y:interpolateNumber$1(x.y,S.y,y),colorStops:map$1(x.colorStops,function(t,n){var r=S.colorStops[n];return{offset:interpolateNumber$1(t.offset,r.offset,y),color:rgba2String(interpolate1DArray([],t.color,r.color,y))}}),global:S.global},C?(t[l].x2=interpolateNumber$1(x.x2,S.x2,y),t[l].y2=interpolateNumber$1(x.y2,S.y2,y)):t[l].r=interpolateNumber$1(x.r,S.r,y)}else if(u)interpolate1DArray(b,g[a],_[a],y),r||(t[l]=rgba2String(b));else{var w=interpolateNumber$1(g[a],_[a],y);r?this._additiveValue=w:t[l]=w}r&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var n=this.valType,r=this.propName,a=this._additiveValue;n===VALUE_TYPE_NUMBER?t[r]=t[r]+a:n===VALUE_TYPE_COLOR?(parse(t[r],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),t[r]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(t[r],t[r],a,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(t[r],t[r],a,1)},t}(),Animator_default=function(){function t(t,n,r,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=n,n&&a){logError(`Can' use additive animation on looped animation.`);return}this._additiveAnimators=a,this._allowDiscrete=r}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,n,r){return this.whenWithKeys(t,n,keys(n),r)},t.prototype.whenWithKeys=function(t,n,r,a){for(var o=this._tracks,s=0;s<r.length;s++){var c=r[s],l=o[c];if(!l){l=o[c]=new Track(c);var u=void 0,d=this._getAdditiveTrack(c);if(d){var f=d.keyframes,p=f[f.length-1];u=p&&p.value,d.valType===VALUE_TYPE_COLOR&&u&&(u=rgba2String(u))}else u=this._target[c];if(u==null)continue;t>0&&l.addKeyframe(0,cloneValue(u),a),this._trackKeys.push(c)}l.addKeyframe(t,cloneValue(n[c]),a)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var n=t.length,r=0;r<n;r++)t[r].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,n=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,n)for(var r=0;r<n.length;r++)n[r].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,n=this._trackKeys,r=0;r<n.length;r++)t[n[r]].setFinished()},t.prototype._getAdditiveTrack=function(t){var n,r=this._additiveAnimators;if(r)for(var a=0;a<r.length;a++){var o=r[a].getTrack(t);o&&(n=o)}return n},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var n=this,r=[],a=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var s=this._trackKeys[o],c=this._tracks[s],l=this._getAdditiveTrack(s),u=c.keyframes,d=u.length;if(c.prepare(a,l),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var f=u[d-1];f&&(n._target[c.propName]=f.rawValue),c.setFinished()}else r.push(c)}if(r.length||this._force){var p=new Clip_default({life:a,loop:this._loop,delay:this._delay||0,onframe:function(t){n._started=2;var a=n._additiveAnimators;if(a){for(var o=!1,s=0;s<a.length;s++)if(a[s]._clip){o=!0;break}o||(n._additiveAnimators=null)}for(var s=0;s<r.length;s++)r[s].step(n._target,t);var c=n._onframeCbs;if(c)for(var s=0;s<c.length;s++)c[s](n._target,t)},ondestroy:function(){n._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),t&&p.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var n=this._clip;t&&n.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||=[],this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||=[],this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||=[],this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return map$1(this._trackKeys,function(n){return t._tracks[n]})},t.prototype.stopTracks=function(t,n){if(!t.length||!this._clip)return!0;for(var r=this._tracks,a=this._trackKeys,o=0;o<t.length;o++){var s=r[t[o]];s&&!s.isFinished()&&(n?s.step(this._target,1):this._started===1&&s.step(this._target,0),s.setFinished())}for(var c=!0,o=0;o<a.length;o++)if(!r[a[o]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},t.prototype.saveTo=function(t,n,r){if(t){n||=this._trackKeys;for(var a=0;a<n.length;a++){var o=n[a],s=this._tracks[o];if(!(!s||s.isFinished())){var c=s.keyframes,l=c[r?0:c.length-1];l&&(t[o]=cloneValue(l.rawValue))}}}},t.prototype.__changeFinalValue=function(t,n){n||=keys(t);for(var r=0;r<n.length;r++){var a=n[r],o=this._tracks[a];if(o){var s=o.keyframes;if(s.length>1){var c=s.pop();o.addKeyframe(c.time,t[a]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},t}();function getTime(){return new Date().getTime()}var Animation_default=function(t){__extends(n,t);function n(n){var r=t.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,n||={},r.stage=n.stage||{},r}return n.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},n.prototype.addAnimator=function(t){t.animation=this;var n=t.getClip();n&&this.addClip(n)},n.prototype.removeClip=function(t){if(t.animation){var n=t.prev,r=t.next;n?n.next=r:this._head=r,r?r.prev=n:this._tail=n,t.next=t.prev=t.animation=null}},n.prototype.removeAnimator=function(t){var n=t.getClip();n&&this.removeClip(n),t.animation=null},n.prototype.update=function(t){for(var n=getTime()-this._pausedTime,r=n-this._time,a=this._head;a;){var o=a.next;a.step(n,r)?(a.ondestroy(),this.removeClip(a),a=o):a=o}this._time=n,t||(this.trigger(`frame`,r),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var t=this;this._running=!0;function n(){t._running&&(requestAnimationFrame_default(n),!t._paused&&t.update())}requestAnimationFrame_default(n)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||=(this._pauseStart=getTime(),!0)},n.prototype.resume=function(){this._paused&&=(this._pausedTime+=getTime()-this._pauseStart,!1)},n.prototype.clear=function(){for(var t=this._head;t;){var n=t.next;t.prev=t.next=t.animation=null,t=n}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(t,n){n||={},this.start();var r=new Animator_default(t,n.loop);return this.addAnimator(r),r},n}(Eventful_default),TOUCH_CLICK_DELAY=300,globalEventSupported=env_default.domSupported,localNativeListenerNames=(function(){var t=[`click`,`dblclick`,`mousewheel`,`wheel`,`mouseout`,`mouseup`,`mousedown`,`mousemove`,`contextmenu`],n=[`touchstart`,`touchend`,`touchmove`],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:t,touch:n,pointer:map$1(t,function(t){var n=t.replace(`mouse`,`pointer`);return r.hasOwnProperty(n)?n:t})}})(),globalNativeListenerNames={mouse:[`mousemove`,`mouseup`],pointer:[`pointermove`,`pointerup`]},wheelEventSupported=!1;function isPointerFromTouch(t){var n=t.pointerType;return n===`pen`||n===`touch`}function setTouchTimer(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function markTouch(t){t&&(t.zrByTouch=!0)}function normalizeGlobalEvent(t,n){return normalizeEvent(t.dom,new FakeGlobalEvent(t,n),!0)}function isLocalEl(t,n){for(var r=n,a=!1;r&&r.nodeType!==9&&!(a=r.domBelongToZr||r!==n&&r===t.painterRoot);)r=r.parentNode;return a}var FakeGlobalEvent=function(){function t(t,n){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=n.type,this.target=this.currentTarget=t.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return t}(),localDOMHandlers={mousedown:function(t){t=normalizeEvent(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger(`mousedown`,t)},mousemove:function(t){t=normalizeEvent(this.dom,t);var n=this.__mayPointerCapture;n&&(t.zrX!==n[0]||t.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger(`mousemove`,t)},mouseup:function(t){t=normalizeEvent(this.dom,t),this.__togglePointerCapture(!1),this.trigger(`mouseup`,t)},mouseout:function(t){t=normalizeEvent(this.dom,t);var n=t.toElement||t.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(t.zrEventControl=`no_globalout`),this.trigger(`mouseout`,t))},wheel:function(t){wheelEventSupported=!0,t=normalizeEvent(this.dom,t),this.trigger(`mousewheel`,t)},mousewheel:function(t){wheelEventSupported||(t=normalizeEvent(this.dom,t),this.trigger(`mousewheel`,t))},touchstart:function(t){t=normalizeEvent(this.dom,t),markTouch(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,`start`),localDOMHandlers.mousemove.call(this,t),localDOMHandlers.mousedown.call(this,t)},touchmove:function(t){t=normalizeEvent(this.dom,t),markTouch(t),this.handler.processGesture(t,`change`),localDOMHandlers.mousemove.call(this,t)},touchend:function(t){t=normalizeEvent(this.dom,t),markTouch(t),this.handler.processGesture(t,`end`),localDOMHandlers.mouseup.call(this,t),new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,t)},pointerdown:function(t){localDOMHandlers.mousedown.call(this,t)},pointermove:function(t){isPointerFromTouch(t)||localDOMHandlers.mousemove.call(this,t)},pointerup:function(t){localDOMHandlers.mouseup.call(this,t)},pointerout:function(t){isPointerFromTouch(t)||localDOMHandlers.mouseout.call(this,t)}};each$15([`click`,`dblclick`,`contextmenu`],function(t){localDOMHandlers[t]=function(n){n=normalizeEvent(this.dom,n),this.trigger(t,n)}});var globalDOMHandlers={pointermove:function(t){isPointerFromTouch(t)||globalDOMHandlers.mousemove.call(this,t)},pointerup:function(t){globalDOMHandlers.mouseup.call(this,t)},mousemove:function(t){this.trigger(`mousemove`,t)},mouseup:function(t){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger(`mouseup`,t),n&&(t.zrEventControl=`only_globalout`,this.trigger(`mouseout`,t))}};function mountLocalDOMEventListeners(t,n){var r=n.domHandlers;env_default.pointerEventsSupported?each$15(localNativeListenerNames.pointer,function(a){mountSingleDOMEventListener(n,a,function(n){r[a].call(t,n)})}):(env_default.touchEventsSupported&&each$15(localNativeListenerNames.touch,function(a){mountSingleDOMEventListener(n,a,function(o){r[a].call(t,o),setTouchTimer(n)})}),each$15(localNativeListenerNames.mouse,function(a){mountSingleDOMEventListener(n,a,function(o){o=getNativeEvent(o),n.touching||r[a].call(t,o)})}))}function mountGlobalDOMEventListeners(t,n){env_default.pointerEventsSupported?each$15(globalNativeListenerNames.pointer,r):env_default.touchEventsSupported||each$15(globalNativeListenerNames.mouse,r);function r(r){function a(a){a=getNativeEvent(a),isLocalEl(t,a.target)||(a=normalizeGlobalEvent(t,a),n.domHandlers[r].call(t,a))}mountSingleDOMEventListener(n,r,a,{capture:!0})}}function mountSingleDOMEventListener(t,n,r,a){t.mounted[n]=r,t.listenerOpts[n]=a,addEventListener(t.domTarget,n,r,a)}function unmountDOMEventListeners(t){var n=t.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener(t.domTarget,r,n[r],t.listenerOpts[r]);t.mounted={}}var DOMHandlerScope=function(){function t(t,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=n}return t}(),HandlerProxy_default=function(t){__extends(n,t);function n(n,r){var a=t.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=r,a._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||`default`)},n.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,globalEventSupported&&this.__pointerCapturing^+t){this.__pointerCapturing=t;var n=this._globalHandlerScope;t?mountGlobalDOMEventListeners(this,n):unmountDOMEventListeners(n)}},n}(Eventful_default),dpr=1;env_default.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR=`#333`,LIGHT_LABEL_COLOR=`#ccc`,LIGHTER_LABEL_COLOR=`#eee`,mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(t){return t>EPSILON$2||t<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function t(){}return t.prototype.getLocalTransform=function(n){return t.getLocalTransform(this,n)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,n=this.needLocalTransform(),r=this.transform;if(!(n||t)){r&&(mIdentity(r),this.invTransform=null);return}r||=create$1(),n?this.getLocalTransform(r):mIdentity(r),t&&(n?mul(r,t,r):copy(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)},t.prototype._resolveGlobalScaleRatio=function(t){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var r=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,o=((scaleTmp[0]-r)*n+r)/scaleTmp[0]||0,s=((scaleTmp[1]-a)*n+a)/scaleTmp[1]||0;t[0]*=o,t[1]*=o,t[2]*=s,t[3]*=s}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,n=[];t;)n.push(t),t=t.parent;for(;t=n.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var n=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],a=Math.atan2(t[1],t[0]),o=Math.PI/2+a-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(o),n=Math.sqrt(n),this.skewX=o,this.skewY=0,this.rotation=-a,this.x=+t[4],this.y=+t[5],this.scaleX=n,this.scaleY=r,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,n=this.transform;t&&t.transform&&(t.invTransform=t.invTransform||create$1(),mul(tmpTransform,t.invTransform,n),n=tmpTransform);var r=this.originX,a=this.originY;(r||a)&&(originTransform[4]=r,originTransform[5]=a,mul(tmpTransform,n,originTransform),tmpTransform[4]-=r,tmpTransform[5]-=a,n=tmpTransform),this.setLocalTransform(n)}},t.prototype.getGlobalScale=function(t){var n=this.transform;return t||=[],n?(t[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),t[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(t[0]=-t[0]),n[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,n){var r=[t,n],a=this.invTransform;return a&&applyTransform$1(r,r,a),r},t.prototype.transformCoordToGlobal=function(t,n){var r=[t,n],a=this.transform;return a&&applyTransform$1(r,r,a),r},t.prototype.getLineScale=function(){var t=this.transform;return t&&abs(t[0]-1)>1e-10&&abs(t[3]-1)>1e-10?Math.sqrt(abs(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){copyTransform(this,t)},t.getLocalTransform=function(t,n){n||=[];var r=t.originX||0,a=t.originY||0,o=t.scaleX,s=t.scaleY,c=t.anchorX,l=t.anchorY,u=t.rotation||0,d=t.x,f=t.y,p=t.skewX?Math.tan(t.skewX):0,g=t.skewY?Math.tan(-t.skewY):0;if(r||a||c||l){var _=r+c,v=a+l;n[4]=-_*o-p*v*s,n[5]=-v*s-g*_*o}else n[4]=n[5]=0;return n[0]=o,n[3]=s,n[1]=g*o,n[2]=p*s,u&&rotate(n,n,u),n[4]+=r+d,n[5]+=a+f,n},t.initDefaultProps=(function(){var n=t.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0})(),t}(),TRANSFORMABLE_PROPS=[`x`,`y`,`originX`,`originY`,`anchorX`,`anchorY`,`rotation`,`scaleX`,`scaleY`,`skewX`,`skewY`];function copyTransform(t,n){for(var r=0;r<TRANSFORMABLE_PROPS.length;r++){var a=TRANSFORMABLE_PROPS[r];t[a]=n[a]}}var Transformable_default=Transformable,textWidthCache={};function getWidth(t,n){n||=`12px sans-serif`;var r=textWidthCache[n];r||=textWidthCache[n]=new LRU_default(500);var a=r.get(t);return a??(a=platformApi.measureText(t,n).width,r.put(t,a)),a}function innerGetBoundingRect(t,n,r,a){var o=getWidth(t,n),s=getLineHeight(n);return new BoundingRect_default(adjustTextX(0,o,r),adjustTextY(0,s,a),o,s)}function getBoundingRect(t,n,r,a){var o=((t||``)+``).split(`
`);if(o.length===1)return innerGetBoundingRect(o[0],n,r,a);for(var s=new BoundingRect_default(0,0,0,0),c=0;c<o.length;c++){var l=innerGetBoundingRect(o[c],n,r,a);c===0?s.copy(l):s.union(l)}return s}function adjustTextX(t,n,r){return r===`right`?t-=n:r===`center`&&(t-=n/2),t}function adjustTextY(t,n,r){return r===`middle`?t-=n/2:r===`bottom`&&(t-=n),t}function getLineHeight(t){return getWidth(``,t)}function parsePercent$1(t,n){return typeof t==`string`?t.lastIndexOf(`%`)>=0?parseFloat(t)/100*n:parseFloat(t):t}function calculateTextPosition(t,n,r){var a=n.position||`inside`,o=n.distance==null?5:n.distance,s=r.height,c=r.width,l=s/2,u=r.x,d=r.y,f=`left`,p=`top`;if(a instanceof Array)u+=parsePercent$1(a[0],r.width),d+=parsePercent$1(a[1],r.height),f=null,p=null;else switch(a){case`left`:u-=o,d+=l,f=`right`,p=`middle`;break;case`right`:u+=o+c,d+=l,p=`middle`;break;case`top`:u+=c/2,d-=o,f=`center`,p=`bottom`;break;case`bottom`:u+=c/2,d+=s+o,f=`center`;break;case`inside`:u+=c/2,d+=l,f=`center`,p=`middle`;break;case`insideLeft`:u+=o,d+=l,p=`middle`;break;case`insideRight`:u+=c-o,d+=l,f=`right`,p=`middle`;break;case`insideTop`:u+=c/2,d+=o,f=`center`;break;case`insideBottom`:u+=c/2,d+=s-o,f=`center`,p=`bottom`;break;case`insideTopLeft`:u+=o,d+=o;break;case`insideTopRight`:u+=c-o,d+=o,f=`right`;break;case`insideBottomLeft`:u+=o,d+=s-o,p=`bottom`;break;case`insideBottomRight`:u+=c-o,d+=s-o,f=`right`,p=`bottom`;break}return t||={},t.x=u,t.y=d,t.align=f,t.verticalAlign=p,t}var PRESERVED_NORMAL_STATE=`__zr_normal__`,PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat([`ignore`]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(t,n){return t[n]=!0,t},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect_default(0,0,0,0),Element=function(){function t(t){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,n,r){switch(this.draggable){case`horizontal`:n=0;break;case`vertical`:t=0;break}var a=this.transform;a||=this.transform=[1,0,0,1,0,0],a[4]+=t,a[5]+=n,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var n=this._textContent;if(n&&(!n.ignore||t)){this.textConfig||={};var r=this.textConfig,a=r.local,o=n.innerTransformable,s=void 0,c=void 0,l=!1;o.parent=a?this:null;var u=!1;if(o.copyTransform(n),r.position!=null){var d=tmpBoundingRect;r.layoutRect?d.copy(r.layoutRect):d.copy(this.getBoundingRect()),a||d.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,r,d):calculateTextPosition(tmpTextPosCalcRes,r,d),o.x=tmpTextPosCalcRes.x,o.y=tmpTextPosCalcRes.y,s=tmpTextPosCalcRes.align,c=tmpTextPosCalcRes.verticalAlign;var f=r.origin;if(f&&r.rotation!=null){var p=void 0,g=void 0;f===`center`?(p=d.width*.5,g=d.height*.5):(p=parsePercent$1(f[0],d.width),g=parsePercent$1(f[1],d.height)),u=!0,o.originX=-o.x+p+(a?0:d.x),o.originY=-o.y+g+(a?0:d.y)}}r.rotation!=null&&(o.rotation=r.rotation);var _=r.offset;_&&(o.x+=_[0],o.y+=_[1],u||(o.originX=-_[0],o.originY=-_[1]));var v=r.inside==null?typeof r.position==`string`&&r.position.indexOf(`inside`)>=0:r.inside,y=this._innerTextDefaultStyle||={},b=void 0,x=void 0,S=void 0;v&&this.canBeInsideText()?(b=r.insideFill,x=r.insideStroke,(b==null||b===`auto`)&&(b=this.getInsideTextFill()),(x==null||x===`auto`)&&(x=this.getInsideTextStroke(b),S=!0)):(b=r.outsideFill,x=r.outsideStroke,(b==null||b===`auto`)&&(b=this.getOutsideFill()),(x==null||x===`auto`)&&(x=this.getOutsideStroke(b),S=!0)),b||=`#000`,(b!==y.fill||x!==y.stroke||S!==y.autoStroke||s!==y.align||c!==y.verticalAlign)&&(l=!0,y.fill=b,y.stroke=x,y.autoStroke=S,y.align=s,y.verticalAlign=c,n.setDefaultTextStyle(y)),n.__dirty|=1,l&&n.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return`#fff`},t.prototype.getInsideTextStroke=function(t){return`#000`},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},t.prototype.getOutsideStroke=function(t){var n=this.__zr&&this.__zr.getBackgroundColor(),r=typeof n==`string`&&parse(n);r||=[255,255,255,1];for(var a=r[3],o=this.__zr.isDarkMode(),s=0;s<3;s++)r[s]=r[s]*a+(o?0:255)*(1-a);return r[3]=1,stringify(r,`rgba`)},t.prototype.traverse=function(t,n){},t.prototype.attrKV=function(t,n){t===`textConfig`?this.setTextConfig(n):t===`textContent`?this.setTextContent(n):t===`clipPath`?this.setClipPath(n):t===`extra`?(this.extra=this.extra||{},extend(this.extra,n)):this[t]=n},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,n){if(typeof t==`string`)this.attrKV(t,n);else if(isObject$3(t))for(var r=keys(t),a=0;a<r.length;a++){var o=r[a];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var n=this._normalState,r=0;r<this.animators.length;r++){var a=this.animators[r],o=a.__fromStateTransition;if(!(a.getLoop()||o&&o!==`__zr_normal__`)){var s=a.targetName,c=s?n[s]:n;a.saveTo(c)}}},t.prototype._innerSaveToNormal=function(t){var n=this._normalState;n||=this._normalState={},t.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(t,n,PRIMARY_STATES_KEYS$1)},t.prototype._savePrimaryToNormal=function(t,n,r){for(var a=0;a<r.length;a++){var o=r[a];t[o]!=null&&!(o in n)&&(n[o]=this[o])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var n=this.states;return n[t]||(n[t]={}),n[t]},t.prototype.clearStates=function(t){this.useState(PRESERVED_NORMAL_STATE,!1,t)},t.prototype.useState=function(t,n,r,a){var o=t===PRESERVED_NORMAL_STATE;if(!(!this.hasState()&&o)){var s=this.currentStates,c=this.stateTransition;if(!(indexOf(s,t)>=0&&(n||s.length===1))){var l;if(this.stateProxy&&!o&&(l=this.stateProxy(t)),l||=this.states&&this.states[t],!l&&!o){logError(`State `+t+` not exists.`);return}o||this.saveCurrentToNormalState(l);var u=!!(l&&l.hoverLayer||a);u&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,l,this._normalState,n,!r&&!this.__inHover&&c&&c.duration>0,c);var d=this._textContent,f=this._textGuide;return d&&d.useState(t,n,r,u),f&&f.useState(t,n,r,u),o?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!u&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2),l}}},t.prototype.useStates=function(t,n,r){if(!t.length)this.clearStates();else{var a=[],o=this.currentStates,s=t.length,c=s===o.length;if(c){for(var l=0;l<s;l++)if(t[l]!==o[l]){c=!1;break}}if(c)return;for(var l=0;l<s;l++){var u=t[l],d=void 0;this.stateProxy&&(d=this.stateProxy(u,t)),d||=this.states[u],d&&a.push(d)}var f=a[s-1],p=!!(f&&f.hoverLayer||r);p&&this._toggleHoverLayerFlag(!0);var g=this._mergeStates(a),_=this.stateTransition;this.saveCurrentToNormalState(g),this._applyStateObj(t.join(`,`),g,this._normalState,!1,!n&&!this.__inHover&&_&&_.duration>0,_);var v=this._textContent,y=this._textGuide;v&&v.useStates(t,n,p),y&&y.useStates(t,n,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=-2)}},t.prototype.isSilent=function(){for(var t=this.silent,n=this.parent;!t&&n;){if(n.silent){t=!0;break}n=n.parent}return t},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var n=this.animators[t];n.targetName&&n.changeTarget(this[n.targetName])}},t.prototype.removeState=function(t){var n=indexOf(this.currentStates,t);if(n>=0){var r=this.currentStates.slice();r.splice(n,1),this.useStates(r)}},t.prototype.replaceState=function(t,n,r){var a=this.currentStates.slice(),o=indexOf(a,t),s=indexOf(a,n)>=0;o>=0?s?a.splice(o,1):a[o]=n:r&&!s&&a.push(n),this.useStates(a)},t.prototype.toggleState=function(t,n){n?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var n={},r,a=0;a<t.length;a++){var o=t[a];extend(n,o),o.textConfig&&(r||={},extend(r,o.textConfig))}return r&&(n.textConfig=r),n},t.prototype._applyStateObj=function(t,n,r,a,o,s){var c=!(n&&a);n&&n.textConfig?(this.textConfig=extend({},a?this.textConfig:r.textConfig),extend(this.textConfig,n.textConfig)):c&&r.textConfig&&(this.textConfig=r.textConfig);for(var l={},u=!1,d=0;d<PRIMARY_STATES_KEYS$1.length;d++){var f=PRIMARY_STATES_KEYS$1[d],p=o&&DEFAULT_ANIMATABLE_MAP[f];n&&n[f]!=null?p?(u=!0,l[f]=n[f]):this[f]=n[f]:c&&r[f]!=null&&(p?(u=!0,l[f]=r[f]):this[f]=r[f])}if(!o)for(var d=0;d<this.animators.length;d++){var g=this.animators[d],_=g.targetName;g.getLoop()||g.__changeFinalValue(_?(n||r)[_]:n||r)}u&&this._transitionState(t,l,s)},t.prototype._attachComponent=function(t){if(!(t.__zr&&!t.__hostTarget)&&t!==this){var n=this.__zr;n&&t.addSelfToZr(n),t.__zr=n,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var n=this._textContent;n!==t&&(n&&n!==t&&this.removeTextContent(),t.innerTransformable=new Transformable_default,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||={},extend(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=1;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var n=this._textContent,r=this._textGuide;n&&(n.__inHover=t),r&&(r.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.addAnimator(n[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var r=0;r<n.length;r++)t.animation.removeAnimator(n[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,n,r){var a=new Animator_default(t?this[t]:this,n,r);return t&&(a.targetName=t),this.addAnimator(a,t),a},t.prototype.addAnimator=function(t,n){var r=this.__zr,a=this;t.during(function(){a.updateDuringAnimation(n)}).done(function(){var n=a.animators,r=indexOf(n,t);r>=0&&n.splice(r,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,n){for(var r=this.animators,a=r.length,o=[],s=0;s<a;s++){var c=r[s];!t||t===c.scope?c.stop(n):o.push(c)}return this.animators=o,this},t.prototype.animateTo=function(t,n,r){animateTo(this,t,n,r)},t.prototype.animateFrom=function(t,n,r){animateTo(this,t,n,r,!0)},t.prototype._transitionState=function(t,n,r,a){for(var o=animateTo(this,n,r,a),s=0;s<o.length;s++)o[s].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=(function(){var n=t.prototype;n.type=`element`,n.name=``,n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=1;function r(t,r,a,o){Object.defineProperty(n,t,{get:function(){if(!this[r]){var t=this[r]=[];s(this,t)}return this[r]},set:function(t){this[a]=t[0],this[o]=t[1],this[r]=t,s(this,t)}});function s(t,n){Object.defineProperty(n,0,{get:function(){return t[a]},set:function(n){t[a]=n}}),Object.defineProperty(n,1,{get:function(){return t[o]},set:function(n){t[o]=n}})}}Object.defineProperty&&(r(`position`,`_legacyPos`,`x`,`y`),r(`scale`,`_legacyScale`,`scaleX`,`scaleY`),r(`origin`,`_legacyOrigin`,`originX`,`originY`))})(),t}();mixin(Element,Eventful_default),mixin(Element,Transformable_default);function animateTo(t,n,r,a,o){r||={};var s=[];animateToShallow(t,``,t,n,r,a,s,o);var c=s.length,l=!1,u=r.done,d=r.aborted,f=function(){l=!0,c--,c<=0&&(l?u&&u():d&&d())},p=function(){c--,c<=0&&(l?u&&u():d&&d())};c||u&&u(),s.length>0&&r.during&&s[0].during(function(t,n){r.during(n)});for(var g=0;g<s.length;g++){var _=s[g];f&&_.done(f),p&&_.aborted(p),r.force&&_.duration(r.duration),_.start(r.easing)}return s}function copyArrShallow(t,n,r){for(var a=0;a<r;a++)t[a]=n[a]}function is2DArray(t){return isArrayLike(t[0])}function copyValue(t,n,r){if(isArrayLike(n[r]))if(isArrayLike(t[r])||(t[r]=[]),isTypedArray(n[r])){var a=n[r].length;t[r].length!==a&&(t[r]=new n[r].constructor(a),copyArrShallow(t[r],n[r],a))}else{var o=n[r],s=t[r],c=o.length;if(is2DArray(o))for(var l=o[0].length,u=0;u<c;u++)s[u]?copyArrShallow(s[u],o[u],l):s[u]=Array.prototype.slice.call(o[u]);else copyArrShallow(s,o,c);s.length=o.length}else t[r]=n[r]}function isValueSame(t,n){return t===n||isArrayLike(t)&&isArrayLike(n)&&is1DArraySame(t,n)}function is1DArraySame(t,n){var r=t.length;if(r!==n.length)return!1;for(var a=0;a<r;a++)if(t[a]!==n[a])return!1;return!0}function animateToShallow(t,n,r,a,o,s,c,l){for(var u=keys(a),d=o.duration,f=o.delay,p=o.additive,g=o.setToFinal,_=!isObject$3(s),v=t.animators,y=[],b=0;b<u.length;b++){var x=u[b],S=a[x];if(S!=null&&r[x]!=null&&(_||s[x]))if(isObject$3(S)&&!isArrayLike(S)&&!isGradientObject(S)){if(n){l||(r[x]=S,t.updateDuringAnimation(n));continue}animateToShallow(t,x,r[x],S,o,s&&s[x],c,l)}else y.push(x);else l||(r[x]=S,t.updateDuringAnimation(n),y.push(x))}var C=y.length;if(!p&&C)for(var w=0;w<v.length;w++){var T=v[w];if(T.targetName===n&&T.stopTracks(y)){var E=indexOf(v,T);v.splice(E,1)}}if(o.force||(y=filter(y,function(t){return!isValueSame(a[t],r[t])}),C=y.length),C>0||o.force&&!c.length){var D=void 0,O=void 0,A=void 0;if(l){O={},g&&(D={});for(var w=0;w<C;w++){var x=y[w];O[x]=r[x],g?D[x]=a[x]:r[x]=a[x]}}else if(g){A={};for(var w=0;w<C;w++){var x=y[w];A[x]=cloneValue(r[x]),copyValue(r,a,x)}}var T=new Animator_default(r,!1,!1,p?filter(v,function(t){return t.targetName===n}):null);T.targetName=n,o.scope&&(T.scope=o.scope),g&&D&&T.whenWithKeys(0,D,y),A&&T.whenWithKeys(0,A,y),T.whenWithKeys(d??500,l?O:a,y).delay(f||0),t.addAnimator(T,n),c.push(T)}}var Element_default=Element,Group$3=function(t){__extends(n,t);function n(n){var r=t.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(n),r}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(t){return this._children[t]},n.prototype.childOfName=function(t){for(var n=this._children,r=0;r<n.length;r++)if(n[r].name===t)return n[r]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},n.prototype.addBefore=function(t,n){if(t&&t!==this&&t.parent!==this&&n&&n.parent===this){var r=this._children,a=r.indexOf(n);a>=0&&(r.splice(a,0,t),this._doAdd(t))}return this},n.prototype.replace=function(t,n){var r=indexOf(this._children,t);return r>=0&&this.replaceAt(n,r),this},n.prototype.replaceAt=function(t,n){var r=this._children,a=r[n];if(t&&t!==this&&t.parent!==this&&t!==a){r[n]=t,a.parent=null;var o=this.__zr;o&&a.removeSelfFromZr(o),this._doAdd(t)}return this},n.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var n=this.__zr;n&&n!==t.__zr&&t.addSelfToZr(n),n&&n.refresh()},n.prototype.remove=function(t){var n=this.__zr,r=this._children,a=indexOf(r,t);return a<0?this:(r.splice(a,1),t.parent=null,n&&t.removeSelfFromZr(n),n&&n.refresh(),this)},n.prototype.removeAll=function(){for(var t=this._children,n=this.__zr,r=0;r<t.length;r++){var a=t[r];n&&a.removeSelfFromZr(n),a.parent=null}return t.length=0,this},n.prototype.eachChild=function(t,n){for(var r=this._children,a=0;a<r.length;a++){var o=r[a];t.call(n,o,a)}return this},n.prototype.traverse=function(t,n){for(var r=0;r<this._children.length;r++){var a=this._children[r],o=t.call(n,a);a.isGroup&&!o&&a.traverse(t,n)}return this},n.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(n)},n.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(n)},n.prototype.getBoundingRect=function(t){for(var n=new BoundingRect_default(0,0,0,0),r=t||this._children,a=[],o=null,s=0;s<r.length;s++){var c=r[s];if(!(c.ignore||c.invisible)){var l=c.getBoundingRect(),u=c.getLocalTransform(a);u?(BoundingRect_default.applyTransform(n,l,u),o||=n.clone(),o.union(n)):(o||=l.clone(),o.union(l))}}return o||n},n}(Element_default);Group$3.prototype.type=`group`;var Group_default=Group$3,painterCtors={},instances$1={};function delInstance(t){delete instances$1[t]}function isDarkMode(t){if(!t)return!1;if(typeof t==`string`)return lum(t,1)<DARK_MODE_THRESHOLD;if(t.colorStops){for(var n=t.colorStops,r=0,a=n.length,o=0;o<a;o++)r+=lum(n[o].color,1);return r/=a,r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function t(t,n,r){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r||={},this.dom=n,this.id=t;var o=new Storage_default,s=r.renderer||`canvas`;painterCtors[s]||(s=keys(painterCtors)[0]),r.useDirtyRect=r.useDirtyRect==null?!1:r.useDirtyRect;var c=new painterCtors[s](n,o,r,t),l=r.ssr||c.ssrOnly;this.storage=o,this.painter=c;var u=!env_default.node&&!env_default.worker&&!l?new HandlerProxy_default(c.getViewportRoot(),c.root):null,d=r.useCoarsePointer,f=d==null||d===`auto`?env_default.touchEventsSupported:!!d,p=44,g;f&&(g=retrieve2(r.pointerSize,p)),this.handler=new Handler_default(o,c,u,c.root,g),this.animation=new Animation_default({stage:{update:l?null:function(){return a._flush(!0)}}}),l||this.animation.start()}return t.prototype.add=function(t){this._disposed||!t||(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){this._disposed||!t||(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(t,n),this.refresh())},t.prototype.setBackgroundColor=function(t){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=isDarkMode(t))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){this._disposed||(t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(t){var n,r=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=getTime();n?(this._stillFrameAccum=0,this.trigger(`rendered`,{elapsedTime:a-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()===`canvas`&&this.painter.refreshHover())},t.prototype.resize=function(t){this._disposed||(t||={},this.painter.resize(t.width,t.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this._disposed||this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,n){if(!this._disposed)return this.handler.findHover(t,n)},t.prototype.on=function(t,n,r){return this._disposed||this.handler.on(t,n,r),this},t.prototype.off=function(t,n){this._disposed||this.handler.off(t,n)},t.prototype.trigger=function(t,n){this._disposed||this.handler.trigger(t,n)},t.prototype.clear=function(){if(!this._disposed){for(var t=this.storage.getRoots(),n=0;n<t.length;n++)t[n]instanceof Group_default&&t[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},t}();function init$2(t,n){var r=new ZRender(guid(),t,n);return instances$1[r.id]=r,r}function registerPainter(t,n){painterCtors[t]=n}var ssrDataGetter;function getElementSSRData(t){if(typeof ssrDataGetter==`function`)return ssrDataGetter(t)}function registerSSRDataGetter(t){ssrDataGetter=t}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(t){return t.replace(/^\s+|\s+$/g,``)}function linearMap$2(t,n,r,a){var o=n[0],s=n[1],c=r[0],l=r[1],u=s-o,d=l-c;if(u===0)return d===0?c:(c+l)/2;if(a){if(u>0){if(t<=o)return c;if(t>=s)return l}else if(t>=o)return c;else if(t<=s)return l}else{if(t===o)return c;if(t===s)return l}return(t-o)/u*d+c}function parsePercent(t,n){switch(t){case`center`:case`middle`:t=`50%`;break;case`left`:case`top`:t=`0%`;break;case`right`:case`bottom`:t=`100%`;break}return isString(t)?_trim(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):t==null?NaN:+t}function round$3(t,n,r){return n??=10,n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),t=(+t).toFixed(n),r?t:+t}function asc$2(t){return t.sort(function(t,n){return t-n}),t}function getPrecision(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(t*n)/n===t)return r}return getPrecisionSafe(t)}function getPrecisionSafe(t){var n=t.toString().toLowerCase(),r=n.indexOf(`e`),a=r>0?+n.slice(r+1):0,o=r>0?r:n.length,s=n.indexOf(`.`),c=s<0?0:o-1-s;return Math.max(0,c-a)}function getPixelPrecision(t,n){var r=Math.log,a=Math.LN10,o=Math.floor(r(t[1]-t[0])/a),s=Math.round(r(Math.abs(n[1]-n[0]))/a),c=Math.min(Math.max(-o+s,0),20);return isFinite(c)?c:20}function getPercentSeats(t,n){var r=reduce(t,function(t,n){return t+(isNaN(n)?0:n)},0);if(r===0)return[];for(var a=10**n,o=map$1(t,function(t){return(isNaN(t)?0:t)/r*a*100}),s=a*100,c=map$1(o,function(t){return Math.floor(t)}),l=reduce(c,function(t,n){return t+n},0),u=map$1(o,function(t,n){return t-c[n]});l<s;){for(var d=-1/0,f=null,p=0,g=u.length;p<g;++p)u[p]>d&&(d=u[p],f=p);++c[f],u[f]=0,++l}return map$1(c,function(t){return t/a})}function addSafe(t,n){var r=Math.max(getPrecision(t),getPrecision(n)),a=t+n;return r>ROUND_SUPPORTED_PRECISION_MAX?a:round$3(a,r)}function remRadian(t){var n=Math.PI*2;return(t%n+n)%n}function isRadianAroundZero(t){return t>-RADIAN_EPSILON&&t<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(t){if(t instanceof Date)return t;if(isString(t)){var n=TIME_REG.exec(t);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!==`Z`&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function quantity(t){return 10**quantityExponent(t)}function quantityExponent(t){if(t===0)return 0;var n=Math.floor(Math.log(t)/Math.LN10);return t/10**n>=10&&n++,n}function nice(t,n){var r=quantityExponent(t),a=10**r,o=t/a;return t=(n?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10)*a,r>=-20?+t.toFixed(r<0?-r:0):t}function quantile(t,n){var r=(t.length-1)*n+1,a=Math.floor(r),o=+t[a-1],s=r-a;return s?o+s*(t[a]-o):o}function reformIntervals(t){t.sort(function(t,n){return l(t,n,0)?-1:1});for(var n=-1/0,r=1,a=0;a<t.length;){for(var o=t[a].interval,s=t[a].close,c=0;c<2;c++)o[c]<=n&&(o[c]=n,s[c]=c?1:1-r),n=o[c],r=s[c];o[0]===o[1]&&s[0]*s[1]!==1?t.splice(a,1):a++}return t;function l(t,n,r){return t.interval[r]<n.interval[r]||t.interval[r]===n.interval[r]&&(t.close[r]-n.close[r]===(r?-1:1)||!r&&l(t,n,1))}}function numericToNumber(t){var n=parseFloat(t);return n==t&&(n!==0||!isString(t)||t.indexOf(`x`)<=0)?n:NaN}function isNumeric(t){return!isNaN(numericToNumber(t))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(t,n){return n===0?t:getGreatestCommonDividor(n,t%n)}function getLeastCommonMultiple(t,n){return t==null?n:n==null?t:t*n/getGreatestCommonDividor(t,n)}function throwError(t){throw Error(t)}function interpolateNumber(t,n,r){return(n-t)*r+t}var DUMMY_COMPONENT_NAME_PREFIX=`series\0`,INTERNAL_COMPONENT_ID_PREFIX=`\0_ec_\0`;function normalizeToArray(t){return t instanceof Array?t:t==null?[]:[t]}function defaultEmphasis(t,n,r){if(t){t[n]=t[n]||{},t.emphasis=t.emphasis||{},t.emphasis[n]=t.emphasis[n]||{};for(var a=0,o=r.length;a<o;a++){var s=r[a];!t.emphasis[n].hasOwnProperty(s)&&t[n].hasOwnProperty(s)&&(t.emphasis[n][s]=t[n][s])}}}var TEXT_STYLE_OPTIONS=`fontStyle.fontWeight.fontSize.fontFamily.rich.tag.color.textBorderColor.textBorderWidth.width.height.lineHeight.align.verticalAlign.baseline.shadowColor.shadowBlur.shadowOffsetX.shadowOffsetY.textShadowColor.textShadowBlur.textShadowOffsetX.textShadowOffsetY.backgroundColor.borderColor.borderWidth.borderRadius.padding`.split(`.`);function getDataItemValue(t){return isObject$3(t)&&!isArray$1(t)&&!(t instanceof Date)?t.value:t}function isDataItemOption(t){return isObject$3(t)&&!(t instanceof Array)}function mappingToExists(t,n,r){var a=r===`normalMerge`,o=r===`replaceMerge`,s=r===`replaceAll`;t||=[],n=(n||[]).slice();var c=createHashMap();each$15(n,function(t,r){if(!isObject$3(t)){n[r]=null;return}});var l=prepareResult(t,c,r);return(a||o)&&mappingById(l,t,c,n),a&&mappingByName(l,n),a||o?mappingByIndex(l,n,o):s&&mappingInReplaceAllMode(l,n),makeIdAndName(l),l}function prepareResult(t,n,r){var a=[];if(r===`replaceAll`)return a;for(var o=0;o<t.length;o++){var s=t[o];s&&s.id!=null&&n.set(s.id,o),a.push({existing:r===`replaceMerge`||isComponentIdInternal(s)?null:s,newOption:null,keyInfo:null,brandNew:null})}return a}function mappingById(t,n,r,a){each$15(a,function(o,s){if(!(!o||o.id==null)){var c=makeComparableKey(o.id),l=r.get(c);if(l!=null){var u=t[l];assert(!u.newOption,`Duplicated option on id "`+c+`".`),u.newOption=o,u.existing=n[l],a[s]=null}}})}function mappingByName(t,n){each$15(n,function(r,a){if(!(!r||r.name==null))for(var o=0;o<t.length;o++){var s=t[o].existing;if(!t[o].newOption&&s&&(s.id==null||r.id==null)&&!isComponentIdInternal(r)&&!isComponentIdInternal(s)&&keyExistAndEqual(`name`,s,r)){t[o].newOption=r,n[a]=null;return}}})}function mappingByIndex(t,n,r){each$15(n,function(n){if(n){for(var a,o=0;(a=t[o])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&n.id!=null&&!keyExistAndEqual(`id`,n,a.existing));)o++;a?(a.newOption=n,a.brandNew=r):t.push({newOption:n,brandNew:r,existing:null,keyInfo:null}),o++}})}function mappingInReplaceAllMode(t,n){each$15(n,function(n){t.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(t){var n=createHashMap();each$15(t,function(t){var r=t.existing;r&&n.set(r.id,t)}),each$15(t,function(t){var r=t.newOption;assert(!r||r.id==null||!n.get(r.id)||n.get(r.id)===t,`id duplicates: `+(r&&r.id)),r&&r.id!=null&&n.set(r.id,t),!t.keyInfo&&(t.keyInfo={})}),each$15(t,function(t,r){var a=t.existing,o=t.newOption,s=t.keyInfo;if(isObject$3(o)){if(s.name=o.name==null?a?a.name:DUMMY_COMPONENT_NAME_PREFIX+r:makeComparableKey(o.name),a)s.id=makeComparableKey(a.id);else if(o.id!=null)s.id=makeComparableKey(o.id);else{var c=0;do s.id=`\0`+s.name+`\0`+ c++;while(n.get(s.id))}n.set(s.id,t)}})}function keyExistAndEqual(t,n,r){var a=convertOptionIdName(n[t],null),o=convertOptionIdName(r[t],null);return a!=null&&o!=null&&a===o}function makeComparableKey(t){return convertOptionIdName(t,``)}function convertOptionIdName(t,n){return t==null?n:isString(t)?t:isNumber(t)||isStringSafe(t)?t+``:n}function isNameSpecified(t){var n=t.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(t){return t&&t.id!=null&&makeComparableKey(t.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(t){return INTERNAL_COMPONENT_ID_PREFIX+t}function setComponentTypeToKeyInfo(t,n,r){each$15(t,function(t){var a=t.newOption;isObject$3(a)&&(t.keyInfo.mainType=n,t.keyInfo.subType=determineSubType(n,a,t.existing,r))})}function determineSubType(t,n,r,a){return n.type?n.type:r?r.subType:a.determineSubType(t,n)}function compressBatches(t,n){var r={},a={};return o(t||[],r),o(n||[],a,r),[s(r),s(a)];function o(t,n,r){for(var a=0,o=t.length;a<o;a++){var s=convertOptionIdName(t[a].seriesId,null);if(s==null)return;for(var c=normalizeToArray(t[a].dataIndex),l=r&&r[s],u=0,d=c.length;u<d;u++){var f=c[u];l&&l[f]?l[f]=null:(n[s]||(n[s]={}))[f]=1}}}function s(t,n){var r=[];for(var a in t)if(t.hasOwnProperty(a)&&t[a]!=null)if(n)r.push(+a);else{var o=s(t[a],!0);o.length&&r.push({seriesId:a,dataIndex:o})}return r}}function queryDataIndex(t,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$1(n.dataIndex)?map$1(n.dataIndex,function(n){return t.indexOfRawIndex(n)}):t.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$1(n.name)?map$1(n.name,function(n){return t.indexOfName(n)}):t.indexOfName(n.name)}function makeInner(){var t=`__ec_inner_`+ innerUniqueIndex++;return function(n){return n[t]||(n[t]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(t,n,r){var a=preParseFinder(n,r),o=a.mainTypeSpecified,s=a.queryOptionMap,c=a.others,l=r?r.defaultMainType:null;return!o&&l&&s.set(l,{}),s.each(function(n,a){var o=queryReferringComponents(t,a,n,{useDefault:l===a,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});c[a+`Models`]=o.models,c[a+`Model`]=o.models[0]}),c}function preParseFinder(t,n){var r;if(isString(t)){var a={};a[t+`Index`]=0,r=a}else r=t;var o=createHashMap(),s={},c=!1;return each$15(r,function(t,r){if(r===`dataIndex`||r===`dataIndexInside`){s[r]=t;return}var a=r.match(/^(\w+)(Index|Id|Name)$/)||[],l=a[1],u=(a[2]||``).toLowerCase();if(!(!l||!u||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,l)<0)){c||=!!l;var d=o.get(l)||o.set(l,{});d[u]=t}}),{mainTypeSpecified:c,queryOptionMap:o,others:s}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(t,n,r,a){a||=SINGLE_REFERRING;var o=r.index,s=r.id,c=r.name,l={models:null,specified:o!=null||s!=null||c!=null};if(!l.specified){var u=void 0;return l.models=a.useDefault&&(u=t.getComponent(n))?[u]:[],l}return o===`none`||o===!1?(assert(a.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):(o===`all`&&(assert(a.enableAll,'`"all"` is not a valid value on index option.'),o=s=c=null),l.models=t.queryComponents({mainType:n,index:o,id:s,name:c}),l)}function setAttribute(t,n,r){t.setAttribute?t.setAttribute(n,r):t[n]=r}function getAttribute(t,n){return t.getAttribute?t.getAttribute(n):t[n]}function getTooltipRenderMode(t){return t===`auto`?env_default.domSupported?`html`:`richText`:t||`html`}function groupData(t,n){var r=createHashMap(),a=[];return each$15(t,function(t){var o=n(t);(r.get(o)||(a.push(o),r.set(o,[]))).push(t)}),{keys:a,buckets:r}}function interpolateRawValues(t,n,r,a,o){var s=n==null||n===`auto`;if(a==null)return a;if(isNumber(a)){var c=interpolateNumber(r||0,a,o);return round$3(c,s?Math.max(getPrecision(r||0),getPrecision(a)):n)}else if(isString(a))return o<1?r:a;else{for(var l=[],u=r,d=a,f=Math.max(u?u.length:0,d.length),p=0;p<f;++p){var g=t.getDimensionInfo(p);if(g&&g.type===`ordinal`)l[p]=(o<1&&u?u:d)[p];else{var _=u&&u[p]?u[p]:0,v=d[p],c=interpolateNumber(_,v,o);l[p]=round$3(c,s?Math.max(getPrecision(_),getPrecision(v)):n)}}return l}}var TYPE_DELIMITER=`.`,IS_CONTAINER=`___EC__COMPONENT__CONTAINER___`,IS_EXTENDED_CLASS=`___EC__EXTENDED_CLASS___`;function parseClassType(t){var n={main:``,sub:``};if(t){var r=t.split(TYPE_DELIMITER);n.main=r[0]||``,n.sub=r[1]||``}return n}function checkClassType(t){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),`componentType "`+t+`" illegal`)}function isExtendedClass(t){return!!(t&&t[IS_EXTENDED_CLASS])}function enableClassExtend(t,n){t.$constructor=t,t.extend=function(t){var n=this,r;return isESClass(n)?r=function(t){__extends(n,t);function n(){return t.apply(this,arguments)||this}return n}(n):(r=function(){(t.$constructor||n).apply(this,arguments)},inherits(r,this)),extend(r.prototype,t),r[IS_EXTENDED_CLASS]=!0,r.extend=this.extend,r.superCall=superCall,r.superApply=superApply,r.superClass=n,r}}function isESClass(t){return isFunction(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function mountExtend(t,n){t.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(t){var n=[`__\0is_clz`,classBase++].join(`_`);t.prototype[n]=!0,t.isInstance=function(t){return!!(t&&t[n])}}function superCall(t,n){var r=[...arguments].slice(2);return this.superClass.prototype[n].apply(t,r)}function superApply(t,n,r){return this.superClass.prototype[n].apply(t,r)}function enableClassManagement(t){var n={};t.registerClass=function(t){var a=t.type||t.prototype.type;if(a){checkClassType(a),t.prototype.type=a;var o=parseClassType(a);if(!o.sub)n[o.main]=t;else if(o.sub!==IS_CONTAINER){var s=r(o);s[o.sub]=t}}return t},t.getClass=function(t,r,a){var o=n[t];if(o&&o[IS_CONTAINER]&&(o=r?o[r]:null),a&&!o)throw Error(r?`Component `+t+`.`+(r||``)+` is used but not imported.`:t+`.type should be specified.`);return o},t.getClassesByMainType=function(t){var r=parseClassType(t),a=[],o=n[r.main];return o&&o[IS_CONTAINER]?each$15(o,function(t,n){n!==IS_CONTAINER&&a.push(t)}):a.push(o),a},t.hasClass=function(t){return!!n[parseClassType(t).main]},t.getAllClassMainTypes=function(){var t=[];return each$15(n,function(n,r){t.push(r)}),t},t.hasSubTypes=function(t){var r=n[parseClassType(t).main];return r&&r[IS_CONTAINER]};function r(t){var r=n[t.main];return(!r||!r[IS_CONTAINER])&&(r=n[t.main]={},r[IS_CONTAINER]=!0),r}}function makeStyleMapper(t,n){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return n||=!1,function(r,a,o){for(var s={},c=0;c<t.length;c++){var l=t[c][1];if(!(a&&indexOf(a,l)>=0||o&&indexOf(o,l)<0)){var u=r.getShallow(l,n);u!=null&&(s[t[c][0]]=u)}}return s}}var getAreaStyle=makeStyleMapper([[`fill`,`color`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`opacity`],[`shadowColor`]]),AreaStyleMixin=function(){function t(){}return t.prototype.getAreaStyle=function(t,n){return getAreaStyle(this,t,n)},t}(),globalImageCache=new LRU_default(50);function findExistImage(t){if(typeof t==`string`){var n=globalImageCache.get(t);return n&&n.image}else return t}function createOrUpdateImage(t,n,r,a,o){if(t)if(typeof t==`string`){if(n&&n.__zrImageSrc===t||!r)return n;var s=globalImageCache.get(t),c={hostEl:r,cb:a,cbPayload:o};return s?(n=s.image,!isImageReady(n)&&s.pending.push(c)):(n=platformApi.loadImage(t,imageOnLoad,imageOnLoad),n.__zrImageSrc=t,globalImageCache.put(t,n.__cachedImgObj={image:n,pending:[c]})),n}else return t;else return n}function imageOnLoad(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<t.pending.length;n++){var r=t.pending[n],a=r.cb;a&&a(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function isImageReady(t){return t&&t.width&&t.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(t,n,r,a,o,s){if(!r){t.text=``,t.isTruncated=!1;return}var c=(n+``).split(`
`);s=prepareTruncateOptions(r,a,o,s);for(var l=!1,u={},d=0,f=c.length;d<f;d++)truncateSingleLine(u,c[d],s),c[d]=u.textLine,l||=u.isTruncated;t.text=c.join(`
`),t.isTruncated=l}function prepareTruncateOptions(t,n,r,a){a||={};var o=extend({},a);o.font=n,r=retrieve2(r,`...`),o.maxIterations=retrieve2(a.maxIterations,2);var s=o.minChar=retrieve2(a.minChar,0);o.cnCharWidth=getWidth(``,n);var c=o.ascCharWidth=getWidth(`a`,n);o.placeholder=retrieve2(a.placeholder,``);for(var l=t=Math.max(0,t-1),u=0;u<s&&l>=c;u++)l-=c;var d=getWidth(r,n);return d>l&&(r=``,d=0),l=t-d,o.ellipsis=r,o.ellipsisWidth=d,o.contentWidth=l,o.containerWidth=t,o}function truncateSingleLine(t,n,r){var a=r.containerWidth,o=r.font,s=r.contentWidth;if(!a){t.textLine=``,t.isTruncated=!1;return}var c=getWidth(n,o);if(c<=a){t.textLine=n,t.isTruncated=!1;return}for(var l=0;;l++){if(c<=s||l>=r.maxIterations){n+=r.ellipsis;break}var u=l===0?estimateLength(n,s,r.ascCharWidth,r.cnCharWidth):c>0?Math.floor(n.length*s/c):0;n=n.substr(0,u),c=getWidth(n,o)}n===``&&(n=r.placeholder),t.textLine=n,t.isTruncated=!0}function estimateLength(t,n,r,a){for(var o=0,s=0,c=t.length;s<c&&o<n;s++){var l=t.charCodeAt(s);o+=0<=l&&l<=127?r:a}return s}function parsePlainText(t,n){t!=null&&(t+=``);var r=n.overflow,a=n.padding,o=n.font,s=r===`truncate`,c=getLineHeight(o),l=retrieve2(n.lineHeight,c),u=!!n.backgroundColor,d=n.lineOverflow===`truncate`,f=!1,p=n.width,g=p!=null&&(r===`break`||r===`breakAll`)?t?wrapText(t,n.font,p,r===`breakAll`,0).lines:[]:t?t.split(`
`):[],_=g.length*l,v=retrieve2(n.height,_);if(_>v&&d){var y=Math.floor(v/l);f||=g.length>y,g=g.slice(0,y)}if(t&&s&&p!=null)for(var b=prepareTruncateOptions(p,o,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),x={},S=0;S<g.length;S++)truncateSingleLine(x,g[S],b),g[S]=x.textLine,f||=x.isTruncated;for(var C=v,w=0,S=0;S<g.length;S++)w=Math.max(getWidth(g[S],o),w);p??=w;var T=w;return a&&(C+=a[0]+a[2],T+=a[1]+a[3],p+=a[1]+a[3]),u&&(T=p),{lines:g,height:v,outerWidth:T,outerHeight:C,lineHeight:l,calculatedLineHeight:c,contentWidth:w,contentHeight:_,width:p,isTruncated:f}}var RichTextToken=function(){function t(){}return t}(),RichTextLine=function(){function t(t){this.tokens=[],t&&(this.tokens=t)}return t}(),RichTextContentBlock=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function parseRichText(t,n){var r=new RichTextContentBlock;if(t!=null&&(t+=``),!t)return r;for(var a=n.width,o=n.height,s=n.overflow,c=(s===`break`||s===`breakAll`)&&a!=null?{width:a,accumWidth:0,breakAll:s===`breakAll`}:null,l=STYLE_REG.lastIndex=0,u;(u=STYLE_REG.exec(t))!=null;){var d=u.index;d>l&&pushTokens(r,t.substring(l,d),n,c),pushTokens(r,u[2],n,c,u[1]),l=STYLE_REG.lastIndex}l<t.length&&pushTokens(r,t.substring(l,t.length),n,c);var f=[],p=0,g=0,_=n.padding,v=s===`truncate`,y=n.lineOverflow===`truncate`,b={};function x(t,n,r){t.width=n,t.lineHeight=r,p+=r,g=Math.max(g,n)}outer:for(var S=0;S<r.lines.length;S++){for(var C=r.lines[S],w=0,T=0,E=0;E<C.tokens.length;E++){var D=C.tokens[E],O=D.styleName&&n.rich[D.styleName]||{},A=D.textPadding=O.padding,j=A?A[1]+A[3]:0,M=D.font=O.font||n.font;D.contentHeight=getLineHeight(M);var N=retrieve2(O.height,D.contentHeight);if(D.innerHeight=N,A&&(N+=A[0]+A[2]),D.height=N,D.lineHeight=retrieve3(O.lineHeight,n.lineHeight,N),D.align=O&&O.align||n.align,D.verticalAlign=O&&O.verticalAlign||`middle`,y&&o!=null&&p+D.lineHeight>o){var P=r.lines.length;E>0?(C.tokens=C.tokens.slice(0,E),x(C,T,w),r.lines=r.lines.slice(0,S+1)):r.lines=r.lines.slice(0,S),r.isTruncated=r.isTruncated||r.lines.length<P;break outer}var F=O.width,I=F==null||F===`auto`;if(typeof F==`string`&&F.charAt(F.length-1)===`%`)D.percentWidth=F,f.push(D),D.contentWidth=getWidth(D.text,M);else{if(I){var L=O.backgroundColor,R=L&&L.image;R&&(R=findExistImage(R),isImageReady(R)&&(D.width=Math.max(D.width,R.width*N/R.height)))}var z=v&&a!=null?a-T:null;z!=null&&z<D.width?!I||z<j?(D.text=``,D.width=D.contentWidth=0):(truncateText2(b,D.text,z-j,M,n.ellipsis,{minChar:n.truncateMinChar}),D.text=b.text,r.isTruncated=r.isTruncated||b.isTruncated,D.width=D.contentWidth=getWidth(D.text,M)):D.contentWidth=getWidth(D.text,M)}D.width+=j,T+=D.width,O&&(w=Math.max(w,D.lineHeight))}x(C,T,w)}r.outerWidth=r.width=retrieve2(a,g),r.outerHeight=r.height=retrieve2(o,p),r.contentHeight=p,r.contentWidth=g,_&&(r.outerWidth+=_[1]+_[3],r.outerHeight+=_[0]+_[2]);for(var S=0;S<f.length;S++){var D=f[S],B=D.percentWidth;D.width=parseInt(B,10)/100*r.width}return r}function pushTokens(t,n,r,a,o){var s=n===``,c=o&&r.rich[o]||{},l=t.lines,u=c.font||r.font,d=!1,f,p;if(a){var g=c.padding,_=g?g[1]+g[3]:0;if(c.width!=null&&c.width!==`auto`){var v=parsePercent$1(c.width,a.width)+_;l.length>0&&v+a.accumWidth>a.width&&(f=n.split(`
`),d=!0),a.accumWidth=v}else{var y=wrapText(n,u,a.width,a.breakAll,a.accumWidth);a.accumWidth=y.accumWidth+_,p=y.linesWidths,f=y.lines}}else f=n.split(`
`);for(var b=0;b<f.length;b++){var x=f[b],S=new RichTextToken;if(S.styleName=o,S.text=x,S.isLineHolder=!x&&!s,typeof c.width==`number`?S.width=c.width:S.width=p?p[b]:getWidth(x,u),!b&&!d){var C=(l[l.length-1]||(l[0]=new RichTextLine)).tokens,w=C.length;w===1&&C[0].isLineHolder?C[0]=S:(x||!w||s)&&C.push(S)}else l.push(new RichTextLine([S]))}}function isAlphabeticLetter(t){var n=t.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}var breakCharMap=reduce(`,&?/;] `.split(``),function(t,n){return t[n]=!0,t},{});function isWordBreakChar(t){return isAlphabeticLetter(t)?!!breakCharMap[t]:!0}function wrapText(t,n,r,a,o){for(var s=[],c=[],l=``,u=``,d=0,f=0,p=0;p<t.length;p++){var g=t.charAt(p);if(g===`
`){u&&(l+=u,f+=d),s.push(l),c.push(f),l=``,u=``,d=0,f=0;continue}var _=getWidth(g,n),v=a?!1:!isWordBreakChar(g);if(s.length?f+_>r:o+f+_>r){f?(l||u)&&(v?(l||(l=u,u=``,d=0,f=d),s.push(l),c.push(f-d),u+=g,d+=_,l=``,f=d):(u&&(l+=u,u=``,d=0),s.push(l),c.push(f),l=g,f=_)):v?(s.push(u),c.push(d),u=g,d=_):(s.push(g),c.push(_));continue}f+=_,v?(u+=g,d+=_):(u&&(l+=u,u=``,d=0),l+=g)}return!s.length&&!l&&(l=t,u=``,d=0),u&&(l+=u),l&&(s.push(l),c.push(f)),s.length===1&&(f+=o),{accumWidth:f,lines:s,linesWidths:c}}var STYLE_MAGIC_KEY=`__zr_style_`+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:`#000`,opacity:1,blend:`source-over`},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=[`z`,`z2`,`invisible`],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=[`invisible`],Displayable=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype._init=function(n){for(var r=keys(n),a=0;a<r.length;a++){var o=r[a];o===`style`?this.useStyle(n[o]):t.prototype.attrKV.call(this,o,n[o])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(t,n,r,a){var o=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,t,n)||o&&!o[0]&&!o[3])return!1;if(r&&this.__clipPaths){for(var s=0;s<this.__clipPaths.length;++s)if(this.__clipPaths[s].isZeroArea())return!1}if(a&&this.parent)for(var c=this.parent;c;){if(c.ignore)return!1;c=c.parent}return!0},n.prototype.contain=function(t,n){return this.rectContain(t,n)},n.prototype.traverse=function(t,n){t.call(n,this)},n.prototype.rectContain=function(t,n){var r=this.transformCoordToLocal(t,n);return this.getBoundingRect().contain(r[0],r[1])},n.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var n=this.transform,r=this.getBoundingRect(),a=this.style,o=a.shadowBlur||0,s=a.shadowOffsetX||0,c=a.shadowOffsetY||0;t=this._paintRect||=new BoundingRect_default(0,0,0,0),n?BoundingRect_default.applyTransform(t,r,n):t.copy(r),(o||s||c)&&(t.width+=o*2+Math.abs(s),t.height+=o*2+Math.abs(c),t.x=Math.min(t.x,t.x+s-o),t.y=Math.min(t.y,t.y+c-o));var l=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-l),t.y=Math.floor(t.y-l),t.width=Math.ceil(t.width+1+l*2),t.height=Math.ceil(t.height+1+l*2))}return t},n.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new BoundingRect_default(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(t){return this.animate(`style`,t)},n.prototype.updateDuringAnimation=function(t){t===`style`?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(n,r){n===`style`?this.style?this.setStyle(r):this.useStyle(r):t.prototype.attrKV.call(this,n,r)},n.prototype.setStyle=function(t,n){return typeof t==`string`?this.style[t]=n:extend(this.style,t),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=2,this._rect&&=null},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&2)},n.prototype.styleUpdated=function(){this.__dirty&=-3},n.prototype.createStyle=function(t){return createObject(DEFAULT_COMMON_STYLE,t)},n.prototype.useStyle=function(t){t[STYLE_MAGIC_KEY]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},n.prototype.isStyleObject=function(t){return t[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(n,r,a,o,s,c){t.prototype._applyStateObj.call(this,n,r,a,o,s,c);var l=!(r&&o),u;if(r&&r.style?s?o?u=r.style:(u=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(u,r.style)):(u=this._mergeStyle(this.createStyle(),o?this.style:a.style),this._mergeStyle(u,r.style)):l&&(u=a.style),u)if(s){var d=this.style;if(this.style=this.createStyle(l?{}:d),l)for(var f=keys(d),p=0;p<f.length;p++){var g=f[p];g in u&&(u[g]=u[g],this.style[g]=d[g])}for(var _=keys(u),p=0;p<_.length;p++){var g=_[p];this.style[g]=this.style[g]}this._transitionState(n,{style:u},c,this.getAnimationStyleProps())}else this.useStyle(u);for(var v=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,p=0;p<v.length;p++){var g=v[p];r&&r[g]!=null?this[g]=r[g]:l&&a[g]!=null&&(this[g]=a[g])}},n.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),a,o=0;o<n.length;o++){var s=n[o];s.style&&(a||={},this._mergeStyle(a,s.style))}return a&&(r.style=a),r},n.prototype._mergeStyle=function(t,n){return extend(t,n),t},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=(function(){var t=n.prototype;t.type=`displayable`,t.invisible=!1,t.z=0,t.z2=0,t.zlevel=0,t.culling=!1,t.cursor=`pointer`,t.rectHover=!1,t.incremental=!1,t._rect=null,t.dirtyRectTolerance=0,t.__dirty=3})(),n}(Element_default),tmpRect=new BoundingRect_default(0,0,0,0),viewRect=new BoundingRect_default(0,0,0,0);function isDisplayableCulled(t,n,r){return tmpRect.copy(t.getBoundingRect()),t.transform&&tmpRect.applyTransform(t.transform),viewRect.width=n,viewRect.height=r,!tmpRect.intersect(viewRect)}var Displayable_default=Displayable,mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(t,n,r){if(t.length!==0){for(var a=t[0],o=a[0],s=a[0],c=a[1],l=a[1],u=1;u<t.length;u++)a=t[u],o=mathMin$9(o,a[0]),s=mathMax$9(s,a[0]),c=mathMin$9(c,a[1]),l=mathMax$9(l,a[1]);n[0]=o,n[1]=c,r[0]=s,r[1]=l}}function fromLine(t,n,r,a,o,s){o[0]=mathMin$9(t,r),o[1]=mathMin$9(n,a),s[0]=mathMax$9(t,r),s[1]=mathMax$9(n,a)}var xDim=[],yDim=[];function fromCubic(t,n,r,a,o,s,c,l,u,d){var f=cubicExtrema,p=cubicAt,g=f(t,r,o,c,xDim);u[0]=1/0,u[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var _=0;_<g;_++){var v=p(t,r,o,c,xDim[_]);u[0]=mathMin$9(v,u[0]),d[0]=mathMax$9(v,d[0])}g=f(n,a,s,l,yDim);for(var _=0;_<g;_++){var y=p(n,a,s,l,yDim[_]);u[1]=mathMin$9(y,u[1]),d[1]=mathMax$9(y,d[1])}u[0]=mathMin$9(t,u[0]),d[0]=mathMax$9(t,d[0]),u[0]=mathMin$9(c,u[0]),d[0]=mathMax$9(c,d[0]),u[1]=mathMin$9(n,u[1]),d[1]=mathMax$9(n,d[1]),u[1]=mathMin$9(l,u[1]),d[1]=mathMax$9(l,d[1])}function fromQuadratic(t,n,r,a,o,s,c,l){var u=quadraticExtremum,d=quadraticAt$1,f=mathMax$9(mathMin$9(u(t,r,o),1),0),p=mathMax$9(mathMin$9(u(n,a,s),1),0),g=d(t,r,o,f),_=d(n,a,s,p);c[0]=mathMin$9(t,o,g),c[1]=mathMin$9(n,s,_),l[0]=mathMax$9(t,o,g),l[1]=mathMax$9(n,s,_)}function fromArc(t,n,r,a,o,s,c,l,u){var d=min$1,f=max$1,p=Math.abs(o-s);if(p%PI2$8<1e-4&&p>1e-4){l[0]=t-r,l[1]=n-a,u[0]=t+r,u[1]=n+a;return}if(start[0]=mathCos$4(o)*r+t,start[1]=mathSin$4(o)*a+n,end[0]=mathCos$4(s)*r+t,end[1]=mathSin$4(s)*a+n,d(l,start,end),f(u,start,end),o%=PI2$8,o<0&&(o+=PI2$8),s%=PI2$8,s<0&&(s+=PI2$8),o>s&&!c?s+=PI2$8:o<s&&c&&(o+=PI2$8),c){var g=s;s=o,o=g}for(var _=0;_<s;_+=Math.PI/2)_>o&&(extremity[0]=mathCos$4(_)*r+t,extremity[1]=mathSin$4(_)*a+n,d(l,extremity,l),f(u,extremity,u))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<`u`,tmpAngles=[];function modPI2(t){return Math.round(t/PI$8*1e8)/1e8%2*PI$8}function normalizeArcAngles(t,n){var r=modPI2(t[0]);r<0&&(r+=PI2$7);var a=r-t[0],o=t[1];o+=a,!n&&o-r>=PI2$7?o=r+PI2$7:n&&r-o>=PI2$7?o=r-PI2$7:!n&&r>o?o=r+(PI2$7-modPI2(r-o)):n&&r<o&&(o=r-(PI2$7-modPI2(o-r))),t[0]=r,t[1]=o}var PathProxy_default=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,n,r){r||=0,r>0&&(this._ux=mathAbs$2(r/devicePixelRatio/t)||0,this._uy=mathAbs$2(r/devicePixelRatio/n)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,n){return this._drawPendingPt(),this.addData(CMD$4.M,t,n),this._ctx&&this._ctx.moveTo(t,n),this._x0=t,this._y0=n,this._xi=t,this._yi=n,this},t.prototype.lineTo=function(t,n){var r=mathAbs$2(t-this._xi),a=mathAbs$2(n-this._yi),o=r>this._ux||a>this._uy;if(this.addData(CMD$4.L,t,n),this._ctx&&o&&this._ctx.lineTo(t,n),o)this._xi=t,this._yi=n,this._pendingPtDist=0;else{var s=r*r+a*a;s>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=n,this._pendingPtDist=s)}return this},t.prototype.bezierCurveTo=function(t,n,r,a,o,s){return this._drawPendingPt(),this.addData(CMD$4.C,t,n,r,a,o,s),this._ctx&&this._ctx.bezierCurveTo(t,n,r,a,o,s),this._xi=o,this._yi=s,this},t.prototype.quadraticCurveTo=function(t,n,r,a){return this._drawPendingPt(),this.addData(CMD$4.Q,t,n,r,a),this._ctx&&this._ctx.quadraticCurveTo(t,n,r,a),this._xi=r,this._yi=a,this},t.prototype.arc=function(t,n,r,a,o,s){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=o,normalizeArcAngles(tmpAngles,s),a=tmpAngles[0],o=tmpAngles[1];var c=o-a;return this.addData(CMD$4.A,t,n,r,r,a,c,0,s?0:1),this._ctx&&this._ctx.arc(t,n,r,a,o,s),this._xi=mathCos$3(o)*r+t,this._yi=mathSin$3(o)*r+n,this},t.prototype.arcTo=function(t,n,r,a,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,n,r,a,o),this},t.prototype.rect=function(t,n,r,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,n,r,a),this.addData(CMD$4.R,t,n,r,a),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var t=this._ctx,n=this._x0,r=this._y0;return t&&t.closePath(),this._xi=n,this._yi=r,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var n=t.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var r=0;r<n;r++)this.data[r]=t[r];this._len=n},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var n=t.length,r=0,a=this._len,o=0;o<n;o++)r+=t[o].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+r));for(var o=0;o<n;o++)for(var s=t[o].data,c=0;c<s.length;c++)this.data[a++]=s[c];this._len=a},t.prototype.addData=function(t,n,r,a,o,s,c,l,u){if(this._saveData){var d=this.data;this._len+arguments.length>d.length&&(this._expandData(),d=this.data);for(var f=0;f<arguments.length;f++)d[this._len++]=arguments[f]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var t=this.data,n=0,r=0,a=0,o=0,s;for(s=0;s<this._len;){var c=t[s++],l=s===1;switch(l&&(n=t[s],r=t[s+1],a=n,o=r),c){case CMD$4.M:n=a=t[s++],r=o=t[s++],min2[0]=a,min2[1]=o,max2[0]=a,max2[1]=o;break;case CMD$4.L:fromLine(n,r,t[s],t[s+1],min2,max2),n=t[s++],r=t[s++];break;case CMD$4.C:fromCubic(n,r,t[s++],t[s++],t[s++],t[s++],t[s],t[s+1],min2,max2),n=t[s++],r=t[s++];break;case CMD$4.Q:fromQuadratic(n,r,t[s++],t[s++],t[s],t[s+1],min2,max2),n=t[s++],r=t[s++];break;case CMD$4.A:var u=t[s++],d=t[s++],f=t[s++],p=t[s++],g=t[s++],_=t[s++]+g;s+=1;var v=!t[s++];l&&(a=mathCos$3(g)*f+u,o=mathSin$3(g)*p+d),fromArc(u,d,f,p,g,_,v,min2,max2),n=mathCos$3(_)*f+u,r=mathSin$3(_)*p+d;break;case CMD$4.R:a=n=t[s++],o=r=t[s++];var y=t[s++],b=t[s++];fromLine(a,o,a+y,o+b,min2,max2);break;case CMD$4.Z:n=a,r=o;break}min$1(min,min,min2),max$1(max,max,max2)}return s===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect_default(min[0],min[1],max[0]-min[0],max[1]-min[1])},t.prototype._calculateLength=function(){var t=this.data,n=this._len,r=this._ux,a=this._uy,o=0,s=0,c=0,l=0;this._pathSegLen||=[];for(var u=this._pathSegLen,d=0,f=0,p=0;p<n;){var g=t[p++],_=p===1;_&&(o=t[p],s=t[p+1],c=o,l=s);var v=-1;switch(g){case CMD$4.M:o=c=t[p++],s=l=t[p++];break;case CMD$4.L:var y=t[p++],b=t[p++],x=y-o,S=b-s;(mathAbs$2(x)>r||mathAbs$2(S)>a||p===n-1)&&(v=Math.sqrt(x*x+S*S),o=y,s=b);break;case CMD$4.C:var C=t[p++],w=t[p++],y=t[p++],b=t[p++],T=t[p++],E=t[p++];v=cubicLength(o,s,C,w,y,b,T,E,10),o=T,s=E;break;case CMD$4.Q:var C=t[p++],w=t[p++],y=t[p++],b=t[p++];v=quadraticLength(o,s,C,w,y,b,10),o=y,s=b;break;case CMD$4.A:var D=t[p++],O=t[p++],A=t[p++],j=t[p++],M=t[p++],N=t[p++],P=N+M;p+=1,_&&(c=mathCos$3(M)*A+D,l=mathSin$3(M)*j+O),v=mathMax$8(A,j)*mathMin$8(PI2$7,Math.abs(N)),o=mathCos$3(P)*A+D,s=mathSin$3(P)*j+O;break;case CMD$4.R:c=o=t[p++],l=s=t[p++];var F=t[p++],I=t[p++];v=F*2+I*2;break;case CMD$4.Z:var x=c-o,S=l-s;v=Math.sqrt(x*x+S*S),o=c,s=l;break}v>=0&&(u[f++]=v,d+=v)}return this._pathLen=d,d},t.prototype.rebuildPath=function(t,n){var r=this.data,a=this._ux,o=this._uy,s=this._len,c,l,u,d,f,p,g=n<1,_,v,y=0,b=0,x,S=0,C,w;if(!(g&&(this._pathSegLen||this._calculateLength(),_=this._pathSegLen,v=this._pathLen,x=n*v,!x)))lo:for(var T=0;T<s;){var E=r[T++],D=T===1;switch(D&&(u=r[T],d=r[T+1],c=u,l=d),E!==CMD$4.L&&S>0&&(t.lineTo(C,w),S=0),E){case CMD$4.M:c=u=r[T++],l=d=r[T++],t.moveTo(u,d);break;case CMD$4.L:f=r[T++],p=r[T++];var O=mathAbs$2(f-u),A=mathAbs$2(p-d);if(O>a||A>o){if(g){var j=_[b++];if(y+j>x){var M=(x-y)/j;t.lineTo(u*(1-M)+f*M,d*(1-M)+p*M);break lo}y+=j}t.lineTo(f,p),u=f,d=p,S=0}else{var N=O*O+A*A;N>S&&(C=f,w=p,S=N)}break;case CMD$4.C:var P=r[T++],F=r[T++],I=r[T++],L=r[T++],R=r[T++],z=r[T++];if(g){var j=_[b++];if(y+j>x){var M=(x-y)/j;cubicSubdivide(u,P,I,R,M,tmpOutX),cubicSubdivide(d,F,L,z,M,tmpOutY),t.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break lo}y+=j}t.bezierCurveTo(P,F,I,L,R,z),u=R,d=z;break;case CMD$4.Q:var P=r[T++],F=r[T++],I=r[T++],L=r[T++];if(g){var j=_[b++];if(y+j>x){var M=(x-y)/j;quadraticSubdivide(u,P,I,M,tmpOutX),quadraticSubdivide(d,F,L,M,tmpOutY),t.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break lo}y+=j}t.quadraticCurveTo(P,F,I,L),u=I,d=L;break;case CMD$4.A:var B=r[T++],V=r[T++],H=r[T++],U=r[T++],W=r[T++],G=r[T++],K=r[T++],q=!r[T++],J=H>U?H:U,Y=mathAbs$2(H-U)>.001,X=W+G,Z=!1;if(g){var j=_[b++];y+j>x&&(X=W+G*(x-y)/j,Z=!0),y+=j}if(Y&&t.ellipse?t.ellipse(B,V,H,U,K,W,X,q):t.arc(B,V,J,W,X,q),Z)break lo;D&&(c=mathCos$3(W)*H+B,l=mathSin$3(W)*U+V),u=mathCos$3(X)*H+B,d=mathSin$3(X)*U+V;break;case CMD$4.R:c=u=r[T],l=d=r[T+1],f=r[T++],p=r[T++];var Q=r[T++],L0=r[T++];if(g){var j=_[b++];if(y+j>x){var $=x-y;t.moveTo(f,p),t.lineTo(f+mathMin$8($,Q),p),$-=Q,$>0&&t.lineTo(f+Q,p+mathMin$8($,L0)),$-=L0,$>0&&t.lineTo(f+mathMax$8(Q-$,0),p+L0),$-=Q,$>0&&t.lineTo(f,p+mathMax$8(L0-$,0));break lo}y+=j}t.rect(f,p,Q,L0);break;case CMD$4.Z:if(g){var j=_[b++];if(y+j>x){var M=(x-y)/j;t.lineTo(u*(1-M)+c*M,d*(1-M)+l*M);break lo}y+=j}t.closePath(),u=c,d=l}}},t.prototype.clone=function(){var n=new t,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},t.CMD=CMD$4,t.initDefaultProps=(function(){var n=t.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0})(),t}();function containStroke$4(t,n,r,a,o,s,c){if(o===0)return!1;var l=o,u=0,d=t;if(c>n+l&&c>a+l||c<n-l&&c<a-l||s>t+l&&s>r+l||s<t-l&&s<r-l)return!1;if(t!==r)u=(n-a)/(t-r),d=(t*a-r*n)/(t-r);else return Math.abs(s-t)<=l/2;var f=u*s-c+d;return f*f/(u*u+1)<=l/2*l/2}function containStroke$3(t,n,r,a,o,s,c,l,u,d,f){if(u===0)return!1;var p=u;return f>n+p&&f>a+p&&f>s+p&&f>l+p||f<n-p&&f<a-p&&f<s-p&&f<l-p||d>t+p&&d>r+p&&d>o+p&&d>c+p||d<t-p&&d<r-p&&d<o-p&&d<c-p?!1:cubicProjectPoint(t,n,r,a,o,s,c,l,d,f,null)<=p/2}function containStroke$2(t,n,r,a,o,s,c,l,u){if(c===0)return!1;var d=c;return u>n+d&&u>a+d&&u>s+d||u<n-d&&u<a-d&&u<s-d||l>t+d&&l>r+d&&l>o+d||l<t-d&&l<r-d&&l<o-d?!1:quadraticProjectPoint(t,n,r,a,o,s,l,u,null)<=d/2}var PI2$6=Math.PI*2;function normalizeRadian(t){return t%=PI2$6,t<0&&(t+=PI2$6),t}var PI2$5=Math.PI*2;function containStroke$1(t,n,r,a,o,s,c,l,u){if(c===0)return!1;var d=c;l-=t,u-=n;var f=Math.sqrt(l*l+u*u);if(f-d>r||f+d<r)return!1;if(Math.abs(a-o)%PI2$5<1e-4)return!0;if(s){var p=a;a=normalizeRadian(o),o=normalizeRadian(p)}else a=normalizeRadian(a),o=normalizeRadian(o);a>o&&(o+=PI2$5);var g=Math.atan2(u,l);return g<0&&(g+=PI2$5),g>=a&&g<=o||g+PI2$5>=a&&g+PI2$5<=o}function windingLine(t,n,r,a,o,s){if(s>n&&s>a||s<n&&s<a||a===n)return 0;var c=(s-n)/(a-n),l=a<n?1:-1;(c===1||c===0)&&(l=a<n?.5:-.5);var u=c*(r-t)+t;return u===o?1/0:u>o?l:0}var CMD$3=PathProxy_default.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(t,n){return Math.abs(t-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var t=extrema[0];extrema[0]=extrema[1],extrema[1]=t}function windingCubic(t,n,r,a,o,s,c,l,u,d){if(d>n&&d>a&&d>s&&d>l||d<n&&d<a&&d<s&&d<l)return 0;var f=cubicRootAt(n,a,s,l,d,roots);if(f===0)return 0;for(var p=0,g=-1,_=void 0,v=void 0,y=0;y<f;y++){var b=roots[y],x=b===0||b===1?.5:1;cubicAt(t,r,o,c,b)<u||(g<0&&(g=cubicExtrema(n,a,s,l,extrema),extrema[1]<extrema[0]&&g>1&&swapExtrema(),_=cubicAt(n,a,s,l,extrema[0]),g>1&&(v=cubicAt(n,a,s,l,extrema[1]))),g===2?b<extrema[0]?p+=_<n?x:-x:b<extrema[1]?p+=v<_?x:-x:p+=l<v?x:-x:b<extrema[0]?p+=_<n?x:-x:p+=l<_?x:-x)}return p}function windingQuadratic(t,n,r,a,o,s,c,l){if(l>n&&l>a&&l>s||l<n&&l<a&&l<s)return 0;var u=quadraticRootAt(n,a,s,l,roots);if(u===0)return 0;var d=quadraticExtremum(n,a,s);if(d>=0&&d<=1){for(var f=0,p=quadraticAt$1(n,a,s,d),g=0;g<u;g++){var _=roots[g]===0||roots[g]===1?.5:1,v=quadraticAt$1(t,r,o,roots[g]);v<c||(roots[g]<d?f+=p<n?_:-_:f+=s<p?_:-_)}return f}else{var _=roots[0]===0||roots[0]===1?.5:1,v=quadraticAt$1(t,r,o,roots[0]);return v<c?0:s<n?_:-_}}function windingArc(t,n,r,a,o,s,c,l){if(l-=n,l>r||l<-r)return 0;var u=Math.sqrt(r*r-l*l);roots[0]=-u,roots[1]=u;var d=Math.abs(a-o);if(d<1e-4)return 0;if(d>=PI2$4-1e-4){a=0,o=PI2$4;var f=s?1:-1;return c>=roots[0]+t&&c<=roots[1]+t?f:0}if(a>o){var p=a;a=o,o=p}a<0&&(a+=PI2$4,o+=PI2$4);for(var g=0,_=0;_<2;_++){var v=roots[_];if(v+t>c){var y=Math.atan2(l,v),f=s?1:-1;y<0&&(y=PI2$4+y),(y>=a&&y<=o||y+PI2$4>=a&&y+PI2$4<=o)&&(y>Math.PI/2&&y<Math.PI*1.5&&(f=-f),g+=f)}}return g}function containPath(t,n,r,a,o){for(var s=t.data,c=t.len(),l=0,u=0,d=0,f=0,p=0,g,_,v=0;v<c;){var y=s[v++],b=v===1;switch(y===CMD$3.M&&v>1&&(r||(l+=windingLine(u,d,f,p,a,o))),b&&(u=s[v],d=s[v+1],f=u,p=d),y){case CMD$3.M:f=s[v++],p=s[v++],u=f,d=p;break;case CMD$3.L:if(r){if(containStroke$4(u,d,s[v],s[v+1],n,a,o))return!0}else l+=windingLine(u,d,s[v],s[v+1],a,o)||0;u=s[v++],d=s[v++];break;case CMD$3.C:if(r){if(containStroke$3(u,d,s[v++],s[v++],s[v++],s[v++],s[v],s[v+1],n,a,o))return!0}else l+=windingCubic(u,d,s[v++],s[v++],s[v++],s[v++],s[v],s[v+1],a,o)||0;u=s[v++],d=s[v++];break;case CMD$3.Q:if(r){if(containStroke$2(u,d,s[v++],s[v++],s[v],s[v+1],n,a,o))return!0}else l+=windingQuadratic(u,d,s[v++],s[v++],s[v],s[v+1],a,o)||0;u=s[v++],d=s[v++];break;case CMD$3.A:var x=s[v++],S=s[v++],C=s[v++],w=s[v++],T=s[v++],E=s[v++];v+=1;var D=!!(1-s[v++]);g=Math.cos(T)*C+x,_=Math.sin(T)*w+S,b?(f=g,p=_):l+=windingLine(u,d,g,_,a,o);var O=(a-x)*w/C+x;if(r){if(containStroke$1(x,S,w,T,T+E,D,n,O,o))return!0}else l+=windingArc(x,S,w,T,T+E,D,O,o);u=Math.cos(T+E)*C+x,d=Math.sin(T+E)*w+S;break;case CMD$3.R:f=u=s[v++],p=d=s[v++];var A=s[v++],j=s[v++];if(g=f+A,_=p+j,r){if(containStroke$4(f,p,g,p,n,a,o)||containStroke$4(g,p,g,_,n,a,o)||containStroke$4(g,_,f,_,n,a,o)||containStroke$4(f,_,f,p,n,a,o))return!0}else l+=windingLine(g,p,g,_,a,o),l+=windingLine(f,_,f,p,a,o);break;case CMD$3.Z:if(r){if(containStroke$4(u,d,f,p,n,a,o))return!0}else l+=windingLine(u,d,f,p,a,o);u=f,d=p;break}}return!r&&!isAroundEqual$1(d,p)&&(l+=windingLine(u,d,f,p,a,o)||0),l!==0}function contain$2(t,n,r){return containPath(t,0,!1,n,r)}function containStroke(t,n,r,a){return containPath(t,n,!0,r,a)}var DEFAULT_PATH_STYLE=defaults({fill:`#000`,stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:`butt`,miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat([`invisible`,`culling`,`z`,`z2`,`zlevel`,`parent`]),Path_default=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.update=function(){var r=this;t.prototype.update.call(this);var a=this.style;if(a.decal){var o=this._decalEl=this._decalEl||new n;o.buildPath===n.prototype.buildPath&&(o.buildPath=function(t){r.buildPath(t,r.shape)}),o.silent=!0;var s=o.style;for(var c in a)s[c]!==a[c]&&(s[c]=a[c]);s.fill=a.fill?a.decal:null,s.decal=null,s.shadowColor=null,a.strokeFirst&&(s.stroke=null);for(var l=0;l<pathCopyParams.length;++l)o[pathCopyParams[l]]=this[pathCopyParams[l]];o.__dirty|=1}else this._decalEl&&=null},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(n){var r=keys(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var o=0;o<r.length;o++){var s=r[o],c=n[s];s===`style`?this.style?extend(this.style,c):this.useStyle(c):s===`shape`?extend(this.shape,c):t.prototype.attrKV.call(this,s,c)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var t=this.style.fill;if(t!==`none`){if(isString(t)){var n=lum(t,0);return n>.5?DARK_LABEL_COLOR:n>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(t)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(t){var n=this.style.fill;if(isString(n)){var r=this.__zr;if(!!(r&&r.isDarkMode())==lum(t,0)<.4)return n}},n.prototype.buildPath=function(t,n,r){},n.prototype.pathUpdated=function(){this.__dirty&=-5},n.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy_default(!1)},n.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return!(n==null||n===`none`||!(t.lineWidth>0))},n.prototype.hasFill=function(){var t=this.style.fill;return t!=null&&t!==`none`},n.prototype.getBoundingRect=function(){var t=this._rect,n=this.style,r=!t;if(r){var a=!1;this.path||(a=!0,this.createPathProxy());var o=this.path;(a||this.__dirty&4)&&(o.beginPath(),this.buildPath(o,this.shape,!1),this.pathUpdated()),t=o.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var s=this._rectStroke||=t.clone();if(this.__dirty||r){s.copy(t);var c=n.strokeNoScale?this.getLineScale():1,l=n.lineWidth;if(!this.hasFill()){var u=this.strokeContainThreshold;l=Math.max(l,u??4)}c>1e-10&&(s.width+=l/c,s.height+=l/c,s.x-=l/c/2,s.y-=l/c/2)}return s}return t},n.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect(),o=this.style;if(t=r[0],n=r[1],a.contain(t,n)){var s=this.path;if(this.hasStroke()){var c=o.lineWidth,l=o.strokeNoScale?this.getLineScale():1;if(l>1e-10&&(this.hasFill()||(c=Math.max(c,this.strokeContainThreshold)),containStroke(s,c/l,t,n)))return!0}if(this.hasFill())return contain$2(s,t,n)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=4,this._rect&&=null,this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(t){return this.animate(`shape`,t)},n.prototype.updateDuringAnimation=function(t){t===`style`?this.dirtyStyle():t===`shape`?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(n,r){n===`shape`?this.setShape(r):t.prototype.attrKV.call(this,n,r)},n.prototype.setShape=function(t,n){var r=this.shape;return r||=this.shape={},typeof t==`string`?r[t]=n:extend(r,t),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&4)},n.prototype.createStyle=function(t){return createObject(DEFAULT_PATH_STYLE,t)},n.prototype._innerSaveToNormal=function(n){t.prototype._innerSaveToNormal.call(this,n);var r=this._normalState;n.shape&&!r.shape&&(r.shape=extend({},this.shape))},n.prototype._applyStateObj=function(n,r,a,o,s,c){t.prototype._applyStateObj.call(this,n,r,a,o,s,c);var l=!(r&&o),u;if(r&&r.shape?s?o?u=r.shape:(u=extend({},a.shape),extend(u,r.shape)):(u=extend({},o?this.shape:a.shape),extend(u,r.shape)):l&&(u=a.shape),u)if(s){this.shape=extend({},this.shape);for(var d={},f=keys(u),p=0;p<f.length;p++){var g=f[p];typeof u[g]==`object`?this.shape[g]=u[g]:d[g]=u[g]}this._transitionState(n,{shape:d},c)}else this.shape=u,this.dirtyShape()},n.prototype._mergeStates=function(n){for(var r=t.prototype._mergeStates.call(this,n),a,o=0;o<n.length;o++){var s=n[o];s.shape&&(a||={},this._mergeStyle(a,s.shape))}return a&&(r.shape=a),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(t){var r=function(n){__extends(r,n);function r(r){var a=n.call(this,r)||this;return t.init&&t.init.call(a,r),a}return r.prototype.getDefaultStyle=function(){return clone$4(t.style)},r.prototype.getDefaultShape=function(){return clone$4(t.shape)},r}(n);for(var a in t)typeof t[a]==`function`&&(r.prototype[a]=t[a]);return r},n.initDefaultProps=(function(){var t=n.prototype;t.type=`path`,t.strokeContainThreshold=5,t.segmentIgnoreThreshold=0,t.subPixelOptimize=!1,t.autoBatch=!1,t.__dirty=7})(),n}(Displayable_default),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:`left`,textBaseline:`top`,miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var t=this.style,n=t.stroke;return n!=null&&n!==`none`&&t.lineWidth>0},n.prototype.hasFill=function(){var t=this.style.fill;return t!=null&&t!==`none`},n.prototype.createStyle=function(t){return createObject(DEFAULT_TSPAN_STYLE,t)},n.prototype.setBoundingRect=function(t){this._rect=t},n.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var n=t.text;n==null?n=``:n+=``;var r=getBoundingRect(n,t.font,t.textAlign,t.textBaseline);if(r.x+=t.x||0,r.y+=t.y||0,this.hasStroke()){var a=t.lineWidth;r.x-=a/2,r.y-=a/2,r.width+=a,r.height+=a}this._rect=r}return this._rect},n.initDefaultProps=(function(){var t=n.prototype;t.dirtyRectTolerance=10})(),n}(Displayable_default);TSpan.prototype.type=`tspan`;var TSpan_default=TSpan,DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(t){return!!(t&&typeof t!=`string`&&t.width&&t.height)}var ZRImage=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.createStyle=function(t){return createObject(DEFAULT_IMAGE_STYLE,t)},n.prototype._getSize=function(t){var n=this.style,r=n[t];if(r!=null)return r;var a=isImageLike$1(n.image)?n.image:this.__image;if(!a)return 0;var o=t===`width`?`height`:`width`,s=n[o];return s==null?a[t]:a[t]/a[o]*s},n.prototype.getWidth=function(){return this._getSize(`width`)},n.prototype.getHeight=function(){return this._getSize(`height`)},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var t=this.style;return this._rect||=new BoundingRect_default(t.x||0,t.y||0,this.getWidth(),this.getHeight()),this._rect},n}(Displayable_default);ZRImage.prototype.type=`image`;var Image_default=ZRImage;function buildPath$2(t,n){var r=n.x,a=n.y,o=n.width,s=n.height,c=n.r,l,u,d,f;o<0&&(r+=o,o=-o),s<0&&(a+=s,s=-s),typeof c==`number`?l=u=d=f=c:c instanceof Array?c.length===1?l=u=d=f=c[0]:c.length===2?(l=d=c[0],u=f=c[1]):c.length===3?(l=c[0],u=f=c[1],d=c[2]):(l=c[0],u=c[1],d=c[2],f=c[3]):l=u=d=f=0;var p;l+u>o&&(p=l+u,l*=o/p,u*=o/p),d+f>o&&(p=d+f,d*=o/p,f*=o/p),u+d>s&&(p=u+d,u*=s/p,d*=s/p),l+f>s&&(p=l+f,l*=s/p,f*=s/p),t.moveTo(r+l,a),t.lineTo(r+o-u,a),u!==0&&t.arc(r+o-u,a+u,u,-Math.PI/2,0),t.lineTo(r+o,a+s-d),d!==0&&t.arc(r+o-d,a+s-d,d,0,Math.PI/2),t.lineTo(r+f,a+s),f!==0&&t.arc(r+f,a+s-f,f,Math.PI/2,Math.PI),t.lineTo(r,a+l),l!==0&&t.arc(r+l,a+l,l,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(t,n,r){if(n){var a=n.x1,o=n.x2,s=n.y1,c=n.y2;t.x1=a,t.x2=o,t.y1=s,t.y2=c;var l=r&&r.lineWidth;return l?(round$2(a*2)===round$2(o*2)&&(t.x1=t.x2=subPixelOptimize$1(a,l,!0)),round$2(s*2)===round$2(c*2)&&(t.y1=t.y2=subPixelOptimize$1(s,l,!0)),t):t}}function subPixelOptimizeRect$1(t,n,r){if(n){var a=n.x,o=n.y,s=n.width,c=n.height;t.x=a,t.y=o,t.width=s,t.height=c;var l=r&&r.lineWidth;return l?(t.x=subPixelOptimize$1(a,l,!0),t.y=subPixelOptimize$1(o,l,!0),t.width=Math.max(subPixelOptimize$1(a+s,l,!1)-t.x,s===0?0:1),t.height=Math.max(subPixelOptimize$1(o+c,l,!1)-t.y,c===0?0:1),t):t}}function subPixelOptimize$1(t,n,r){if(!n)return t;var a=round$2(t*2);return(a+round$2(n))%2==0?a/2:(a+(r?1:-1))/2}var RectShape=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),subPixelOptimizeOutputShape$1={},Rect$2=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(t,n){var r,a,o,s;if(this.subPixelOptimize){var c=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,n,this.style);r=c.x,a=c.y,o=c.width,s=c.height,c.r=n.r,n=c}else r=n.x,a=n.y,o=n.width,s=n.height;n.r?buildPath$2(t,n):t.rect(r,a,o,s)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path_default);Rect$2.prototype.type=`rect`;var Rect_default=Rect$2,DEFAULT_RICH_TEXT_COLOR={fill:`#000`},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(t){__extends(n,t);function n(n){var r=t.call(this)||this;return r.type=`text`,r._children=[],r._defaultStyle=DEFAULT_RICH_TEXT_COLOR,r.attr(n),r}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var r=this._children[n];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},n.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):t.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(n){var r=this.innerTransformable;return r?r.getLocalTransform(n):t.prototype.getLocalTransform.call(this,n)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(n){t.prototype.addSelfToZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=n},n.prototype.removeSelfFromZr=function(n){t.prototype.removeSelfFromZr.call(this,n);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new BoundingRect_default(0,0,0,0),n=this._children,r=[],a=null,o=0;o<n.length;o++){var s=n[o],c=s.getBoundingRect(),l=s.getLocalTransform(r);l?(t.copy(c),t.applyTransform(l),a||=t.clone(),a.union(t)):(a||=c.clone(),a.union(c))}this._rect=a||t}return this._rect},n.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(t){},n.prototype._mergeStyle=function(t,n){if(!n)return t;var r=n.rich,a=t.rich||r&&{};return extend(t,n),r&&a?(this._mergeRich(a,r),t.rich=a):a&&(t.rich=a),t},n.prototype._mergeRich=function(t,n){for(var r=keys(n),a=0;a<r.length;a++){var o=r[a];t[o]=t[o]||{},extend(t[o],n[o])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(t){var n=this._children[this._childCursor];return(!n||!(n instanceof t))&&(n=new t),this._children[this._childCursor++]=n,n.__zr=this.__zr,n.parent=this,n},n.prototype._updatePlainTexts=function(){var t=this.style,n=t.font||`12px sans-serif`,r=t.padding,a=parsePlainText(getStyleText(t),t),o=needDrawBackground(t),s=!!t.backgroundColor,c=a.outerHeight,l=a.outerWidth,u=a.contentWidth,d=a.lines,f=a.lineHeight,p=this._defaultStyle;this.isTruncated=!!a.isTruncated;var g=t.x||0,_=t.y||0,v=t.align||p.align||`left`,y=t.verticalAlign||p.verticalAlign||`top`,b=g,x=adjustTextY(_,a.contentHeight,y);if(o||r){var S=adjustTextX(g,l,v),C=adjustTextY(_,c,y);o&&this._renderBackground(t,t,S,C,l,c)}x+=f/2,r&&(b=getTextXForPadding(g,v,r),y===`top`?x+=r[0]:y===`bottom`&&(x-=r[2]));for(var w=0,T=!1,E=getFill(`fill`in t?t.fill:(T=!0,p.fill)),D=getStroke(`stroke`in t?t.stroke:!s&&(!p.autoStroke||T)?(w=DEFAULT_STROKE_LINE_WIDTH,p.stroke):null),O=t.textShadowBlur>0,A=t.width!=null&&(t.overflow===`truncate`||t.overflow===`break`||t.overflow===`breakAll`),j=a.calculatedLineHeight,M=0;M<d.length;M++){var N=this._getOrCreateChild(TSpan_default),P=N.createStyle();N.useStyle(P),P.text=d[M],P.x=b,P.y=x,v&&(P.textAlign=v),P.textBaseline=`middle`,P.opacity=t.opacity,P.strokeFirst=!0,O&&(P.shadowBlur=t.textShadowBlur||0,P.shadowColor=t.textShadowColor||`transparent`,P.shadowOffsetX=t.textShadowOffsetX||0,P.shadowOffsetY=t.textShadowOffsetY||0),P.stroke=D,P.fill=E,D&&(P.lineWidth=t.lineWidth||w,P.lineDash=t.lineDash,P.lineDashOffset=t.lineDashOffset||0),P.font=n,setSeparateFont(P,t),x+=f,A&&N.setBoundingRect(new BoundingRect_default(adjustTextX(P.x,u,P.textAlign),adjustTextY(P.y,j,P.textBaseline),u,j))}},n.prototype._updateRichTexts=function(){var t=this.style,n=parseRichText(getStyleText(t),t),r=n.width,a=n.outerWidth,o=n.outerHeight,s=t.padding,c=t.x||0,l=t.y||0,u=this._defaultStyle,d=t.align||u.align,f=t.verticalAlign||u.verticalAlign;this.isTruncated=!!n.isTruncated;var p=adjustTextX(c,a,d),g=adjustTextY(l,o,f),_=p,v=g;s&&(_+=s[3],v+=s[0]);var y=_+r;needDrawBackground(t)&&this._renderBackground(t,t,p,g,a,o);for(var b=!!t.backgroundColor,x=0;x<n.lines.length;x++){for(var S=n.lines[x],C=S.tokens,w=C.length,T=S.lineHeight,E=S.width,D=0,O=_,A=y,j=w-1,M=void 0;D<w&&(M=C[D],!M.align||M.align===`left`);)this._placeToken(M,t,T,v,O,`left`,b),E-=M.width,O+=M.width,D++;for(;j>=0&&(M=C[j],M.align===`right`);)this._placeToken(M,t,T,v,A,`right`,b),E-=M.width,A-=M.width,j--;for(O+=(r-(O-_)-(y-A)-E)/2;D<=j;)M=C[D],this._placeToken(M,t,T,v,O+M.width/2,`center`,b),O+=M.width,D++;v+=T}},n.prototype._placeToken=function(t,n,r,a,o,s,c){var l=n.rich[t.styleName]||{};l.text=t.text;var u=t.verticalAlign,d=a+r/2;u===`top`?d=a+t.height/2:u===`bottom`&&(d=a+r-t.height/2),!t.isLineHolder&&needDrawBackground(l)&&this._renderBackground(l,n,s===`right`?o-t.width:s===`center`?o-t.width/2:o,d-t.height/2,t.width,t.height);var f=!!l.backgroundColor,p=t.textPadding;p&&(o=getTextXForPadding(o,s,p),d-=t.height/2-p[0]-t.innerHeight/2);var g=this._getOrCreateChild(TSpan_default),_=g.createStyle();g.useStyle(_);var v=this._defaultStyle,y=!1,b=0,x=getFill(`fill`in l?l.fill:`fill`in n?n.fill:(y=!0,v.fill)),S=getStroke(`stroke`in l?l.stroke:`stroke`in n?n.stroke:!f&&!c&&(!v.autoStroke||y)?(b=DEFAULT_STROKE_LINE_WIDTH,v.stroke):null),C=l.textShadowBlur>0||n.textShadowBlur>0;_.text=t.text,_.x=o,_.y=d,C&&(_.shadowBlur=l.textShadowBlur||n.textShadowBlur||0,_.shadowColor=l.textShadowColor||n.textShadowColor||`transparent`,_.shadowOffsetX=l.textShadowOffsetX||n.textShadowOffsetX||0,_.shadowOffsetY=l.textShadowOffsetY||n.textShadowOffsetY||0),_.textAlign=s,_.textBaseline=`middle`,_.font=t.font||`12px sans-serif`,_.opacity=retrieve3(l.opacity,n.opacity,1),setSeparateFont(_,l),S&&(_.lineWidth=retrieve3(l.lineWidth,n.lineWidth,b),_.lineDash=retrieve2(l.lineDash,n.lineDash),_.lineDashOffset=n.lineDashOffset||0,_.stroke=S),x&&(_.fill=x);var w=t.contentWidth,T=t.contentHeight;g.setBoundingRect(new BoundingRect_default(adjustTextX(_.x,w,_.textAlign),adjustTextY(_.y,T,_.textBaseline),w,T))},n.prototype._renderBackground=function(t,n,r,a,o,s){var c=t.backgroundColor,l=t.borderWidth,u=t.borderColor,d=c&&c.image,f=c&&!d,p=t.borderRadius,g=this,_,v;if(f||t.lineHeight||l&&u){_=this._getOrCreateChild(Rect_default),_.useStyle(_.createStyle()),_.style.fill=null;var y=_.shape;y.x=r,y.y=a,y.width=o,y.height=s,y.r=p,_.dirtyShape()}if(f){var b=_.style;b.fill=c||null,b.fillOpacity=retrieve2(t.fillOpacity,1)}else if(d){v=this._getOrCreateChild(Image_default),v.onload=function(){g.dirtyStyle()};var x=v.style;x.image=c.image,x.x=r,x.y=a,x.width=o,x.height=s}if(l&&u){var b=_.style;b.lineWidth=l,b.stroke=u,b.strokeOpacity=retrieve2(t.strokeOpacity,1),b.lineDash=t.borderDash,b.lineDashOffset=t.borderDashOffset||0,_.strokeContainThreshold=0,_.hasFill()&&_.hasStroke()&&(b.strokeFirst=!0,b.lineWidth*=2)}var S=(_||v).style;S.shadowBlur=t.shadowBlur||0,S.shadowColor=t.shadowColor||`transparent`,S.shadowOffsetX=t.shadowOffsetX||0,S.shadowOffsetY=t.shadowOffsetY||0,S.opacity=retrieve3(t.opacity,n.opacity,1)},n.makeFont=function(t){var n=``;return hasSeparateFont(t)&&(n=[t.fontStyle,t.fontWeight,parseFontSize(t.fontSize),t.fontFamily||`sans-serif`].join(` `)),n&&trim$1(n)||t.textFont||t.font},n}(Displayable_default),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=[`fontStyle`,`fontWeight`,`fontSize`,`fontFamily`];function parseFontSize(t){return typeof t==`string`&&(t.indexOf(`px`)!==-1||t.indexOf(`rem`)!==-1||t.indexOf(`em`)!==-1)?t:isNaN(+t)?`12px`:t+`px`}function setSeparateFont(t,n){for(var r=0;r<FONT_PARTS.length;r++){var a=FONT_PARTS[r],o=n[a];o!=null&&(t[a]=o)}}function hasSeparateFont(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function normalizeTextStyle(t){return normalizeStyle(t),each$15(t.rich,normalizeStyle),t}function normalizeStyle(t){if(t){t.font=ZRText.makeFont(t);var n=t.align;n===`middle`&&(n=`center`),t.align=n==null||VALID_TEXT_ALIGN[n]?n:`left`;var r=t.verticalAlign;r===`center`&&(r=`middle`),t.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN[r]?r:`top`,t.padding&&=normalizeCssArray$1(t.padding)}}function getStroke(t,n){return t==null||n<=0||t===`transparent`||t===`none`?null:t.image||t.colorStops?`#000`:t}function getFill(t){return t==null||t===`none`?null:t.image||t.colorStops?`#000`:t}function getTextXForPadding(t,n,r){return n===`right`?t-r[1]:n===`center`?t+r[3]/2-r[1]/2:t+r[3]}function getStyleText(t){var n=t.text;return n!=null&&(n+=``),n}function needDrawBackground(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var Text_default=ZRText,getECData=makeInner(),setCommonECData=function(t,n,r,a){if(a){var o=getECData(a);o.dataIndex=r,o.dataType=n,o.seriesIndex=t,o.ssrType=`chart`,a.type===`group`&&a.traverse(function(a){var o=getECData(a);o.seriesIndex=t,o.dataIndex=r,o.dataType=n,o.ssrType=`chart`})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),SPECIAL_STATES=[`emphasis`,`blur`,`select`],DISPLAY_STATES=[`normal`,`emphasis`,`blur`,`select`],HIGHLIGHT_ACTION_TYPE=`highlight`,DOWNPLAY_ACTION_TYPE=`downplay`,SELECT_ACTION_TYPE=`select`,UNSELECT_ACTION_TYPE=`unselect`,TOGGLE_SELECT_ACTION_TYPE=`toggleSelect`;function hasFillOrStroke(t){return t!=null&&t!==`none`}function doChangeHoverState(t,n,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(n),t.hoverState=r}function singleEnterEmphasis(t){doChangeHoverState(t,`emphasis`,2)}function singleLeaveEmphasis(t){t.hoverState===2&&doChangeHoverState(t,`normal`,0)}function singleEnterBlur(t){doChangeHoverState(t,`blur`,1)}function singleLeaveBlur(t){t.hoverState===1&&doChangeHoverState(t,`normal`,0)}function singleEnterSelect(t){t.selected=!0}function singleLeaveSelect(t){t.selected=!1}function updateElementState(t,n,r){n(t,r)}function traverseUpdateState(t,n,r){updateElementState(t,n,r),t.isGroup&&t.traverse(function(t){updateElementState(t,n,r)})}function setStatesFlag(t,n){switch(n){case`emphasis`:t.hoverState=2;break;case`normal`:t.hoverState=0;break;case`blur`:t.hoverState=1;break;case`select`:t.selected=!0}}function getFromStateStyle(t,n,r,a){for(var o=t.style,s={},c=0;c<n.length;c++){var l=n[c];s[l]=o[l]??(a&&a[l])}for(var c=0;c<t.animators.length;c++){var u=t.animators[c];u.__fromStateTransition&&u.__fromStateTransition.indexOf(r)<0&&u.targetName===`style`&&u.saveTo(s,n)}return s}function createEmphasisDefaultState(t,n,r,a){var o=r&&indexOf(r,`select`)>=0,s=!1;if(t instanceof Path_default){var c=getSavedStates(t),l=o&&c.selectFill||c.normalFill,u=o&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(l)||hasFillOrStroke(u)){a||={};var d=a.style||{};d.fill===`inherit`?(s=!0,a=extend({},a),d=extend({},d),d.fill=l):!hasFillOrStroke(d.fill)&&hasFillOrStroke(l)?(s=!0,a=extend({},a),d=extend({},d),d.fill=liftColor(l)):!hasFillOrStroke(d.stroke)&&hasFillOrStroke(u)&&(s||(a=extend({},a),d=extend({},d)),d.stroke=liftColor(u)),a.style=d}}if(a&&a.z2==null){s||(a=extend({},a));var f=t.z2EmphasisLift;a.z2=t.z2+(f??10)}return a}function createSelectDefaultState(t,n,r){if(r&&r.z2==null){r=extend({},r);var a=t.z2SelectLift;r.z2=t.z2+(a??9)}return r}function createBlurDefaultState(t,n,r){var a=indexOf(t.currentStates,n)>=0,o=t.style.opacity,s=a?null:getFromStateStyle(t,[`opacity`],n,{opacity:1});r||={};var c=r.style||{};return c.opacity??(r=extend({},r),c=extend({opacity:a?o:s.opacity*.1},c),r.style=c),r}function elementStateProxy(t,n){var r=this.states[t];if(this.style){if(t===`emphasis`)return createEmphasisDefaultState(this,t,n,r);if(t===`blur`)return createBlurDefaultState(this,t,r);if(t===`select`)return createSelectDefaultState(this,t,r)}return r}function setDefaultStateProxy(t){t.stateProxy=elementStateProxy;var n=t.getTextContent(),r=t.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),r&&(r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(t,n){!shouldSilent(t,n)&&!t.__highByOuter&&traverseUpdateState(t,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(t,n){!shouldSilent(t,n)&&!t.__highByOuter&&traverseUpdateState(t,singleLeaveEmphasis)}function enterEmphasis(t,n){t.__highByOuter|=1<<(n||0),traverseUpdateState(t,singleEnterEmphasis)}function leaveEmphasis(t,n){!(t.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(t,singleLeaveEmphasis)}function enterBlur(t){traverseUpdateState(t,singleEnterBlur)}function leaveBlur(t){traverseUpdateState(t,singleLeaveBlur)}function enterSelect(t){traverseUpdateState(t,singleEnterSelect)}function leaveSelect(t){traverseUpdateState(t,singleLeaveSelect)}function shouldSilent(t,n){return t.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(t){var n=t.getModel(),r=[],a=[];n.eachComponent(function(n,o){var s=getComponentStates(o),c=n===`series`,l=c?t.getViewOfSeriesModel(o):t.getViewOfComponentModel(o);!c&&a.push(l),s.isBlured&&(l.group.traverse(function(t){singleLeaveBlur(t)}),c&&r.push(o)),s.isBlured=!1}),each$15(a,function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(r,!1,n)})}function blurSeries(t,n,r,a){var o=a.getModel();r||=`coordinateSystem`;function s(t,n){for(var r=0;r<n.length;r++){var a=t.getItemGraphicEl(n[r]);a&&leaveBlur(a)}}if(t!=null&&!(!n||n===`none`)){var c=o.getSeriesByIndex(t),l=c.coordinateSystem;l&&l.master&&(l=l.master);var u=[];o.eachSeries(function(t){var o=c===t,d=t.coordinateSystem;if(d&&d.master&&(d=d.master),!(r===`series`&&!o||r===`coordinateSystem`&&!(d&&l?d===l:o)||n===`series`&&o)){if(a.getViewOfSeriesModel(t).group.traverse(function(t){t.__highByOuter&&o&&n===`self`||singleEnterBlur(t)}),isArrayLike(n))s(t.getData(),n);else if(isObject$3(n))for(var f=keys(n),p=0;p<f.length;p++)s(t.getData(f[p]),n[f[p]]);u.push(t),getComponentStates(t).isBlured=!0}}),o.eachComponent(function(t,n){if(t!==`series`){var r=a.getViewOfComponentModel(n);r&&r.toggleBlurSeries&&r.toggleBlurSeries(u,!0,o)}})}}function blurComponent(t,n,r){if(!(t==null||n==null)){var a=r.getModel().getComponent(t,n);if(a){getComponentStates(a).isBlured=!0;var o=r.getViewOfComponentModel(a);!o||!o.focusBlurEnabled||o.group.traverse(function(t){singleEnterBlur(t)})}}}function blurSeriesFromHighlightPayload(t,n,r){var a=t.seriesIndex,o=t.getData(n.dataType);if(o){var s=queryDataIndex(o,n);s=(isArray$1(s)?s[0]:s)||0;var c=o.getItemGraphicEl(s);if(!c)for(var l=o.count(),u=0;!c&&u<l;)c=o.getItemGraphicEl(u++);if(c){var d=getECData(c);blurSeries(a,d.focus,d.blurScope,r)}else{var f=t.get([`emphasis`,`focus`]),p=t.get([`emphasis`,`blurScope`]);f!=null&&blurSeries(a,f,p,r)}}}function findComponentHighDownDispatchers(t,n,r,a){var o={focusSelf:!1,dispatchers:null};if(t==null||t===`series`||n==null||r==null)return o;var s=a.getModel().getComponent(t,n);if(!s)return o;var c=a.getViewOfComponentModel(s);if(!c||!c.findHighDownDispatchers)return o;for(var l=c.findHighDownDispatchers(r),u,d=0;d<l.length;d++)if(getECData(l[d]).focus===`self`){u=!0;break}return{focusSelf:u,dispatchers:l}}function handleGlobalMouseOverForHighDown(t,n,r){var a=getECData(t),o=findComponentHighDownDispatchers(a.componentMainType,a.componentIndex,a.componentHighDownName,r),s=o.dispatchers,c=o.focusSelf;s?(c&&blurComponent(a.componentMainType,a.componentIndex,r),each$15(s,function(t){return enterEmphasisWhenMouseOver(t,n)})):(blurSeries(a.seriesIndex,a.focus,a.blurScope,r),a.focus===`self`&&blurComponent(a.componentMainType,a.componentIndex,r),enterEmphasisWhenMouseOver(t,n))}function handleGlobalMouseOutForHighDown(t,n,r){allLeaveBlur(r);var a=getECData(t),o=findComponentHighDownDispatchers(a.componentMainType,a.componentIndex,a.componentHighDownName,r).dispatchers;o?each$15(o,function(t){return leaveEmphasisWhenMouseOut(t,n)}):leaveEmphasisWhenMouseOut(t,n)}function toggleSelectionFromPayload(t,n,r){if(isSelectChangePayload(n)){var a=n.dataType,o=queryDataIndex(t.getData(a),n);isArray$1(o)||(o=[o]),t[n.type===`toggleSelect`?`toggleSelect`:n.type===`select`?`select`:`unselect`](o,a)}}function updateSeriesElementSelection(t){each$15(t.getAllData(),function(n){var r=n.data,a=n.type;r.eachItemGraphicEl(function(n,r){t.isSelected(r,a)?enterSelect(n):leaveSelect(n)})})}function getAllSelectedIndices(t){var n=[];return t.eachSeries(function(t){each$15(t.getAllData(),function(r){r.data;var a=r.type,o=t.getSelectedDataIndices();if(o.length>0){var s={dataIndex:o,seriesIndex:t.seriesIndex};a!=null&&(s.dataType=a),n.push(s)}})}),n}function enableHoverEmphasis(t,n,r){setAsHighDownDispatcher(t,!0),traverseUpdateState(t,setDefaultStateProxy),enableHoverFocus(t,n,r)}function disableHoverEmphasis(t){setAsHighDownDispatcher(t,!1)}function toggleHoverEmphasis(t,n,r,a){a?disableHoverEmphasis(t):enableHoverEmphasis(t,n,r)}function enableHoverFocus(t,n,r){var a=getECData(t);n==null?a.focus&&=null:(a.focus=n,a.blurScope=r)}var OTHER_STATES=[`emphasis`,`blur`,`select`],defaultStyleGetterMap={itemStyle:`getItemStyle`,lineStyle:`getLineStyle`,areaStyle:`getAreaStyle`};function setStatesStylesFromModel(t,n,r,a){r||=`itemStyle`;for(var o=0;o<OTHER_STATES.length;o++){var s=OTHER_STATES[o],c=n.getModel([s,r]),l=t.ensureState(s);l.style=a?a(c):c[defaultStyleGetterMap[r]]()}}function setAsHighDownDispatcher(t,n){var r=n===!1,a=t;t.highDownSilentOnTouch&&(a.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||a.__highDownDispatcher)&&(a.__highByOuter=a.__highByOuter||0,a.__highDownDispatcher=!r)}function isHighDownDispatcher(t){return!!(t&&t.__highDownDispatcher)}function enableComponentHighDownFeatures(t,n,r){var a=getECData(t);a.componentMainType=n.mainType,a.componentIndex=n.componentIndex,a.componentHighDownName=r}function getHighlightDigit(t){var n=_highlightKeyMap[t];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[t]=_highlightNextDigit++),n}function isSelectChangePayload(t){var n=t.type;return n===`select`||n===`unselect`||n===`toggleSelect`}function isHighDownPayload(t){var n=t.type;return n===`highlight`||n===`downplay`}function savePathStates(t){var n=getSavedStates(t);n.normalFill=t.style.fill,n.normalStroke=t.style.stroke;var r=t.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD$2=PathProxy_default.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(t,n){if(n){var r=t.data,a=t.len(),o,s,c,l,u,d,f=CMD$2.M,p=CMD$2.C,g=CMD$2.L,_=CMD$2.R,v=CMD$2.A,y=CMD$2.Q;for(c=0,l=0;c<a;){switch(o=r[c++],l=c,s=0,o){case f:s=1;break;case g:s=1;break;case p:s=3;break;case y:s=2;break;case v:var b=n[4],x=n[5],S=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),C=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),w=mathAtan2(-n[1]/C,n[0]/S);r[c]*=S,r[c++]+=b,r[c]*=C,r[c++]+=x,r[c++]*=S,r[c++]*=C,r[c++]+=w,r[c++]+=w,c+=2,l=c;break;case _:d[0]=r[c++],d[1]=r[c++],applyTransform$1(d,d,n),r[l++]=d[0],r[l++]=d[1],d[0]+=r[c++],d[1]+=r[c++],applyTransform$1(d,d,n),r[l++]=d[0],r[l++]=d[1]}for(u=0;u<s;u++){var T=points$2[u];T[0]=r[c++],T[1]=r[c++],applyTransform$1(T,T,n),r[l++]=T[0],r[l++]=T[1]}}t.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function vRatio(t,n){return(t[0]*n[0]+t[1]*n[1])/(vMag(t)*vMag(n))}function vAngle(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(vRatio(t,n))}function processArc(t,n,r,a,o,s,c,l,u,d,f){var p=PI$7/180*u,g=mathCos$2(p)*(t-r)/2+mathSin$2(p)*(n-a)/2,_=-1*mathSin$2(p)*(t-r)/2+mathCos$2(p)*(n-a)/2,v=g*g/(c*c)+_*_/(l*l);v>1&&(c*=mathSqrt$1(v),l*=mathSqrt$1(v));var y=(o===s?-1:1)*mathSqrt$1((c*c*(l*l)-c*c*(_*_)-l*l*(g*g))/(c*c*(_*_)+l*l*(g*g)))||0,b=y*c*_/l,x=y*-l*g/c,S=(t+r)/2+mathCos$2(p)*b-mathSin$2(p)*x,C=(n+a)/2+mathSin$2(p)*b+mathCos$2(p)*x,w=vAngle([1,0],[(g-b)/c,(_-x)/l]),T=[(g-b)/c,(_-x)/l],E=[(-1*g-b)/c,(-1*_-x)/l],D=vAngle(T,E);if(vRatio(T,E)<=-1&&(D=PI$7),vRatio(T,E)>=1&&(D=0),D<0){var O=Math.round(D/PI$7*1e6)/1e6;D=PI$7*2+O%2*PI$7}f.addData(d,S,C,c,l,w,D,p,s)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(t){var n=new PathProxy_default;if(!t)return n;var r=0,a=0,o=r,s=a,c,l=PathProxy_default.CMD,u=t.match(commandReg);if(!u)return n;for(var d=0;d<u.length;d++){for(var f=u[d],p=f.charAt(0),g=void 0,_=f.match(numberReg$1)||[],v=_.length,y=0;y<v;y++)_[y]=parseFloat(_[y]);for(var b=0;b<v;){var x=void 0,S=void 0,C=void 0,w=void 0,T=void 0,E=void 0,D=void 0,O=r,A=a,j=void 0,M=void 0;switch(p){case`l`:r+=_[b++],a+=_[b++],g=l.L,n.addData(g,r,a);break;case`L`:r=_[b++],a=_[b++],g=l.L,n.addData(g,r,a);break;case`m`:r+=_[b++],a+=_[b++],g=l.M,n.addData(g,r,a),o=r,s=a,p=`l`;break;case`M`:r=_[b++],a=_[b++],g=l.M,n.addData(g,r,a),o=r,s=a,p=`L`;break;case`h`:r+=_[b++],g=l.L,n.addData(g,r,a);break;case`H`:r=_[b++],g=l.L,n.addData(g,r,a);break;case`v`:a+=_[b++],g=l.L,n.addData(g,r,a);break;case`V`:a=_[b++],g=l.L,n.addData(g,r,a);break;case`C`:g=l.C,n.addData(g,_[b++],_[b++],_[b++],_[b++],_[b++],_[b++]),r=_[b-2],a=_[b-1];break;case`c`:g=l.C,n.addData(g,_[b++]+r,_[b++]+a,_[b++]+r,_[b++]+a,_[b++]+r,_[b++]+a),r+=_[b-2],a+=_[b-1];break;case`S`:x=r,S=a,j=n.len(),M=n.data,c===l.C&&(x+=r-M[j-4],S+=a-M[j-3]),g=l.C,O=_[b++],A=_[b++],r=_[b++],a=_[b++],n.addData(g,x,S,O,A,r,a);break;case`s`:x=r,S=a,j=n.len(),M=n.data,c===l.C&&(x+=r-M[j-4],S+=a-M[j-3]),g=l.C,O=r+_[b++],A=a+_[b++],r+=_[b++],a+=_[b++],n.addData(g,x,S,O,A,r,a);break;case`Q`:O=_[b++],A=_[b++],r=_[b++],a=_[b++],g=l.Q,n.addData(g,O,A,r,a);break;case`q`:O=_[b++]+r,A=_[b++]+a,r+=_[b++],a+=_[b++],g=l.Q,n.addData(g,O,A,r,a);break;case`T`:x=r,S=a,j=n.len(),M=n.data,c===l.Q&&(x+=r-M[j-4],S+=a-M[j-3]),r=_[b++],a=_[b++],g=l.Q,n.addData(g,x,S,r,a);break;case`t`:x=r,S=a,j=n.len(),M=n.data,c===l.Q&&(x+=r-M[j-4],S+=a-M[j-3]),r+=_[b++],a+=_[b++],g=l.Q,n.addData(g,x,S,r,a);break;case`A`:C=_[b++],w=_[b++],T=_[b++],E=_[b++],D=_[b++],O=r,A=a,r=_[b++],a=_[b++],g=l.A,processArc(O,A,r,a,E,D,C,w,T,g,n);break;case`a`:C=_[b++],w=_[b++],T=_[b++],E=_[b++],D=_[b++],O=r,A=a,r+=_[b++],a+=_[b++],g=l.A,processArc(O,A,r,a,E,D,C,w,T,g,n);break}}(p===`z`||p===`Z`)&&(g=l.Z,n.addData(g),r=o,a=s),c=g}return n.toStatic(),n}var SVGPath=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.applyTransform=function(t){},n}(Path_default);function isPathProxy(t){return t.setData!=null}function createPathOptions(t,n){var r=createPathProxyFromString(t),a=extend({},n);return a.buildPath=function(t){if(isPathProxy(t)){t.setData(r.data);var n=t.getContext();n&&t.rebuildPath(n,1)}else{var n=t;r.rebuildPath(n,1)}},a.applyTransform=function(t){transformPath(r,t),this.dirtyShape()},a}function createFromString(t,n){return new SVGPath(createPathOptions(t,n))}function extendFromString(t,n){var r=createPathOptions(t,n);return function(t){__extends(n,t);function n(n){var a=t.call(this,n)||this;return a.applyTransform=r.applyTransform,a.buildPath=r.buildPath,a}return n}(SVGPath)}function mergePath$1(t,n){for(var r=[],a=t.length,o=0;o<a;o++){var s=t[o];r.push(s.getUpdatedPathProxy(!0))}var c=new Path_default(n);return c.createPathProxy(),c.buildPath=function(t){if(isPathProxy(t)){t.appendPath(r);var n=t.getContext();n&&t.rebuildPath(n,1)}},c}function clonePath(t,n){n||={};var r=new Path_default;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),n.bakeTransform?transformPath(r.path,t.getComputedTransform()):n.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var CircleShape=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Circle=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(t,n){t.moveTo(n.cx+n.r,n.cy),t.arc(n.cx,n.cy,n.r,0,Math.PI*2)},n}(Path_default);Circle.prototype.type=`circle`;var Circle_default=Circle,EllipseShape=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),Ellipse=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(t,n){var r=.5522848,a=n.cx,o=n.cy,s=n.rx,c=n.ry,l=s*r,u=c*r;t.moveTo(a-s,o),t.bezierCurveTo(a-s,o-u,a-l,o-c,a,o-c),t.bezierCurveTo(a+l,o-c,a+s,o-u,a+s,o),t.bezierCurveTo(a+s,o+u,a+l,o+c,a,o+c),t.bezierCurveTo(a-l,o+c,a-s,o+u,a-s,o),t.closePath()},n}(Path_default);Ellipse.prototype.type=`ellipse`;var Ellipse_default=Ellipse,PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(t,n,r,a,o,s,c,l){var u=r-t,d=a-n,f=c-o,p=l-s,g=p*u-f*d;if(!(g*g<e))return g=(f*(n-s)-p*(t-o))/g,[t+g*u,n+g*d]}function computeCornerTangents(t,n,r,a,o,s,c){var l=t-r,u=n-a,d=(c?s:-s)/mathSqrt(l*l+u*u),f=d*u,p=-d*l,g=t+f,_=n+p,v=r+f,y=a+p,b=(g+v)/2,x=(_+y)/2,S=v-g,C=y-_,w=S*S+C*C,T=o-s,E=g*y-v*_,D=(C<0?-1:1)*mathSqrt(mathMax$7(0,T*T*w-E*E)),O=(E*C-S*D)/w,A=(-E*S-C*D)/w,j=(E*C+S*D)/w,M=(-E*S+C*D)/w,N=O-b,P=A-x,F=j-b,I=M-x;return N*N+P*P>F*F+I*I&&(O=j,A=M),{cx:O,cy:A,x0:-f,y0:-p,x1:O*(o/T-1),y1:A*(o/T-1)}}function normalizeCornerRadius(t){var n;if(isArray$1(t)){var r=t.length;if(!r)return t;n=r===1?[t[0],t[0],0,0]:r===2?[t[0],t[0],t[1],t[1]]:r===3?t.concat(t[2]):t}else n=[t,t,t,t];return n}function buildPath$1(t,n){var r,a=mathMax$7(n.r,0),o=mathMax$7(n.r0||0,0),s=a>0;if(!(!s&&!(o>0))){if(s||(a=o,o=0),o>a){var c=a;a=o,o=c}var l=n.startAngle,u=n.endAngle;if(!(isNaN(l)||isNaN(u))){var d=n.cx,f=n.cy,p=!!n.clockwise,g=mathAbs$1(u-l),_=g>PI2$3&&g%PI2$3;if(_>e&&(g=_),!(a>e))t.moveTo(d,f);else if(g>PI2$3-e)t.moveTo(d+a*mathCos$1(l),f+a*mathSin$1(l)),t.arc(d,f,a,l,u,!p),o>e&&(t.moveTo(d+o*mathCos$1(u),f+o*mathSin$1(u)),t.arc(d,f,o,u,l,p));else{var v=void 0,y=void 0,b=void 0,x=void 0,S=void 0,C=void 0,w=void 0,T=void 0,E=void 0,D=void 0,O=void 0,A=void 0,j=void 0,M=void 0,N=void 0,P=void 0,F=a*mathCos$1(l),I=a*mathSin$1(l),L=o*mathCos$1(u),R=o*mathSin$1(u),z=g>e;if(z){var B=n.cornerRadius;B&&(r=normalizeCornerRadius(B),v=r[0],y=r[1],b=r[2],x=r[3]);var V=mathAbs$1(a-o)/2;if(S=mathMin$7(V,b),C=mathMin$7(V,x),w=mathMin$7(V,v),T=mathMin$7(V,y),O=E=mathMax$7(S,C),A=D=mathMax$7(w,T),(E>e||D>e)&&(j=a*mathCos$1(u),M=a*mathSin$1(u),N=o*mathCos$1(l),P=o*mathSin$1(l),g<PI$6)){var H=intersect(F,I,N,P,j,M,L,R);if(H){var U=F-H[0],W=I-H[1],G=j-H[0],K=M-H[1],q=1/mathSin$1(mathACos((U*G+W*K)/(mathSqrt(U*U+W*W)*mathSqrt(G*G+K*K)))/2),J=mathSqrt(H[0]*H[0]+H[1]*H[1]);O=mathMin$7(E,(a-J)/(q+1)),A=mathMin$7(D,(o-J)/(q-1))}}}if(!z)t.moveTo(d+F,f+I);else if(O>e){var Y=mathMin$7(b,O),X=mathMin$7(x,O),Z=computeCornerTangents(N,P,F,I,a,Y,p),Q=computeCornerTangents(j,M,L,R,a,X,p);t.moveTo(d+Z.cx+Z.x0,f+Z.cy+Z.y0),O<E&&Y===X?t.arc(d+Z.cx,f+Z.cy,O,mathATan2(Z.y0,Z.x0),mathATan2(Q.y0,Q.x0),!p):(Y>0&&t.arc(d+Z.cx,f+Z.cy,Y,mathATan2(Z.y0,Z.x0),mathATan2(Z.y1,Z.x1),!p),t.arc(d,f,a,mathATan2(Z.cy+Z.y1,Z.cx+Z.x1),mathATan2(Q.cy+Q.y1,Q.cx+Q.x1),!p),X>0&&t.arc(d+Q.cx,f+Q.cy,X,mathATan2(Q.y1,Q.x1),mathATan2(Q.y0,Q.x0),!p))}else t.moveTo(d+F,f+I),t.arc(d,f,a,l,u,!p);if(!(o>e)||!z)t.lineTo(d+L,f+R);else if(A>e){var Y=mathMin$7(v,A),X=mathMin$7(y,A),Z=computeCornerTangents(L,R,j,M,o,-X,p),Q=computeCornerTangents(F,I,N,P,o,-Y,p);t.lineTo(d+Z.cx+Z.x0,f+Z.cy+Z.y0),A<D&&Y===X?t.arc(d+Z.cx,f+Z.cy,A,mathATan2(Z.y0,Z.x0),mathATan2(Q.y0,Q.x0),!p):(X>0&&t.arc(d+Z.cx,f+Z.cy,X,mathATan2(Z.y0,Z.x0),mathATan2(Z.y1,Z.x1),!p),t.arc(d,f,o,mathATan2(Z.cy+Z.y1,Z.cx+Z.x1),mathATan2(Q.cy+Q.y1,Q.cx+Q.x1),p),Y>0&&t.arc(d+Q.cx,f+Q.cy,Y,mathATan2(Q.y1,Q.x1),mathATan2(Q.y0,Q.x0),!p))}else t.lineTo(d+L,f+R),t.arc(d,f,o,u,l,p)}t.closePath()}}}var SectorShape=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Sector=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(t,n){buildPath$1(t,n)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path_default);Sector.prototype.type=`sector`;var Sector_default=Sector,RingShape=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),Ring=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.PI*2;t.moveTo(r+n.r,a),t.arc(r,a,n.r,0,o,!1),t.moveTo(r+n.r0,a),t.arc(r,a,n.r0,0,o,!0)},n}(Path_default);Ring.prototype.type=`ring`;var Ring_default=Ring;function smoothBezier(t,n,r,a){var o=[],s=[],c=[],l=[],u,d,f,p;if(a){f=[1/0,1/0],p=[-1/0,-1/0];for(var g=0,_=t.length;g<_;g++)min$1(f,f,t[g]),max$1(p,p,t[g]);min$1(f,f,a[0]),max$1(p,p,a[1])}for(var g=0,_=t.length;g<_;g++){var v=t[g];if(r)u=t[g?g-1:_-1],d=t[(g+1)%_];else if(g===0||g===_-1){o.push(clone$3(t[g]));continue}else u=t[g-1],d=t[g+1];sub(s,d,u),scale$2(s,s,n);var y=distance(v,u),b=distance(v,d),x=y+b;x!==0&&(y/=x,b/=x),scale$2(c,s,-y),scale$2(l,s,b);var S=add([],v,c),C=add([],v,l);a&&(max$1(S,S,f),min$1(S,S,p),max$1(C,C,f),min$1(C,C,p)),o.push(S),o.push(C)}return r&&o.push(o.shift()),o}function buildPath(t,n,r){var a=n.smooth,o=n.points;if(o&&o.length>=2){if(a){var s=smoothBezier(o,a,r,n.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var c=o.length,l=0;l<(r?c:c-1);l++){var u=s[l*2],d=s[l*2+1],f=o[(l+1)%c];t.bezierCurveTo(u[0],u[1],d[0],d[1],f[0],f[1])}}else{t.moveTo(o[0][0],o[0][1]);for(var l=1,p=o.length;l<p;l++)t.lineTo(o[l][0],o[l][1])}r&&t.closePath()}}var PolygonShape=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Polygon=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(t,n){buildPath(t,n,!0)},n}(Path_default);Polygon.prototype.type=`polygon`;var Polygon_default=Polygon,PolylineShape=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Polyline$1=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(t,n){buildPath(t,n,!1)},n}(Path_default);Polyline$1.prototype.type=`polyline`;var Polyline_default$1=Polyline$1,subPixelOptimizeOutputShape={},LineShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Line$1=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(t,n){var r,a,o,s;if(this.subPixelOptimize){var c=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,n,this.style);r=c.x1,a=c.y1,o=c.x2,s=c.y2}else r=n.x1,a=n.y1,o=n.x2,s=n.y2;var l=n.percent;l!==0&&(t.moveTo(r,a),l<1&&(o=r*(1-l)+o*l,s=a*(1-l)+s*l),t.lineTo(o,s))},n.prototype.pointAt=function(t){var n=this.shape;return[n.x1*(1-t)+n.x2*t,n.y1*(1-t)+n.y2*t]},n}(Path_default);Line$1.prototype.type=`line`;var Line_default$1=Line$1,out=[],BezierCurveShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function someVectorAt(t,n,r){var a=t.cpx2,o=t.cpy2;return a!=null||o!=null?[(r?cubicDerivativeAt:cubicAt)(t.x1,t.cpx1,t.cpx2,t.x2,n),(r?cubicDerivativeAt:cubicAt)(t.y1,t.cpy1,t.cpy2,t.y2,n)]:[(r?quadraticDerivativeAt:quadraticAt$1)(t.x1,t.cpx1,t.x2,n),(r?quadraticDerivativeAt:quadraticAt$1)(t.y1,t.cpy1,t.y2,n)]}var BezierCurve=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(t,n){var r=n.x1,a=n.y1,o=n.x2,s=n.y2,c=n.cpx1,l=n.cpy1,u=n.cpx2,d=n.cpy2,f=n.percent;f!==0&&(t.moveTo(r,a),u==null||d==null?(f<1&&(quadraticSubdivide(r,c,o,f,out),c=out[1],o=out[2],quadraticSubdivide(a,l,s,f,out),l=out[1],s=out[2]),t.quadraticCurveTo(c,l,o,s)):(f<1&&(cubicSubdivide(r,c,u,o,f,out),c=out[1],u=out[2],o=out[3],cubicSubdivide(a,l,d,s,f,out),l=out[1],d=out[2],s=out[3]),t.bezierCurveTo(c,l,u,d,o,s)))},n.prototype.pointAt=function(t){return someVectorAt(this.shape,t,!1)},n.prototype.tangentAt=function(t){var n=someVectorAt(this.shape,t,!0);return normalize$3(n,n)},n}(Path_default);BezierCurve.prototype.type=`bezier-curve`;var BezierCurve_default=BezierCurve,ArcShape=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Arc=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.max(n.r,0),s=n.startAngle,c=n.endAngle,l=n.clockwise,u=Math.cos(s),d=Math.sin(s);t.moveTo(u*o+r,d*o+a),t.arc(r,a,o,s,c,!l)},n}(Path_default);Arc.prototype.type=`arc`;var Arc_default=Arc,CompoundPath_default=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`compound`,n}return n.prototype._updatePathDirty=function(){for(var t=this.shape.paths,n=this.shapeChanged(),r=0;r<t.length;r++)n||=t[r].shapeChanged();n&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],n=this.getGlobalScale(),r=0;r<t.length;r++)t[r].path||t[r].createPathProxy(),t[r].path.setScale(n[0],n[1],t[r].segmentIgnoreThreshold)},n.prototype.buildPath=function(t,n){for(var r=n.paths||[],a=0;a<r.length;a++)r[a].buildPath(t,r[a].shape,!0)},n.prototype.afterBrush=function(){for(var t=this.shape.paths||[],n=0;n<t.length;n++)t[n].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path_default.prototype.getBoundingRect.call(this)},n}(Path_default),Gradient_default=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,n){this.colorStops.push({offset:t,color:n})},t}(),LinearGradient_default=function(t){__extends(n,t);function n(n,r,a,o,s,c){var l=t.call(this,s)||this;return l.x=n??0,l.y=r??0,l.x2=a??1,l.y2=o??0,l.type=`linear`,l.global=c||!1,l}return n}(Gradient_default),RadialGradient_default=function(t){__extends(n,t);function n(n,r,a,o,s){var c=t.call(this,o)||this;return c.x=n??.5,c.y=r??.5,c.r=a??.5,c.type=`radial`,c.global=s||!1,c}return n}(Gradient_default),extent=[0,0],extent2=[0,0],minTv=new Point_default,maxTv=new Point_default,OrientedBoundingRect_default=function(){function t(t,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new Point_default;for(var r=0;r<2;r++)this._axes[r]=new Point_default;t&&this.fromBoundingRect(t,n)}return t.prototype.fromBoundingRect=function(t,n){var r=this._corners,a=this._axes,o=t.x,s=t.y,c=o+t.width,l=s+t.height;if(r[0].set(o,s),r[1].set(c,s),r[2].set(c,l),r[3].set(o,l),n)for(var u=0;u<4;u++)r[u].transform(n);Point_default.sub(a[0],r[1],r[0]),Point_default.sub(a[1],r[3],r[0]),a[0].normalize(),a[1].normalize();for(var u=0;u<2;u++)this._origin[u]=a[u].dot(r[0])},t.prototype.intersect=function(t,n){var r=!0,a=!n;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,t,minTv,maxTv,a,1)&&(r=!1,a)||!this._intersectCheckOneSide(t,this,minTv,maxTv,a,-1)&&(r=!1,a)||a||Point_default.copy(n,r?minTv:maxTv),r},t.prototype._intersectCheckOneSide=function(t,n,r,a,o,s){for(var c=!0,l=0;l<2;l++){var u=this._axes[l];if(this._getProjMinMaxOnAxis(l,t._corners,extent),this._getProjMinMaxOnAxis(l,n._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(c=!1,o)return c;var d=Math.abs(extent2[0]-extent[1]),f=Math.abs(extent[0]-extent2[1]);Math.min(d,f)>a.len()&&(d<f?Point_default.scale(a,u,-d*s):Point_default.scale(a,u,f*s))}else if(r){var d=Math.abs(extent2[0]-extent[1]),f=Math.abs(extent[0]-extent2[1]);Math.min(d,f)<r.len()&&(d<f?Point_default.scale(r,u,d*s):Point_default.scale(r,u,-f*s))}}return c},t.prototype._getProjMinMaxOnAxis=function(t,n,r){for(var a=this._axes[t],o=this._origin,s=n[0].dot(a)+o[t],c=s,l=s,u=1;u<n.length;u++){var d=n[u].dot(a)+o[t];c=Math.min(d,c),l=Math.max(d,l)}r[0]=c,r[1]=l},t}(),m=[],IncrementalDisplayable_default=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return n.prototype.traverse=function(t,n){t.call(n,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(t,n){n?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},n.prototype.addDisplayables=function(t,n){n||=!1;for(var r=0;r<t.length;r++)this.addDisplayable(t[r],n)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(t){for(var n=this._cursor;n<this._displayables.length;n++)t&&t(this._displayables[n]);for(var n=0;n<this._temporaryDisplayables.length;n++)t&&t(this._temporaryDisplayables[n])},n.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++){var n=this._displayables[t];n.parent=this,n.update(),n.parent=null}for(var t=0;t<this._temporaryDisplayables.length;t++){var n=this._temporaryDisplayables[t];n.parent=this,n.update(),n.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new BoundingRect_default(1/0,1/0,-1/0,-1/0),n=0;n<this._displayables.length;n++){var r=this._displayables[n],a=r.getBoundingRect().clone();r.needLocalTransform()&&a.applyTransform(r.getLocalTransform(m)),t.union(a)}this._rect=t}return this._rect},n.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n);if(this.getBoundingRect().contain(r[0],r[1])){for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(t,n))return!0}return!1},n}(Displayable_default),transitionStore=makeInner();function getAnimationConfig(t,n,r,a,o){var s;if(n&&n.ecModel){var c=n.ecModel.getUpdatePayload();s=c&&c.animation}var l=n&&n.isAnimationEnabled(),u=t===`update`;if(l){var d=void 0,f=void 0,p=void 0;return a?(d=retrieve2(a.duration,200),f=retrieve2(a.easing,`cubicOut`),p=0):(d=n.getShallow(u?`animationDurationUpdate`:`animationDuration`),f=n.getShallow(u?`animationEasingUpdate`:`animationEasing`),p=n.getShallow(u?`animationDelayUpdate`:`animationDelay`)),s&&(s.duration!=null&&(d=s.duration),s.easing!=null&&(f=s.easing),s.delay!=null&&(p=s.delay)),isFunction(p)&&(p=p(r,o)),isFunction(d)&&(d=d(r)),{duration:d||0,delay:p,easing:f}}else return null}function animateOrSetProps(t,n,r,a,o,s,c){var l=!1,u;isFunction(o)?(c=s,s=o,o=null):isObject$3(o)&&(s=o.cb,c=o.during,l=o.isFrom,u=o.removeOpt,o=o.dataIndex);var d=t===`leave`;d||n.stopAnimation(`leave`);var f=getAnimationConfig(t,a,o,d?u||{}:null,a&&a.getAnimationDelayParams?a.getAnimationDelayParams(n,o):null);if(f&&f.duration>0){var p=f.duration,g=f.delay,_=f.easing,v={duration:p,delay:g||0,easing:_,done:s,force:!!s||!!c,setToFinal:!d,scope:t,during:c};l?n.animateFrom(r,v):n.animateTo(r,v)}else n.stopAnimation(),!l&&n.attr(r),c&&c(1),s&&s()}function updateProps$1(t,n,r,a,o,s){animateOrSetProps(`update`,t,n,r,a,o,s)}function initProps(t,n,r,a,o,s){animateOrSetProps(`enter`,t,n,r,a,o,s)}function isElementRemoved(t){if(!t.__zr)return!0;for(var n=0;n<t.animators.length;n++)if(t.animators[n].scope===`leave`)return!0;return!1}function removeElement(t,n,r,a,o,s){isElementRemoved(t)||animateOrSetProps(`leave`,t,n,r,a,o,s)}function fadeOutDisplayable(t,n,r,a){t.removeTextContent(),t.removeTextGuideLine(),removeElement(t,{style:{opacity:0}},n,r,a)}function removeElementWithFadeOut(t,n,r){function a(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(t){t.isGroup||fadeOutDisplayable(t,n,r,a)}):fadeOutDisplayable(t,n,r,a)}function saveOldStyle(t){transitionStore(t).oldStyle=t.style}function getOldStyle(t){return transitionStore(t).oldStyle}var graphic_exports=__exportAll({Arc:()=>Arc_default,BezierCurve:()=>BezierCurve_default,BoundingRect:()=>BoundingRect_default,Circle:()=>Circle_default,CompoundPath:()=>CompoundPath_default,Ellipse:()=>Ellipse_default,Group:()=>Group_default,Image:()=>Image_default,IncrementalDisplayable:()=>IncrementalDisplayable_default,Line:()=>Line_default$1,LinearGradient:()=>LinearGradient_default,OrientedBoundingRect:()=>OrientedBoundingRect_default,Path:()=>Path_default,Point:()=>Point_default,Polygon:()=>Polygon_default,Polyline:()=>Polyline_default$1,RadialGradient:()=>RadialGradient_default,Rect:()=>Rect_default,Ring:()=>Ring_default,Sector:()=>Sector_default,Text:()=>Text_default,applyTransform:()=>applyTransform,clipPointsByRect:()=>clipPointsByRect,clipRectByRect:()=>clipRectByRect,createIcon:()=>createIcon,extendPath:()=>extendPath,extendShape:()=>extendShape,getShapeClass:()=>getShapeClass,getTransform:()=>getTransform$1,groupTransition:()=>groupTransition,initProps:()=>initProps,isElementRemoved:()=>isElementRemoved,lineLineIntersect:()=>lineLineIntersect$1,linePolygonIntersect:()=>linePolygonIntersect,makeImage:()=>makeImage,makePath:()=>makePath,mergePath:()=>mergePath,registerShape:()=>registerShape,removeElement:()=>removeElement,removeElementWithFadeOut:()=>removeElementWithFadeOut,resizePath:()=>resizePath,setTooltipConfig:()=>setTooltipConfig,subPixelOptimize:()=>subPixelOptimize,subPixelOptimizeLine:()=>subPixelOptimizeLine,subPixelOptimizeRect:()=>subPixelOptimizeRect,transformDirection:()=>transformDirection,traverseElements:()=>traverseElements,updateProps:()=>updateProps$1},1),mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(t){return Path_default.extend(t)}var extendPathFromString=extendFromString;function extendPath(t,n){return extendPathFromString(t,n)}function registerShape(t,n){_customShapeMap[t]=n}function getShapeClass(t){if(_customShapeMap.hasOwnProperty(t))return _customShapeMap[t]}function makePath(t,n,r,a){var o=createFromString(t,n);return r&&(a===`center`&&(r=centerGraphic(r,o.getBoundingRect())),resizePath(o,r)),o}function makeImage(t,n,r){var a=new Image_default({style:{image:t,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(t){if(r===`center`){var o={width:t.width,height:t.height};a.setStyle(centerGraphic(n,o))}}});return a}function centerGraphic(t,n){var r=n.width/n.height,a=t.height*r,o;a<=t.width?o=t.height:(a=t.width,o=a/r);var s=t.x+t.width/2,c=t.y+t.height/2;return{x:s-a/2,y:c-o/2,width:a,height:o}}var mergePath=mergePath$1;function resizePath(t,n){if(t.applyTransform){var r=t.getBoundingRect().calculateTransform(n);t.applyTransform(r)}}function subPixelOptimizeLine(t,n){return subPixelOptimizeLine$1(t,t,{lineWidth:n}),t}function subPixelOptimizeRect(t){return subPixelOptimizeRect$1(t.shape,t.shape,t.style),t}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(t,n){for(var r=identity([]);t&&t!==n;)mul(r,t.getLocalTransform(),r),t=t.parent;return r}function applyTransform(t,n,r){return n&&!isArrayLike(n)&&(n=Transformable_default.getLocalTransform(n)),r&&(n=invert([],n)),applyTransform$1([],t,n)}function transformDirection(t,n,r){var a=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),o=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),s=[t===`left`?-a:t===`right`?a:0,t===`top`?-o:t===`bottom`?o:0];return s=applyTransform(s,n,r),Math.abs(s[0])>Math.abs(s[1])?s[0]>0?`right`:`left`:s[1]>0?`bottom`:`top`}function isNotGroup(t){return!t.isGroup}function isPath$1(t){return t.shape!=null}function groupTransition(t,n,r){if(!t||!n)return;function a(t){var n={};return t.traverse(function(t){isNotGroup(t)&&t.anid&&(n[t.anid]=t)}),n}function o(t){var n={x:t.x,y:t.y,rotation:t.rotation};return isPath$1(t)&&(n.shape=extend({},t.shape)),n}var s=a(t);n.traverse(function(t){if(isNotGroup(t)&&t.anid){var n=s[t.anid];if(n){var a=o(t);t.attr(o(n)),updateProps$1(t,a,r,getECData(t).dataIndex)}}})}function clipPointsByRect(t,n){return map$1(t,function(t){var r=t[0];r=mathMax$6(r,n.x),r=mathMin$6(r,n.x+n.width);var a=t[1];return a=mathMax$6(a,n.y),a=mathMin$6(a,n.y+n.height),[r,a]})}function clipRectByRect(t,n){var r=mathMax$6(t.x,n.x),a=mathMin$6(t.x+t.width,n.x+n.width),o=mathMax$6(t.y,n.y),s=mathMin$6(t.y+t.height,n.y+n.height);if(a>=r&&s>=o)return{x:r,y:o,width:a-r,height:s-o}}function createIcon(t,n,r){var a=extend({rectHover:!0},n),o=a.style={strokeNoScale:!0};if(r||={x:-1,y:-1,width:2,height:2},t)return t.indexOf(`image://`)===0?(o.image=t.slice(8),defaults(o,r),new Image_default(a)):makePath(t.replace(`path://`,``),a,r,`center`)}function linePolygonIntersect(t,n,r,a,o){for(var s=0,c=o[o.length-1];s<o.length;s++){var l=o[s];if(lineLineIntersect$1(t,n,r,a,l[0],l[1],c[0],c[1]))return!0;c=l}}function lineLineIntersect$1(t,n,r,a,o,s,c,l){var u=r-t,d=a-n,f=c-o,p=l-s,g=crossProduct2d$1(f,p,u,d);if(nearZero(g))return!1;var _=t-o,v=n-s,y=crossProduct2d$1(_,v,u,d)/g;if(y<0||y>1)return!1;var b=crossProduct2d$1(_,v,f,p)/g;return!(b<0||b>1)}function crossProduct2d$1(t,n,r,a){return t*a-r*n}function nearZero(t){return t<=1e-6&&t>=-1e-6}function setTooltipConfig(t){var n=t.itemTooltipOption,r=t.componentModel,a=t.itemName,o=isString(n)?{formatter:n}:n,s=r.mainType,c=r.componentIndex,l={componentType:s,name:a,$vars:[`name`]};l[s+`Index`]=c;var u=t.formatterParamsExtra;u&&each$15(keys(u),function(t){hasOwn(l,t)||(l[t]=u[t],l.$vars.push(t))});var d=getECData(t.el);d.componentMainType=s,d.componentIndex=c,d.tooltipConfig={name:a,option:defaults({content:a,encodeHTMLContent:!0,formatterParams:l},o)}}function traverseElement(t,n){var r;t.isGroup&&(r=n(t)),r||t.traverse(n)}function traverseElements(t,n){if(t)if(isArray$1(t))for(var r=0;r<t.length;r++)traverseElement(t[r],n);else traverseElement(t,n)}registerShape(`circle`,Circle_default),registerShape(`ellipse`,Ellipse_default),registerShape(`sector`,Sector_default),registerShape(`ring`,Ring_default),registerShape(`polygon`,Polygon_default),registerShape(`polyline`,Polyline_default$1),registerShape(`rect`,Rect_default),registerShape(`line`,Line_default$1),registerShape(`bezierCurve`,BezierCurve_default),registerShape(`arc`,Arc_default);var EMPTY_OBJ={};function setLabelText(t,n){for(var r=0;r<SPECIAL_STATES.length;r++){var a=SPECIAL_STATES[r],o=n[a],s=t.ensureState(a);s.style=s.style||{},s.style.text=o}var c=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:n.normal}),t.useStates(c,!0)}function getLabelText(t,n,r){var a=t.labelFetcher,o=t.labelDataIndex,s=t.labelDimIndex,c=n.normal,l;a&&(l=a.getFormattedLabel(o,`normal`,null,s,c&&c.get(`formatter`),r==null?null:{interpolatedValue:r})),l??=isFunction(t.defaultText)?t.defaultText(o,t,r):t.defaultText;for(var u={normal:l},d=0;d<SPECIAL_STATES.length;d++){var f=SPECIAL_STATES[d],p=n[f];u[f]=retrieve2(a?a.getFormattedLabel(o,f,null,s,p&&p.get(`formatter`)):null,l)}return u}function setLabelStyle(t,n,r,a){r||=EMPTY_OBJ;for(var o=t instanceof Text_default,s=!1,c=0;c<DISPLAY_STATES.length;c++){var l=n[DISPLAY_STATES[c]];if(l&&l.getShallow(`show`)){s=!0;break}}var u=o?t:t.getTextContent();if(s){o||(u||(u=new Text_default,t.setTextContent(u)),t.stateProxy&&(u.stateProxy=t.stateProxy));var d=getLabelText(r,n),f=n.normal,p=!!f.getShallow(`show`),g=createTextStyle$1(f,a&&a.normal,r,!1,!o);g.text=d.normal,o||t.setTextConfig(createTextConfig(f,r,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var _=SPECIAL_STATES[c],l=n[_];if(l){var v=u.ensureState(_),y=!!retrieve2(l.getShallow(`show`),p);if(y!==p&&(v.ignore=!y),v.style=createTextStyle$1(l,a&&a[_],r,!0,!o),v.style.text=d[_],!o){var b=t.ensureState(_);b.textConfig=createTextConfig(l,r,!0)}}}u.silent=!!f.getShallow(`silent`),u.style.x!=null&&(g.x=u.style.x),u.style.y!=null&&(g.y=u.style.y),u.ignore=!p,u.useStyle(g),u.dirty(),r.enableTextSetter&&(labelInner(u).setLabelText=function(t){var a=getLabelText(r,n,t);setLabelText(u,a)})}else u&&(u.ignore=!0);t.dirty()}function getLabelStatesModels(t,n){n||=`label`;for(var r={normal:t.getModel(n)},a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a];r[o]=t.getModel([o,n])}return r}function createTextStyle$1(t,n,r,a,o){var s={};return setTextStyleCommon(s,t,r,a,o),n&&extend(s,n),s}function createTextConfig(t,n,r){n||={};var a={},o,s=t.getShallow(`rotate`),c=retrieve2(t.getShallow(`distance`),r?null:5),l=t.getShallow(`offset`);return o=t.getShallow(`position`)||(r?null:`inside`),o===`outside`&&(o=n.defaultOutsidePosition||`top`),o!=null&&(a.position=o),l!=null&&(a.offset=l),s!=null&&(s*=Math.PI/180,a.rotation=s),c!=null&&(a.distance=c),a.outsideFill=t.get(`color`)===`inherit`?n.inheritColor||null:`auto`,a}function setTextStyleCommon(t,n,r,a,o){r||=EMPTY_OBJ;var s=n.ecModel,c=s&&s.option.textStyle,l=getRichItemNames(n),u;if(l){for(var d in u={},l)if(l.hasOwnProperty(d)){var f=n.getModel([`rich`,d]);setTokenTextStyle(u[d]={},f,c,r,a,o,!1,!0)}}u&&(t.rich=u);var p=n.get(`overflow`);p&&(t.overflow=p);var g=n.get(`minMargin`);g!=null&&(t.margin=g),setTokenTextStyle(t,n,c,r,a,o,!0,!1)}function getRichItemNames(t){for(var n;t&&t!==t.ecModel;){var r=(t.option||EMPTY_OBJ).rich;if(r){n||={};for(var a=keys(r),o=0;o<a.length;o++){var s=a[o];n[s]=1}}t=t.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=[`fontStyle`,`fontWeight`,`fontSize`,`fontFamily`,`textShadowColor`,`textShadowBlur`,`textShadowOffsetX`,`textShadowOffsetY`],TEXT_PROPS_SELF=[`align`,`lineHeight`,`width`,`height`,`tag`,`verticalAlign`,`ellipsis`],TEXT_PROPS_BOX=[`padding`,`borderWidth`,`borderRadius`,`borderDashOffset`,`backgroundColor`,`borderColor`,`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`];function setTokenTextStyle(t,n,r,a,o,s,c,l){r=!o&&r||EMPTY_OBJ;var u=a&&a.inheritColor,d=n.getShallow(`color`),f=n.getShallow(`textBorderColor`),p=retrieve2(n.getShallow(`opacity`),r.opacity);(d===`inherit`||d===`auto`)&&(d=u||null),(f===`inherit`||f===`auto`)&&(f=u||null),s||(d||=r.color,f||=r.textBorderColor),d!=null&&(t.fill=d),f!=null&&(t.stroke=f);var g=retrieve2(n.getShallow(`textBorderWidth`),r.textBorderWidth);g!=null&&(t.lineWidth=g);var _=retrieve2(n.getShallow(`textBorderType`),r.textBorderType);_!=null&&(t.lineDash=_);var v=retrieve2(n.getShallow(`textBorderDashOffset`),r.textBorderDashOffset);v!=null&&(t.lineDashOffset=v),!o&&p==null&&!l&&(p=a&&a.defaultOpacity),p!=null&&(t.opacity=p),!o&&!s&&t.fill==null&&a.inheritColor&&(t.fill=a.inheritColor);for(var y=0;y<TEXT_PROPS_WITH_GLOBAL.length;y++){var b=TEXT_PROPS_WITH_GLOBAL[y],x=retrieve2(n.getShallow(b),r[b]);x!=null&&(t[b]=x)}for(var y=0;y<TEXT_PROPS_SELF.length;y++){var b=TEXT_PROPS_SELF[y],x=n.getShallow(b);x!=null&&(t[b]=x)}if(t.verticalAlign==null){var S=n.getShallow(`baseline`);S!=null&&(t.verticalAlign=S)}if(!c||!a.disableBox){for(var y=0;y<TEXT_PROPS_BOX.length;y++){var b=TEXT_PROPS_BOX[y],x=n.getShallow(b);x!=null&&(t[b]=x)}var C=n.getShallow(`borderType`);C!=null&&(t.borderDash=C),(t.backgroundColor===`auto`||t.backgroundColor===`inherit`)&&u&&(t.backgroundColor=u),(t.borderColor===`auto`||t.borderColor===`inherit`)&&u&&(t.borderColor=u)}}function getFont(t,n){var r=n&&n.getModel(`textStyle`);return trim$1([t.fontStyle||r&&r.getShallow(`fontStyle`)||``,t.fontWeight||r&&r.getShallow(`fontWeight`)||``,(t.fontSize||r&&r.getShallow(`fontSize`)||12)+`px`,t.fontFamily||r&&r.getShallow(`fontFamily`)||`sans-serif`].join(` `))}var labelInner=makeInner();function setLabelValueAnimation(t,n,r,a){if(t){var o=labelInner(t);o.prevValue=o.value,o.value=r;var s=n.normal;o.valueAnimation=s.get(`valueAnimation`),o.valueAnimation&&(o.precision=s.get(`precision`),o.defaultInterpolatedText=a,o.statesModels=n)}}function animateLabelValue(t,n,r,a,o){var s=labelInner(t);if(!s.valueAnimation||s.prevValue===s.value)return;var c=s.defaultInterpolatedText,l=retrieve2(s.interpolatedValue,s.prevValue),u=s.value;function d(a){var d=interpolateRawValues(r,s.precision,l,u,a);s.interpolatedValue=a===1?null:d,setLabelText(t,getLabelText({labelDataIndex:n,labelFetcher:o,defaultText:c?c(d):d+``},s.statesModels,d))}t.percent=0,(s.prevValue==null?initProps:updateProps$1)(t,{percent:1},a,n,null,d)}var PATH_COLOR=[`textStyle`,`color`],textStyleParams=[`fontStyle`,`fontWeight`,`fontSize`,`fontFamily`,`padding`,`lineHeight`,`rich`,`width`,`height`,`overflow`],tmpText=new Text_default,textStyle_default=function(){function t(){}return t.prototype.getTextColor=function(t){var n=this.ecModel;return this.getShallow(`color`)||(!t&&n?n.get(PATH_COLOR):null)},t.prototype.getFont=function(){return getFont({fontStyle:this.getShallow(`fontStyle`),fontWeight:this.getShallow(`fontWeight`),fontSize:this.getShallow(`fontSize`),fontFamily:this.getShallow(`fontFamily`)},this.ecModel)},t.prototype.getTextRect=function(t){for(var n={text:t,verticalAlign:this.getShallow(`verticalAlign`)||this.getShallow(`baseline`)},r=0;r<textStyleParams.length;r++)n[textStyleParams[r]]=this.getShallow(textStyleParams[r]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},t}(),LINE_STYLE_KEY_MAP=[[`lineWidth`,`width`],[`stroke`,`color`],[`opacity`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`shadowColor`],[`lineDash`,`type`],[`lineDashOffset`,`dashOffset`],[`lineCap`,`cap`],[`lineJoin`,`join`],[`miterLimit`]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function t(){}return t.prototype.getLineStyle=function(t){return getLineStyle(this,t)},t}(),ITEM_STYLE_KEY_MAP=[[`fill`,`color`],[`stroke`,`borderColor`],[`lineWidth`,`borderWidth`],[`opacity`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`shadowColor`],[`lineDash`,`borderType`],[`lineDashOffset`,`borderDashOffset`],[`lineCap`,`borderCap`],[`lineJoin`,`borderJoin`],[`miterLimit`,`borderMiterLimit`]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function t(){}return t.prototype.getItemStyle=function(t,n){return getItemStyle(this,t,n)},t}(),Model=function(){function t(t,n,r){this.parentModel=n,this.ecModel=r,this.option=t}return t.prototype.init=function(t,n,r){},t.prototype.mergeOption=function(t,n){merge(this.option,t,!0)},t.prototype.get=function(t,n){return t==null?this.option:this._doGet(this.parsePath(t),!n&&this.parentModel)},t.prototype.getShallow=function(t,n){var r=this.option,a=r==null?r:r[t];if(a==null&&!n){var o=this.parentModel;o&&(a=o.getShallow(t))}return a},t.prototype.getModel=function(n,r){var a=n!=null,o=a?this.parsePath(n):null,s=a?this._doGet(o):this.option;return r||=this.parentModel&&this.parentModel.getModel(this.resolveParentPath(o)),new t(s,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var t=this.constructor;return new t(clone$4(this.option))},t.prototype.parsePath=function(t){return typeof t==`string`?t.split(`.`):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!env_default.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,n){var r=this.option;if(!t)return r;for(var a=0;a<t.length&&!(t[a]&&(r=r&&typeof r==`object`?r[t[a]]:null,r==null));a++);return r==null&&n&&(r=n._doGet(this.resolveParentPath(t),n.parentModel)),r},t}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,textStyle_default);var Model_default=Model,base=Math.round(Math.random()*10);function getUID(t){return[t||``,base++].join(`_`)}function enableSubTypeDefaulter(t){var n={};t.registerSubTypeDefaulter=function(t,r){var a=parseClassType(t);n[a.main]=r},t.determineSubType=function(r,a){var o=a.type;if(!o){var s=parseClassType(r).main;t.hasSubTypes(r)&&n[s]&&(o=n[s](a))}return o}}function enableTopologicalTravel(t,n){t.topologicalTravel=function(t,n,a,o){if(!t.length)return;var s=r(n),c=s.graph,l=s.noEntryList,u={};for(each$15(t,function(t){u[t]=!0});l.length;){var d=l.pop(),f=c[d],p=!!u[d];p&&(a.call(o,d,f.originalDeps.slice()),delete u[d]),each$15(f.successor,p?_:g)}each$15(u,function(){throw Error(``)});function g(t){c[t].entryCount--,c[t].entryCount===0&&l.push(t)}function _(t){u[t]=!0,g(t)}};function r(t){var r={},s=[];return each$15(t,function(c){var l=a(r,c),u=o(l.originalDeps=n(c),t);l.entryCount=u.length,l.entryCount===0&&s.push(c),each$15(u,function(t){indexOf(l.predecessor,t)<0&&l.predecessor.push(t);var n=a(r,t);indexOf(n.successor,t)<0&&n.successor.push(c)})}),{graph:r,noEntryList:s}}function a(t,n){return t[n]||(t[n]={predecessor:[],successor:[]}),t[n]}function o(t,n){var r=[];return each$15(t,function(t){indexOf(n,t)>=0&&r.push(t)}),r}}function inheritDefaultOption(t,n){return merge(merge({},t,!0),n,!0)}var langEN_default={time:{month:[`January`,`February`,`March`,`April`,`May`,`June`,`July`,`August`,`September`,`October`,`November`,`December`],monthAbbr:[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],dayOfWeek:[`Sunday`,`Monday`,`Tuesday`,`Wednesday`,`Thursday`,`Friday`,`Saturday`],dayOfWeekAbbr:[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`]},legend:{selector:{all:`All`,inverse:`Inv`}},toolbox:{brush:{title:{rect:`Box Select`,polygon:`Lasso Select`,lineX:`Horizontally Select`,lineY:`Vertically Select`,keep:`Keep Selections`,clear:`Clear Selections`}},dataView:{title:`Data View`,lang:[`Data View`,`Close`,`Refresh`]},dataZoom:{title:{zoom:`Zoom`,back:`Zoom Reset`}},magicType:{title:{line:`Switch to Line Chart`,bar:`Switch to Bar Chart`,stack:`Stack`,tiled:`Tile`}},restore:{title:`Restore`},saveAsImage:{title:`Save as Image`,lang:[`Right Click to Save Image`]}},series:{typeNames:{pie:`Pie chart`,bar:`Bar chart`,line:`Line chart`,scatter:`Scatter plot`,effectScatter:`Ripple scatter plot`,radar:`Radar chart`,tree:`Tree`,treemap:`Treemap`,boxplot:`Boxplot`,candlestick:`Candlestick`,k:`K line chart`,heatmap:`Heat map`,map:`Map`,parallel:`Parallel coordinate map`,lines:`Line graph`,graph:`Relationship graph`,sankey:`Sankey diagram`,funnel:`Funnel chart`,gauge:`Gauge`,pictorialBar:`Pictorial bar`,themeRiver:`Theme River Map`,sunburst:`Sunburst`,custom:`Custom chart`,chart:`Chart`}},aria:{general:{withTitle:`This is a chart about "{title}"`,withoutTitle:`This is a chart`},series:{single:{prefix:``,withName:` with type {seriesType} named {seriesName}.`,withoutName:` with type {seriesType}.`},multiple:{prefix:`. It consists of {seriesCount} series count.`,withName:` The {seriesId} series is a {seriesType} representing {seriesName}.`,withoutName:` The {seriesId} series is a {seriesType}.`,separator:{middle:``,end:``}}},data:{allData:`The data is as follows: `,partialData:`The first {displayCnt} items are: `,withName:`the data for {name} is {value}`,withoutName:`{value}`,separator:{middle:`, `,end:`. `}}}},langZH_default={time:{month:[``,``,``,``,``,``,``,``,``,``,``,``],monthAbbr:[`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`10`,`11`,`12`],dayOfWeek:[``,``,``,``,``,``,``],dayOfWeekAbbr:[``,``,``,``,``,``,``]},legend:{selector:{all:``,inverse:``}},toolbox:{brush:{title:{rect:``,polygon:``,lineX:``,lineY:``,keep:``,clear:``}},dataView:{title:``,lang:[``,``,``]},dataZoom:{title:{zoom:``,back:``}},magicType:{title:{line:``,bar:``,stack:``,tiled:``}},restore:{title:``},saveAsImage:{title:``,lang:[``]}},series:{typeNames:{pie:``,bar:``,line:``,scatter:``,effectScatter:``,radar:``,tree:``,treemap:``,boxplot:``,candlestick:`K`,k:`K`,heatmap:``,map:``,parallel:``,lines:``,graph:``,sankey:``,funnel:``,gauge:``,pictorialBar:``,themeRiver:``,sunburst:``,custom:``,chart:``}},aria:{general:{withTitle:`{title}`,withoutTitle:``},series:{single:{prefix:``,withName:`{seriesType}{seriesName}`,withoutName:`{seriesType}`},multiple:{prefix:`{seriesCount}`,withName:`{seriesId}{seriesName}{seriesType}`,withoutName:`{seriesId}{seriesType}`,separator:{middle:``,end:``}}},data:{allData:``,partialData:`{displayCnt}`,withName:`{name}{value}`,withoutName:`{value}`,separator:{middle:``,end:``}}}},LOCALE_ZH=`ZH`,LOCALE_EN=`EN`,DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env_default.domSupported?function(){return(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase().indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(t,n){t=t.toUpperCase(),localeModels[t]=new Model_default(n),localeStorage[t]=n}function createLocaleObject(t){if(isString(t)){var n=localeStorage[t.toUpperCase()]||{};return t===LOCALE_ZH||t===LOCALE_EN?clone$4(n):merge(clone$4(n),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(t),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(t){return localeModels[t]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN_default),registerLocale(LOCALE_ZH,langZH_default);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:`{yyyy}`,month:`{MMM}`,day:`{d}`,hour:`{HH}:{mm}`,minute:`{HH}:{mm}`,second:`{HH}:{mm}:{ss}`,millisecond:`{HH}:{mm}:{ss} {SSS}`,none:`{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}`},fullDayFormatter=`{yyyy}-{MM}-{dd}`,fullLeveledFormatter={year:`{yyyy}`,month:`{yyyy}-{MM}`,day:fullDayFormatter,hour:fullDayFormatter+` `+defaultLeveledFormatter.hour,minute:fullDayFormatter+` `+defaultLeveledFormatter.minute,second:fullDayFormatter+` `+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=[`year`,`month`,`day`,`hour`,`minute`,`second`,`millisecond`],timeUnits=[`year`,`half-year`,`quarter`,`month`,`week`,`half-week`,`day`,`half-day`,`quarter-day`,`hour`,`minute`,`second`,`millisecond`];function pad(t,n){return t+=``,`0000`.substr(0,n-t.length)+t}function getPrimaryTimeUnit(t){switch(t){case`half-year`:case`quarter`:return`month`;case`week`:case`half-week`:return`day`;case`half-day`:case`quarter-day`:return`hour`;default:return t}}function isPrimaryTimeUnit(t){return t===getPrimaryTimeUnit(t)}function getDefaultFormatPrecisionOfInterval(t){switch(t){case`year`:case`month`:return`day`;case`millisecond`:return`millisecond`;default:return`second`}}function format(t,n,r,a){var o=parseDate(t),s=o[fullYearGetterName(r)](),c=o[monthGetterName(r)]()+1,l=Math.floor((c-1)/3)+1,u=o[dateGetterName(r)](),d=o[`get`+(r?`UTC`:``)+`Day`](),f=o[hoursGetterName(r)](),p=(f-1)%12+1,g=o[minutesGetterName(r)](),_=o[secondsGetterName(r)](),v=o[millisecondsGetterName(r)](),y=f>=12?`pm`:`am`,b=y.toUpperCase(),x=(a instanceof Model_default?a:getLocaleModel(a||SYSTEM_LANG)||getDefaultLocaleModel()).getModel(`time`),S=x.get(`month`),C=x.get(`monthAbbr`),w=x.get(`dayOfWeek`),T=x.get(`dayOfWeekAbbr`);return(n||``).replace(/{a}/g,y+``).replace(/{A}/g,b+``).replace(/{yyyy}/g,s+``).replace(/{yy}/g,pad(s%100+``,2)).replace(/{Q}/g,l+``).replace(/{MMMM}/g,S[c-1]).replace(/{MMM}/g,C[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+``).replace(/{dd}/g,pad(u,2)).replace(/{d}/g,u+``).replace(/{eeee}/g,w[d]).replace(/{ee}/g,T[d]).replace(/{e}/g,d+``).replace(/{HH}/g,pad(f,2)).replace(/{H}/g,f+``).replace(/{hh}/g,pad(p+``,2)).replace(/{h}/g,p+``).replace(/{mm}/g,pad(g,2)).replace(/{m}/g,g+``).replace(/{ss}/g,pad(_,2)).replace(/{s}/g,_+``).replace(/{SSS}/g,pad(v,3)).replace(/{S}/g,v+``)}function leveledFormat(t,n,r,a,o){var s=null;if(isString(r))s=r;else if(isFunction(r))s=r(t.value,n,{level:t.level});else{var c=extend({},defaultLeveledFormatter);if(t.level>0)for(var l=0;l<primaryTimeUnits.length;++l)c[primaryTimeUnits[l]]=`{primary|`+c[primaryTimeUnits[l]]+`}`;var u=r?r.inherit===!1?r:defaults(r,c):c,d=getUnitFromValue(t.value,o);if(u[d])s=u[d];else if(u.inherit){for(var l=timeUnits.indexOf(d)-1;l>=0;--l)if(u[d]){s=u[d];break}s||=c.none}if(isArray$1(s)){var f=t.level==null?0:t.level>=0?t.level:s.length+t.level;f=Math.min(f,s.length-1),s=s[f]}}return format(new Date(t.value),s,o,a)}function getUnitFromValue(t,n){var r=parseDate(t),a=r[monthGetterName(n)]()+1,o=r[dateGetterName(n)](),s=r[hoursGetterName(n)](),c=r[minutesGetterName(n)](),l=r[secondsGetterName(n)](),u=r[millisecondsGetterName(n)]()===0,d=u&&l===0,f=d&&c===0,p=f&&s===0,g=p&&o===1;return g&&a===1?`year`:g?`month`:p?`day`:f?`hour`:d?`minute`:u?`second`:`millisecond`}function getUnitValue(t,n,r){var a=isNumber(t)?parseDate(t):t;switch(n||=getUnitFromValue(t,r),n){case`year`:return a[fullYearGetterName(r)]();case`half-year`:return a[monthGetterName(r)]()>=6?1:0;case`quarter`:return Math.floor((a[monthGetterName(r)]()+1)/4);case`month`:return a[monthGetterName(r)]();case`day`:return a[dateGetterName(r)]();case`half-day`:return a[hoursGetterName(r)]()/24;case`hour`:return a[hoursGetterName(r)]();case`minute`:return a[minutesGetterName(r)]();case`second`:return a[secondsGetterName(r)]();case`millisecond`:return a[millisecondsGetterName(r)]()}}function fullYearGetterName(t){return t?`getUTCFullYear`:`getFullYear`}function monthGetterName(t){return t?`getUTCMonth`:`getMonth`}function dateGetterName(t){return t?`getUTCDate`:`getDate`}function hoursGetterName(t){return t?`getUTCHours`:`getHours`}function minutesGetterName(t){return t?`getUTCMinutes`:`getMinutes`}function secondsGetterName(t){return t?`getUTCSeconds`:`getSeconds`}function millisecondsGetterName(t){return t?`getUTCMilliseconds`:`getMilliseconds`}function fullYearSetterName(t){return t?`setUTCFullYear`:`setFullYear`}function monthSetterName(t){return t?`setUTCMonth`:`setMonth`}function dateSetterName(t){return t?`setUTCDate`:`setDate`}function hoursSetterName(t){return t?`setUTCHours`:`setHours`}function minutesSetterName(t){return t?`setUTCMinutes`:`setMinutes`}function secondsSetterName(t){return t?`setUTCSeconds`:`setSeconds`}function millisecondsSetterName(t){return t?`setUTCMilliseconds`:`setMilliseconds`}function addCommas(t){if(!isNumeric(t))return isString(t)?t:`-`;var n=(t+``).split(`.`);return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,`$1,`)+(n.length>1?`.`+n[1]:``)}function toCamelCase(t,n){return t=(t||``).toLowerCase().replace(/-(.)/g,function(t,n){return n.toUpperCase()}),n&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(t,n,r){var a=`{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}`;function o(t){return t&&trim$1(t)?t:`-`}function s(t){return!!(t!=null&&!isNaN(t)&&isFinite(t))}var c=n===`time`,l=t instanceof Date;if(c||l){var u=c?parseDate(t):t;if(isNaN(+u)){if(l)return`-`}else return format(u,a,r)}if(n===`ordinal`)return isStringSafe(t)?o(t):isNumber(t)&&s(t)?t+``:`-`;var d=numericToNumber(t);return s(d)?addCommas(d):isStringSafe(t)?o(t):typeof t==`boolean`?t+``:`-`}var TPL_VAR_ALIAS=[`a`,`b`,`c`,`d`,`e`,`f`,`g`],wrapVar=function(t,n){return`{`+t+(n??``)+`}`};function formatTpl(t,n,r){isArray$1(n)||(n=[n]);var a=n.length;if(!a)return``;for(var o=n[0].$vars||[],s=0;s<o.length;s++){var c=TPL_VAR_ALIAS[s];t=t.replace(wrapVar(c),wrapVar(c,0))}for(var l=0;l<a;l++)for(var u=0;u<o.length;u++){var d=n[l][o[u]];t=t.replace(wrapVar(TPL_VAR_ALIAS[u],l),r?encodeHTML(d):d)}return t}function formatTplSimple(t,n,r){return each$15(n,function(n,a){t=t.replace(`{`+a+`}`,r?encodeHTML(n):n)}),t}function getTooltipMarker(t,n){var r=isString(t)?{color:t,extraCssText:n}:t||{},a=r.color,o=r.type;n=r.extraCssText;var s=r.renderMode||`html`;return a?s===`html`?o===`subItem`?`<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:`+encodeHTML(a)+`;`+(n||``)+`"></span>`:`<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:`+encodeHTML(a)+`;`+(n||``)+`"></span>`:{renderMode:s,content:`{`+(r.markerId||`markerX`)+`|}  `,style:o===`subItem`?{width:4,height:4,borderRadius:2,backgroundColor:a}:{width:10,height:10,borderRadius:5,backgroundColor:a}}:``}function capitalFirst(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)}function convertToColorString(t,n){return n||=`transparent`,isString(t)?t:isObject$3(t)&&t.colorStops&&(t.colorStops[0]||{}).color||n}function windowOpen(t,n){if(n===`_blank`||n===`blank`){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,n)}var each$14=each$15,LOCATION_PARAMS=[`left`,`right`,`top`,`bottom`,`width`,`height`],HV_NAMES=[[`width`,`left`,`right`],[`height`,`top`,`bottom`]];function boxLayout(t,n,r,a,o){var s=0,c=0;a??=1/0,o??=1/0;var l=0;n.eachChild(function(u,d){var f=u.getBoundingRect(),p=n.childAt(d+1),g=p&&p.getBoundingRect(),_,v;if(t===`horizontal`){var y=f.width+(g?-g.x+f.x:0);_=s+y,_>a||u.newline?(s=0,_=y,c+=l+r,l=f.height):l=Math.max(l,f.height)}else{var b=f.height+(g?-g.y+f.y:0);v=c+b,v>o||u.newline?(s+=l+r,c=0,v=b,l=f.width):l=Math.max(l,f.width)}u.newline||(u.x=s,u.y=c,u.markRedraw(),t===`horizontal`?s=_+r:c=v+r)})}var box=boxLayout;curry$1(boxLayout,`vertical`),curry$1(boxLayout,`horizontal`);function getAvailableSize(t,n,r){var a=n.width,o=n.height,s=parsePercent(t.left,a),c=parsePercent(t.top,o),l=parsePercent(t.right,a),u=parsePercent(t.bottom,o);return(isNaN(s)||isNaN(parseFloat(t.left)))&&(s=0),(isNaN(l)||isNaN(parseFloat(t.right)))&&(l=a),(isNaN(c)||isNaN(parseFloat(t.top)))&&(c=0),(isNaN(u)||isNaN(parseFloat(t.bottom)))&&(u=o),r=normalizeCssArray(r||0),{width:Math.max(l-s-r[1]-r[3],0),height:Math.max(u-c-r[0]-r[2],0)}}function getLayoutRect(t,n,r){r=normalizeCssArray(r||0);var a=n.width,o=n.height,s=parsePercent(t.left,a),c=parsePercent(t.top,o),l=parsePercent(t.right,a),u=parsePercent(t.bottom,o),d=parsePercent(t.width,a),f=parsePercent(t.height,o),p=r[2]+r[0],g=r[1]+r[3],_=t.aspect;switch(isNaN(d)&&(d=a-l-g-s),isNaN(f)&&(f=o-u-p-c),_!=null&&(isNaN(d)&&isNaN(f)&&(_>a/o?d=a*.8:f=o*.8),isNaN(d)&&(d=_*f),isNaN(f)&&(f=d/_)),isNaN(s)&&(s=a-l-d-g),isNaN(c)&&(c=o-u-f-p),t.left||t.right){case`center`:s=a/2-d/2-r[3];break;case`right`:s=a-d-g;break}switch(t.top||t.bottom){case`middle`:case`center`:c=o/2-f/2-r[0];break;case`bottom`:c=o-f-p;break}s||=0,c||=0,isNaN(d)&&(d=a-g-s-(l||0)),isNaN(f)&&(f=o-p-c-(u||0));var v=new BoundingRect_default(s+r[3],c+r[0],d,f);return v.margin=r,v}function positionElement(t,n,r,a,o,s){var c=!o||!o.hv||o.hv[0],l=!o||!o.hv||o.hv[1],u=o&&o.boundingMode||`all`;if(s||=t,s.x=t.x,s.y=t.y,!c&&!l)return!1;var d;if(u===`raw`)d=t.type===`group`?new BoundingRect_default(0,0,+n.width||0,+n.height||0):t.getBoundingRect();else if(d=t.getBoundingRect(),t.needLocalTransform()){var f=t.getLocalTransform();d=d.clone(),d.applyTransform(f)}var p=getLayoutRect(defaults({width:d.width,height:d.height},n),r,a),g=c?p.x-d.x:0,_=l?p.y-d.y:0;return u===`raw`?(s.x=g,s.y=_):(s.x+=g,s.y+=_),s===t&&t.markRedraw(),!0}function sizeCalculable(t,n){return t[HV_NAMES[n][0]]!=null||t[HV_NAMES[n][1]]!=null&&t[HV_NAMES[n][2]]!=null}function fetchLayoutMode(t){var n=t.layoutMode||t.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(t,n,r){var a=r&&r.ignoreSize;!isArray$1(a)&&(a=[a,a]);var o=c(HV_NAMES[0],0),s=c(HV_NAMES[1],1);d(HV_NAMES[0],t,o),d(HV_NAMES[1],t,s);function c(r,o){var s={},c=0,d={},f=0,p=2;if(each$14(r,function(n){d[n]=t[n]}),each$14(r,function(t){l(n,t)&&(s[t]=d[t]=n[t]),u(s,t)&&c++,u(d,t)&&f++}),a[o])return u(n,r[1])?d[r[2]]=null:u(n,r[2])&&(d[r[1]]=null),d;if(f===p||!c)return d;if(c>=p)return s;for(var g=0;g<r.length;g++){var _=r[g];if(!l(s,_)&&l(t,_)){s[_]=t[_];break}}return s}function l(t,n){return t.hasOwnProperty(n)}function u(t,n){return t[n]!=null&&t[n]!==`auto`}function d(t,n,r){each$14(t,function(t){n[t]=r[t]})}}function getLayoutParams(t){return copyLayoutParams({},t)}function copyLayoutParams(t,n){return n&&t&&each$14(LOCATION_PARAMS,function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t}var inner$21=makeInner(),ComponentModel=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this,n,r,a)||this;return o.uid=getUID(`ec_cpt_model`),o}return n.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r)},n.prototype.mergeDefaultAndTheme=function(t,n){var r=fetchLayoutMode(this),a=r?getLayoutParams(t):{};merge(t,n.getTheme().get(this.mainType)),merge(t,this.getDefaultOption()),r&&mergeLayoutParam(t,a,r)},n.prototype.mergeOption=function(t,n){merge(this.option,t,!0);var r=fetchLayoutMode(this);r&&mergeLayoutParam(this.option,t,r)},n.prototype.optionUpdated=function(t,n){},n.prototype.getDefaultOption=function(){var t=this.constructor;if(!isExtendedClass(t))return t.defaultOption;var n=inner$21(this);if(!n.defaultOption){for(var r=[],a=t;a;){var o=a.prototype.defaultOption;o&&r.push(o),a=a.superClass}for(var s={},c=r.length-1;c>=0;c--)s=merge(s,r[c],!0);n.defaultOption=s}return n.defaultOption},n.prototype.getReferringComponents=function(t,n){var r=t+`Index`,a=t+`Id`;return queryReferringComponents(this.ecModel,t,{index:this.get(r,!0),id:this.get(a,!0)},n)},n.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get(`left`),top:t.get(`top`),right:t.get(`right`),bottom:t.get(`bottom`),width:t.get(`width`),height:t.get(`height`)}},n.prototype.getZLevelKey=function(){return``},n.prototype.setZLevel=function(t){this.option.zlevel=t},n.protoInitialize=function(){var t=n.prototype;t.type=`component`,t.id=``,t.name=``,t.mainType=``,t.subType=``,t.componentIndex=0}(),n}(Model_default);mountExtend(ComponentModel,Model_default),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(t){var n=[];return each$15(ComponentModel.getClassesByMainType(t),function(t){n=n.concat(t.dependencies||t.prototype.dependencies||[])}),n=map$1(n,function(t){return parseClassType(t).main}),t!==`dataset`&&indexOf(n,`dataset`)<=0&&n.unshift(`dataset`),n}var Component_default$1=ComponentModel,platform=``;typeof navigator<`u`&&(platform=navigator.platform||``);var decalColor=`rgba(0, 0, 0, 0.2)`,globalDefault_default={darkMode:`auto`,colorBy:`series`,color:[`#5470c6`,`#91cc75`,`#fac858`,`#ee6666`,`#73c0de`,`#3ba272`,`#fc8452`,`#9a60b4`,`#ea7ccc`],gradientColor:[`#f6efa6`,`#d88273`,`#bf444c`],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:`circle`,dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:`triangle`,dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?`Microsoft YaHei`:`sans-serif`,fontSize:12,fontStyle:`normal`,fontWeight:`normal`},blendMode:null,stateAnimation:{duration:300,easing:`cubicOut`},animation:`auto`,animationDuration:1e3,animationDurationUpdate:500,animationEasing:`cubicInOut`,animationEasingUpdate:`cubicInOut`,animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},VISUAL_DIMENSIONS=createHashMap([`tooltip`,`label`,`itemName`,`itemId`,`itemGroupId`,`itemChildGroupId`,`seriesName`]),SOURCE_FORMAT_ORIGINAL=`original`,SOURCE_FORMAT_ARRAY_ROWS=`arrayRows`,SOURCE_FORMAT_OBJECT_ROWS=`objectRows`,SOURCE_FORMAT_KEYED_COLUMNS=`keyedColumns`,SOURCE_FORMAT_TYPED_ARRAY=`typedArray`,SOURCE_FORMAT_UNKNOWN=`unknown`,SERIES_LAYOUT_BY_COLUMN=`column`,BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(t){innerGlobalModel(t).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(t,n,r){var a={},o=querySeriesUpstreamDatasetModel(n);if(!o||!t)return a;var s=[],c=[],l=n.ecModel,u=innerGlobalModel(l).datasetMap,d=o.uid+`_`+r.seriesLayoutBy,f,p;t=t.slice(),each$15(t,function(n,r){var o=isObject$3(n)?n:t[r]={name:n};o.type===`ordinal`&&f==null&&(f=r,p=v(o)),a[o.name]=[]});var g=u.get(d)||u.set(d,{categoryWayDim:p,valueWayDim:0});each$15(t,function(t,n){var r=t.name,o=v(t);if(f==null){var l=g.valueWayDim;_(a[r],l,o),_(c,l,o),g.valueWayDim+=o}else if(f===n)_(a[r],0,o),_(s,0,o);else{var l=g.categoryWayDim;_(a[r],l,o),_(c,l,o),g.categoryWayDim+=o}});function _(t,n,r){for(var a=0;a<r;a++)t.push(n+a)}function v(t){var n=t.dimsDef;return n?n.length:1}return s.length&&(a.itemName=s),c.length&&(a.seriesName=c),a}function makeSeriesEncodeForNameBased(t,n,r){var a={};if(!querySeriesUpstreamDatasetModel(t))return a;var o=n.sourceFormat,s=n.dimensionsDefine,c;(o===`objectRows`||o===`keyedColumns`)&&each$15(s,function(t,n){(isObject$3(t)?t.name:t)===`name`&&(c=n)});var l=function(){for(var t={},a={},l=[],u=0,d=Math.min(5,r);u<d;u++){var f=doGuessOrdinal(n.data,o,n.seriesLayoutBy,s,n.startIndex,u);l.push(f);var p=f===BE_ORDINAL.Not;if(p&&t.v==null&&u!==c&&(t.v=u),(t.n==null||t.n===t.v||!p&&l[t.n]===BE_ORDINAL.Not)&&(t.n=u),g(t)&&l[t.n]!==BE_ORDINAL.Not)return t;p||(f===BE_ORDINAL.Might&&a.v==null&&u!==c&&(a.v=u),(a.n==null||a.n===a.v)&&(a.n=u))}function g(t){return t.v!=null&&t.n!=null}return g(t)?t:g(a)?a:null}();if(l){a.value=[l.v];var u=c??l.n;a.itemName=[u],a.seriesName=[u]}return a}function querySeriesUpstreamDatasetModel(t){if(!t.get(`data`,!0))return queryReferringComponents(t.ecModel,`dataset`,{index:t.get(`datasetIndex`,!0),id:t.get(`datasetId`,!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(t){return!t.get(`transform`,!0)&&!t.get(`fromTransformResult`,!0)?[]:queryReferringComponents(t.ecModel,`dataset`,{index:t.get(`fromDatasetIndex`,!0),id:t.get(`fromDatasetId`,!0)},SINGLE_REFERRING).models}function guessOrdinal(t,n){return doGuessOrdinal(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,n)}function doGuessOrdinal(t,n,r,a,o,s){var c,l=5;if(isTypedArray(t))return BE_ORDINAL.Not;var u,d;if(a){var f=a[s];isObject$3(f)?(u=f.name,d=f.type):isString(f)&&(u=f)}if(d!=null)return d===`ordinal`?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===`arrayRows`){var p=t;if(r===`row`){for(var g=p[s],_=0;_<(g||[]).length&&_<l;_++)if((c=w(g[o+_]))!=null)return c}else for(var _=0;_<p.length&&_<l;_++){var v=p[o+_];if(v&&(c=w(v[s]))!=null)return c}}else if(n===`objectRows`){var y=t;if(!u)return BE_ORDINAL.Not;for(var _=0;_<y.length&&_<l;_++){var b=y[_];if(b&&(c=w(b[u]))!=null)return c}}else if(n===`keyedColumns`){var x=t;if(!u)return BE_ORDINAL.Not;var g=x[u];if(!g||isTypedArray(g))return BE_ORDINAL.Not;for(var _=0;_<g.length&&_<l;_++)if((c=w(g[_]))!=null)return c}else if(n===`original`)for(var S=t,_=0;_<S.length&&_<l;_++){var b=S[_],C=getDataItemValue(b);if(!isArray$1(C))return BE_ORDINAL.Not;if((c=w(C[s]))!=null)return c}function w(t){var n=isString(t);if(t!=null&&Number.isFinite(Number(t))&&t!==``)return n?BE_ORDINAL.Might:BE_ORDINAL.Not;if(n&&t!==`-`)return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(t,n){assert(internalOptionCreatorMap.get(t)==null&&n),internalOptionCreatorMap.set(t,n)}function concatInternalOptions(t,n,r){var a=internalOptionCreatorMap.get(n);if(!a)return r;var o=a(t);return o?r.concat(o):r}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function t(){}return t.prototype.getColorFromPalette=function(t,n,r){var a=normalizeToArray(this.get(`color`,!0)),o=this.get(`colorLayer`,!0);return getFromPalette(this,innerColor,a,o,t,n,r)},t.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},t}();function getDecalFromPalette(t,n,r,a){return getFromPalette(t,innerDecal,normalizeToArray(t.get([`aria`,`decal`,`decals`])),null,n,r,a)}function getNearestPalette(t,n){for(var r=t.length,a=0;a<r;a++)if(t[a].length>n)return t[a];return t[r-1]}function getFromPalette(t,n,r,a,o,s,c){s||=t;var l=n(s),u=l.paletteIdx||0,d=l.paletteNameMap=l.paletteNameMap||{};if(d.hasOwnProperty(o))return d[o];var f=c==null||!a?r:getNearestPalette(a,c);if(f||=r,!(!f||!f.length)){var p=f[u];return o&&(d[o]=p),l.paletteIdx=(u+1)%f.length,p}}function clearPalette(t,n){n(t).paletteIdx=0,n(t).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY=`\0_ec_inner`,OPTION_INNER_VALUE=1,GlobalModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(t,n,r,a,o,s){a||={},this.option=null,this._theme=new Model_default(a),this._locale=new Model_default(o),this._optionManager=s},n.prototype.setOption=function(t,n,r){var a=normalizeSetOptionInput(n);this._optionManager.setOption(t,r,a),this._resetOption(null,a)},n.prototype.resetOption=function(t,n){return this._resetOption(t,normalizeSetOptionInput(n))},n.prototype._resetOption=function(t,n){var r=!1,a=this._optionManager;if(!t||t===`recreate`){var o=a.mountOption(t===`recreate`);!this.option||t===`recreate`?initBase(this,o):(this.restoreData(),this._mergeOption(o,n)),r=!0}if((t===`timeline`||t===`media`)&&this.restoreData(),!t||t===`recreate`||t===`timeline`){var s=a.getTimelineOption(this);s&&(r=!0,this._mergeOption(s,n))}if(!t||t===`recreate`||t===`media`){var c=a.getMediaOption(this);c.length&&each$15(c,function(t){r=!0,this._mergeOption(t,n)},this)}return r},n.prototype.mergeOption=function(t){this._mergeOption(t,null)},n.prototype._mergeOption=function(t,n){var r=this.option,a=this._componentsMap,o=this._componentsCount,s=[],c=createHashMap(),l=n&&n.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$15(t,function(t,n){t!=null&&(Component_default$1.hasClass(n)?n&&(s.push(n),c.set(n,!0)):r[n]=r[n]==null?clone$4(t):merge(r[n],t,!0))}),l&&l.each(function(t,n){Component_default$1.hasClass(n)&&!c.get(n)&&(s.push(n),c.set(n,!0))}),Component_default$1.topologicalTravel(s,Component_default$1.getAllClassMainTypes(),u,this);function u(n){var s=concatInternalOptions(this,n,normalizeToArray(t[n])),c=a.get(n),u=mappingToExists(c,s,c?l&&l.get(n)?`replaceMerge`:`normalMerge`:`replaceAll`);setComponentTypeToKeyInfo(u,n,Component_default$1),r[n]=null,a.set(n,null),o.set(n,0);var d=[],f=[],p=0,g;each$15(u,function(t,r){var a=t.existing,o=t.newOption;if(!o)a&&(a.mergeOption({},this),a.optionUpdated({},!1));else{var s=n===`series`,c=Component_default$1.getClass(n,t.keyInfo.subType,!s);if(!c)return;if(n===`tooltip`){if(g)return;g=!0}if(a&&a.constructor===c)a.name=t.keyInfo.name,a.mergeOption(o,this),a.optionUpdated(o,!1);else{var l=extend({componentIndex:r},t.keyInfo);a=new c(o,this,this,l),extend(a,l),t.brandNew&&(a.__requireNewView=!0),a.init(o,this,this),a.optionUpdated(null,!0)}}a?(d.push(a.option),f.push(a),p++):(d.push(void 0),f.push(void 0))},this),r[n]=d,a.set(n,f),o.set(n,p),n===`series`&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var t=clone$4(this.option);return each$15(t,function(n,r){if(Component_default$1.hasClass(r)){for(var a=normalizeToArray(n),o=a.length,s=!1,c=o-1;c>=0;c--)a[c]&&!isComponentIdInternal(a[c])?s=!0:(a[c]=null,!s&&o--);a.length=o,t[r]=a}}),delete t[OPTION_INNER_KEY],t},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(t){this._payload=t},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(t,n){var r=this._componentsMap.get(t);if(r){var a=r[n||0];if(a)return a;if(n==null){for(var o=0;o<r.length;o++)if(r[o])return r[o]}}},n.prototype.queryComponents=function(t){var n=t.mainType;if(!n)return[];var r=t.index,a=t.id,o=t.name,s=this._componentsMap.get(n);if(!s||!s.length)return[];var c;return r==null?c=a==null?o==null?filter(s,function(t){return!!t}):queryByIdOrName(`name`,o,s):queryByIdOrName(`id`,a,s):(c=[],each$15(normalizeToArray(r),function(t){s[t]&&c.push(s[t])})),filterBySubType(c,t)},n.prototype.findComponents=function(t){var n=t.query,r=t.mainType,a=o(n);return s(filterBySubType(a?this.queryComponents(a):filter(this._componentsMap.get(r),function(t){return!!t}),t));function o(t){var n=r+`Index`,a=r+`Id`,o=r+`Name`;return t&&(t[n]!=null||t[a]!=null||t[o]!=null)?{mainType:r,index:t[n],id:t[a],name:t[o]}:null}function s(n){return t.filter?filter(n,t.filter):n}},n.prototype.eachComponent=function(t,n,r){var a=this._componentsMap;if(isFunction(t)){var o=n,s=t;a.each(function(t,n){for(var r=0;t&&r<t.length;r++){var a=t[r];a&&s.call(o,n,a,a.componentIndex)}})}else for(var c=isString(t)?a.get(t):isObject$3(t)?this.findComponents(t):null,l=0;c&&l<c.length;l++){var u=c[l];u&&n.call(r,u,u.componentIndex)}},n.prototype.getSeriesByName=function(t){var n=convertOptionIdName(t,null);return filter(this._componentsMap.get(`series`),function(t){return!!t&&n!=null&&t.name===n})},n.prototype.getSeriesByIndex=function(t){return this._componentsMap.get(`series`)[t]},n.prototype.getSeriesByType=function(t){return filter(this._componentsMap.get(`series`),function(n){return!!n&&n.subType===t})},n.prototype.getSeries=function(){return filter(this._componentsMap.get(`series`),function(t){return!!t})},n.prototype.getSeriesCount=function(){return this._componentsCount.get(`series`)},n.prototype.eachSeries=function(t,n){assertSeriesInitialized(this),each$15(this._seriesIndices,function(r){var a=this._componentsMap.get(`series`)[r];t.call(n,a,r)},this)},n.prototype.eachRawSeries=function(t,n){each$15(this._componentsMap.get(`series`),function(r){r&&t.call(n,r,r.componentIndex)})},n.prototype.eachSeriesByType=function(t,n,r){assertSeriesInitialized(this),each$15(this._seriesIndices,function(a){var o=this._componentsMap.get(`series`)[a];o.subType===t&&n.call(r,o,a)},this)},n.prototype.eachRawSeriesByType=function(t,n,r){return each$15(this.getSeriesByType(t),n,r)},n.prototype.isSeriesFiltered=function(t){return assertSeriesInitialized(this),this._seriesIndicesMap.get(t.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(t,n){assertSeriesInitialized(this);var r=[];each$15(this._seriesIndices,function(a){var o=this._componentsMap.get(`series`)[a];t.call(n,o,a)&&r.push(a)},this),this._seriesIndices=r,this._seriesIndicesMap=createHashMap(r)},n.prototype.restoreData=function(t){reCreateSeriesIndices(this);var n=this._componentsMap,r=[];n.each(function(t,n){Component_default$1.hasClass(n)&&r.push(n)}),Component_default$1.topologicalTravel(r,Component_default$1.getAllClassMainTypes(),function(r){each$15(n.get(r),function(n){n&&(r!==`series`||!isNotTargetSeries(n,t))&&n.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(t){var n=t._seriesIndices=[];each$15(t._componentsMap.get(`series`),function(t){t&&n.push(t.componentIndex)}),t._seriesIndicesMap=createHashMap(n)},assertSeriesInitialized=function(t){},initBase=function(t,n){t.option={},t.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,t._componentsMap=createHashMap({series:[]}),t._componentsCount=createHashMap();var r=n.aria;isObject$3(r)&&r.enabled==null&&(r.enabled=!0),mergeTheme(n,t._theme.option),merge(n,globalDefault_default,!1),t._mergeOption(n,null)}}(),n}(Model_default);function isNotTargetSeries(t,n){if(n){var r=n.seriesIndex,a=n.seriesId,o=n.seriesName;return r!=null&&t.componentIndex!==r||a!=null&&t.id!==a||o!=null&&t.name!==o}}function mergeTheme(t,n){var r=t.color&&!t.colorLayer;each$15(n,function(n,a){a===`colorLayer`&&r||Component_default$1.hasClass(a)||(typeof n==`object`?t[a]=t[a]?merge(t[a],n,!1):clone$4(n):t[a]??(t[a]=n))})}function queryByIdOrName(t,n,r){if(isArray$1(n)){var a=createHashMap();return each$15(n,function(t){t!=null&&convertOptionIdName(t,null)!=null&&a.set(t,!0)}),filter(r,function(n){return n&&a.get(n[t])})}else{var o=convertOptionIdName(n,null);return filter(r,function(n){return n&&o!=null&&n[t]===o})}}function filterBySubType(t,n){return n.hasOwnProperty(`subType`)?filter(t,function(t){return t&&t.subType===n.subType}):t}function normalizeSetOptionInput(t){var n=createHashMap();return t&&each$15(normalizeToArray(t.replaceMerge),function(t){n.set(t,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);var Global_default=GlobalModel,availableMethods=[`getDom`,`getZr`,`getWidth`,`getHeight`,`getDevicePixelRatio`,`dispatchAction`,`isSSR`,`isDisposed`,`on`,`off`,`getDataURL`,`getConnectedDataURL`,`getOption`,`getId`,`updateLabelLayout`],ExtensionAPI_default=function(){function t(t){each$15(availableMethods,function(n){this[n]=bind$1(t[n],t)},this)}return t}(),coordinateSystemCreators={},CoordinateSystem_default=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,n){var r=[];each$15(coordinateSystemCreators,function(a,o){var s=a.create(t,n);r=r.concat(s||[])}),this._coordinateSystems=r},t.prototype.update=function(t,n){each$15(this._coordinateSystems,function(r){r.update&&r.update(t,n)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,n){coordinateSystemCreators[t]=n},t.get=function(t){return coordinateSystemCreators[t]},t}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,n,r){t&&(each$15(normalizeToArray(t.series),function(t){t&&t.data&&isTypedArray(t.data)&&setAsPrimitive(t.data)}),each$15(normalizeToArray(t.dataset),function(t){t&&t.source&&isTypedArray(t.source)&&setAsPrimitive(t.source)})),t=clone$4(t);var a=this._optionBackup,o=parseRawOption(t,n,!a);this._newBaseOption=o.baseOption,a?(o.timelineOptions.length&&(a.timelineOptions=o.timelineOptions),o.mediaList.length&&(a.mediaList=o.mediaList),o.mediaDefault&&(a.mediaDefault=o.mediaDefault)):this._optionBackup=o},t.prototype.mountOption=function(t){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$4(t?n.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var n,r=this._timelineOptions;if(r.length){var a=t.getComponent(`timeline`);a&&(n=clone$4(r[a.getCurrentIndex()]))}return n},t.prototype.getMediaOption=function(t){var n=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,o=this._mediaDefault,s=[],c=[];if(!a.length&&!o)return c;for(var l=0,u=a.length;l<u;l++)applyMediaQuery(a[l].query,n,r)&&s.push(l);return!s.length&&o&&(s=[-1]),s.length&&!indicesEquals(s,this._currentMediaIndices)&&(c=map$1(s,function(t){return clone$4(t===-1?o.option:a[t].option)})),this._currentMediaIndices=s,c},t}();function parseRawOption(t,n,r){var a=[],o,s,c=t.baseOption,l=t.timeline,u=t.options,d=t.media,f=!!t.media,p=!!(u||l||c&&c.timeline);c?(s=c,s.timeline||=l):((p||f)&&(t.options=t.media=null),s=t),f&&isArray$1(d)&&each$15(d,function(t){t&&t.option&&(t.query?a.push(t):o||=t)}),g(s),each$15(u,function(t){return g(t)}),each$15(a,function(t){return g(t.option)});function g(t){each$15(n,function(n){n(t,r)})}return{baseOption:s,timelineOptions:u||[],mediaDefault:o,mediaList:a}}function applyMediaQuery(t,n,r){var a={width:n,height:r,aspectratio:n/r},o=!0;return each$15(t,function(t,n){var r=n.match(QUERY_REG);if(!(!r||!r[1]||!r[2])){var s=r[1];compare(a[r[2].toLowerCase()],t,s)||(o=!1)}}),o}function compare(t,n,r){return r===`min`?t>=n:r===`max`?t<=n:t===n}function indicesEquals(t,n){return t.join(`,`)===n.join(`,`)}var OptionManager_default=OptionManager,each$13=each$15,isObject$2=isObject$3,POSSIBLE_STYLES=[`areaStyle`,`lineStyle`,`nodeStyle`,`linkStyle`,`chordStyle`,`label`,`labelLine`];function compatEC2ItemStyle(t){var n=t&&t.itemStyle;if(n)for(var r=0,a=POSSIBLE_STYLES.length;r<a;r++){var o=POSSIBLE_STYLES[r],s=n.normal,c=n.emphasis;s&&s[o]&&(t[o]=t[o]||{},t[o].normal?merge(t[o].normal,s[o]):t[o].normal=s[o],s[o]=null),c&&c[o]&&(t[o]=t[o]||{},t[o].emphasis?merge(t[o].emphasis,c[o]):t[o].emphasis=c[o],c[o]=null)}}function convertNormalEmphasis(t,n,r){if(t&&t[n]&&(t[n].normal||t[n].emphasis)){var a=t[n].normal,o=t[n].emphasis;a&&(r?(t[n].normal=t[n].emphasis=null,defaults(t[n],a)):t[n]=a),o&&(t.emphasis=t.emphasis||{},t.emphasis[n]=o,o.focus&&(t.emphasis.focus=o.focus),o.blurScope&&(t.emphasis.blurScope=o.blurScope))}}function removeEC3NormalStatus(t){convertNormalEmphasis(t,`itemStyle`),convertNormalEmphasis(t,`lineStyle`),convertNormalEmphasis(t,`areaStyle`),convertNormalEmphasis(t,`label`),convertNormalEmphasis(t,`labelLine`),convertNormalEmphasis(t,`upperLabel`),convertNormalEmphasis(t,`edgeLabel`)}function compatTextStyle(t,n){var r=isObject$2(t)&&t[n],a=isObject$2(r)&&r.textStyle;if(a)for(var o=0,s=TEXT_STYLE_OPTIONS.length;o<s;o++){var c=TEXT_STYLE_OPTIONS[o];a.hasOwnProperty(c)&&(r[c]=a[c])}}function compatEC3CommonStyles(t){t&&(removeEC3NormalStatus(t),compatTextStyle(t,`label`),t.emphasis&&compatTextStyle(t.emphasis,`label`))}function processSeries(t){if(isObject$2(t)){compatEC2ItemStyle(t),removeEC3NormalStatus(t),compatTextStyle(t,`label`),compatTextStyle(t,`upperLabel`),compatTextStyle(t,`edgeLabel`),t.emphasis&&(compatTextStyle(t.emphasis,`label`),compatTextStyle(t.emphasis,`upperLabel`),compatTextStyle(t.emphasis,`edgeLabel`));var n=t.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var r=t.markLine;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var a=t.markArea;a&&compatEC3CommonStyles(a);var o=t.data;if(t.type===`graph`){o||=t.nodes;var s=t.links||t.edges;if(s&&!isTypedArray(s))for(var c=0;c<s.length;c++)compatEC3CommonStyles(s[c]);each$15(t.categories,function(t){removeEC3NormalStatus(t)})}if(o&&!isTypedArray(o))for(var c=0;c<o.length;c++)compatEC3CommonStyles(o[c]);if(n=t.markPoint,n&&n.data)for(var l=n.data,c=0;c<l.length;c++)compatEC3CommonStyles(l[c]);if(r=t.markLine,r&&r.data)for(var u=r.data,c=0;c<u.length;c++)isArray$1(u[c])?(compatEC3CommonStyles(u[c][0]),compatEC3CommonStyles(u[c][1])):compatEC3CommonStyles(u[c]);t.type===`gauge`?(compatTextStyle(t,`axisLabel`),compatTextStyle(t,`title`),compatTextStyle(t,`detail`)):t.type===`treemap`?(convertNormalEmphasis(t.breadcrumb,`itemStyle`),each$15(t.levels,function(t){removeEC3NormalStatus(t)})):t.type===`tree`&&removeEC3NormalStatus(t.leaves)}}function toArr(t){return isArray$1(t)?t:t?[t]:[]}function toObj(t){return(isArray$1(t)?t[0]:t)||{}}function globalCompatStyle(t,n){each$13(toArr(t.series),function(t){isObject$2(t)&&processSeries(t)});var r=[`xAxis`,`yAxis`,`radiusAxis`,`angleAxis`,`singleAxis`,`parallelAxis`,`radar`];n&&r.push(`valueAxis`,`categoryAxis`,`logAxis`,`timeAxis`),each$13(r,function(n){each$13(toArr(t[n]),function(t){t&&(compatTextStyle(t,`axisLabel`),compatTextStyle(t.axisPointer,`label`))})}),each$13(toArr(t.parallel),function(t){var n=t&&t.parallelAxisDefault;compatTextStyle(n,`axisLabel`),compatTextStyle(n&&n.axisPointer,`label`)}),each$13(toArr(t.calendar),function(t){convertNormalEmphasis(t,`itemStyle`),compatTextStyle(t,`dayLabel`),compatTextStyle(t,`monthLabel`),compatTextStyle(t,`yearLabel`)}),each$13(toArr(t.radar),function(t){compatTextStyle(t,`name`),t.name&&t.axisName==null&&(t.axisName=t.name,delete t.name),t.nameGap!=null&&t.axisNameGap==null&&(t.axisNameGap=t.nameGap,delete t.nameGap)}),each$13(toArr(t.geo),function(t){isObject$2(t)&&(compatEC3CommonStyles(t),each$13(toArr(t.regions),function(t){compatEC3CommonStyles(t)}))}),each$13(toArr(t.timeline),function(t){compatEC3CommonStyles(t),convertNormalEmphasis(t,`label`),convertNormalEmphasis(t,`itemStyle`),convertNormalEmphasis(t,`controlStyle`,!0);var n=t.data;isArray$1(n)&&each$15(n,function(t){isObject$3(t)&&(convertNormalEmphasis(t,`label`),convertNormalEmphasis(t,`itemStyle`))})}),each$13(toArr(t.toolbox),function(t){convertNormalEmphasis(t,`iconStyle`),each$13(t.feature,function(t){convertNormalEmphasis(t,`iconStyle`)})}),compatTextStyle(toObj(t.axisPointer),`label`),compatTextStyle(toObj(t.tooltip).axisPointer,`label`)}function get(t,n){for(var r=n.split(`,`),a=t,o=0;o<r.length&&(a&&=a[r[o]],a!=null);o++);return a}function set(t,n,r,a){for(var o=n.split(`,`),s=t,c,l=0;l<o.length-1;l++)c=o[l],s[c]??(s[c]={}),s=s[c];(a||s[o[l]]==null)&&(s[o[l]]=r)}function compatLayoutProperties(t){t&&each$15(LAYOUT_PROPERTIES,function(n){n[0]in t&&!(n[1]in t)&&(t[n[1]]=t[n[0]])})}var LAYOUT_PROPERTIES=[[`x`,`left`],[`y`,`top`],[`x2`,`right`],[`y2`,`bottom`]],COMPATITABLE_COMPONENTS=[`grid`,`geo`,`parallel`,`legend`,`toolbox`,`title`,`visualMap`,`dataZoom`,`timeline`],BAR_ITEM_STYLE_MAP=[[`borderRadius`,`barBorderRadius`],[`borderColor`,`barBorderColor`],[`borderWidth`,`barBorderWidth`]];function compatBarItemStyle(t){var n=t&&t.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP.length;r++){var a=BAR_ITEM_STYLE_MAP[r][1],o=BAR_ITEM_STYLE_MAP[r][0];n[a]!=null&&(n[o]=n[a])}}function compatPieLabel(t){t&&t.alignTo===`edge`&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function compatSunburstState(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function compatGraphFocus(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus??(t.emphasis.focus=`adjacency`))}function traverseTree(t,n){if(t)for(var r=0;r<t.length;r++)n(t[r]),t[r]&&traverseTree(t[r].children,n)}function globalBackwardCompat(t,n){globalCompatStyle(t,n),t.series=normalizeToArray(t.series),each$15(t.series,function(t){if(isObject$3(t)){var n=t.type;if(n===`line`)t.clipOverflow!=null&&(t.clip=t.clipOverflow);else if(n===`pie`||n===`gauge`){t.clockWise!=null&&(t.clockwise=t.clockWise),compatPieLabel(t.label);var r=t.data;if(r&&!isTypedArray(r))for(var a=0;a<r.length;a++)compatPieLabel(r[a]);t.hoverOffset!=null&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if(n===`gauge`){var o=get(t,`pointer.color`);o!=null&&set(t,`itemStyle.color`,o)}else if(n===`bar`){compatBarItemStyle(t),compatBarItemStyle(t.backgroundStyle),compatBarItemStyle(t.emphasis);var r=t.data;if(r&&!isTypedArray(r))for(var a=0;a<r.length;a++)typeof r[a]==`object`&&(compatBarItemStyle(r[a]),compatBarItemStyle(r[a]&&r[a].emphasis))}else if(n===`sunburst`){var s=t.highlightPolicy;s&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=s)),compatSunburstState(t),traverseTree(t.data,compatSunburstState)}else n===`graph`||n===`sankey`?compatGraphFocus(t):n===`map`&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&defaults(t,t.mapLocation));t.hoverAnimation!=null&&(t.emphasis=t.emphasis||{},t.emphasis&&t.emphasis.scale==null&&(t.emphasis.scale=t.hoverAnimation)),compatLayoutProperties(t)}}),t.dataRange&&(t.visualMap=t.dataRange),each$15(COMPATITABLE_COMPONENTS,function(n){var r=t[n];r&&(isArray$1(r)||(r=[r]),each$15(r,function(t){compatLayoutProperties(t)}))})}function dataStack(t){var n=createHashMap();t.eachSeries(function(t){var r=t.get(`stack`);if(r){var a=n.get(r)||n.set(r,[]),o=t.getData(),s={stackResultDimension:o.getCalculationInfo(`stackResultDimension`),stackedOverDimension:o.getCalculationInfo(`stackedOverDimension`),stackedDimension:o.getCalculationInfo(`stackedDimension`),stackedByDimension:o.getCalculationInfo(`stackedByDimension`),isStackedByIndex:o.getCalculationInfo(`isStackedByIndex`),data:o,seriesModel:t};if(!s.stackedDimension||!(s.isStackedByIndex||s.stackedByDimension))return;a.length&&o.setCalculationInfo(`stackedOnSeries`,a[a.length-1].seriesModel),a.push(s)}}),n.each(calculateStack)}function calculateStack(t){each$15(t,function(n,r){var a=[],o=[NaN,NaN],s=[n.stackResultDimension,n.stackedOverDimension],c=n.data,l=n.isStackedByIndex,u=n.seriesModel.get(`stackStrategy`)||`samesign`;c.modify(s,function(s,d,f){var p=c.get(n.stackedDimension,f);if(isNaN(p))return o;var g,_;l?_=c.getRawIndex(f):g=c.get(n.stackedByDimension,f);for(var v=NaN,y=r-1;y>=0;y--){var b=t[y];if(l||(_=b.data.rawIndexOf(b.stackedByDimension,g)),_>=0){var x=b.data.getByRawIndex(b.stackResultDimension,_);if(u===`all`||u===`positive`&&x>0||u===`negative`&&x<0||u===`samesign`&&p>=0&&x>0||u===`samesign`&&p<=0&&x<0){p=addSafe(p,x),v=x;break}}}return a[0]=p,a[1]=v,a})})}var SourceImpl=function(){function t(t){this.data=t.data||(t.sourceFormat===`keyedColumns`?{}:[]),this.sourceFormat=t.sourceFormat||`unknown`,this.seriesLayoutBy=t.seriesLayoutBy||`column`,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var n=this.dimensionsDefine=t.dimensionsDefine;if(n)for(var r=0;r<n.length;r++){var a=n[r];a.type==null&&guessOrdinal(this,r)===BE_ORDINAL.Must&&(a.type=`ordinal`)}}return t}();function isSourceInstance(t){return t instanceof SourceImpl}function createSource(t,n,r){r||=detectSourceFormat(t);var a=n.seriesLayoutBy,o=determineSourceDimensions(t,r,a,n.sourceHeader,n.dimensions);return new SourceImpl({data:t,sourceFormat:r,seriesLayoutBy:a,dimensionsDefine:o.dimensionsDefine,startIndex:o.startIndex,dimensionsDetectedCount:o.dimensionsDetectedCount,metaRawOption:clone$4(n)})}function createSourceFromSeriesDataOption(t){return new SourceImpl({data:t,sourceFormat:isTypedArray(t)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(t){return new SourceImpl({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:clone$4(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function detectSourceFormat(t){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(t))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(t)){t.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var r=0,a=t.length;r<a;r++){var o=t[r];if(o!=null){if(isArray$1(o)||isTypedArray(o)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(o)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(t)){for(var s in t)if(hasOwn(t,s)&&isArrayLike(t[s])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(t,n,r,a,o){var s,c;if(!t)return{dimensionsDefine:normalizeDimensionsOption(o),startIndex:c,dimensionsDetectedCount:s};if(n===`arrayRows`){var l=t;a===`auto`||a==null?arrayRowsTravelFirst(function(t){t!=null&&t!==`-`&&(isString(t)?c??=1:c=0)},r,l,10):c=isNumber(a)?a:a?1:0,!o&&c===1&&(o=[],arrayRowsTravelFirst(function(t,n){o[n]=t==null?``:t+``},r,l,1/0)),s=o?o.length:r===`row`?l.length:l[0]?l[0].length:null}else if(n===`objectRows`)o||=objectRowsCollectDimensions(t);else if(n===`keyedColumns`)o||(o=[],each$15(t,function(t,n){o.push(n)}));else if(n===`original`){var u=getDataItemValue(t[0]);s=isArray$1(u)&&u.length||1}return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(o),dimensionsDetectedCount:s}}function objectRowsCollectDimensions(t){for(var n=0,r;n<t.length&&!(r=t[n++]););if(r)return keys(r)}function normalizeDimensionsOption(t){if(t){var n=createHashMap();return map$1(t,function(t,r){t=isObject$3(t)?t:{name:t};var a={name:t.name,displayName:t.displayName,type:t.type};if(a.name==null)return a;a.name+=``,a.displayName??=a.name;var o=n.get(a.name);return o?a.name+=`-`+ o.count++:n.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(t,n,r,a){if(n===`row`)for(var o=0;o<r.length&&o<a;o++)t(r[o]?r[o][0]:null,o);else for(var s=r[0]||[],o=0;o<s.length&&o<a;o++)t(s[o],o)}function shouldRetrieveDataByName(t){var n=t.sourceFormat;return n===`objectRows`||n===`keyedColumns`}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function t(t,n){var r=isSourceInstance(t)?t:createSourceFromSeriesDataOption(t);this._source=r;var a=this._data=r.data;r.sourceFormat===`typedArray`&&(this._offset=0,this._dimSize=n,this._data=a),mountMethods(this,a,r)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,n){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=function(){var n=t.prototype;n.pure=!1,n.persistent=!0}(),t.internalField=function(){var t;mountMethods=function(t,o,s){var c=s.sourceFormat,l=s.seriesLayoutBy,u=s.startIndex,d=s.dimensionsDefine,f=providerMethods[getMethodMapKey(c,l)];extend(t,f),c===`typedArray`?(t.getItem=n,t.count=a,t.fillStorage=r):(t.getItem=bind$1(getRawSourceItemGetter(c,l),null,o,u,d),t.count=bind$1(getRawSourceDataCounter(c,l),null,o,u,d))};var n=function(t,n){t-=this._offset,n||=[];for(var r=this._data,a=this._dimSize,o=a*t,s=0;s<a;s++)n[s]=r[o+s];return n},r=function(t,n,r,a){for(var o=this._data,s=this._dimSize,c=0;c<s;c++){for(var l=a[c],u=l[0]==null?1/0:l[0],d=l[1]==null?-1/0:l[1],f=n-t,p=r[c],g=0;g<f;g++){var _=o[g*s+c];p[t+g]=_,_<u&&(u=_),_>d&&(d=_)}l[0]=u,l[1]=d}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(t={},t[SOURCE_FORMAT_ARRAY_ROWS+`_`+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:o},t[SOURCE_FORMAT_ARRAY_ROWS+`_row`]={pure:!0,appendData:function(){throw Error(`Do not support appendData when set seriesLayoutBy: "row".`)}},t[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:o},t[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(t){var n=this._data;each$15(t,function(t,r){for(var a=n[r]||(n[r]=[]),o=0;o<(t||[]).length;o++)a.push(t[o])})}},t[SOURCE_FORMAT_ORIGINAL]={appendData:o},t[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},t);function o(t){for(var n=0;n<t.length;n++)this._data.push(t[n])}}(),t}(),getItemSimply=function(t,n,r,a){return t[a]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+`_`+SERIES_LAYOUT_BY_COLUMN]=function(t,n,r,a){return t[a+n]},_a[SOURCE_FORMAT_ARRAY_ROWS+`_row`]=function(t,n,r,a,o){a+=n;for(var s=o||[],c=t,l=0;l<c.length;l++){var u=c[l];s[l]=u?u[a]:null}return s},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(t,n,r,a,o){for(var s=o||[],c=0;c<r.length;c++){var l=t[r[c].name];s[c]=l?l[a]:null}return s},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(t,n){return rawSourceItemGetterMap[getMethodMapKey(t,n)]}var countSimply=function(t,n,r){return t.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+`_`+SERIES_LAYOUT_BY_COLUMN]=function(t,n,r){return Math.max(0,t.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+`_row`]=function(t,n,r){var a=t[0];return a?Math.max(0,a.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(t,n,r){var a=t[r[0].name];return a?a.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(t,n){return rawSourceDataCounterMap[getMethodMapKey(t,n)]}var getRawValueSimply=function(t,n,r){return t[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(t,n,r){return t[r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(t,n,r){var a=getDataItemValue(t);return a instanceof Array?a[n]:a},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(t){return rawSourceValueGetterMap[t]}function getMethodMapKey(t,n){return t===`arrayRows`?t+`_`+n:t}function retrieveRawValue(t,n,r){if(t){var a=t.getRawDataItem(n);if(a!=null){var o=t.getStore(),s=o.getSource().sourceFormat;if(r!=null){var c=t.getDimensionIndex(r),l=o.getDimensionProperty(c);return getRawSourceValueGetter(s)(a,c,l)}else{var u=a;return s===`original`&&(u=getDataItemValue(a)),u}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function t(){}return t.prototype.getDataParams=function(t,n){var r=this.getData(n),a=this.getRawValue(t,n),o=r.getRawIndex(t),s=r.getName(t),c=r.getRawDataItem(t),l=r.getItemVisual(t,`style`),u=l&&l[r.getItemVisual(t,`drawType`)||`fill`],d=l&&l.stroke,f=this.mainType,p=f===`series`,g=r.userOutput&&r.userOutput.get();return{componentType:f,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:s,dataIndex:o,data:c,dataType:n,value:a,color:u,borderColor:d,dimensionNames:g?g.fullDimensions:null,encode:g?g.encode:null,$vars:[`seriesName`,`name`,`value`]}},t.prototype.getFormattedLabel=function(t,n,r,a,o,s){n||=`normal`;var c=this.getData(r),l=this.getDataParams(t,r);if(s&&(l.value=s.interpolatedValue),a!=null&&isArray$1(l.value)&&(l.value=l.value[a]),o||=c.getItemModel(t).get(n===`normal`?[`label`,`formatter`]:[n,`label`,`formatter`]),isFunction(o))return l.status=n,l.dimensionIndex=a,o(l);if(isString(o))return formatTpl(o,l).replace(DIMENSION_LABEL_REG,function(n,r){var a=r.length,o=r;o.charAt(0)===`[`&&o.charAt(a-1)===`]`&&(o=+o.slice(1,a-1));var l=retrieveRawValue(c,t,o);if(s&&isArray$1(s.interpolatedValue)){var u=c.getDimensionIndex(o);u>=0&&(l=s.interpolatedValue[u])}return l==null?``:l+``})},t.prototype.getRawValue=function(t,n){return retrieveRawValue(this.getData(n),t)},t.prototype.formatTooltip=function(t,n,r){},t}();function normalizeTooltipFormatResult(t){var n,r;return isObject$3(t)?t.type&&(r=t):n=t,{text:n,frag:r}}function createTask(t){return new Task(t)}var Task=function(){function t(t){t||={},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var o;this._plan&&!r&&(o=this._plan(this.context));var s=d(this._modBy),c=this._modDataCount||0,l=d(t&&t.modBy),u=t&&t.modDataCount||0;(s!==l||c!==u)&&(o=`reset`);function d(t){return!(t>=1)&&(t=1),t}var f;(this._dirty||o===`reset`)&&(this._dirty=!1,f=this._doReset(r)),this._modBy=l,this._modDataCount=u;var p=t&&t.step;if(n?this._dueEnd=n._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var g=this._dueIndex,_=Math.min(p==null?1/0:this._dueIndex+p,this._dueEnd);if(!r&&(f||g<_)){var v=this._progress;if(isArray$1(v))for(var y=0;y<v.length;y++)this._doProgress(v[y],g,_,l,u);else this._doProgress(v,g,_,l,u)}this._dueIndex=_,this._outputDueEnd=this._settedOutputEnd==null?_:this._settedOutputEnd}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd==null?this._dueEnd:this._settedOutputEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,n,r,a,o){iterator.reset(n,r,a,o),this._callingProgress=t,this._callingProgress({start:n,end:r,count:r-n,next:iterator.next},this.context)},t.prototype._doReset=function(t){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,r;!t&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(r=n.forceFirstProgress,n=n.progress),isArray$1(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),r},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||=(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),iterator=function(){var t,n,r,a,o,s={reset:function(u,d,f,p){n=u,t=d,r=f,a=p,o=Math.ceil(a/r),s.next=r>1&&a>0?l:c}};return s;function c(){return n<t?n++:null}function l(){var s=n%o*r+Math.ceil(n/o),c=n>=t?null:s<a?s:n;return n++,c}}();function parseDataValue(t,n){var r=n&&n.type;return r===`ordinal`?t:(r===`time`&&!isNumber(t)&&t!=null&&t!==`-`&&(t=+parseDate(t)),t==null||t===``?NaN:Number(t))}var valueParserMap=createHashMap({number:function(t){return parseFloat(t)},time:function(t){return+parseDate(t)},trim:function(t){return isString(t)?trim$1(t):t}});function getRawValueParser(t){return valueParserMap.get(t)}var ORDER_COMPARISON_OP_MAP={lt:function(t,n){return t<n},lte:function(t,n){return t<=n},gt:function(t,n){return t>n},gte:function(t,n){return t>=n}},FilterOrderComparator=function(){function t(t,n){isNumber(n)||throwError(``),this._opFn=ORDER_COMPARISON_OP_MAP[t],this._rvalFloat=numericToNumber(n)}return t.prototype.evaluate=function(t){return isNumber(t)?this._opFn(t,this._rvalFloat):this._opFn(numericToNumber(t),this._rvalFloat)},t}(),SortOrderComparator=function(){function t(t,n){var r=t===`desc`;this._resultLT=r?1:-1,n??=r?`min`:`max`,this._incomparable=n===`min`?-1/0:1/0}return t.prototype.evaluate=function(t,n){var r=isNumber(t)?t:numericToNumber(t),a=isNumber(n)?n:numericToNumber(n),o=isNaN(r),s=isNaN(a);if(o&&(r=this._incomparable),s&&(a=this._incomparable),o&&s){var c=isString(t),l=isString(n);c&&(r=l?t:0),l&&(a=c?n:0)}return r<a?this._resultLT:r>a?-this._resultLT:0},t}(),FilterEqualityComparator=function(){function t(t,n){this._rval=n,this._isEQ=t,this._rvalTypeof=typeof n,this._rvalFloat=numericToNumber(n)}return t.prototype.evaluate=function(t){var n=t===this._rval;if(!n){var r=typeof t;r!==this._rvalTypeof&&(r===`number`||this._rvalTypeof===`number`)&&(n=numericToNumber(t)===this._rvalFloat)}return this._isEQ?n:!n},t}();function createFilterComparator(t,n){return t===`eq`||t===`ne`?new FilterEqualityComparator(t===`eq`,n):hasOwn(ORDER_COMPARISON_OP_MAP,t)?new FilterOrderComparator(t,n):null}var ExternalSource=function(){function t(){}return t.prototype.getRawData=function(){throw Error(`not supported`)},t.prototype.getRawDataItem=function(t){throw Error(`not supported`)},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,n){},t.prototype.retrieveValueFromItem=function(t,n){},t.prototype.convertValue=function(t,n){return parseDataValue(t,n)},t}();function createExternalSource(t,n){var r=new ExternalSource,a=t.data,o=r.sourceFormat=t.sourceFormat,s=t.startIndex;t.seriesLayoutBy!==`column`&&throwError(``);var c=[],l={},u=t.dimensionsDefine;if(u)each$15(u,function(t,n){var r=t.name,a={index:n,name:r,displayName:t.displayName};c.push(a),r!=null&&(hasOwn(l,r)&&throwError(``),l[r]=a)});else for(var d=0;d<t.dimensionsDetectedCount;d++)c.push({index:d});var f=getRawSourceItemGetter(o,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(r.getRawDataItem=function(t){return f(a,s,c,t)},r.getRawData=bind$1(getRawData,null,t)),r.cloneRawData=bind$1(cloneRawData,null,t),r.count=bind$1(getRawSourceDataCounter(o,SERIES_LAYOUT_BY_COLUMN),null,a,s,c);var p=getRawSourceValueGetter(o);r.retrieveValue=function(t,n){return g(f(a,s,c,t),n)};var g=r.retrieveValueFromItem=function(t,n){if(t!=null){var r=c[n];if(r)return p(t,n,r.name)}};return r.getDimensionInfo=bind$1(getDimensionInfo,null,c,l),r.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,c),r}function getRawData(t){var n=t.sourceFormat;return isSupportedSourceFormat(n)||throwError(``),t.data}function cloneRawData(t){var n=t.sourceFormat,r=t.data;if(isSupportedSourceFormat(n)||throwError(``),n===`arrayRows`){for(var a=[],o=0,s=r.length;o<s;o++)a.push(r[o].slice());return a}else if(n===`objectRows`){for(var a=[],o=0,s=r.length;o<s;o++)a.push(extend({},r[o]));return a}}function getDimensionInfo(t,n,r){if(r!=null){if(isNumber(r)||!isNaN(r)&&!hasOwn(n,r))return t[r];if(hasOwn(n,r))return n[r]}}function cloneAllDimensionInfo(t){return clone$4(t)}var externalTransformMap=createHashMap();function registerExternalTransform(t){t=clone$4(t);var n=t.type,r=``;n||throwError(r);var a=n.split(`:`);a.length!==2&&throwError(r);var o=!1;a[0]===`echarts`&&(n=a[1],o=!0),t.__isBuiltIn=o,externalTransformMap.set(n,t)}function applyDataTransform(t,n,r){var a=normalizeToArray(t),o=a.length;o||throwError(``);for(var s=0,c=o;s<c;s++){var l=a[s];n=applySingleDataTransform(l,n,r,o===1?null:s),s!==c-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(t,n,r,a){var o=``;n.length||throwError(o),isObject$3(t)||throwError(o);var s=t.type,c=externalTransformMap.get(s);c||throwError(o);var l=map$1(n,function(t){return createExternalSource(t,c)});return map$1(normalizeToArray(c.transform({upstream:l[0],upstreamList:l,config:clone$4(t.config)})),function(t,r){var a=``;isObject$3(t)||throwError(a),t.data||throwError(a),isSupportedSourceFormat(detectSourceFormat(t.data))||throwError(a);var o,s=n[0];if(s&&r===0&&!t.dimensions){var c=s.startIndex;c&&(t.data=s.data.slice(0,c).concat(t.data)),o={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:c,dimensions:s.metaRawOption.dimensions}}else o={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:t.dimensions};return createSource(t.data,o,null)})}function isSupportedSourceFormat(t){return t===`arrayRows`||t===`objectRows`}var UNDEFINED=`undefined`,CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(t){return t>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(t){var n=t.constructor;return n===Array?t.slice():new n(t)}function prepareStore(t,n,r,a,o){var s=dataCtors[r||`float`];if(o){var c=t[n],l=c&&c.length;if(l!==a){for(var u=new s(a),d=0;d<l;d++)u[d]=c[d];t[n]=u}}else t[n]=new s(a)}var DataStore_default=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return t.prototype.initData=function(t,n,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=t.getSource(),o=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],shouldRetrieveDataByName(a),this._dimensions=map$1(n,function(t){return{type:t.type,property:t.property}}),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,n){var r=this._calcDimNameToIdx,a=this._dimensions,o=r.get(t);if(o!=null){if(a[o].type===n)return o}else o=a.length;return a[o]={type:n},r.set(t,o),this._chunks[o]=new dataCtors[n||`float`](this._rawCount),this._rawExtent[o]=getInitialExtent(),o},t.prototype.collectOrdinalMeta=function(t,n){var r=this._chunks[t],a=this._dimensions[t],o=this._rawExtent,s=a.ordinalOffset||0,c=r.length;s===0&&(o[t]=getInitialExtent());for(var l=o[t],u=s;u<c;u++){var d=r[u]=n.parseAndCollect(r[u]);isNaN(d)||(l[0]=Math.min(d,l[0]),l[1]=Math.max(d,l[1]))}a.ordinalMeta=n,a.ordinalOffset=c,a.type=`ordinal`},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var n=this._dimensions[t];return n&&n.property},t.prototype.appendData=function(t){var n=this._provider,r=this.count();n.appendData(t);var a=n.count();return n.persistent||(a+=r),r<a&&this._initDataFromProvider(r,a,!0),[r,a]},t.prototype.appendValues=function(t,n){for(var r=this._chunks,a=this._dimensions,o=a.length,s=this._rawExtent,c=this.count(),l=c+Math.max(t.length,n||0),u=0;u<o;u++){var d=a[u];prepareStore(r,u,d.type,l,!0)}for(var f=[],p=c;p<l;p++)for(var g=p-c,_=0;_<o;_++){var d=a[_],v=defaultDimValueGetters.arrayRows.call(this,t[g]||f,d.property,g,_);r[_][p]=v;var y=s[_];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}return this._rawCount=this._count=l,{start:c,end:l}},t.prototype._initDataFromProvider=function(t,n,r){for(var a=this._provider,o=this._chunks,s=this._dimensions,c=s.length,l=this._rawExtent,u=map$1(s,function(t){return t.property}),d=0;d<c;d++){var f=s[d];l[d]||(l[d]=getInitialExtent()),prepareStore(o,d,f.type,n,r)}if(a.fillStorage)a.fillStorage(t,n,o,l);else for(var p=[],g=t;g<n;g++){p=a.getItem(g,p);for(var _=0;_<c;_++){var v=o[_],y=this._dimValueGetter(p,u[_],g,_);v[g]=y;var b=l[_];y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,n){if(!(n>=0&&n<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(n)]:NaN},t.prototype.getValues=function(t,n){var r=[],a=[];if(n==null){n=t,t=[];for(var o=0;o<this._dimensions.length;o++)a.push(o)}else a=t;for(var o=0,s=a.length;o<s;o++)r.push(this.get(a[o],n));return r},t.prototype.getByRawIndex=function(t,n){if(!(n>=0&&n<this._rawCount))return NaN;var r=this._chunks[t];return r?r[n]:NaN},t.prototype.getSum=function(t){var n=this._chunks[t],r=0;if(n)for(var a=0,o=this.count();a<o;a++){var s=this.get(t,a);isNaN(s)||(r+=s)}return r},t.prototype.getMedian=function(t){var n=[];this.each([t],function(t){isNaN(t)||n.push(t)});var r=n.sort(function(t,n){return t-n}),a=this.count();return a===0?0:a%2==1?r[(a-1)/2]:(r[a/2]+r[a/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var n=this._indices,r=n[t];if(r!=null&&r<this._count&&r===t)return t;for(var a=0,o=this._count-1;a<=o;){var s=(a+o)/2|0;if(n[s]<t)a=s+1;else if(n[s]>t)o=s-1;else return s}return-1},t.prototype.indicesOfNearest=function(t,n,r){var a=this._chunks[t],o=[];if(!a)return o;r??=1/0;for(var s=1/0,c=-1,l=0,u=0,d=this.count();u<d;u++){var f=n-a[this.getRawIndex(u)],p=Math.abs(f);p<=r&&((p<s||p===s&&f>=0&&c<0)&&(s=p,c=f,l=0),f===c&&(o[l++]=u))}return o.length=l,o},t.prototype.getIndices=function(){var t,n=this._indices;if(n){var r=n.constructor,a=this._count;if(r===Array){t=new r(a);for(var o=0;o<a;o++)t[o]=n[o]}else t=new r(n.buffer,0,a)}else{var r=getIndicesCtor(this._rawCount);t=new r(this.count());for(var o=0;o<t.length;o++)t[o]=o}return t},t.prototype.filter=function(t,n){if(!this._count)return this;for(var r=this.clone(),a=r.count(),o=new(getIndicesCtor(r._rawCount))(a),s=[],c=t.length,l=0,u=t[0],d=r._chunks,f=0;f<a;f++){var p=void 0,g=r.getRawIndex(f);if(c===0)p=n(f);else if(c===1){var _=d[u][g];p=n(_,f)}else{for(var v=0;v<c;v++)s[v]=d[t[v]][g];s[v]=f,p=n.apply(null,s)}p&&(o[l++]=g)}return l<a&&(r._indices=o),r._count=l,r._extent=[],r._updateGetRawIdx(),r},t.prototype.selectRange=function(t){var n=this.clone(),r=n._count;if(!r)return this;var a=keys(t),o=a.length;if(!o)return this;var s=n.count(),c=new(getIndicesCtor(n._rawCount))(s),l=0,u=a[0],d=t[u][0],f=t[u][1],p=n._chunks,g=!1;if(!n._indices){var _=0;if(o===1){for(var v=p[a[0]],y=0;y<r;y++){var b=v[y];(b>=d&&b<=f||isNaN(b))&&(c[l++]=_),_++}g=!0}else if(o===2){for(var v=p[a[0]],x=p[a[1]],S=t[a[1]][0],C=t[a[1]][1],y=0;y<r;y++){var b=v[y],w=x[y];(b>=d&&b<=f||isNaN(b))&&(w>=S&&w<=C||isNaN(w))&&(c[l++]=_),_++}g=!0}}if(!g)if(o===1)for(var y=0;y<s;y++){var T=n.getRawIndex(y),b=p[a[0]][T];(b>=d&&b<=f||isNaN(b))&&(c[l++]=T)}else for(var y=0;y<s;y++){for(var E=!0,T=n.getRawIndex(y),D=0;D<o;D++){var O=a[D],b=p[O][T];(b<t[O][0]||b>t[O][1])&&(E=!1)}E&&(c[l++]=n.getRawIndex(y))}return l<s&&(n._indices=c),n._count=l,n._extent=[],n._updateGetRawIdx(),n},t.prototype.map=function(t,n){var r=this.clone(t);return this._updateDims(r,t,n),r},t.prototype.modify=function(t,n){this._updateDims(this,t,n)},t.prototype._updateDims=function(t,n,r){for(var a=t._chunks,o=[],s=n.length,c=t.count(),l=[],u=t._rawExtent,d=0;d<n.length;d++)u[n[d]]=getInitialExtent();for(var f=0;f<c;f++){for(var p=t.getRawIndex(f),g=0;g<s;g++)l[g]=a[n[g]][p];l[s]=f;var _=r&&r.apply(null,l);if(_!=null){typeof _!=`object`&&(o[0]=_,_=o);for(var d=0;d<_.length;d++){var v=n[d],y=_[d],b=u[v],x=a[v];x&&(x[p]=y),y<b[0]&&(b[0]=y),y>b[1]&&(b[1]=y)}}}},t.prototype.lttbDownSample=function(t,n){var r=this.clone([t],!0),a=r._chunks[t],o=this.count(),s=0,c=Math.floor(1/n),l=this.getRawIndex(0),u,d,f,p=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(o/c)+2)*2,o));p[s++]=l;for(var g=1;g<o-1;g+=c){for(var _=Math.min(g+c,o-1),v=Math.min(g+c*2,o),y=(v+_)/2,b=0,x=_;x<v;x++){var S=this.getRawIndex(x),C=a[S];isNaN(C)||(b+=C)}b/=v-_;var w=g,T=Math.min(g+c,o),E=g-1,D=a[l];u=-1,f=w;for(var O=-1,A=0,x=w;x<T;x++){var S=this.getRawIndex(x),C=a[S];if(isNaN(C)){A++,O<0&&(O=S);continue}d=Math.abs((E-y)*(C-D)-(E-x)*(b-D)),d>u&&(u=d,f=S)}A>0&&A<T-w&&(p[s++]=Math.min(O,f),f=Math.max(O,f)),p[s++]=f,l=f}return p[s++]=this.getRawIndex(o-1),r._count=s,r._indices=p,r.getRawIndex=this._getRawIdx,r},t.prototype.minmaxDownSample=function(t,n){for(var r=this.clone([t],!0),a=r._chunks,o=Math.floor(1/n),s=a[t],c=this.count(),l=new(getIndicesCtor(this._rawCount))(Math.ceil(c/o)*2),u=0,d=0;d<c;d+=o){var f=d,p=s[this.getRawIndex(f)],g=d,_=s[this.getRawIndex(g)],v=o;d+o>c&&(v=c-d);for(var y=0;y<v;y++){var b=s[this.getRawIndex(d+y)];b<p&&(p=b,f=d+y),b>_&&(_=b,g=d+y)}var x=this.getRawIndex(f),S=this.getRawIndex(g);f<g?(l[u++]=x,l[u++]=S):(l[u++]=S,l[u++]=x)}return r._count=u,r._indices=l,r._updateGetRawIdx(),r},t.prototype.downSample=function(t,n,r,a){for(var o=this.clone([t],!0),s=o._chunks,c=[],l=Math.floor(1/n),u=s[t],d=this.count(),f=o._rawExtent[t]=getInitialExtent(),p=new(getIndicesCtor(this._rawCount))(Math.ceil(d/l)),g=0,_=0;_<d;_+=l){l>d-_&&(l=d-_,c.length=l);for(var v=0;v<l;v++)c[v]=u[this.getRawIndex(_+v)];var y=r(c),b=this.getRawIndex(Math.min(_+a(c,y)||0,d-1));u[b]=y,y<f[0]&&(f[0]=y),y>f[1]&&(f[1]=y),p[g++]=b}return o._count=g,o._indices=p,o._updateGetRawIdx(),o},t.prototype.each=function(t,n){if(this._count)for(var r=t.length,a=this._chunks,o=0,s=this.count();o<s;o++){var c=this.getRawIndex(o);switch(r){case 0:n(o);break;case 1:n(a[t[0]][c],o);break;case 2:n(a[t[0]][c],a[t[1]][c],o);break;default:for(var l=0,u=[];l<r;l++)u[l]=a[t[l]][c];u[l]=o,n.apply(null,u)}}},t.prototype.getDataExtent=function(t){var n=this._chunks[t],r=getInitialExtent();if(!n)return r;var a=this.count(),o=!this._indices,s;if(o)return this._rawExtent[t].slice();if(s=this._extent[t],s)return s.slice();s=r;for(var c=s[0],l=s[1],u=0;u<a;u++){var d=n[this.getRawIndex(u)];d<c&&(c=d),d>l&&(l=d)}return s=[c,l],this._extent[t]=s,s},t.prototype.getRawDataItem=function(t){var n=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(n);for(var r=[],a=this._chunks,o=0;o<a.length;o++)r.push(a[o][n]);return r},t.prototype.clone=function(n,r){var a=new t,o=this._chunks,s=n&&reduce(n,function(t,n){return t[n]=!0,t},{});if(s)for(var c=0;c<o.length;c++)a._chunks[c]=s[c]?cloneChunk(o[c]):o[c];else a._chunks=o;return this._copyCommonProps(a),r||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=clone$4(this._extent),t._rawExtent=clone$4(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,n=void 0;if(t===Array){var r=this._indices.length;n=new t(r);for(var a=0;a<r;a++)n[a]=this._indices[a]}else n=new t(this._indices);return n}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,n,r,a){return parseDataValue(t[a],this._dimensions[a])}defaultDimValueGetters={arrayRows:t,objectRows:function(t,n,r,a){return parseDataValue(t[n],this._dimensions[a])},keyedColumns:t,original:function(t,n,r,a){var o=t&&(t.value==null?t:t.value);return parseDataValue(o instanceof Array?o[a]:o,this._dimensions[a])},typedArray:function(t,n,r,a){return t[a]}}}(),t}(),SourceManager=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,n){this._sourceList=t,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+`_`+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t=this._sourceHost,n=this._getUpstreamSourceManagers(),r=!!n.length,a,o;if(isSeries(t)){var s=t,c=void 0,l=void 0,u=void 0;if(r){var d=n[0];d.prepareSource(),u=d.getSource(),c=u.data,l=u.sourceFormat,o=[d._getVersionSign()]}else c=s.get(`data`,!0),l=isTypedArray(c)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,o=[];var f=this._getSourceMetaRawOption()||{},p=u&&u.metaRawOption||{},g=retrieve2(f.seriesLayoutBy,p.seriesLayoutBy)||null,_=retrieve2(f.sourceHeader,p.sourceHeader),v=retrieve2(f.dimensions,p.dimensions);a=g!==p.seriesLayoutBy||!!_!=!!p.sourceHeader||v?[createSource(c,{seriesLayoutBy:g,sourceHeader:_,dimensions:v},l)]:[]}else{var y=t;if(r){var b=this._applyTransform(n);a=b.sourceList,o=b.upstreamSignList}else a=[createSource(y.get(`source`,!0),this._getSourceMetaRawOption(),null)],o=[]}this._setLocalSource(a,o)},t.prototype._applyTransform=function(t){var n=this._sourceHost,r=n.get(`transform`,!0),a=n.get(`fromTransformResult`,!0);a!=null&&t.length!==1&&doThrow(``);var o,s=[],c=[];return each$15(t,function(t){t.prepareSource();var n=t.getSource(a||0);a!=null&&!n&&doThrow(``),s.push(n),c.push(t._getVersionSign())}),r?o=applyDataTransform(r,s,{datasetIndex:n.componentIndex}):a!=null&&(o=[cloneSourceShallow(s[0])]),{sourceList:o,upstreamSignList:c}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),n=0;n<t.length;n++){var r=t[n];if(r._isDirty()||this._upstreamSignList[n]!==r._getVersionSign())return!0}},t.prototype.getSource=function(t){t||=0;var n=this._sourceList[t];if(!n){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return n},t.prototype.getSharedDataStore=function(t){var n=t.makeStoreSchema();return this._innerGetDataStore(n.dimensions,t.source,n.hash)},t.prototype._innerGetDataStore=function(t,n,r){var a=0,o=this._storeList,s=o[a];s||=o[a]={};var c=s[r];if(!c){var l=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&l?c=l._innerGetDataStore(t,n,r):(c=new DataStore_default,c.initData(new DefaultDataProvider(n,t.length),t)),s[r]=c}return c},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(isSeries(t)){var n=querySeriesUpstreamDatasetModel(t);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(t),function(t){return t.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var t=this._sourceHost,n,r,a;if(isSeries(t))n=t.get(`seriesLayoutBy`,!0),r=t.get(`sourceHeader`,!0),a=t.get(`dimensions`,!0);else if(!this._getUpstreamSourceManagers().length){var o=t;n=o.get(`seriesLayoutBy`,!0),r=o.get(`sourceHeader`,!0),a=o.get(`dimensions`,!0)}return{seriesLayoutBy:n,sourceHeader:r,dimensions:a}},t}();function disableTransformOptionMerge(t){t.option.transform&&setAsPrimitive(t.option.transform)}function isSeries(t){return t.mainType===`series`}function doThrow(t){throw Error(t)}var TOOLTIP_LINE_HEIGHT_CSS=`line-height:1`;function getTooltipLineHeight(t){var n=t.lineHeight;return n==null?TOOLTIP_LINE_HEIGHT_CSS:`line-height:`+encodeHTML(n+``)+`px`}function getTooltipTextStyle(t,n){var r=t.color||`#6e7079`,a=t.fontSize||12,o=t.fontWeight||`400`,s=t.color||`#464646`,c=t.fontSize||14,l=t.fontWeight||`900`;return n===`html`?{nameStyle:`font-size:`+encodeHTML(a+``)+`px;color:`+encodeHTML(r)+`;font-weight:`+encodeHTML(o+``),valueStyle:`font-size:`+encodeHTML(c+``)+`px;color:`+encodeHTML(s)+`;font-weight:`+encodeHTML(l+``)}:{nameStyle:{fontSize:a,fill:r,fontWeight:o},valueStyle:{fontSize:c,fill:s,fontWeight:l}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=[``,`
`,`

`,`


`];function createTooltipMarkup(t,n){return n.type=t,n}function isSectionFragment(t){return t.type===`section`}function getBuilder(t){return isSectionFragment(t)?buildSection:buildNameValue}function getBlockGapLevel(t){if(isSectionFragment(t)){var n=0,r=t.blocks.length,a=r>1||r>0&&!t.noHeader;return each$15(t.blocks,function(t){var r=getBlockGapLevel(t);r>=n&&(n=r+ +(a&&(!r||isSectionFragment(t)&&!t.noHeader)))}),n}return 0}function buildSection(t,n,r,a){var o=n.noHeader,s=getGap(getBlockGapLevel(n)),c=[],l=n.blocks||[];assert(!l||isArray$1(l)),l||=[];var u=t.orderMode;if(n.sortBlocks&&u){l=l.slice();var d={valueAsc:`asc`,valueDesc:`desc`};if(hasOwn(d,u)){var f=new SortOrderComparator(d[u],null);l.sort(function(t,n){return f.evaluate(t.sortParam,n.sortParam)})}else u===`seriesDesc`&&l.reverse()}each$15(l,function(r,o){var l=n.valueFormatter,u=getBuilder(r)(l?extend(extend({},t),{valueFormatter:l}):t,r,o>0?s.html:0,a);u!=null&&c.push(u)});var p=t.renderMode===`richText`?c.join(s.richText):wrapBlockHTML(a,c.join(``),o?r:s.html);if(o)return p;var g=makeValueReadable(n.header,`ordinal`,t.useUTC),_=getTooltipTextStyle(a,t.renderMode).nameStyle,v=getTooltipLineHeight(a);return t.renderMode===`richText`?wrapInlineNameRichText(t,g,_)+s.richText+p:wrapBlockHTML(a,`<div style="`+_+`;`+v+`;">`+encodeHTML(g)+`</div>`+p,r)}function buildNameValue(t,n,r,a){var o=t.renderMode,s=n.noName,c=n.noValue,l=!n.markerType,u=n.name,d=t.useUTC,f=n.valueFormatter||t.valueFormatter||function(t){return t=isArray$1(t)?t:[t],map$1(t,function(t,n){return makeValueReadable(t,isArray$1(_)?_[n]:_,d)})};if(!(s&&c)){var p=l?``:t.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||`#333`,o),g=s?``:makeValueReadable(u,`ordinal`,d),_=n.valueType,v=c?[]:f(n.value,n.dataIndex),y=!l||!s,b=!l&&s,x=getTooltipTextStyle(a,o),S=x.nameStyle,C=x.valueStyle;return o===`richText`?(l?``:p)+(s?``:wrapInlineNameRichText(t,g,S))+(c?``:wrapInlineValueRichText(t,v,y,b,C)):wrapBlockHTML(a,(l?``:p)+(s?``:wrapInlineNameHTML(g,!l,S))+(c?``:wrapInlineValueHTML(v,y,b,C)),r)}}function buildTooltipMarkup(t,n,r,a,o,s){if(t)return getBuilder(t)({useUTC:o,renderMode:r,orderMode:a,markupStyleCreator:n,valueFormatter:t.valueFormatter},t,0,s)}function getGap(t){return{html:HTML_GAPS[t],richText:RICH_TEXT_GAPS[t]}}function wrapBlockHTML(t,n,r){var a=`<div style="clear:both"></div>`,o=`margin: `+r+`px 0 0`,s=getTooltipLineHeight(t);return`<div style="`+o+`;`+s+`;">`+n+a+`</div>`}function wrapInlineNameHTML(t,n,r){var a=n?`margin-left:2px`:``;return`<span style="`+r+`;`+a+`">`+encodeHTML(t)+`</span>`}function wrapInlineValueHTML(t,n,r,a){var o=n?`float:right;margin-left:`+(r?`10px`:`20px`):``;return t=isArray$1(t)?t:[t],`<span style="`+o+`;`+a+`">`+map$1(t,function(t){return encodeHTML(t)}).join(`&nbsp;&nbsp;`)+`</span>`}function wrapInlineNameRichText(t,n,r){return t.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText(t,n,r,a,o){var s=[o],c=a?10:20;return r&&s.push({padding:[0,0,0,c],align:`right`}),t.markupStyleCreator.wrapRichTextStyle(isArray$1(n)?n.join(`  `):n,s)}function retrieveVisualColorForTooltipMarker(t,n){var r=t.getData().getItemVisual(n,`style`)[t.visualDrawType];return convertToColorString(r)}function getPaddingFromTooltipModel(t,n){return t.get(`padding`)??(n===`richText`?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function t(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return t.prototype._generateStyleName=function(){return`__EC_aUTo_`+ this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,n,r){var a=r===`richText`?this._generateStyleName():null,o=getTooltipMarker({color:n,type:t,renderMode:r,markerId:a});return isString(o)?o:(this.richTextStyles[a]=o.style,o.content)},t.prototype.wrapRichTextStyle=function(t,n){var r={};isArray$1(n)?each$15(n,function(t){return extend(r,t)}):extend(r,n);var a=this._generateStyleName();return this.richTextStyles[a]=r,`{`+a+`|`+t+`}`},t}();function defaultSeriesFormatTooltip(t){var n=t.series,r=t.dataIndex,a=t.multipleSeries,o=n.getData(),s=o.mapDimensionsAll(`defaultedTooltip`),c=s.length,l=n.getRawValue(r),u=isArray$1(l),d=retrieveVisualColorForTooltipMarker(n,r),f,p,g,_;if(c>1||u&&!c){var v=formatTooltipArrayValue(l,n,r,s,d);f=v.inlineValues,p=v.inlineValueTypes,g=v.blocks,_=v.inlineValues[0]}else if(c){var y=o.getDimensionInfo(s[0]);_=f=retrieveRawValue(o,r,s[0]),p=y.type}else _=f=u?l[0]:l;var b=isNameSpecified(n),x=b&&n.name||``,S=o.getName(r),C=a?x:S;return createTooltipMarkup(`section`,{header:x,noHeader:a||!b,sortParam:_,blocks:[createTooltipMarkup(`nameValue`,{markerType:`item`,markerColor:d,name:C,noName:!trim$1(C),value:f,valueType:p,dataIndex:r})].concat(g||[])})}function formatTooltipArrayValue(t,n,r,a,o){var s=n.getData(),c=reduce(t,function(t,n,r){var a=s.getDimensionInfo(r);return t||=a&&a.tooltip!==!1&&a.displayName!=null},!1),l=[],u=[],d=[];a.length?each$15(a,function(t){f(retrieveRawValue(s,r,t),t)}):each$15(t,f);function f(t,n){var r=s.getDimensionInfo(n);!r||r.otherDims.tooltip===!1||(c?d.push(createTooltipMarkup(`nameValue`,{markerType:`subItem`,markerColor:o,name:r.displayName,value:t,valueType:r.type})):(l.push(t),u.push(r.type)))}return{inlineValues:l,inlineValueTypes:u,blocks:d}}var inner$20=makeInner();function getSelectionKey(t,n){return t.getName(n)||t.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP=`__universalTransitionEnabled`,SeriesModel=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return n.prototype.init=function(t,n,r){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,r),(inner$20(this).sourceManager=new SourceManager(this)).prepareSource();var a=this.getInitialData(t,r);wrapData(a,this),this.dataTask.context.data=a,inner$20(this).dataBeforeProcessed=a,autoSeriesName(this),this._initSelectedMapFromData(a)},n.prototype.mergeDefaultAndTheme=function(t,n){var r=fetchLayoutMode(this),a=r?getLayoutParams(t):{},o=this.subType;Component_default$1.hasClass(o)&&(o+=`Series`),merge(t,n.getTheme().get(this.subType)),merge(t,this.getDefaultOption()),defaultEmphasis(t,`label`,[`show`]),this.fillDataTextStyle(t.data),r&&mergeLayoutParam(t,a,r)},n.prototype.mergeOption=function(t,n){t=merge(this.option,t,!0),this.fillDataTextStyle(t.data);var r=fetchLayoutMode(this);r&&mergeLayoutParam(this.option,t,r);var a=inner$20(this).sourceManager;a.dirty(),a.prepareSource();var o=this.getInitialData(t,n);wrapData(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,inner$20(this).dataBeforeProcessed=o,autoSeriesName(this),this._initSelectedMapFromData(o)},n.prototype.fillDataTextStyle=function(t){if(t&&!isTypedArray(t))for(var n=[`show`],r=0;r<t.length;r++)t[r]&&t[r].label&&defaultEmphasis(t[r],`label`,n)},n.prototype.getInitialData=function(t,n){},n.prototype.appendData=function(t){this.getRawData().appendData(t.data)},n.prototype.getData=function(t){var n=getCurrentTask(this);if(n){var r=n.context.data;return t==null||!r.getLinkedData?r:r.getLinkedData(t)}else return inner$20(this).data},n.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},n.prototype.setData=function(t){var n=getCurrentTask(this);if(n){var r=n.context;r.outputData=t,n!==this.dataTask&&(r.data=t)}inner$20(this).data=t},n.prototype.getEncode=function(){var t=this.get(`encode`,!0);if(t)return createHashMap(t)},n.prototype.getSourceManager=function(){return inner$20(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$20(this).dataBeforeProcessed},n.prototype.getColorBy=function(){return this.get(`colorBy`)||`series`},n.prototype.isColorBySeries=function(){return this.getColorBy()===`series`},n.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},n.prototype.formatTooltip=function(t,n,r){return defaultSeriesFormatTooltip({series:this,dataIndex:t,multipleSeries:n})},n.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(env_default.node&&!(t&&t.ssr))return!1;var n=this.getShallow(`animation`);return n&&this.getData().count()>this.getShallow(`animationThreshold`)&&(n=!1),!!n},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(t,n,r){var a=this.ecModel,o=PaletteMixin.prototype.getColorFromPalette.call(this,t,n,r);return o||=a.getColorFromPalette(t,n,r),o},n.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},n.prototype.getProgressive=function(){return this.get(`progressive`)},n.prototype.getProgressiveThreshold=function(){return this.get(`progressiveThreshold`)},n.prototype.select=function(t,n){this._innerSelect(this.getData(n),t)},n.prototype.unselect=function(t,n){var r=this.option.selectedMap;if(r){var a=this.option.selectedMode,o=this.getData(n);if(a===`series`||r===`all`){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var s=0;s<t.length;s++){var c=t[s],l=getSelectionKey(o,c);r[l]=!1,this._selectedDataIndicesMap[l]=-1}}},n.prototype.toggleSelect=function(t,n){for(var r=[],a=0;a<t.length;a++)r[0]=t[a],this.isSelected(t[a],n)?this.unselect(r,n):this.select(r,n)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap===`all`)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,n=keys(t),r=[],a=0;a<n.length;a++){var o=t[n[a]];o>=0&&r.push(o)}return r},n.prototype.isSelected=function(t,n){var r=this.option.selectedMap;if(!r)return!1;var a=this.getData(n);return(r===`all`||r[getSelectionKey(a,t)])&&!a.getItemModel(t).get([`select`,`disabled`])},n.prototype.isUniversalTransitionEnabled=function(){if(this.__universalTransitionEnabled)return!0;var t=this.option.universalTransition;return t?t===!0?!0:t&&t.enabled:!1},n.prototype._innerSelect=function(t,n){var r,a,o=this.option,s=o.selectedMode,c=n.length;if(!(!s||!c)){if(s===`series`)o.selectedMap=`all`;else if(s===`multiple`){isObject$3(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,u=0;u<c;u++){var d=n[u],f=getSelectionKey(t,d);l[f]=!0,this._selectedDataIndicesMap[f]=t.getRawIndex(d)}}else if(s===`single`||s===!0){var p=n[c-1],f=getSelectionKey(t,p);o.selectedMap=(r={},r[f]=!0,r),this._selectedDataIndicesMap=(a={},a[f]=t.getRawIndex(p),a)}}},n.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var n=[];t.hasItemOption&&t.each(function(r){var a=t.getRawDataItem(r);a&&a.selected&&n.push(r)}),n.length>0&&this._innerSelect(t,n)}},n.registerClass=function(t){return Component_default$1.registerClass(t)},n.protoInitialize=function(){var t=n.prototype;t.type=`series.__base__`,t.seriesIndex=0,t.ignoreStyleOnData=!1,t.hasSymbolVisual=!1,t.defaultSymbol=`circle`,t.visualStyleAccessPath=`itemStyle`,t.visualDrawType=`fill`}(),n}(Component_default$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,Component_default$1);function autoSeriesName(t){var n=t.name;isNameSpecified(t)||(t.name=getSeriesAutoName(t)||n)}function getSeriesAutoName(t){var n=t.getRawData(),r=n.mapDimensionsAll(`seriesName`),a=[];return each$15(r,function(t){var r=n.getDimensionInfo(t);r.displayName&&a.push(r.displayName)}),a.join(` `)}function dataTaskCount(t){return t.model.getRawData().count()}function dataTaskReset(t){var n=t.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(t,n){n.outputData&&t.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(t,n){each$15(concatArray(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,curry$1(onDataChange,n))})}function onDataChange(t,n){var r=getCurrentTask(t);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask(t){var n=(t.ecModel||{}).scheduler,r=n&&n.getPipeline(t.uid);if(r){var a=r.currentTask;if(a){var o=a.agentStubMap;o&&(a=o.get(t.uid))}return a}}var Series_default=SeriesModel,ComponentView=function(){function t(){this.group=new Group_default,this.uid=getUID(`viewComponent`)}return t.prototype.init=function(t,n){},t.prototype.render=function(t,n,r,a){},t.prototype.dispose=function(t,n){},t.prototype.updateView=function(t,n,r,a){},t.prototype.updateLayout=function(t,n,r,a){},t.prototype.updateVisual=function(t,n,r,a){},t.prototype.toggleBlurSeries=function(t,n,r){},t.prototype.eachRendered=function(t){var n=this.group;n&&n.traverse(t)},t}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);var Component_default=ComponentView;function createRenderPlanner(){var t=makeInner();return function(n){var r=t(n),a=n.pipelineContext,o=!!r.large,s=!!r.progressiveRender,c=r.large=!!(a&&a.large),l=r.progressiveRender=!!(a&&a.progressiveRender);return(o!==c||s!==l)&&`reset`}}var inner$19=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function t(){this.group=new Group_default,this.uid=getUID(`viewChart`),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return t.prototype.init=function(t,n){},t.prototype.render=function(t,n,r,a){},t.prototype.highlight=function(t,n,r,a){var o=t.getData(a&&a.dataType);o&&toggleHighlight(o,a,`emphasis`)},t.prototype.downplay=function(t,n,r,a){var o=t.getData(a&&a.dataType);o&&toggleHighlight(o,a,`normal`)},t.prototype.remove=function(t,n){this.group.removeAll()},t.prototype.dispose=function(t,n){},t.prototype.updateView=function(t,n,r,a){this.render(t,n,r,a)},t.prototype.updateLayout=function(t,n,r,a){this.render(t,n,r,a)},t.prototype.updateVisual=function(t,n,r,a){this.render(t,n,r,a)},t.prototype.eachRendered=function(t){traverseElements(this.group,t)},t.markUpdateMethod=function(t,n){inner$19(t).updateMethod=n},t.protoInitialize=function(){var n=t.prototype;n.type=`chart`}(),t}();function elSetState(t,n,r){t&&isHighDownDispatcher(t)&&(n===`emphasis`?enterEmphasis:leaveEmphasis)(t,r)}function toggleHighlight(t,n,r){var a=queryDataIndex(t,n),o=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;a==null?t.eachItemGraphicEl(function(t){elSetState(t,r,o)}):each$15(normalizeToArray(a),function(n){elSetState(t.getItemGraphicEl(n),r,o)})}enableClassExtend(ChartView,[`dispose`]),enableClassManagement(ChartView);function renderTaskPlan(t){return renderPlanner(t.model)}function renderTaskReset(t){var n=t.model,r=t.ecModel,a=t.api,o=t.payload,s=n.pipelineContext.progressiveRender,c=t.view,l=o&&inner$19(o).updateMethod,u=s?`incrementalPrepareRender`:l&&c[l]?l:`render`;return u!==`render`&&c[u](n,r,a,o),progressMethodMap[u]}var progressMethodMap={incrementalPrepareRender:{progress:function(t,n){n.view.incrementalRender(t,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(t,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},Chart_default=ChartView,ORIGIN_METHOD=`\0__throttleOriginMethod`,RATE=`\0__throttleRate`,THROTTLE_TYPE=`\0__throttleType`;function throttle(t,n,r){var a,o=0,s=0,c=null,l,u,d,f;n||=0;function p(){s=new Date().getTime(),c=null,t.apply(u,d||[])}var g=function(){var t=[...arguments];a=new Date().getTime(),u=this,d=t;var g=f||n,_=f||r;f=null,l=a-(_?o:s)-g,clearTimeout(c),_?c=setTimeout(p,g):l>=0?p():c=setTimeout(p,-l),o=a};return g.clear=function(){c&&=(clearTimeout(c),null)},g.debounceNextCall=function(t){f=t},g}function createOrUpdate(t,n,r,a){var o=t[n];if(o){var s=o[ORIGIN_METHOD]||o,c=o[THROTTLE_TYPE];if(o[RATE]!==r||c!==a){if(r==null||!a)return t[n]=s;o=t[n]=throttle(s,r,a===`debounce`),o[ORIGIN_METHOD]=s,o[THROTTLE_TYPE]=a,o[RATE]=r}return o}}function clear$1(t,n){var r=t[n];r&&r[ORIGIN_METHOD]&&(r.clear&&r.clear(),t[n]=r[ORIGIN_METHOD])}var inner$18=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:`stroke`,itemStyle:`fill`};function getStyleMapper(t,n){return t.visualStyleMapper||defaultStyleMappers[n]||defaultStyleMappers.itemStyle}function getDefaultColorKey(t,n){return t.visualDrawType||defaultColorKey[n]||`fill`}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){var r=t.getData(),a=t.visualStyleAccessPath||`itemStyle`,o=t.getModel(a),s=getStyleMapper(t,a)(o),c=o.getShallow(`decal`);c&&(r.setVisual(`decal`,c),c.dirty=!0);var l=getDefaultColorKey(t,a),u=s[l],d=isFunction(u)?u:null,f=s.fill===`auto`||s.stroke===`auto`;if(!s[l]||d||f){var p=t.getColorFromPalette(t.name,null,n.getSeriesCount());s[l]||(s[l]=p,r.setVisual(`colorFromPalette`,!0)),s.fill=s.fill===`auto`||isFunction(s.fill)?p:s.fill,s.stroke=s.stroke===`auto`||isFunction(s.stroke)?p:s.stroke}if(r.setVisual(`style`,s),r.setVisual(`drawType`,l),!n.isSeriesFiltered(t)&&d)return r.setVisual(`colorFromPalette`,!1),{dataEach:function(n,r){var a=t.getDataParams(r),o=extend({},s);o[l]=d(a),n.setItemVisual(r,`style`,o)}}}},sharedModel=new Model_default,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){if(!(t.ignoreStyleOnData||n.isSeriesFiltered(t))){var r=t.getData(),a=t.visualStyleAccessPath||`itemStyle`,o=getStyleMapper(t,a),s=r.getVisual(`drawType`);return{dataEach:r.hasItemOption?function(t,n){var r=t.getRawDataItem(n);if(r&&r[a]){sharedModel.option=r[a];var c=o(sharedModel);extend(t.ensureUniqueItemVisual(n,`style`),c),sharedModel.option.decal&&(t.setItemVisual(n,`decal`,sharedModel.option.decal),sharedModel.option.decal.dirty=!0),s in c&&t.setItemVisual(n,`colorFromPalette`,!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(t){var n=createHashMap();t.eachSeries(function(t){var r=t.getColorBy();if(!t.isColorBySeries()){var a=t.type+`-`+r,o=n.get(a);o||(o={},n.set(a,o)),inner$18(t).scope=o}}),t.eachSeries(function(n){if(!(n.isColorBySeries()||t.isSeriesFiltered(n))){var r=n.getRawData(),a={},o=n.getData(),s=inner$18(n).scope,c=getDefaultColorKey(n,n.visualStyleAccessPath||`itemStyle`);o.each(function(t){var n=o.getRawIndex(t);a[n]=t}),r.each(function(t){var l=a[t];if(o.getItemVisual(l,`colorFromPalette`)){var u=o.ensureUniqueItemVisual(l,`style`),d=r.getName(t)||t+``,f=r.count();u[c]=n.getColorFromPalette(d,s,f)}})}})}},PI$5=Math.PI;function defaultLoading(t,n){n||={},defaults(n,{text:`loading`,textColor:`#000`,fontSize:12,fontWeight:`normal`,fontStyle:`normal`,fontFamily:`sans-serif`,maskColor:`rgba(255, 255, 255, 0.8)`,showSpinner:!0,color:`#5470c6`,spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group_default,a=new Rect_default({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add(a);var o=new Text_default({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),s=new Rect_default({style:{fill:`none`},textContent:o,textConfig:{position:`right`,distance:10},zlevel:n.zlevel,z:10001});r.add(s);var c;return n.showSpinner&&(c=new Arc_default({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:`round`,lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start(`circularInOut`),c.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start(`circularInOut`),r.add(c)),r.resize=function(){var r=o.getBoundingRect().width,l=n.showSpinner?n.spinnerRadius:0,u=(t.getWidth()-l*2-(n.showSpinner&&r?10:0)-r)/2-(n.showSpinner&&r?0:5+r/2)+(n.showSpinner?0:r/2)+(r?0:l),d=t.getHeight()/2;n.showSpinner&&c.setShape({cx:u,cy:d}),s.setShape({x:u-l,y:d-l,width:l*2,height:l*2}),a.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var Scheduler=function(){function t(t,n,r,a){this._stageTaskMap=createHashMap(),this.ecInstance=t,this.api=n,r=this._dataProcessorHandlers=r.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=r.concat(a)}return t.prototype.restoreData=function(t,n){t.restoreData(n),this._stageTaskMap.each(function(t){var n=t.overallTask;n&&n.dirty()})},t.prototype.getPerformArgs=function(t,n){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),a=r.context,o=!n&&r.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>r.blockIndex?r.step:null,s=a&&a.modDataCount;return{step:o,modBy:s==null?null:Math.ceil(s/o),modDataCount:s}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,n){var r=this._pipelineMap.get(t.uid),a=t.getData().count(),o=r.progressiveEnabled&&n.incrementalPrepareRender&&a>=r.threshold,s=t.get(`large`)&&a>=t.get(`largeThreshold`);t.pipelineContext=r.context={progressiveRender:o,modDataCount:t.get(`progressiveChunkMode`)===`mod`?a:null,large:s}},t.prototype.restorePipelines=function(t){var n=this,r=n._pipelineMap=createHashMap();t.eachSeries(function(t){var a=t.getProgressive(),o=t.uid;r.set(o,{id:o,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:a&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),n._pipe(t,t.dataTask)})},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,n=this.api.getModel(),r=this.api;each$15(this._allHandlers,function(a){var o=t.get(a.uid)||t.set(a.uid,{});assert(!(a.reset&&a.overallReset),``),a.reset&&this._createSeriesStageTask(a,o,n,r),a.overallReset&&this._createOverallStageTask(a,o,n,r)},this)},t.prototype.prepareView=function(t,n,r,a){var o=t.renderTask,s=o.context;s.model=n,s.ecModel=r,s.api=a,o.__block=!t.incrementalPrepareRender,this._pipe(n,o)},t.prototype.performDataProcessorTasks=function(t,n){this._performStageTasks(this._dataProcessorHandlers,t,n,{block:!0})},t.prototype.performVisualTasks=function(t,n,r){this._performStageTasks(this._visualHandlers,t,n,r)},t.prototype._performStageTasks=function(t,n,r,a){a||={};var o=!1,s=this;each$15(t,function(t,l){if(!(a.visualType&&a.visualType!==t.visualType)){var u=s._stageTaskMap.get(t.uid),d=u.seriesTaskMap,f=u.overallTask;if(f){var p,g=f.agentStubMap;g.each(function(t){c(a,t)&&(t.dirty(),p=!0)}),p&&f.dirty(),s.updatePayload(f,r);var _=s.getPerformArgs(f,a.block);g.each(function(t){t.perform(_)}),f.perform(_)&&(o=!0)}else d&&d.each(function(l,u){c(a,l)&&l.dirty();var d=s.getPerformArgs(l,a.block);d.skip=!t.performRawSeries&&n.isSeriesFiltered(l.context.model),s.updatePayload(l,r),l.perform(d)&&(o=!0)})}});function c(t,n){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(n.__pipeline.id))}this.unfinished=o||this.unfinished},t.prototype.performSeriesTasks=function(t){var n;t.eachSeries(function(t){n=t.dataTask.perform()||n}),this.unfinished=n||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(t){var n=t.tail;do{if(n.__block){t.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},t.prototype.updatePayload=function(t,n){n!==`remain`&&(t.context.payload=n)},t.prototype._createSeriesStageTask=function(t,n,r,a){var o=this,s=n.seriesTaskMap,c=n.seriesTaskMap=createHashMap(),l=t.seriesType,u=t.getTargetSeries;t.createOnAllSeries?r.eachRawSeries(d):l?r.eachRawSeriesByType(l,d):u&&u(r,a).each(d);function d(n){var l=n.uid,u=c.set(l,s&&s.get(l)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));u.context={model:n,ecModel:r,api:a,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(n,u)}},t.prototype._createOverallStageTask=function(t,n,r,a){var o=this,s=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});s.context={ecModel:r,api:a,overallReset:t.overallReset,scheduler:o};var c=s.agentStubMap,l=s.agentStubMap=createHashMap(),u=t.seriesType,d=t.getTargetSeries,f=!0,p=!1;assert(!t.createOnAllSeries,``),u?r.eachRawSeriesByType(u,g):d?d(r,a).each(g):(f=!1,each$15(r.getSeries(),g));function g(t){var n=t.uid,r=l.set(n,c&&c.get(n)||(p=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));r.context={model:t,overallProgress:f},r.agent=s,r.__block=f,o._pipe(t,r)}p&&s.dirty()},t.prototype._pipe=function(t,n){var r=t.uid,a=this._pipelineMap.get(r);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},t.wrapStageHandler=function(t,n){return isFunction(t)&&(t={overallReset:t,seriesType:detectSeriseType(t)}),t.uid=getUID(`stageHandler`),n&&(t.visualType=n),t},t}();function overallTaskReset(t){t.overallReset(t.ecModel,t.api,t.payload)}function stubReset(t){return t.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function seriesTaskReset(t){t.useClearVisual&&t.data.clearAllVisual();var n=t.resetDefines=normalizeToArray(t.reset(t.model,t.ecModel,t.api,t.payload));return n.length>1?map$1(n,function(t,n){return makeSeriesTaskProgress(n)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(t){return function(n,r){var a=r.data,o=r.resetDefines[t];if(o&&o.dataEach)for(var s=n.start;s<n.end;s++)o.dataEach(a,s);else o&&o.progress&&o.progress(n,a)}}function seriesTaskCount(t){return t.data.count()}function detectSeriseType(t){seriesType=null;try{t(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,Global_default),mockMethods(apiMock,ExtensionAPI_default),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(t){seriesType=t},ecModelMock.eachComponent=function(t){t.mainType===`series`&&t.subType&&(seriesType=t.subType)};function mockMethods(t,n){for(var r in n.prototype)t[r]=noop}var Scheduler_default=Scheduler,colorAll=[`#37A2DA`,`#32C5E9`,`#67E0E3`,`#9FE6B8`,`#FFDB5C`,`#ff9f7f`,`#fb7293`,`#E062AE`,`#E690D1`,`#e7bcf3`,`#9d96f5`,`#8378EA`,`#96BFFF`],light_default={color:colorAll,colorLayer:[[`#37A2DA`,`#ffd85c`,`#fd7b5f`],[`#37A2DA`,`#67E0E3`,`#FFDB5C`,`#ff9f7f`,`#E062AE`,`#9d96f5`],[`#37A2DA`,`#32C5E9`,`#9FE6B8`,`#FFDB5C`,`#ff9f7f`,`#fb7293`,`#e7bcf3`,`#8378EA`,`#96BFFF`],colorAll]},contrastColor=`#B9B8CE`,backgroundColor=`#100C2A`,axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:`#484753`}},splitArea:{areaStyle:{color:[`rgba(255,255,255,0.02)`,`rgba(255,255,255,0.05)`]}},minorSplitLine:{lineStyle:{color:`#20203B`}}}},colorPalette=[`#4992ff`,`#7cffb2`,`#fddd60`,`#ff6e76`,`#58d9f9`,`#05c091`,`#ff8a45`,`#8d48e3`,`#dd79ff`],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:`#817f91`},crossStyle:{color:`#817f91`},label:{color:`#fff`}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:`#EEF1FA`},subtextStyle:{color:`#B9B8CE`}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:`#71708A`,textStyle:{color:contrastColor},brushStyle:{color:`rgba(135,163,206,0.3)`},handleStyle:{color:`#353450`,borderColor:`#C5CBE3`},moveHandleStyle:{color:`#B0B6C3`,opacity:.3},fillerColor:`rgba(135,163,206,0.2)`,emphasis:{handleStyle:{borderColor:`#91B7F2`,color:`#4D587D`},moveHandleStyle:{color:`#636D9A`,opacity:.7}},dataBackground:{lineStyle:{color:`#71708A`,width:1},areaStyle:{color:`#71708A`}},selectedDataBackground:{lineStyle:{color:`#87A3CE`},areaStyle:{color:`#87A3CE`}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:`circle`},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,`rgba(207,212,219,0.2)`]]}},axisLabel:{color:contrastColor},detail:{color:`#EEF1FA`}},candlestick:{itemStyle:{color:`#f64e56`,color0:`#54ea92`,borderColor:`#f64e56`,borderColor0:`#54ea92`}}};theme.categoryAxis.splitLine.show=!1;var dark_default=theme,ECEventProcessor=function(){function t(){}return t.prototype.normalizeQuery=function(t){var n={},r={},a={};if(isString(t)){var o=parseClassType(t);n.mainType=o.main||null,n.subType=o.sub||null}else{var s=[`Index`,`Name`,`Id`],c={name:1,dataIndex:1,dataType:1};each$15(t,function(t,o){for(var l=!1,u=0;u<s.length;u++){var d=s[u],f=o.lastIndexOf(d);if(f>0&&f===o.length-d.length){var p=o.slice(0,f);p!==`data`&&(n.mainType=p,n[d.toLowerCase()]=t,l=!0)}}c.hasOwnProperty(o)&&(r[o]=t,l=!0),l||(a[o]=t)})}return{cptQuery:n,dataQuery:r,otherQuery:a}},t.prototype.filter=function(t,n){var r=this.eventInfo;if(!r)return!0;var a=r.targetEl,o=r.packedEvent,s=r.model,c=r.view;if(!s||!c)return!0;var l=n.cptQuery,u=n.dataQuery;return d(l,s,`mainType`)&&d(l,s,`subType`)&&d(l,s,`index`,`componentIndex`)&&d(l,s,`name`)&&d(l,s,`id`)&&d(u,o,`name`)&&d(u,o,`dataIndex`)&&d(u,o,`dataType`)&&(!c.filterForExposedEvent||c.filterForExposedEvent(t,n.otherQuery,a,o));function d(t,n,r,a){return t[r]==null||n[a||r]===t[r]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),SYMBOL_PROPS_WITH_CB=[`symbol`,`symbolSize`,`symbolRotate`,`symbolOffset`],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat([`symbolKeepAspect`]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){var r=t.getData();if(t.legendIcon&&r.setVisual(`legendIcon`,t.legendIcon),!t.hasSymbolVisual)return;for(var a={},o={},s=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var l=SYMBOL_PROPS_WITH_CB[c],u=t.get(l);isFunction(u)?(s=!0,o[l]=u):a[l]=u}if(a.symbol=a.symbol||t.defaultSymbol,r.setVisual(extend({legendIcon:t.legendIcon||a.symbol,symbolKeepAspect:t.get(`symbolKeepAspect`)},a)),n.isSeriesFiltered(t))return;var d=keys(o);function f(n,r){for(var a=t.getRawValue(r),s=t.getDataParams(r),c=0;c<d.length;c++){var l=d[c];n.setItemVisual(r,l,o[l](a,s))}}return{dataEach:s?f:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){if(!t.hasSymbolVisual||n.isSeriesFiltered(t))return;var r=t.getData();function a(t,n){for(var r=t.getItemModel(n),a=0;a<SYMBOL_PROPS.length;a++){var o=SYMBOL_PROPS[a],s=r.getShallow(o,!0);s!=null&&t.setItemVisual(n,o,s)}}return{dataEach:r.hasItemOption?a:null}}};function getItemVisualFromData(t,n,r){switch(r){case`color`:return t.getItemVisual(n,`style`)[t.getVisual(`drawType`)];case`opacity`:return t.getItemVisual(n,`style`).opacity;case`symbol`:case`symbolSize`:case`liftZ`:return t.getItemVisual(n,r);default:}}function getVisualFromData(t,n){switch(n){case`color`:return t.getVisual(`style`)[t.getVisual(`drawType`)];case`opacity`:return t.getVisual(`style`).opacity;case`symbol`:case`symbolSize`:case`liftZ`:return t.getVisual(n);default:}}function setItemVisualFromData(t,n,r,a){switch(r){case`color`:var o=t.ensureUniqueItemVisual(n,`style`);o[t.getVisual(`drawType`)]=a,t.setItemVisual(n,`colorFromPalette`,!1);break;case`opacity`:t.ensureUniqueItemVisual(n,`style`).opacity=a;break;case`symbol`:case`symbolSize`:case`liftZ`:t.setItemVisual(n,r,a);break;default:}}function createLegacyDataSelectAction(t,n){function r(n,r){var a=[];return n.eachComponent({mainType:`series`,subType:t,query:r},function(t){a.push(t.seriesIndex)}),a}each$15([[t+`ToggleSelect`,`toggleSelect`],[t+`Select`,`select`],[t+`UnSelect`,`unselect`]],function(t){n(t[0],function(n,a,o){n=extend({},n),o.dispatchAction(extend(n,{type:t[1],seriesIndex:r(a,n)}))})})}function handleSeriesLegacySelectEvents(t,n,r,a,o){var s=t+n;r.isSilent(s)||a.eachComponent({mainType:`series`,subType:`pie`},function(t){for(var n=t.seriesIndex,a=t.option.selectedMap,c=o.selected,l=0;l<c.length;l++)if(c[l].seriesIndex===n){var u=t.getData(),d=queryDataIndex(u,o.fromActionPayload);r.trigger(s,{type:s,seriesId:t.id,name:isArray$1(d)?u.getName(d[0]):u.getName(d),selected:isString(a)?a:extend({},a)})}})}function handleLegacySelectEvents(t,n,r){t.on(`selectchanged`,function(t){var a=r.getModel();t.isFromClick?(handleSeriesLegacySelectEvents(`map`,`selectchanged`,n,a,t),handleSeriesLegacySelectEvents(`pie`,`selectchanged`,n,a,t)):t.fromAction===`select`?(handleSeriesLegacySelectEvents(`map`,`selected`,n,a,t),handleSeriesLegacySelectEvents(`pie`,`selected`,n,a,t)):t.fromAction===`unselect`&&(handleSeriesLegacySelectEvents(`map`,`unselected`,n,a,t),handleSeriesLegacySelectEvents(`pie`,`unselected`,n,a,t))})}function findEventDispatcher(t,n,r){for(var a;t&&!(n(t)&&(a=t,r));)t=t.__hostTarget||t.parent;return a}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty==`function`,WeakMap_default=function(){function t(){this._id=`__ec_inner_`+ wmUniqueIndex++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,n){var r=this._guard(t);return supportDefineProperty?Object.defineProperty(r,this._id,{value:n,enumerable:!1,configurable:!0}):r[this._id]=n,this},t.prototype.delete=function(t){return this.has(t)?(delete this._guard(t)[this._id],!0):!1},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError(`Value of WeakMap is not a non-null object.`);return t},t}(),Triangle=Path_default.extend({type:`triangle`,shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,n){var r=n.cx,a=n.cy,o=n.width/2,s=n.height/2;t.moveTo(r,a-s),t.lineTo(r+o,a+s),t.lineTo(r-o,a+s),t.closePath()}}),symbolCtors={line:Line_default$1,rect:Rect_default,roundRect:Rect_default,square:Rect_default,circle:Circle_default,diamond:Path_default.extend({type:`diamond`,shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,n){var r=n.cx,a=n.cy,o=n.width/2,s=n.height/2;t.moveTo(r,a-s),t.lineTo(r+o,a),t.lineTo(r,a+s),t.lineTo(r-o,a),t.closePath()}}),pin:Path_default.extend({type:`pin`,shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var r=n.x,a=n.y,o=n.width/5*3,s=Math.max(o,n.height),c=o/2,l=c*c/(s-c),u=a-s+c+l,d=Math.asin(l/c),f=Math.cos(d)*c,p=Math.sin(d),g=Math.cos(d),_=c*.6,v=c*.7;t.moveTo(r-f,u+l),t.arc(r,u,c,Math.PI-d,Math.PI*2+d),t.bezierCurveTo(r+f-p*_,u+l+g*_,r,a-v,r,a),t.bezierCurveTo(r,a-v,r-f+p*_,u+l+g*_,r-f,u+l),t.closePath()}}),arrow:Path_default.extend({type:`arrow`,shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var r=n.height,a=n.width,o=n.x,s=n.y,c=a/3*2;t.moveTo(o,s),t.lineTo(o+c,s+r),t.lineTo(o,s+r/4*3),t.lineTo(o-c,s+r),t.lineTo(o,s),t.closePath()}}),triangle:Triangle},symbolShapeMakers={line:function(t,n,r,a,o){o.x1=t,o.y1=n+a/2,o.x2=t+r,o.y2=n+a/2},rect:function(t,n,r,a,o){o.x=t,o.y=n,o.width=r,o.height=a},roundRect:function(t,n,r,a,o){o.x=t,o.y=n,o.width=r,o.height=a,o.r=Math.min(r,a)/4},square:function(t,n,r,a,o){var s=Math.min(r,a);o.x=t,o.y=n,o.width=s,o.height=s},circle:function(t,n,r,a,o){o.cx=t+r/2,o.cy=n+a/2,o.r=Math.min(r,a)/2},diamond:function(t,n,r,a,o){o.cx=t+r/2,o.cy=n+a/2,o.width=r,o.height=a},pin:function(t,n,r,a,o){o.x=t+r/2,o.y=n+a/2,o.width=r,o.height=a},arrow:function(t,n,r,a,o){o.x=t+r/2,o.y=n+a/2,o.width=r,o.height=a},triangle:function(t,n,r,a,o){o.cx=t+r/2,o.cy=n+a/2,o.width=r,o.height=a}},symbolBuildProxies={};each$15(symbolCtors,function(t,n){symbolBuildProxies[n]=new t});var SymbolClz=Path_default.extend({type:`symbol`,shape:{symbolType:``,x:0,y:0,width:0,height:0},calculateTextPosition:function(t,n,r){var a=calculateTextPosition(t,n,r),o=this.shape;return o&&o.symbolType===`pin`&&n.position===`inside`&&(a.y=r.y+r.height*.4),a},buildPath:function(t,n,r){var a=n.symbolType;if(a!==`none`){var o=symbolBuildProxies[a];o||=(a=`rect`,symbolBuildProxies[a]),symbolShapeMakers[a](n.x,n.y,n.width,n.height,o.shape),o.buildPath(t,o.shape,r)}}});function symbolPathSetColor(t,n){if(this.type!==`image`){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=n||`#fff`,r.lineWidth=2):this.shape.symbolType===`line`?r.stroke=t:r.fill=t,this.markRedraw()}}function createSymbol$1(t,n,r,a,o,s,c){var l=t.indexOf(`empty`)===0;l&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var u=t.indexOf(`image://`)===0?makeImage(t.slice(8),new BoundingRect_default(n,r,a,o),c?`center`:`cover`):t.indexOf(`path://`)===0?makePath(t.slice(7),{},new BoundingRect_default(n,r,a,o),c?`center`:`cover`):new SymbolClz({shape:{symbolType:t,x:n,y:r,width:a,height:o}});return u.__isEmptyBrush=l,u.setColor=symbolPathSetColor,s&&u.setColor(s),u}function normalizeSymbolSize(t){return isArray$1(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function normalizeSymbolOffset(t,n){if(t!=null)return isArray$1(t)||(t=[t,t]),[parsePercent(t[0],n[0])||0,parsePercent(retrieve2(t[1],t[0]),n[1])||0]}function isSafeNum(t){return isFinite(t)}function createLinearGradient(t,n,r){var a=n.x==null?0:n.x,o=n.x2==null?1:n.x2,s=n.y==null?0:n.y,c=n.y2==null?0:n.y2;return n.global||(a=a*r.width+r.x,o=o*r.width+r.x,s=s*r.height+r.y,c=c*r.height+r.y),a=isSafeNum(a)?a:0,o=isSafeNum(o)?o:1,s=isSafeNum(s)?s:0,c=isSafeNum(c)?c:0,t.createLinearGradient(a,s,o,c)}function createRadialGradient(t,n,r){var a=r.width,o=r.height,s=Math.min(a,o),c=n.x==null?.5:n.x,l=n.y==null?.5:n.y,u=n.r==null?.5:n.r;return n.global||(c=c*a+r.x,l=l*o+r.y,u*=s),c=isSafeNum(c)?c:.5,l=isSafeNum(l)?l:.5,u=u>=0&&isSafeNum(u)?u:.5,t.createRadialGradient(c,l,0,c,l,u)}function getCanvasGradient(t,n,r){for(var a=n.type===`radial`?createRadialGradient(t,n,r):createLinearGradient(t,n,r),o=n.colorStops,s=0;s<o.length;s++)a.addColorStop(o[s].offset,o[s].color);return a}function isClipPathChanged(t,n){if(t===n||!t&&!n)return!1;if(!t||!n||t.length!==n.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!0;return!1}function parseInt10(t){return parseInt(t,10)}function getSize$1(t,n,r){var a=[`width`,`height`][n],o=[`clientWidth`,`clientHeight`][n],s=[`paddingLeft`,`paddingTop`][n],c=[`paddingRight`,`paddingBottom`][n];if(r[a]!=null&&r[a]!==`auto`)return parseFloat(r[a]);var l=document.defaultView.getComputedStyle(t);return(t[o]||parseInt10(l[a])||parseInt10(t.style[a]))-(parseInt10(l[s])||0)-(parseInt10(l[c])||0)|0}function normalizeLineDash(t,n){return!t||t===`solid`||!(n>0)?null:t===`dashed`?[4*n,2*n]:t===`dotted`?[n]:isNumber(t)?[t]:isArray$1(t)?t:null}function getLineDash(t){var n=t.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),a=n.lineDashOffset;if(r){var o=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;o&&o!==1&&(r=map$1(r,function(t){return t/o}),a/=o)}return[r,a]}var pathProxyForDraw=new PathProxy_default(!0);function styleHasStroke(t){var n=t.stroke;return!(n==null||n===`none`||!(t.lineWidth>0))}function isValidStrokeFillStyle(t){return typeof t==`string`&&t!==`none`}function styleHasFill(t){var n=t.fill;return n!=null&&n!==`none`}function doFillPath(t,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function doStrokePath(t,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function createCanvasPattern(t,n,r){var a=createOrUpdateImage(n.image,n.__image,r);if(isImageReady(a)){var o=t.createPattern(a,n.repeat||`repeat`);if(typeof DOMMatrix==`function`&&o&&o.setTransform){var s=new DOMMatrix;s.translateSelf(n.x||0,n.y||0),s.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),s.scaleSelf(n.scaleX||1,n.scaleY||1),o.setTransform(s)}return o}}function brushPath(t,n,r,a){var o,s=styleHasStroke(r),c=styleHasFill(r),l=r.strokePercent,u=l<1,d=!n.path;(!n.silent||u)&&d&&n.createPathProxy();var f=n.path||pathProxyForDraw,p=n.__dirty;if(!a){var g=r.fill,_=r.stroke,v=c&&!!g.colorStops,y=s&&!!_.colorStops,b=c&&!!g.image,x=s&&!!_.image,S=void 0,C=void 0,w=void 0,T=void 0,E=void 0;(v||y)&&(E=n.getBoundingRect()),v&&(S=p?getCanvasGradient(t,g,E):n.__canvasFillGradient,n.__canvasFillGradient=S),y&&(C=p?getCanvasGradient(t,_,E):n.__canvasStrokeGradient,n.__canvasStrokeGradient=C),b&&(w=p||!n.__canvasFillPattern?createCanvasPattern(t,g,n):n.__canvasFillPattern,n.__canvasFillPattern=w),x&&(T=p||!n.__canvasStrokePattern?createCanvasPattern(t,_,n):n.__canvasStrokePattern,n.__canvasStrokePattern=w),v?t.fillStyle=S:b&&(w?t.fillStyle=w:c=!1),y?t.strokeStyle=C:x&&(T?t.strokeStyle=T:s=!1)}var D=n.getGlobalScale();f.setScale(D[0],D[1],n.segmentIgnoreThreshold);var O,A;t.setLineDash&&r.lineDash&&(o=getLineDash(n),O=o[0],A=o[1]);var j=!0;(d||p&4)&&(f.setDPR(t.dpr),u?f.setContext(null):(f.setContext(t),j=!1),f.reset(),n.buildPath(f,n.shape,a),f.toStatic(),n.pathUpdated()),j&&f.rebuildPath(t,u?l:1),O&&(t.setLineDash(O),t.lineDashOffset=A),a||(r.strokeFirst?(s&&doStrokePath(t,r),c&&doFillPath(t,r)):(c&&doFillPath(t,r),s&&doStrokePath(t,r))),O&&t.setLineDash([])}function brushImage(t,n,r){var a=n.__image=createOrUpdateImage(r.image,n.__image,n,n.onload);if(!(!a||!isImageReady(a))){var o=r.x||0,s=r.y||0,c=n.getWidth(),l=n.getHeight(),u=a.width/a.height;if(c==null&&l!=null?c=l*u:l==null&&c!=null?l=c/u:c==null&&l==null&&(c=a.width,l=a.height),r.sWidth&&r.sHeight){var d=r.sx||0,f=r.sy||0;t.drawImage(a,d,f,r.sWidth,r.sHeight,o,s,c,l)}else if(r.sx&&r.sy){var d=r.sx,f=r.sy,p=c-d,g=l-f;t.drawImage(a,d,f,p,g,o,s,c,l)}else t.drawImage(a,o,s,c,l)}}function brushText(t,n,r){var a,o=r.text;if(o!=null&&(o+=``),o){t.font=r.font||`12px sans-serif`,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var s=void 0,c=void 0;t.setLineDash&&r.lineDash&&(a=getLineDash(n),s=a[0],c=a[1]),s&&(t.setLineDash(s),t.lineDashOffset=c),r.strokeFirst?(styleHasStroke(r)&&t.strokeText(o,r.x,r.y),styleHasFill(r)&&t.fillText(o,r.x,r.y)):(styleHasFill(r)&&t.fillText(o,r.x,r.y),styleHasStroke(r)&&t.strokeText(o,r.x,r.y)),s&&t.setLineDash([])}}var SHADOW_NUMBER_PROPS=[`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`],STROKE_PROPS=[[`lineCap`,`butt`],[`lineJoin`,`miter`],[`miterLimit`,10]];function bindCommonProps(t,n,r,a,o){var s=!1;if(!a&&(r||={},n===r))return!1;if(a||n.opacity!==r.opacity){flushPathDrawn(t,o),s=!0;var c=Math.max(Math.min(n.opacity,1),0);t.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(a||n.blend!==r.blend)&&(s||=(flushPathDrawn(t,o),!0),t.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var l=0;l<SHADOW_NUMBER_PROPS.length;l++){var u=SHADOW_NUMBER_PROPS[l];(a||n[u]!==r[u])&&(s||=(flushPathDrawn(t,o),!0),t[u]=t.dpr*(n[u]||0))}return(a||n.shadowColor!==r.shadowColor)&&(s||=(flushPathDrawn(t,o),!0),t.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),s}function bindPathAndTextCommonStyle(t,n,r,a,o){var s=getStyle(n,o.inHover),c=a?null:r&&getStyle(r,o.inHover)||{};if(s===c)return!1;var l=bindCommonProps(t,s,c,a,o);if((a||s.fill!==c.fill)&&(l||=(flushPathDrawn(t,o),!0),isValidStrokeFillStyle(s.fill)&&(t.fillStyle=s.fill)),(a||s.stroke!==c.stroke)&&(l||=(flushPathDrawn(t,o),!0),isValidStrokeFillStyle(s.stroke)&&(t.strokeStyle=s.stroke)),(a||s.opacity!==c.opacity)&&(l||=(flushPathDrawn(t,o),!0),t.globalAlpha=s.opacity==null?1:s.opacity),n.hasStroke()){var u=s.lineWidth/(s.strokeNoScale&&n.getLineScale?n.getLineScale():1);t.lineWidth!==u&&(l||=(flushPathDrawn(t,o),!0),t.lineWidth=u)}for(var d=0;d<STROKE_PROPS.length;d++){var f=STROKE_PROPS[d],p=f[0];(a||s[p]!==c[p])&&(l||=(flushPathDrawn(t,o),!0),t[p]=s[p]||f[1])}return l}function bindImageStyle(t,n,r,a,o){return bindCommonProps(t,getStyle(n,o.inHover),r&&getStyle(r,o.inHover),a,o)}function setContextTransform(t,n){var r=n.transform,a=t.dpr||1;r?t.setTransform(a*r[0],a*r[1],a*r[2],a*r[3],a*r[4],a*r[5]):t.setTransform(a,0,0,a,0,0)}function updateClipStatus(t,n,r){for(var a=!1,o=0;o<t.length;o++){var s=t[o];a||=s.isZeroArea(),setContextTransform(n,s),n.beginPath(),s.buildPath(n,s.shape),n.clip()}r.allClipped=a}function isTransformChanged(t,n){return t&&n?t[0]!==n[0]||t[1]!==n[1]||t[2]!==n[2]||t[3]!==n[3]||t[4]!==n[4]||t[5]!==n[5]:!(!t&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(t){var n=styleHasFill(t),r=styleHasStroke(t);return!(t.lineDash||!(n^+r)||n&&typeof t.fill!=`string`||r&&typeof t.stroke!=`string`||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function flushPathDrawn(t,n){n.batchFill&&t.fill(),n.batchStroke&&t.stroke(),n.batchFill=``,n.batchStroke=``}function getStyle(t,n){return n&&t.__hoverStyle||t.style}function brushSingle(t,n){brush$1(t,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(t,n,r,a){var o=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=-2,n.__isRendered=!1;return}var s=n.__clipPaths,c=r.prevElClipPaths,l=!1,u=!1;if((!c||isClipPathChanged(s,c))&&(c&&c.length&&(flushPathDrawn(t,r),t.restore(),u=l=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),s&&s.length&&(flushPathDrawn(t,r),t.save(),updateClipStatus(s,t,r),l=!0),r.prevElClipPaths=s),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var d=r.prevEl;d||(u=l=!0);var f=n instanceof Path_default&&n.autoBatch&&canPathBatch(n.style);l||isTransformChanged(o,d.transform)?(flushPathDrawn(t,r),setContextTransform(t,n)):f||flushPathDrawn(t,r);var p=getStyle(n,r.inHover);n instanceof Path_default?(r.lastDrawType!==DRAW_TYPE_PATH&&(u=!0,r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(t,n,d,u,r),(!f||!r.batchFill&&!r.batchStroke)&&t.beginPath(),brushPath(t,n,p,f),f&&(r.batchFill=p.fill||``,r.batchStroke=p.stroke||``)):n instanceof TSpan_default?(r.lastDrawType!==DRAW_TYPE_TEXT&&(u=!0,r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(t,n,d,u,r),brushText(t,n,p)):n instanceof Image_default?(r.lastDrawType!==DRAW_TYPE_IMAGE&&(u=!0,r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(t,n,d,u,r),brushImage(t,n,p)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(u=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(t,n,r)),f&&a&&flushPathDrawn(t,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(t,n,r){var a=n.getDisplayables(),o=n.getTemporalDisplayables();t.save();var s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},c,l;for(c=n.getCursor(),l=a.length;c<l;c++){var u=a[c];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),brush$1(t,u,s,c===l-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}for(var d=0,f=o.length;d<f;d++){var u=o[d];u.beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),brush$1(t,u,s,d===f-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}n.clearTemporalDisplayables(),n.notClear=!0,t.restore()}var decalMap=new WeakMap_default,decalCache=new LRU_default(100),decalKeys=[`symbol`,`symbolSize`,`symbolKeepAspect`,`color`,`backgroundColor`,`dashArrayX`,`dashArrayY`,`maxTileWidth`,`maxTileHeight`];function createOrUpdatePatternFromDecal(t,n){if(t===`none`)return null;var r=n.getDevicePixelRatio(),a=n.getZr(),o=a.painter.type===`svg`;t.dirty&&decalMap.delete(t);var s=decalMap.get(t);if(s)return s;var c=defaults(t,{symbol:`rect`,symbolSize:1,symbolKeepAspect:!0,color:`rgba(0, 0, 0, 0.2)`,backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor===`none`&&(c.backgroundColor=null);var l={repeat:`repeat`};return u(l),l.rotation=c.rotation,l.scaleX=l.scaleY=o?1:1/r,decalMap.set(t,l),t.dirty=!1,l;function u(t){for(var n=[r],s=!0,l=0;l<decalKeys.length;++l){var u=c[decalKeys[l]];if(u!=null&&!isArray$1(u)&&!isString(u)&&!isNumber(u)&&typeof u!=`boolean`){s=!1;break}n.push(u)}var d;if(s){d=n.join(`,`)+(o?`-svg`:``);var f=decalCache.get(d);f&&(o?t.svgElement=f:t.image=f)}var p=normalizeDashArrayX(c.dashArrayX),g=normalizeDashArrayY(c.dashArrayY),_=normalizeSymbolArray(c.symbol),v=getLineBlockLengthX(p),y=getLineBlockLengthY(g),b=!o&&platformApi.createCanvas(),x=o&&{tag:`g`,attrs:{},key:`dcl`,children:[]},S=w(),C;b&&(b.width=S.width*r,b.height=S.height*r,C=b.getContext(`2d`)),T(),s&&decalCache.put(d,b||x),t.image=b,t.svgElement=x,t.svgWidth=S.width,t.svgHeight=S.height;function w(){for(var t=1,n=0,r=v.length;n<r;++n)t=getLeastCommonMultiple(t,v[n]);for(var a=1,n=0,r=_.length;n<r;++n)a=getLeastCommonMultiple(a,_[n].length);t*=a;var o=y*v.length*_.length;return{width:Math.max(1,Math.min(t,c.maxTileWidth)),height:Math.max(1,Math.min(o,c.maxTileHeight))}}function T(){C&&(C.clearRect(0,0,b.width,b.height),c.backgroundColor&&(C.fillStyle=c.backgroundColor,C.fillRect(0,0,b.width,b.height)));for(var t=0,n=0;n<g.length;++n)t+=g[n];if(t<=0)return;for(var s=-y,l=0,u=0,d=0;s<S.height;){if(l%2==0){for(var f=u/2%_.length,v=0,w=0,T=0;v<S.width*2;){for(var E=0,n=0;n<p[d].length;++n)E+=p[d][n];if(E<=0)break;if(w%2==0){var D=(1-c.symbolSize)*.5,O=v+p[d][w]*D,A=s+g[l]*D,j=p[d][w]*c.symbolSize,M=g[l]*c.symbolSize,N=T/2%_[f].length;P(O,A,j,M,_[f][N])}v+=p[d][w],++T,++w,w===p[d].length&&(w=0)}++d,d===p.length&&(d=0)}s+=g[l],++u,++l,l===g.length&&(l=0)}function P(t,n,s,l,u){var d=o?1:r,f=createSymbol$1(u,t*d,n*d,s*d,l*d,c.color,c.symbolKeepAspect);if(o){var p=a.painter.renderOneToVNode(f);p&&x.children.push(p)}else brushSingle(C,f)}}}}function normalizeSymbolArray(t){if(!t||t.length===0)return[[`rect`]];if(isString(t))return[[t]];for(var n=!0,r=0;r<t.length;++r)if(!isString(t[r])){n=!1;break}if(n)return normalizeSymbolArray([t]);for(var a=[],r=0;r<t.length;++r)isString(t[r])?a.push([t[r]]):a.push(t[r]);return a}function normalizeDashArrayX(t){if(!t||t.length===0)return[[0,0]];if(isNumber(t)){var n=Math.ceil(t);return[[n,n]]}for(var r=!0,a=0;a<t.length;++a)if(!isNumber(t[a])){r=!1;break}if(r)return normalizeDashArrayX([t]);for(var o=[],a=0;a<t.length;++a)if(isNumber(t[a])){var n=Math.ceil(t[a]);o.push([n,n])}else{var n=map$1(t[a],function(t){return Math.ceil(t)});n.length%2==1?o.push(n.concat(n)):o.push(n)}return o}function normalizeDashArrayY(t){if(!t||typeof t==`object`&&t.length===0)return[0,0];if(isNumber(t)){var n=Math.ceil(t);return[n,n]}var r=map$1(t,function(t){return Math.ceil(t)});return t.length%2?r.concat(r):r}function getLineBlockLengthX(t){return map$1(t,function(t){return getLineBlockLengthY(t)})}function getLineBlockLengthY(t){for(var n=0,r=0;r<t.length;++r)n+=t[r];return t.length%2==1?n*2:n}function decalVisual(t,n){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var a=r.getData();a.hasItemVisual()&&a.each(function(t){var r=a.getItemVisual(t,`decal`);if(r){var o=a.ensureUniqueItemVisual(t,`style`);o.decal=createOrUpdatePatternFromDecal(r,n)}});var o=a.getVisual(`decal`);if(o){var s=a.getVisual(`style`);s.decal=createOrUpdatePatternFromDecal(o,n)}}})}var lifecycle_default=new Eventful_default,implsStore={};function registerImpl(t,n){implsStore[t]=n}function getImpl(t){return implsStore[t]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY=`__flagInMainProcess`,PENDING_UPDATE=`__pendingUpdate`,STATUS_NEEDS_UPDATE_KEY=`__needsUpdateStatus`,ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY=`__connectUpdateStatus`,CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(t){return function(){var n=[...arguments];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,t,n)}}function createRegisterEventWithLowercaseMessageCenter(t){return function(){return toLowercaseNameAndCallEventful(this,t,[...arguments])}}function toLowercaseNameAndCallEventful(t,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful_default.prototype[n].apply(t,r)}var MessageCenter=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n}(Eventful_default),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter(`on`),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter(`off`);var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts$1=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this,new ECEventProcessor)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],a||={},isString(r)&&(r=themeStorage[r]),o._dom=n;var s=`canvas`,c=`auto`,l=!1;a.ssr&&registerSSRDataGetter(function(t){var n=getECData(t),r=n.dataIndex;if(r!=null){var a=createHashMap();return a.set(`series_index`,n.seriesIndex),a.set(`data_index`,r),n.ssrType&&a.set(`ssr_type`,n.ssrType),a}});var u=o._zr=init$2(n,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,l),useCoarsePointer:retrieve2(a.useCoarsePointer,c),pointerSize:a.pointerSize});o._ssr=a.ssr,o._throttledZrFlush=throttle(bind$1(u.flush,u),17),r=clone$4(r),r&&globalBackwardCompat(r,!0),o._theme=r,o._locale=createLocaleObject(a.locale||SYSTEM_LANG),o._coordSysMgr=new CoordinateSystem_default;var d=o._api=createExtensionAPI(o);function f(t,n){return t.__prio-n.__prio}return sort$2(visualFuncs,f),sort$2(dataProcessorFuncs,f),o._scheduler=new Scheduler_default(o,d,dataProcessorFuncs,visualFuncs),o._messageCenter=new MessageCenter,o._initEvents(),o.resize=bind$1(o.resize,o),u.animation.on(`frame`,o._onframe,o),bindRenderedEvent(u,o),bindMouseEvent(u,o),setAsPrimitive(o),o}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var t=this._scheduler;if(this[PENDING_UPDATE]){var n=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(t){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,t}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,n),triggerUpdatedEvent.call(this,n)}else if(t.unfinished){var r=TEST_FRAME_REMAIN_TIME,a=this._model,o=this._api;t.unfinished=!1;do{var s=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),updateStreamModes(this,a),t.performVisualTasks(a),renderSeries(this,this._model,o,`remain`,{}),r-=+new Date-s}while(r>0&&t.unfinished);t.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(t,n,r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var a,o,s;if(isObject$3(n)&&(r=n.lazyUpdate,a=n.silent,o=n.replaceMerge,s=n.transition,n=n.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||n){var c=new OptionManager_default(this._api),l=this._theme,u=this._model=new Global_default;u.scheduler=this._scheduler,u.ssr=this._ssr,u.init(null,null,null,l,this._locale,c)}this._model.setOption(t,{replaceMerge:o},optionPreprocessorFuncs);var d={seriesTransition:s,optionChanged:!0};if(r)this[PENDING_UPDATE]={silent:a,updateParams:d},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,d)}catch(t){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,t}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env_default.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},n.prototype.renderToCanvas=function(t){return t||={},this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get(`backgroundColor`),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(t){return t||={},this._zr.painter.renderToString({useViewBox:t.useViewBox})},n.prototype.getSvgDataURL=function(){if(env_default.svgSupported){var t=this._zr;return each$15(t.storage.getDisplayList(),function(t){t.stopAnimation(null,!0)}),t.painter.toDataURL()}},n.prototype.getDataURL=function(t){if(this._disposed){this.id;return}t||={};var n=t.excludeComponents,r=this._model,a=[],o=this;each$15(n,function(t){r.eachComponent({mainType:t},function(t){var n=o._componentsMap[t.__viewId];n.group.ignore||(a.push(n),n.group.ignore=!0)})});var s=this._zr.painter.getType()===`svg`?this.getSvgDataURL():this.renderToCanvas(t).toDataURL(`image/`+(t&&t.type||`png`));return each$15(a,function(t){t.group.ignore=!1}),s},n.prototype.getConnectedDataURL=function(t){if(this._disposed){this.id;return}var n=t.type===`svg`,r=this.group,a=Math.min,o=Math.max,s=1/0;if(connectedGroups[r]){var c=s,l=s,u=-s,d=-s,f=[],p=t&&t.pixelRatio||this.getDevicePixelRatio();each$15(instances,function(s,p){if(s.group===r){var g=n?s.getZr().painter.getSvgDom().innerHTML:s.renderToCanvas(clone$4(t)),_=s.getDom().getBoundingClientRect();c=a(_.left,c),l=a(_.top,l),u=o(_.right,u),d=o(_.bottom,d),f.push({dom:g,left:_.left,top:_.top})}}),c*=p,l*=p,u*=p,d*=p;var g=u-c,_=d-l,v=platformApi.createCanvas(),y=init$2(v,{renderer:n?`svg`:`canvas`});if(y.resize({width:g,height:_}),n){var b=``;return each$15(f,function(t){var n=t.left-c,r=t.top-l;b+=`<g transform="translate(`+n+`,`+r+`)">`+t.dom+`</g>`}),y.painter.getSvgRoot().innerHTML=b,t.connectedBackgroundColor&&y.painter.setBackgroundColor(t.connectedBackgroundColor),y.refreshImmediately(),y.painter.toDataURL()}else return t.connectedBackgroundColor&&y.add(new Rect_default({shape:{x:0,y:0,width:g,height:_},style:{fill:t.connectedBackgroundColor}})),each$15(f,function(t){var n=new Image_default({style:{x:t.left*p-c,y:t.top*p-l,image:t.dom}});y.add(n)}),y.refreshImmediately(),v.toDataURL(`image/`+(t&&t.type||`png`))}else return this.getDataURL(t)},n.prototype.convertToPixel=function(t,n){return doConvertPixel(this,`convertToPixel`,t,n)},n.prototype.convertFromPixel=function(t,n){return doConvertPixel(this,`convertFromPixel`,t,n)},n.prototype.containPixel=function(t,n){if(this._disposed){this.id;return}var r=this._model,a;return each$15(parseFinder$1(r,t),function(t,r){r.indexOf(`Models`)>=0&&each$15(t,function(t){var o=t.coordinateSystem;if(o&&o.containPoint)a||=!!o.containPoint(n);else if(r===`seriesModels`){var s=this._chartsMap[t.__viewId];s&&s.containPoint&&(a||=s.containPoint(n,t))}},this)},this),!!a},n.prototype.getVisual=function(t,n){var r=this._model,a=parseFinder$1(r,t,{defaultMainType:`series`}),o=a.seriesModel.getData(),s=a.hasOwnProperty(`dataIndexInside`)?a.dataIndexInside:a.hasOwnProperty(`dataIndex`)?o.indexOfRawIndex(a.dataIndex):null;return s==null?getVisualFromData(o,n):getItemVisualFromData(o,s,n)},n.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},n.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},n.prototype._initEvents=function(){var t=this;each$15(MOUSE_EVENT_NAMES,function(n){var r=function(r){var a=t.getModel(),o=r.target,s;if(n===`globalout`?s={}:o&&findEventDispatcher(o,function(t){var n=getECData(t);if(n&&n.dataIndex!=null){var r=n.dataModel||a.getSeriesByIndex(n.seriesIndex);return s=r&&r.getDataParams(n.dataIndex,n.dataType,o)||{},!0}else if(n.eventData)return s=extend({},n.eventData),!0},!0),s){var c=s.componentType,l=s.componentIndex;(c===`markLine`||c===`markPoint`||c===`markArea`)&&(c=`series`,l=s.seriesIndex);var u=c&&l!=null&&a.getComponent(c,l),d=u&&t[u.mainType===`series`?`_chartsMap`:`_componentsMap`][u.__viewId];s.event=r,s.type=n,t._$eventProcessor.eventInfo={targetEl:o,packedEvent:s,model:u,view:d},t.trigger(n,s)}};r.zrEventfulCallAtLast=!0,t._zr.on(n,r,t)}),each$15(eventActionMap,function(n,r){t._messageCenter.on(r,function(t){this.trigger(r,t)},t)}),each$15([`selectchanged`],function(n){t._messageCenter.on(n,function(t){this.trigger(n,t)},t)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0,this.getDom()&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,``);var t=this,n=t._api,r=t._model;each$15(t._componentsViews,function(t){t.dispose(r,n)}),each$15(t._chartsViews,function(t){t.dispose(r,n)}),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete instances[t.id]},n.prototype.resize=function(t){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(t);var n=this._model;if(this._loadingFX&&this._loadingFX.resize(),n){var r=n.resetOption(`media`),a=t&&t.silent;this[PENDING_UPDATE]&&(a??=this[PENDING_UPDATE].silent,r=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{r&&prepare(this),updateMethods.update.call(this,{type:`resize`,animation:extend({duration:0},t&&t.animation)})}catch(t){throw this[IN_MAIN_PROCESS_KEY]=!1,t}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}}},n.prototype.showLoading=function(t,n){if(this._disposed){this.id;return}if(isObject$3(t)&&(n=t,t=``),t||=`default`,this.hideLoading(),loadingEffects[t]){var r=loadingEffects[t](this._api,n),a=this._zr;this._loadingFX=r,a.add(r)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(t){var n=extend({},t);return n.type=eventActionMap[t.type],n},n.prototype.dispatchAction=function(t,n){if(this._disposed){this.id;return}if(isObject$3(n)||(n={silent:!!n}),actions[t.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(t);return}var r=n.silent;doDispatchAction.call(this,t,r);var a=n.flush;a?this._zr.flush():a!==!1&&env_default.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,r),triggerUpdatedEvent.call(this,r)}},n.prototype.updateLabelLayout=function(){lifecycle_default.trigger(`series:layoutlabels`,this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(t){if(this._disposed){this.id;return}var n=t.seriesIndex;this.getModel().getSeriesByIndex(n).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(t){var n=t._scheduler;n.restorePipelines(t._model),n.prepareStageTasks(),prepareView(t,!0),prepareView(t,!1),n.plan()},prepareView=function(t,n){for(var r=t._model,a=t._scheduler,o=n?t._componentsViews:t._chartsViews,s=n?t._componentsMap:t._chartsMap,c=t._zr,l=t._api,u=0;u<o.length;u++)o[u].__alive=!1;n?r.eachComponent(function(t,n){t!==`series`&&d(n)}):r.eachSeries(d);function d(t){var u=t.__requireNewView;t.__requireNewView=!1;var d=`_ec_`+t.id+`_`+t.type,f=!u&&s[d];if(!f){var p=parseClassType(t.type);f=new(n?Component_default.getClass(p.main,p.sub):Chart_default.getClass(p.sub)),f.init(r,l),s[d]=f,o.push(f),c.add(f.group)}t.__viewId=f.__id=d,f.__alive=!0,f.__model=t,f.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!n&&a.prepareView(f,t,r,l)}for(var u=0;u<o.length;){var f=o[u];f.__alive?u++:(!n&&f.renderTask.dispose(),c.remove(f.group),f.dispose(r,l),o.splice(u,1),s[f.__id]===f&&delete s[f.__id],f.__id=f.group.__ecComponentInfo=null)}},updateDirectly=function(t,n,r,a,o){var s=t._model;if(s.setUpdatePayload(r),!a){each$15([].concat(t._componentsViews,t._chartsViews),f);return}var c={};c[a+`Id`]=r[a+`Id`],c[a+`Index`]=r[a+`Index`],c[a+`Name`]=r[a+`Name`];var l={mainType:a,query:c};o&&(l.subType=o);var u=r.excludeSeriesId,d;u!=null&&(d=createHashMap(),each$15(normalizeToArray(u),function(t){var n=convertOptionIdName(t,null);n!=null&&d.set(n,!0)})),s&&s.eachComponent(l,function(n){if(!(d&&d.get(n.id)!=null))if(isHighDownPayload(r))if(n instanceof Series_default)r.type===`highlight`&&!r.notBlur&&!n.get([`emphasis`,`disabled`])&&blurSeriesFromHighlightPayload(n,r,t._api);else{var a=findComponentHighDownDispatchers(n.mainType,n.componentIndex,r.name,t._api),o=a.focusSelf,s=a.dispatchers;r.type===`highlight`&&o&&!r.notBlur&&blurComponent(n.mainType,n.componentIndex,t._api),s&&each$15(s,function(t){r.type===`highlight`?enterEmphasis(t):leaveEmphasis(t)})}else isSelectChangePayload(r)&&n instanceof Series_default&&(toggleSelectionFromPayload(n,r,t._api),updateSeriesElementSelection(n),markStatusToUpdate(t))},t),s&&s.eachComponent(l,function(n){d&&d.get(n.id)!=null||f(t[a===`series`?`_chartsMap`:`_componentsMap`][n.__viewId])},t);function f(a){a&&a.__alive&&a[n]&&a[n](a.__model,s,t._api,r)}},updateMethods={prepareAndUpdate:function(t){prepare(this),updateMethods.update.call(this,t,{optionChanged:t.newOption!=null})},update:function(n,r){var a=this._model,o=this._api,s=this._zr,c=this._coordSysMgr,l=this._scheduler;if(a){a.setUpdatePayload(n),l.restoreData(a,n),l.performSeriesTasks(a),c.create(a,o),l.performDataProcessorTasks(a,n),updateStreamModes(this,a),c.update(a,o),t(a),l.performVisualTasks(a,n),render(this,a,o,n,r);var u=a.get(`backgroundColor`)||`transparent`,d=a.get(`darkMode`);s.setBackgroundColor(u),d!=null&&d!==`auto`&&s.setDarkMode(d),lifecycle_default.trigger(`afterupdate`,a,o)}},updateTransform:function(n){var r=this,a=this._model,o=this._api;if(a){a.setUpdatePayload(n);var s=[];a.eachComponent(function(t,c){if(t!==`series`){var l=r.getViewOfComponentModel(c);if(l&&l.__alive)if(l.updateTransform){var u=l.updateTransform(c,a,o,n);u&&u.update&&s.push(l)}else s.push(l)}});var c=createHashMap();a.eachSeries(function(t){var s=r._chartsMap[t.__viewId];if(s.updateTransform){var l=s.updateTransform(t,a,o,n);l&&l.update&&c.set(t.uid,1)}else c.set(t.uid,1)}),t(a),this._scheduler.performVisualTasks(a,n,{setDirty:!0,dirtyMap:c}),renderSeries(this,a,o,n,{},c),lifecycle_default.trigger(`afterupdate`,a,o)}},updateView:function(n){var r=this._model;r&&(r.setUpdatePayload(n),Chart_default.markUpdateMethod(n,`updateView`),t(r),this._scheduler.performVisualTasks(r,n,{setDirty:!0}),render(this,r,this._api,n,{}),lifecycle_default.trigger(`afterupdate`,r,this._api))},updateVisual:function(n){var r=this,a=this._model;a&&(a.setUpdatePayload(n),a.eachSeries(function(t){t.getData().clearAllVisual()}),Chart_default.markUpdateMethod(n,`updateVisual`),t(a),this._scheduler.performVisualTasks(a,n,{visualType:`visual`,setDirty:!0}),a.eachComponent(function(t,o){if(t!==`series`){var s=r.getViewOfComponentModel(o);s&&s.__alive&&s.updateVisual(o,a,r._api,n)}}),a.eachSeries(function(t){r._chartsMap[t.__viewId].updateVisual(t,a,r._api,n)}),lifecycle_default.trigger(`afterupdate`,a,this._api))},updateLayout:function(t){updateMethods.update.call(this,t)}},doConvertPixel=function(t,n,r,a){if(t._disposed){t.id;return}for(var o=t._model,s=t._coordSysMgr.getCoordinateSystems(),c,l=parseFinder$1(o,r),u=0;u<s.length;u++){var d=s[u];if(d[n]&&(c=d[n](o,l,a))!=null)return c}},updateStreamModes=function(t,n){var r=t._chartsMap,a=t._scheduler;n.eachSeries(function(t){a.updateStreamModes(t,r[t.__viewId])})},doDispatchAction=function(t,n){var r=this,a=this.getModel(),o=t.type,s=t.escapeConnect,c=actions[o],l=c.actionInfo,u=(l.update||`update`).split(`:`),d=u.pop(),f=u[0]!=null&&parseClassType(u[0]);this[IN_MAIN_PROCESS_KEY]=!0;var p=[t],g=!1;t.batch&&(g=!0,p=map$1(t.batch,function(n){return n=defaults(extend({},n),t),n.batch=null,n}));var _=[],v,y=isSelectChangePayload(t),b=isHighDownPayload(t);if(b&&allLeaveBlur(this._api),each$15(p,function(n){if(v=c.action(n,r._model,r._api),v||=extend({},n),v.type=l.event||v.type,_.push(v),b){var a=preParseFinder(t),o=a.queryOptionMap,s=a.mainTypeSpecified?o.keys()[0]:`series`;updateDirectly(r,d,n,s),markStatusToUpdate(r)}else y?(updateDirectly(r,d,n,`series`),markStatusToUpdate(r)):f&&updateDirectly(r,d,n,f.main,f.sub)}),d!==`none`&&!b&&!y&&!f)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,t),this[PENDING_UPDATE]=null):updateMethods[d].call(this,t)}catch(t){throw this[IN_MAIN_PROCESS_KEY]=!1,t}if(v=g?{type:l.event||o,escapeConnect:s,batch:_}:_[0],this[IN_MAIN_PROCESS_KEY]=!1,!n){var x=this._messageCenter;if(x.trigger(v.type,v),y){var S={type:`selectchanged`,escapeConnect:s,selected:getAllSelectedIndices(a),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};x.trigger(S.type,S)}}},flushPendingActions=function(t){for(var n=this._pendingActions;n.length;){var r=n.shift();doDispatchAction.call(this,r,t)}},triggerUpdatedEvent=function(t){!t&&this.trigger(`updated`)},bindRenderedEvent=function(t,n){t.on(`rendered`,function(r){n.trigger(`rendered`,r),t.animation.isFinished()&&!n[PENDING_UPDATE]&&!n._scheduler.unfinished&&!n._pendingActions.length&&n.trigger(`finished`)})},bindMouseEvent=function(t,n){t.on(`mouseover`,function(t){var r=t.target,a=findEventDispatcher(r,isHighDownDispatcher);a&&(handleGlobalMouseOverForHighDown(a,t,n._api),markStatusToUpdate(n))}).on(`mouseout`,function(t){var r=t.target,a=findEventDispatcher(r,isHighDownDispatcher);a&&(handleGlobalMouseOutForHighDown(a,t,n._api),markStatusToUpdate(n))}).on(`click`,function(t){var r=t.target,a=findEventDispatcher(r,function(t){return getECData(t).dataIndex!=null},!0);if(a){var o=a.selected?`unselect`:`select`,s=getECData(a);n._api.dispatchAction({type:o,dataType:s.dataType,dataIndexInside:s.dataIndex,seriesIndex:s.seriesIndex,isFromClick:!0})}})};function t(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function n(t){var n=[],r=[],a=!1;if(t.eachComponent(function(t,o){var s=o.get(`zlevel`)||0,c=o.get(`z`)||0,l=o.getZLevelKey();a||=!!l,(t===`series`?r:n).push({zlevel:s,z:c,idx:o.componentIndex,type:t,key:l})}),a){var o=n.concat(r),s,c;sort$2(o,function(t,n){return t.zlevel===n.zlevel?t.z-n.z:t.zlevel-n.zlevel}),each$15(o,function(n){var r=t.getComponent(n.type,n.idx),a=n.zlevel,o=n.key;s!=null&&(a=Math.max(s,a)),o?(a===s&&o!==c&&a++,c=o):c&&=(a===s&&a++,``),s=a,r.setZLevel(a)})}}render=function(t,r,a,o,s){n(r),renderComponents(t,r,a,o,s),each$15(t._chartsViews,function(t){t.__alive=!1}),renderSeries(t,r,a,o,s),each$15(t._chartsViews,function(t){t.__alive||t.remove(r,a)})},renderComponents=function(t,n,r,a,o,c){each$15(c||t._componentsViews,function(t){var o=t.__model;l(o,t),t.render(o,n,r,a),s(o,t),u(o,t)})},renderSeries=function(t,n,r,c,d,f){var p=t._scheduler;d=extend(d||{},{updatedSeries:n.getSeries()}),lifecycle_default.trigger(`series:beforeupdate`,n,r,d);var g=!1;n.eachSeries(function(n){var r=t._chartsMap[n.__viewId];r.__alive=!0;var a=r.renderTask;p.updatePayload(a,c),l(n,r),f&&f.get(n.uid)&&a.dirty(),a.perform(p.getPerformArgs(a))&&(g=!0),r.group.silent=!!n.get(`silent`),o(n,r),updateSeriesElementSelection(n)}),p.unfinished=g||p.unfinished,lifecycle_default.trigger(`series:layoutlabels`,n,r,d),lifecycle_default.trigger(`series:transition`,n,r,d),n.eachSeries(function(n){var r=t._chartsMap[n.__viewId];s(n,r),u(n,r)}),a(t,n),lifecycle_default.trigger(`series:afterupdate`,n,r,d)},markStatusToUpdate=function(t){t[STATUS_NEEDS_UPDATE_KEY]=!0,t.getZr().wakeUp()},applyChangedStates=function(t){t[STATUS_NEEDS_UPDATE_KEY]&&(t.getZr().storage.traverse(function(t){isElementRemoved(t)||r(t)}),t[STATUS_NEEDS_UPDATE_KEY]=!1)};function r(t){for(var n=[],r=t.currentStates,a=0;a<r.length;a++){var o=r[a];o===`emphasis`||o===`blur`||o===`select`||n.push(o)}t.selected&&t.states.select&&n.push(`select`),t.hoverState===2&&t.states.emphasis?n.push(`emphasis`):t.hoverState===1&&t.states.blur&&n.push(`blur`),t.useStates(n)}function a(t,n){var r=t._zr.storage,a=0;r.traverse(function(t){t.isGroup||a++}),a>n.get(`hoverLayerThreshold`)&&!env_default.node&&!env_default.worker&&n.eachSeries(function(n){if(!n.preventUsingHoverLayer){var r=t._chartsMap[n.__viewId];r.__alive&&r.eachRendered(function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)})}})}function o(t,n){var r=t.get(`blendMode`)||null;n.eachRendered(function(t){t.isGroup||(t.style.blend=r)})}function s(t,n){if(!t.preventAutoZ){var r=t.get(`z`)||0,a=t.get(`zlevel`)||0;n.eachRendered(function(t){return c(t,r,a,-1/0),!0})}}function c(t,n,r,a){var o=t.getTextContent(),s=t.getTextGuideLine();if(t.isGroup)for(var l=t.childrenRef(),u=0;u<l.length;u++)a=Math.max(c(l[u],n,r,a),a);else t.z=n,t.zlevel=r,a=Math.max(t.z2,a);if(o&&(o.z=n,o.zlevel=r,isFinite(a)&&(o.z2=a+2)),s){var d=t.textGuideLineConfig;s.z=n,s.zlevel=r,isFinite(a)&&(s.z2=a+(d&&d.showAbove?1:-1))}return a}function l(t,n){n.eachRendered(function(t){if(!isElementRemoved(t)){var n=t.getTextContent(),r=t.getTextGuideLine();t.stateTransition&&=null,n&&n.stateTransition&&(n.stateTransition=null),r&&r.stateTransition&&(r.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&=null}})}function u(t,n){var a=t.getModel(`stateAnimation`),o=t.isAnimationEnabled(),s=a.get(`duration`),c=s>0?{duration:s,delay:a.get(`delay`),easing:a.get(`easing`)}:null;n.eachRendered(function(t){if(t.states&&t.states.emphasis){if(isElementRemoved(t))return;if(t instanceof Path_default&&savePathStates(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(o){t.stateTransition=c;var a=t.getTextContent(),s=t.getTextGuideLine();a&&(a.stateTransition=c),s&&(s.stateTransition=c)}t.__dirty&&r(t)}})}createExtensionAPI=function(t){return new(function(n){__extends(r,n);function r(){return n!==null&&n.apply(this,arguments)||this}return r.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},r.prototype.getComponentByElement=function(n){for(;n;){var r=n.__ecComponentInfo;if(r!=null)return t._model.getComponent(r.mainType,r.index);n=n.parent}},r.prototype.enterEmphasis=function(n,r){enterEmphasis(n,r),markStatusToUpdate(t)},r.prototype.leaveEmphasis=function(n,r){leaveEmphasis(n,r),markStatusToUpdate(t)},r.prototype.enterBlur=function(n){enterBlur(n),markStatusToUpdate(t)},r.prototype.leaveBlur=function(n){leaveBlur(n),markStatusToUpdate(t)},r.prototype.enterSelect=function(n){enterSelect(n),markStatusToUpdate(t)},r.prototype.leaveSelect=function(n){leaveSelect(n),markStatusToUpdate(t)},r.prototype.getModel=function(){return t.getModel()},r.prototype.getViewOfComponentModel=function(n){return t.getViewOfComponentModel(n)},r.prototype.getViewOfSeriesModel=function(n){return t.getViewOfSeriesModel(n)},r}(ExtensionAPI_default))(t)},enableConnect=function(t){function n(t,n){for(var r=0;r<t.length;r++){var a=t[r];a[CONNECT_STATUS_KEY]=n}}each$15(eventActionMap,function(r,a){t._messageCenter.on(a,function(r){if(connectedGroups[t.group]&&t[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(r&&r.escapeConnect)return;var a=t.makeActionFromEvent(r),o=[];each$15(instances,function(n){n!==t&&n.group===t.group&&o.push(n)}),n(o,CONNECT_STATUS_PENDING),each$15(o,function(t){t[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&t.dispatchAction(a)}),n(o,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful_default),echartsProto=ECharts$1.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts(`on`),echartsProto.off=createRegisterEventWithLowercaseECharts(`off`),echartsProto.one=function(t,n,r){var a=this;function o(){var r=[...arguments];n&&n.apply&&n.apply(this,r),a.off(t,o)}this.on.call(this,t,o,r)};var MOUSE_EVENT_NAMES=[`click`,`dblclick`,`mouseover`,`mouseout`,`mousemove`,`mousedown`,`mouseup`,`globalout`,`contextmenu`],actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=new Date-0;new Date-0;var DOM_ATTRIBUTE_KEY=`_echarts_instance_`;function init$1(t,n,r){var a=!(r&&r.ssr);if(a){var o=getInstanceByDom(t);if(o)return o}var s=new ECharts$1(t,n,r);return s.id=`ec_`+ idBase++,instances[s.id]=s,a&&setAttribute(t,DOM_ATTRIBUTE_KEY,s.id),enableConnect(s),lifecycle_default.trigger(`afterinit`,s),s}function getInstanceByDom(t){return instances[getAttribute(t,DOM_ATTRIBUTE_KEY)]}function registerTheme(t,n){themeStorage[t]=n}function registerPreprocessor(t){indexOf(optionPreprocessorFuncs,t)<0&&optionPreprocessorFuncs.push(t)}function registerProcessor(t,n){normalizeRegister(dataProcessorFuncs,t,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(t){registerUpdateLifecycle(`afterinit`,t)}function registerPostUpdate(t){registerUpdateLifecycle(`afterupdate`,t)}function registerUpdateLifecycle(t,n){lifecycle_default.on(t,n)}function registerAction(t,n,r){isFunction(n)&&(r=n,n=``);var a=isObject$3(t)?t.type:[t,t={event:n}][0];t.event=(t.event||a).toLowerCase(),n=t.event,!eventActionMap[n]&&(assert(ACTION_REG.test(a)&&ACTION_REG.test(n)),actions[a]||(actions[a]={action:r,actionInfo:t}),eventActionMap[n]=a)}function registerCoordinateSystem(t,n){CoordinateSystem_default.register(t,n)}function registerLayout(t,n){normalizeRegister(visualFuncs,t,n,PRIORITY_VISUAL_LAYOUT,`layout`)}function registerVisual(t,n){normalizeRegister(visualFuncs,t,n,PRIORITY_VISUAL_CHART,`visual`)}var registeredTasks=[];function normalizeRegister(t,n,r,a,o){if((isFunction(n)||isObject$3(n))&&(r=n,n=a),!(indexOf(registeredTasks,r)>=0)){registeredTasks.push(r);var s=Scheduler_default.wrapStageHandler(r,o);s.__prio=n,s.__raw=r,t.push(s)}}function registerLoading(t,n){loadingEffects[t]=n}function registerMap$1(t,n,r){var a=getImpl(`registerMap`);a&&a(t,n,r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading(`default`,defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop),registerTheme(`light`,light_default),registerTheme(`dark`,dark_default);function dataIndexMapValueLength(t){return t==null?0:t.length||1}function defaultKeyGetter(t){return t}var DataDiffer_default=function(){function t(t,n,r,a,o,s){this._old=t,this._new=n,this._oldKeyGetter=r||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=o,this._diffModeMultiple=s===`multiple`}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?`_executeMultiple`:`_executeOneToOne`]()},t.prototype._executeOneToOne=function(){var t=this._old,n=this._new,r={},a=Array(t.length),o=Array(n.length);this._initIndexMap(t,null,a,`_oldKeyGetter`),this._initIndexMap(n,r,o,`_newKeyGetter`);for(var s=0;s<t.length;s++){var c=a[s],l=r[c],u=dataIndexMapValueLength(l);if(u>1){var d=l.shift();l.length===1&&(r[c]=l[0]),this._update&&this._update(d,s)}else u===1?(r[c]=null,this._update&&this._update(l,s)):this._remove&&this._remove(s)}this._performRestAdd(o,r)},t.prototype._executeMultiple=function(){var t=this._old,n=this._new,r={},a={},o=[],s=[];this._initIndexMap(t,r,o,`_oldKeyGetter`),this._initIndexMap(n,a,s,`_newKeyGetter`);for(var c=0;c<o.length;c++){var l=o[c],u=r[l],d=a[l],f=dataIndexMapValueLength(u),p=dataIndexMapValueLength(d);if(f>1&&p===1)this._updateManyToOne&&this._updateManyToOne(d,u),a[l]=null;else if(f===1&&p>1)this._updateOneToMany&&this._updateOneToMany(d,u),a[l]=null;else if(f===1&&p===1)this._update&&this._update(d,u),a[l]=null;else if(f>1&&p>1)this._updateManyToMany&&this._updateManyToMany(d,u),a[l]=null;else if(f>1)for(var g=0;g<f;g++)this._remove&&this._remove(u[g]);else this._remove&&this._remove(u)}this._performRestAdd(s,a)},t.prototype._performRestAdd=function(t,n){for(var r=0;r<t.length;r++){var a=t[r],o=n[a],s=dataIndexMapValueLength(o);if(s>1)for(var c=0;c<s;c++)this._add&&this._add(o[c]);else s===1&&this._add&&this._add(o);n[a]=null}},t.prototype._initIndexMap=function(t,n,r,a){for(var o=this._diffModeMultiple,s=0;s<t.length;s++){var c=`_ec_`+this[a](t[s],s);if(o||(r[s]=c),n){var l=n[c],u=dataIndexMapValueLength(l);u===0?(n[c]=s,o&&r.push(c)):u===1?n[c]=[l,s]:l.push(s)}}},t}(),DimensionUserOuput=function(){function t(t,n){this._encode=t,this._schema=n}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||=this._schema?this._schema.makeOutputDimensionNames():[],this._cachedDimNames},t}();function summarizeDimensions(t,n){var r={},a=r.encode={},o=createHashMap(),s=[],c=[],l={};each$15(t.dimensions,function(n){var r=t.getDimensionInfo(n),u=r.coordDim;if(u){var d=r.coordDimIndex;getOrCreateEncodeArr(a,u)[d]=n,r.isExtraCoord||(o.set(u,1),mayLabelDimType(r.type)&&(s[0]=n),getOrCreateEncodeArr(l,u)[d]=t.getDimensionIndex(r.name)),r.defaultTooltip&&c.push(n)}VISUAL_DIMENSIONS.each(function(t,n){var o=getOrCreateEncodeArr(a,n),s=r.otherDims[n];s!=null&&s!==!1&&(o[s]=r.name)})});var u=[],d={};o.each(function(t,n){var r=a[n];d[n]=r[0],u=u.concat(r)}),r.dataDimsOnCoord=u,r.dataDimIndicesOnCoord=map$1(u,function(n){return t.getDimensionInfo(n).storeDimIndex}),r.encodeFirstDimNotExtra=d;var f=a.label;f&&f.length&&(s=f.slice());var p=a.tooltip;return p&&p.length?c=p.slice():c.length||(c=s.slice()),a.defaultedLabel=s,a.defaultedTooltip=c,r.userOutput=new DimensionUserOuput(l,n),r}function getOrCreateEncodeArr(t,n){return t.hasOwnProperty(n)||(t[n]=[]),t[n]}function getDimensionTypeByAxis(t){return t===`category`?`ordinal`:t===`time`?`time`:`float`}function mayLabelDimType(t){return!(t===`ordinal`||t===`time`)}var SeriesDimensionDefine_default=function(){function t(t){this.otherDims={},t!=null&&extend(this,t)}return t}(),inner$17=makeInner(),dimTypeShort={float:`f`,int:`i`,ordinal:`o`,number:`n`,time:`t`},SeriesDataSchema=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||=ensureSourceDimNameMap(this.source))},t.prototype.getSourceDimensionIndex=function(t){return retrieve2(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var n=this.source.dimensionsDefine;if(n)return n[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,n=shouldRetrieveDataByName(this.source),r=!shouldOmitUnusedDimensions(t),a=``,o=[],s=0,c=0;s<t;s++){var l=void 0,u=void 0,d=void 0,f=this.dimensions[c];if(f&&f.storeDimIndex===s)l=n?f.name:null,u=f.type,d=f.ordinalMeta,c++;else{var p=this.getSourceDimension(s);p&&(l=n?p.name:null,u=p.type)}o.push({property:l,type:u,ordinalMeta:d}),n&&l!=null&&(!f||!f.isCalculationCoord)&&(a+=r?l.replace(/\`/g,"`1").replace(/\$/g,"`2"):l),a+=`$`,a+=dimTypeShort[u]||`f`,d&&(a+=d.uid),a+=`$`}var g=this.source;return{dimensions:o,hash:[g.seriesLayoutBy,g.startIndex,a].join(`$$`)}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],n=0,r=0;n<this._fullDimCount;n++){var a=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===n)o.isCalculationCoord||(a=o.name),r++;else{var s=this.getSourceDimension(n);s&&(a=s.name)}t.push(a)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function isSeriesDataSchema(t){return t instanceof SeriesDataSchema}function createDimNameMap(t){for(var n=createHashMap(),r=0;r<(t||[]).length;r++){var a=t[r],o=isObject$3(a)?a.name:a;o!=null&&n.get(o)==null&&n.set(o,r)}return n}function ensureSourceDimNameMap(t){var n=inner$17(t);return n.dimNameMap||=createDimNameMap(t.dimensionsDefine)}function shouldOmitUnusedDimensions(t){return t>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>`u`?Array:Int32Array,ID_PREFIX=`e\0\0`,INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=[`hasItemOption`,`_nameList`,`_idList`,`_invertedIndicesMap`,`_dimSummary`,`userOutput`,`_rawData`,`_dimValueGetter`,`_nameDimIdx`,`_idDimIdx`,`_nameRepeatCount`],CLONE_PROPERTIES=[`_approximateExtent`],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData_default=function(){function t(t,n){this.type=`list`,this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=[`cloneShallow`,`downSample`,`minmaxDownSample`,`lttbDownSample`,`map`],this.CHANGABLE_METHODS=[`filterSelf`,`selectRange`],this.DOWNSAMPLE_METHODS=[`downSample`,`minmaxDownSample`,`lttbDownSample`];var r,a=!1;isSeriesDataSchema(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(a=!0,r=t),r||=[`x`,`y`];for(var o={},s=[],c={},l=!1,u={},d=0;d<r.length;d++){var f=r[d],p=isString(f)?new SeriesDimensionDefine_default({name:f}):f instanceof SeriesDimensionDefine_default?f:new SeriesDimensionDefine_default(f),g=p.name;p.type=p.type||`float`,p.coordDim||(p.coordDim=g,p.coordDimIndex=0);var _=p.otherDims=p.otherDims||{};s.push(g),o[g]=p,u[g]!=null&&(l=!0),p.createInvertedIndices&&(c[g]=[]),_.itemName===0&&(this._nameDimIdx=d),_.itemId===0&&(this._idDimIdx=d),a&&(p.storeDimIndex=d)}if(this.dimensions=s,this._dimInfos=o,this._initGetDimensionInfo(l),this.hostModel=n,this._invertedIndicesMap=c,this._dimOmitted){var v=this._dimIdxToName=createHashMap();each$15(s,function(t){v.set(o[t].storeDimIndex,t)})}}return t.prototype.getDimension=function(t){var n=this._recognizeDimIndex(t);if(n==null)return t;if(n=t,!this._dimOmitted)return this.dimensions[n];var r=this._dimIdxToName.get(n);if(r!=null)return r;var a=this._schema.getSourceDimension(n);if(a)return a.name},t.prototype.getDimensionIndex=function(t){var n=this._recognizeDimIndex(t);if(n!=null)return n;if(t==null)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(isNumber(t)||t!=null&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var n=this._dimInfos;this._getDimInfo=t?function(t){return n.hasOwnProperty(t)?n[t]:void 0}:function(t){return n[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,n){var r=this._dimSummary;if(n==null)return r.encodeFirstDimNotExtra[t];var a=r.encode[t];return a?a[n]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,n,r){var a=this,o;if(t instanceof DataStore_default&&(o=t),!o){var s=this.dimensions,c=isSourceInstance(t)||isArrayLike(t)?new DefaultDataProvider(t,s.length):t;o=new DataStore_default;var l=map(s,function(t){return{type:a._dimInfos[t].type,property:t}});o.initData(c,l,r)}this._store=o,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var n=this._store.appendData(t);this._doInit(n[0],n[1])},t.prototype.appendValues=function(t,n){var r=this._store.appendValues(t,n&&n.length),a=r.start,o=r.end,s=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var c=a;c<o;c++){var l=c-a;this._nameList[c]=n[l],s&&makeIdFromName(this,c)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,n=this.dimensions,r=0;r<n.length;r++){var a=this._dimInfos[n[r]];a.ordinalMeta&&t.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return this._idDimIdx==null&&t.getSource().sourceFormat!==`typedArray`&&!t.fillStorage},t.prototype._doInit=function(t,n){if(!(t>=n)){var r=this._store.getProvider();this._updateOrdinalMeta();var a=this._nameList,o=this._idList;if(r.getSource().sourceFormat===`original`&&!r.pure)for(var s=[],c=t;c<n;c++){var l=r.getItem(c,s);if(!this.hasItemOption&&isDataItemOption(l)&&(this.hasItemOption=!0),l){var u=l.name;a[c]==null&&u!=null&&(a[c]=convertOptionIdName(u,null));var d=l.id;o[c]==null&&d!=null&&(o[c]=convertOptionIdName(d,null))}}if(this._shouldMakeIdFromName())for(var c=t;c<n;c++)makeIdFromName(this,c);prepareInvertedIndex(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,n){n=this.getDimension(n),this._approximateExtent[n]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,n){isObject$1(t)?extend(this._calculationInfo,t):this._calculationInfo[t]=n},t.prototype.getName=function(t){var n=this.getRawIndex(t),r=this._nameList[n];return r==null&&this._nameDimIdx!=null&&(r=getIdNameFromStore(this,this._nameDimIdx,n)),r??=``,r},t.prototype._getCategory=function(t,n){var r=this._store.get(t,n),a=this._store.getOrdinalMeta(t);return a?a.categories[r]:r},t.prototype.getId=function(t){return getId(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.get(a.storeDimIndex,n)},t.prototype.getByRawIndex=function(t,n){var r=this._store,a=this._dimInfos[t];if(a)return r.getByRawIndex(a.storeDimIndex,n)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,n){var r=this,a=this._store;return isArray$1(t)?a.getValues(map(t,function(t){return r._getStoreDimIndex(t)}),n):a.getValues(t)},t.prototype.hasValue=function(t){for(var n=this._dimSummary.dataDimIndicesOnCoord,r=0,a=n.length;r<a;r++)if(isNaN(this._store.get(n[r],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var n=0,r=this._store.count();n<r;n++)if(this.getName(n)===t)return n;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,n){var r=t&&this._invertedIndicesMap[t],a=r&&r[n];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},t.prototype.indicesOfNearest=function(t,n,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),n,r)},t.prototype.each=function(t,n,r){isFunction(t)&&(r=n,n=t,t=[]);var a=r||this,o=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.each(o,a?bind$1(n,a):n)},t.prototype.filterSelf=function(t,n,r){isFunction(t)&&(r=n,n=t,t=[]);var a=r||this,o=map(normalizeDimensions(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,a?bind$1(n,a):n),this},t.prototype.selectRange=function(t){var n=this,r={},a=keys(t),o=[];return each$15(a,function(a){var s=n._getStoreDimIndex(a);r[s]=t[a],o.push(s)}),this._store=this._store.selectRange(r),this},t.prototype.mapArray=function(t,n,r){isFunction(t)&&(r=n,n=t,t=[]),r||=this;var a=[];return this.each(t,function(){a.push(n&&n.apply(this,arguments))},r),a},t.prototype.map=function(t,n,r,a){var o=r||a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this),c=cloneListForMapAndSample(this);return c._store=this._store.map(s,o?bind$1(n,o):n),c},t.prototype.modify=function(t,n,r,a){var o=r||a||this,s=map(normalizeDimensions(t),this._getStoreDimIndex,this);this._store.modify(s,o?bind$1(n,o):n)},t.prototype.downSample=function(t,n,r,a){var o=cloneListForMapAndSample(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),n,r,a),o},t.prototype.minmaxDownSample=function(t,n){var r=cloneListForMapAndSample(this);return r._store=this._store.minmaxDownSample(this._getStoreDimIndex(t),n),r},t.prototype.lttbDownSample=function(t,n){var r=cloneListForMapAndSample(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),n),r},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var n=this.hostModel;return new Model_default(this.getRawDataItem(t),n,n&&n.ecModel)},t.prototype.diff=function(t){var n=this;return new DataDiffer_default(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(n){return getId(t,n)},function(t){return getId(n,t)})},t.prototype.getVisual=function(t){var n=this._visual;return n&&n[t]},t.prototype.setVisual=function(t,n){this._visual=this._visual||{},isObject$1(t)?extend(this._visual,t):this._visual[t]=n},t.prototype.getItemVisual=function(t,n){var r=this._itemVisuals[t];return(r&&r[n])??this.getVisual(n)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,n){var r=this._itemVisuals,a=r[t];a||=r[t]={};var o=a[n];return o??(o=this.getVisual(n),isArray$1(o)?o=o.slice():isObject$1(o)&&(o=extend({},o)),a[n]=o),o},t.prototype.setItemVisual=function(t,n,r){var a=this._itemVisuals[t]||{};this._itemVisuals[t]=a,isObject$1(n)?extend(a,n):a[n]=r},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,n){isObject$1(t)?extend(this._layout,t):this._layout[t]=n},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,n,r){this._itemLayouts[t]=r?extend(this._itemLayouts[t]||{},n):n},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,n){setCommonECData(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,n),this._graphicEls[t]=n},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,n){each$15(this._graphicEls,function(r,a){r&&t&&t.call(n,r,a)})},t.prototype.cloneShallow=function(n){return n||=new t(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel),transferProperties(n,this),n._store=this._store,n},t.prototype.wrapMethod=function(t,n){var r=this[t];isFunction(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=r.apply(this,arguments);return n.apply(this,[t].concat(slice(arguments)))})},t.internalField=function(){prepareInvertedIndex=function(t){var n=t._invertedIndicesMap;each$15(n,function(r,a){var o=t._dimInfos[a],s=o.ordinalMeta,c=t._store;if(s){r=n[a]=new CtorInt32Array(s.categories.length);for(var l=0;l<r.length;l++)r[l]=INDEX_NOT_FOUND;for(var l=0;l<c.count();l++)r[c.get(o.storeDimIndex,l)]=l}})},getIdNameFromStore=function(t,n,r){return convertOptionIdName(t._getCategory(n,r),null)},getId=function(t,n){var r=t._idList[n];return r==null&&t._idDimIdx!=null&&(r=getIdNameFromStore(t,t._idDimIdx,n)),r??=ID_PREFIX+n,r},normalizeDimensions=function(t){return isArray$1(t)||(t=t==null?[]:[t]),t},cloneListForMapAndSample=function(n){var r=new t(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(r,n),r},transferProperties=function(t,n){each$15(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t.__wrappedMethods=n.__wrappedMethods,each$15(CLONE_PROPERTIES,function(r){t[r]=clone$4(n[r])}),t._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(t,n){var r=t._nameList,a=t._idList,o=t._nameDimIdx,s=t._idDimIdx,c=r[n],l=a[n];if(c==null&&o!=null&&(r[n]=c=getIdNameFromStore(t,o,n)),l==null&&s!=null&&(a[n]=l=getIdNameFromStore(t,s,n)),l==null&&c!=null){var u=t._nameRepeatCount,d=u[c]=(u[c]||0)+1;l=c,d>1&&(l+=`__ec__`+d),a[n]=l}}}(),t}();function createDimensions(t,n){return prepareSeriesDataSchema(t,n).dimensions}function prepareSeriesDataSchema(t,n){isSourceInstance(t)||(t=createSourceFromSeriesDataOption(t)),n||={};var r=n.coordDimensions||[],a=n.dimensionsDefine||t.dimensionsDefine||[],o=createHashMap(),s=[],c=getDimCount(t,r,a,n.dimensionsCount),l=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),u=a===t.dimensionsDefine,d=u?ensureSourceDimNameMap(t):createDimNameMap(a),f=n.encodeDefine;!f&&n.encodeDefaulter&&(f=n.encodeDefaulter(t,c));for(var p=createHashMap(f),g=new CtorInt32Array$1(c),_=0;_<g.length;_++)g[_]=-1;function v(t){var n=g[t];if(n<0){var r=a[t],o=isObject$3(r)?r:{name:r},c=new SeriesDimensionDefine_default,l=o.name;return l!=null&&d.get(l)!=null&&(c.name=c.displayName=l),o.type!=null&&(c.type=o.type),o.displayName!=null&&(c.displayName=o.displayName),g[t]=s.length,c.storeDimIndex=t,s.push(c),c}return s[n]}if(!l)for(var _=0;_<c;_++)v(_);p.each(function(t,n){var r=normalizeToArray(t).slice();if(r.length===1&&!isString(r[0])&&r[0]<0){p.set(n,!1);return}var a=p.set(n,[]);each$15(r,function(t,r){var o=isString(t)?d.get(t):t;o!=null&&o<c&&(a[r]=o,b(v(o),n,r))})});var y=0;each$15(r,function(t){var n,r,a,o;if(isString(t))n=t,o={};else{o=t,n=o.name;var s=o.ordinalMeta;o.ordinalMeta=null,o=extend({},o),o.ordinalMeta=s,r=o.dimsDef,a=o.otherDims,o.name=o.coordDim=o.coordDimIndex=o.dimsDef=o.otherDims=null}var l=p.get(n);if(l!==!1){if(l=normalizeToArray(l),!l.length)for(var d=0;d<(r&&r.length||1);d++){for(;y<c&&v(y).coordDim!=null;)y++;y<c&&l.push(y++)}each$15(l,function(t,s){var c=v(t);if(u&&o.type!=null&&(c.type=o.type),b(defaults(c,o),n,s),c.name==null&&r){var l=r[s];!isObject$3(l)&&(l={name:l}),c.name=c.displayName=l.name,c.defaultTooltip=l.defaultTooltip}a&&defaults(c.otherDims,a)})}});function b(t,n,r){VISUAL_DIMENSIONS.get(n)==null?(t.coordDim=n,t.coordDimIndex=r,o.set(n,!0)):t.otherDims[n]=r}var x=n.generateCoord,S=n.generateCoordCount,C=S!=null;S=x?S||1:0;var w=x||`value`;function T(t){t.name??=t.coordDim}if(l)each$15(s,function(t){T(t)}),s.sort(function(t,n){return t.storeDimIndex-n.storeDimIndex});else for(var E=0;E<c;E++){var D=v(E);D.coordDim??(D.coordDim=genCoordDimName(w,o,C),D.coordDimIndex=0,(!x||S<=0)&&(D.isExtraCoord=!0),S--),T(D),D.type==null&&(guessOrdinal(t,E)===BE_ORDINAL.Must||D.isExtraCoord&&(D.otherDims.itemName!=null||D.otherDims.seriesName!=null))&&(D.type=`ordinal`)}return removeDuplication(s),new SeriesDataSchema({source:t,dimensions:s,fullDimensionCount:c,dimensionOmitted:l})}function removeDuplication(t){for(var n=createHashMap(),r=0;r<t.length;r++){var a=t[r],o=a.name,s=n.get(o)||0;s>0&&(a.name=o+(s-1)),s++,n.set(o,s)}}function getDimCount(t,n,r,a){var o=Math.max(t.dimensionsDetectedCount||1,n.length,r.length,a||0);return each$15(n,function(t){var n;isObject$3(t)&&(n=t.dimsDef)&&(o=Math.max(o,n.length))}),o}function genCoordDimName(t,n,r){if(r||n.hasKey(t)){for(var a=0;n.hasKey(t+a);)a++;t+=a}return n.set(t,!0),t}var CoordSysInfo=function(){function t(t){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=t}return t}();function getCoordSysInfoBySeries(t){var n=t.get(`coordinateSystem`),r=new CoordSysInfo(n),a=fetchers[n];if(a)return a(t,r,r.axisMap,r.categoryAxisMap),r}var fetchers={cartesian2d:function(t,n,r,a){var o=t.getReferringComponents(`xAxis`,SINGLE_REFERRING).models[0],s=t.getReferringComponents(`yAxis`,SINGLE_REFERRING).models[0];n.coordSysDims=[`x`,`y`],r.set(`x`,o),r.set(`y`,s),isCategory(o)&&(a.set(`x`,o),n.firstCategoryDimIndex=0),isCategory(s)&&(a.set(`y`,s),n.firstCategoryDimIndex??=1)},singleAxis:function(t,n,r,a){var o=t.getReferringComponents(`singleAxis`,SINGLE_REFERRING).models[0];n.coordSysDims=[`single`],r.set(`single`,o),isCategory(o)&&(a.set(`single`,o),n.firstCategoryDimIndex=0)},polar:function(t,n,r,a){var o=t.getReferringComponents(`polar`,SINGLE_REFERRING).models[0],s=o.findAxisModel(`radiusAxis`),c=o.findAxisModel(`angleAxis`);n.coordSysDims=[`radius`,`angle`],r.set(`radius`,s),r.set(`angle`,c),isCategory(s)&&(a.set(`radius`,s),n.firstCategoryDimIndex=0),isCategory(c)&&(a.set(`angle`,c),n.firstCategoryDimIndex??=1)},geo:function(t,n,r,a){n.coordSysDims=[`lng`,`lat`]},parallel:function(t,n,r,a){var o=t.ecModel,s=o.getComponent(`parallel`,t.get(`parallelIndex`)),c=n.coordSysDims=s.dimensions.slice();each$15(s.parallelAxisIndex,function(t,s){var l=o.getComponent(`parallelAxis`,t),u=c[s];r.set(u,l),isCategory(l)&&(a.set(u,l),n.firstCategoryDimIndex??=s)})}};function isCategory(t){return t.get(`type`)===`category`}function enableDataStack(t,n,r){r||={};var a=r.byIndex,o=r.stackedCoordDimension,s,c,l;isLegacyDimensionsInput(n)?s=n:(c=n.schema,s=c.dimensions,l=n.store);var u=!!(t&&t.get(`stack`)),d,f,p,g;if(each$15(s,function(t,n){isString(t)&&(s[n]=t={name:t}),u&&!t.isExtraCoord&&(!a&&!d&&t.ordinalMeta&&(d=t),!f&&t.type!==`ordinal`&&t.type!==`time`&&(!o||o===t.coordDim)&&(f=t))}),f&&!a&&!d&&(a=!0),f){p=`__\0ecstackresult_`+t.id,g=`__\0ecstackedover_`+t.id,d&&(d.createInvertedIndices=!0);var _=f.coordDim,v=f.type,y=0;each$15(s,function(t){t.coordDim===_&&y++});var b={name:p,coordDim:_,coordDimIndex:y,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length},x={name:g,coordDim:g,coordDimIndex:y+1,type:v,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:s.length+1};c?(l&&(b.storeDimIndex=l.ensureCalculationDimension(g,v),x.storeDimIndex=l.ensureCalculationDimension(p,v)),c.appendCalculationDimension(b),c.appendCalculationDimension(x)):(s.push(b),s.push(x))}return{stackedDimension:f&&f.name,stackedByDimension:d&&d.name,isStackedByIndex:a,stackedOverDimension:g,stackResultDimension:p}}function isLegacyDimensionsInput(t){return!isSeriesDataSchema(t.schema)}function isDimensionStacked(t,n){return!!n&&n===t.getCalculationInfo(`stackedDimension`)}function getStackedDimension(t,n){return isDimensionStacked(t,n)?t.getCalculationInfo(`stackResultDimension`):n}function getCoordSysDimDefs(t,n){var r=t.get(`coordinateSystem`),a=CoordinateSystem_default.get(r),o;return n&&n.coordSysDims&&(o=map$1(n.coordSysDims,function(t){var r={name:t},a=n.axisMap.get(t);return a&&(r.type=getDimensionTypeByAxis(a.get(`type`))),r})),o||=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||[`x`,`y`],o}function injectOrdinalMeta(t,n,r){var a,o;return r&&each$15(t,function(t,s){var c=t.coordDim,l=r.categoryAxisMap.get(c);l&&(a??=s,t.ordinalMeta=l.getOrdinalMeta(),n&&(t.createInvertedIndices=!0)),t.otherDims.itemName!=null&&(o=!0)}),!o&&a!=null&&(t[a].otherDims.itemName=0),a}function createSeriesData(t,n,r){r||={};var a=n.getSourceManager(),o,s=!1;t?(s=!0,o=createSourceFromSeriesDataOption(t)):(o=a.getSource(),s=o.sourceFormat===SOURCE_FORMAT_ORIGINAL);var c=getCoordSysInfoBySeries(n),l=getCoordSysDimDefs(n,c),u=r.useEncodeDefaulter,d=isFunction(u)?u:u?curry$1(makeSeriesEncodeForAxisCoordSys,l,n):null,f={coordDimensions:l,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!s},p=prepareSeriesDataSchema(o,f),g=injectOrdinalMeta(p.dimensions,r.createInvertedIndices,c),_=s?null:a.getSharedDataStore(p),v=enableDataStack(n,{schema:p,store:_}),y=new SeriesData_default(p,n);y.setCalculationInfo(v);var b=g!=null&&isNeedCompleteOrdinalData(o)?function(t,n,r,a){return a===g?r:this.defaultDimValueGetter(t,n,r,a)}:null;return y.hasItemOption=!1,y.initData(s?o:_,null,b),y}function isNeedCompleteOrdinalData(t){if(t.sourceFormat===`original`)return!isArray$1(getDataItemValue(firstDataNotNull(t.data||[])))}function firstDataNotNull(t){for(var n=0;n<t.length&&t[n]==null;)n++;return t[n]}var createSeriesData_default=createSeriesData,Scale=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])},t.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(n)||(r[1]=n)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();enableClassManagement(Scale);var Scale_default=Scale,uidBase=0,OrdinalMeta=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uidBase}return t.createByAxisModel=function(n){var r=n.option,a=r.data,o=a&&map$1(a,getName);return new t({categories:o,needCollect:!o,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var n,r=this._needCollect;if(!isString(t)&&!r)return t;if(r&&!this._deduplication)return n=this.categories.length,this.categories[n]=t,n;var a=this._getOrCreateMap();return n=a.get(t),n??(r?(n=this.categories.length,this.categories[n]=t,a.set(t,n)):n=NaN),n},t.prototype._getOrCreateMap=function(){return this._map||=createHashMap(this.categories)},t}();function getName(t){return isObject$3(t)&&t.value!=null?t.value:t+``}var OrdinalMeta_default=OrdinalMeta;function isIntervalOrLogScale(t){return t.type===`interval`||t.type===`log`}function intervalScaleNiceTicks(t,n,r,a){var o={},s=o.interval=nice((t[1]-t[0])/n,!0);r!=null&&s<r&&(s=o.interval=r),a!=null&&s>a&&(s=o.interval=a);var c=o.intervalPrecision=getIntervalPrecision(s);return fixExtent(o.niceTickExtent=[round$3(Math.ceil(t[0]/s)*s,c),round$3(Math.floor(t[1]/s)*s,c)],t),o}function increaseInterval(t){var n=10**quantityExponent(t),r=t/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,round$3(r*n)}function getIntervalPrecision(t){return getPrecision(t)+2}function clamp(t,n,r){t[n]=Math.max(Math.min(t[n],r[1]),r[0])}function fixExtent(t,n){!isFinite(t[0])&&(t[0]=n[0]),!isFinite(t[1])&&(t[1]=n[1]),clamp(t,0,n),clamp(t,1,n),t[0]>t[1]&&(t[0]=t[1])}function contain$1(t,n){return t>=n[0]&&t<=n[1]}function normalize$2(t,n){return n[1]===n[0]?.5:(t-n[0])/(n[1]-n[0])}function scale(t,n){return t*(n[1]-n[0])+n[0]}var OrdinalScale=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;r.type=`ordinal`;var a=r.getSetting(`ordinalMeta`);return a||=new OrdinalMeta_default({}),isArray$1(a)&&(a=new OrdinalMeta_default({categories:map$1(a,function(t){return isObject$3(t)?t.value:t})})),r._ordinalMeta=a,r._extent=r.getSetting(`extent`)||[0,a.categories.length-1],r}return n.prototype.parse=function(t){return t==null?NaN:isString(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},n.prototype.contain=function(t){return t=this.parse(t),contain$1(t,this._extent)&&this._ordinalMeta.categories[t]!=null},n.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),normalize$2(t,this._extent)},n.prototype.scale=function(t){return t=Math.round(scale(t,this._extent)),this.getRawOrdinalNumber(t)},n.prototype.getTicks=function(){for(var t=[],n=this._extent,r=n[0];r<=n[1];)t.push({value:r}),r++;return t},n.prototype.getMinorTicks=function(t){},n.prototype.setSortInfo=function(t){if(t==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var n=t.ordinalNumbers,r=this._ordinalNumbersByTick=[],a=this._ticksByOrdinalNumber=[],o=0,s=this._ordinalMeta.categories.length,c=Math.min(s,n.length);o<c;++o){var l=n[o];r[o]=l,a[l]=o}for(var u=0;o<s;++o){for(;a[u]!=null;)u++;r.push(u),a[u]=o}},n.prototype._getTickNumber=function(t){var n=this._ticksByOrdinalNumber;return n&&t>=0&&t<n.length?n[t]:t},n.prototype.getRawOrdinalNumber=function(t){var n=this._ordinalNumbersByTick;return n&&t>=0&&t<n.length?n[t]:t},n.prototype.getLabel=function(t){if(!this.isBlank()){var n=this.getRawOrdinalNumber(t.value),r=this._ordinalMeta.categories[n];return r==null?``:r+``}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},n.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type=`ordinal`,n}(Scale_default);Scale_default.registerClass(OrdinalScale);var Ordinal_default=OrdinalScale,roundNumber=round$3,IntervalScale=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`interval`,n._interval=0,n._intervalPrecision=2,n}return n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return contain$1(t,this._extent)},n.prototype.normalize=function(t){return normalize$2(t,this._extent)},n.prototype.scale=function(t){return scale(t,this._extent)},n.prototype.setExtent=function(t,n){var r=this._extent;isNaN(t)||(r[0]=parseFloat(t)),isNaN(n)||(r[1]=parseFloat(n))},n.prototype.unionExtent=function(t){var n=this._extent;t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1]),this.setExtent(n[0],n[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(t)},n.prototype.getTicks=function(t){var n=this._interval,r=this._extent,a=this._niceExtent,o=this._intervalPrecision,s=[];if(!n)return s;var c=1e4;r[0]<a[0]&&(t?s.push({value:roundNumber(a[0]-n,o)}):s.push({value:r[0]}));for(var l=a[0];l<=a[1]&&(s.push({value:l}),l=roundNumber(l+n,o),l!==s[s.length-1].value);)if(s.length>c)return[];var u=s.length?s[s.length-1].value:a[1];return r[1]>u&&(t?s.push({value:roundNumber(u+n,o)}):s.push({value:r[1]})),s},n.prototype.getMinorTicks=function(t){for(var n=this.getTicks(!0),r=[],a=this.getExtent(),o=1;o<n.length;o++){for(var s=n[o],c=n[o-1],l=0,u=[],d=(s.value-c.value)/t;l<t-1;){var f=roundNumber(c.value+(l+1)*d);f>a[0]&&f<a[1]&&u.push(f),l++}r.push(u)}return r},n.prototype.getLabel=function(t,n){if(t==null)return``;var r=n&&n.precision;return r==null?r=getPrecision(t.value)||0:r===`auto`&&(r=this._intervalPrecision),addCommas(roundNumber(t.value,r,!0))},n.prototype.calcNiceTicks=function(t,n,r){t||=5;var a=this._extent,o=a[1]-a[0];if(isFinite(o)){o<0&&(o=-o,a.reverse());var s=intervalScaleNiceTicks(a,t,n,r);this._intervalPrecision=s.intervalPrecision,this._interval=s.interval,this._niceExtent=s.niceTickExtent}},n.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1])if(n[0]!==0){var r=Math.abs(n[0]);t.fixMax||(n[1]+=r/2),n[0]-=r/2}else n[1]=1;var a=n[1]-n[0];isFinite(a)||(n[0]=0,n[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var o=this._interval;t.fixMin||(n[0]=roundNumber(Math.floor(n[0]/o)*o)),t.fixMax||(n[1]=roundNumber(Math.ceil(n[1]/o)*o))},n.prototype.setNiceExtent=function(t,n){this._niceExtent=[t,n]},n.type=`interval`,n}(Scale_default);Scale_default.registerClass(IntervalScale);var Interval_default=IntervalScale,supportFloat32Array=typeof Float32Array<`u`,Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(t){return isArray$1(t)?supportFloat32Array?new Float32Array(t):t:new Float32ArrayCtor(t)}var STACK_PREFIX=`__ec_stack_`;function getSeriesStackId$1(t){return t.get(`stack`)||STACK_PREFIX+t.seriesIndex}function getAxisKey$1(t){return t.dim+t.index}function getLayoutOnAxis(t){var n=[],r=t.axis,a=`axis0`;if(r.type===`category`){for(var o=r.getBandWidth(),s=0;s<t.count;s++)n.push(defaults({bandWidth:o,axisKey:a,stackId:STACK_PREFIX+s},t));for(var c=doCalBarWidthAndOffset(n),l=[],s=0;s<t.count;s++){var u=c[a][STACK_PREFIX+s];u.offsetCenter=u.offset+u.width/2,l.push(u)}return l}}function prepareLayoutBarSeries(t,n){var r=[];return n.eachSeriesByType(t,function(t){isOnCartesian(t)&&r.push(t)}),r}function getValueAxesMinGaps(t){var n={};each$15(t,function(t){var r=t.coordinateSystem.getBaseAxis();if(!(r.type!==`time`&&r.type!==`value`))for(var a=t.getData(),o=r.dim+`_`+r.index,s=a.getDimensionIndex(a.mapDimension(r.dim)),c=a.getStore(),l=0,u=c.count();l<u;++l){var d=c.get(s,l);n[o]?n[o].push(d):n[o]=[d]}});var r={};for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o){o.sort(function(t,n){return t-n});for(var s=null,c=1;c<o.length;++c){var l=o[c]-o[c-1];l>0&&(s=s===null?l:Math.min(s,l))}r[a]=s}}return r}function makeColumnLayout(t){var n=getValueAxesMinGaps(t),r=[];return each$15(t,function(t){var a=t.coordinateSystem.getBaseAxis(),o=a.getExtent(),s;if(a.type===`category`)s=a.getBandWidth();else if(a.type===`value`||a.type===`time`){var c=n[a.dim+`_`+a.index],l=Math.abs(o[1]-o[0]),u=a.scale.getExtent(),d=Math.abs(u[1]-u[0]);s=c?l/d*c:l}else{var f=t.getData();s=Math.abs(o[1]-o[0])/f.count()}var p=parsePercent(t.get(`barWidth`),s),g=parsePercent(t.get(`barMaxWidth`),s),_=parsePercent(t.get(`barMinWidth`)||(isInLargeMode(t)?.5:1),s),v=t.get(`barGap`),y=t.get(`barCategoryGap`);r.push({bandWidth:s,barWidth:p,barMaxWidth:g,barMinWidth:_,barGap:v,barCategoryGap:y,axisKey:getAxisKey$1(a),stackId:getSeriesStackId$1(t)})}),doCalBarWidthAndOffset(r)}function doCalBarWidthAndOffset(t){var n={};each$15(t,function(t,r){var a=t.axisKey,o=t.bandWidth,s=n[a]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:null,gap:`20%`,stacks:{}},c=s.stacks;n[a]=s;var l=t.stackId;c[l]||s.autoWidthCount++,c[l]=c[l]||{width:0,maxWidth:0};var u=t.barWidth;u&&!c[l].width&&(c[l].width=u,u=Math.min(s.remainedWidth,u),s.remainedWidth-=u);var d=t.barMaxWidth;d&&(c[l].maxWidth=d);var f=t.barMinWidth;f&&(c[l].minWidth=f);var p=t.barGap;p!=null&&(s.gap=p);var g=t.barCategoryGap;g!=null&&(s.categoryGap=g)});var r={};return each$15(n,function(t,n){r[n]={};var a=t.stacks,o=t.bandWidth,s=t.categoryGap;if(s==null){var c=keys(a).length;s=Math.max(35-c*4,15)+`%`}var l=parsePercent(s,o),u=parsePercent(t.gap,1),d=t.remainedWidth,f=t.autoWidthCount,p=(d-l)/(f+(f-1)*u);p=Math.max(p,0),each$15(a,function(t){var n=t.maxWidth,r=t.minWidth;if(t.width){var a=t.width;n&&(a=Math.min(a,n)),r&&(a=Math.max(a,r)),t.width=a,d-=a+u*a,f--}else{var a=p;n&&n<a&&(a=Math.min(n,d)),r&&r>a&&(a=r),a!==p&&(t.width=a,d-=a+u*a,f--)}}),p=(d-l)/(f+(f-1)*u),p=Math.max(p,0);var g=0,_;each$15(a,function(t,n){t.width||=p,_=t,g+=t.width*(1+u)}),_&&(g-=_.width*u);var v=-g/2;each$15(a,function(t,a){r[n][a]=r[n][a]||{bandWidth:o,offset:v,width:t.width},v+=t.width*(1+u)})}),r}function retrieveColumnLayout(t,n,r){if(t&&n){var a=t[getAxisKey$1(n)];return a!=null&&r!=null?a[getSeriesStackId$1(r)]:a}}function layout$3(t,n){var r=prepareLayoutBarSeries(t,n),a=makeColumnLayout(r);each$15(r,function(t){var n=t.getData(),r=t.coordinateSystem.getBaseAxis(),o=getSeriesStackId$1(t),s=a[getAxisKey$1(r)][o],c=s.offset,l=s.width;n.setLayout({bandWidth:s.bandWidth,offset:c,size:l})})}function createProgressiveLayout(t){return{seriesType:t,plan:createRenderPlanner(),reset:function(t){if(isOnCartesian(t)){var n=t.getData(),r=t.coordinateSystem,a=r.getBaseAxis(),o=r.getOtherAxis(a),s=n.getDimensionIndex(n.mapDimension(o.dim)),c=n.getDimensionIndex(n.mapDimension(a.dim)),l=t.get(`showBackground`,!0),u=n.mapDimension(o.dim),d=n.getCalculationInfo(`stackResultDimension`),f=isDimensionStacked(n,u)&&!!n.getCalculationInfo(`stackedOnSeries`),p=o.isHorizontal(),g=getValueAxisStart(a,o),_=isInLargeMode(t),v=t.get(`barMinHeight`)||0,y=d&&n.getDimensionIndex(d),b=n.getLayout(`size`),x=n.getLayout(`offset`);return{progress:function(t,n){for(var a=t.count,o=_&&createFloat32Array(a*3),u=_&&l&&createFloat32Array(a*3),d=_&&createFloat32Array(a),S=r.master.getRect(),C=p?S.width:S.height,w,T=n.getStore(),E=0;(w=t.next())!=null;){var D=T.get(f?y:s,w),O=T.get(c,w),A=g,j=void 0;f&&(j=+D-T.get(s,w));var M=void 0,N=void 0,P=void 0,F=void 0;if(p){var I=r.dataToPoint([D,O]);if(f){var L=r.dataToPoint([j,O]);A=L[0]}M=A,N=I[1]+x,P=I[0]-A,F=b,Math.abs(P)<v&&(P=(P<0?-1:1)*v)}else{var I=r.dataToPoint([O,D]);if(f){var L=r.dataToPoint([O,j]);A=L[1]}M=I[0]+x,N=A,P=b,F=I[1]-A,Math.abs(F)<v&&(F=(F<=0?-1:1)*v)}_?(o[E]=M,o[E+1]=N,o[E+2]=p?P:F,u&&(u[E]=p?S.x:M,u[E+1]=p?N:S.y,u[E+2]=C),d[w]=w):n.setItemLayout(w,{x:M,y:N,width:P,height:F}),E+=3}_&&n.setLayout({largePoints:o,largeDataIndices:d,largeBackgroundPoints:u,valueAxisHorizontal:p})}}}}}}function isOnCartesian(t){return t.coordinateSystem&&t.coordinateSystem.type===`cartesian2d`}function isInLargeMode(t){return t.pipelineContext&&t.pipelineContext.large}function getValueAxisStart(t,n){var r=n.model.get(`startValue`);return r||=0,n.toGlobalCoord(n.dataToCoord(n.type===`log`?r>0?r:1:r))}var bisect=function(t,n,r,a){for(;r<a;){var o=r+a>>>1;t[o][1]<n?r=o+1:a=o}return r},TimeScale=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`time`,r}return n.prototype.getLabel=function(t){var n=this.getSetting(`useUTC`);return format(t.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,n,this.getSetting(`locale`))},n.prototype.getFormattedLabel=function(t,n,r){var a=this.getSetting(`useUTC`);return leveledFormat(t,n,r,this.getSetting(`locale`),a)},n.prototype.getTicks=function(){var t=this._interval,n=this._extent,r=[];if(!t)return r;r.push({value:n[0],level:0});var a=this.getSetting(`useUTC`),o=getIntervalTicks(this._minLevelUnit,this._approxInterval,a,n);return r=r.concat(o),r.push({value:n[1],level:0}),r},n.prototype.calcNiceExtent=function(t){var n=this._extent;if(n[0]===n[1]&&(n[0]-=ONE_DAY,n[1]+=ONE_DAY),n[1]===-1/0&&n[0]===1/0){var r=new Date;n[1]=+new Date(r.getFullYear(),r.getMonth(),r.getDate()),n[0]=n[1]-ONE_DAY}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},n.prototype.calcNiceTicks=function(t,n,r){t||=10;var a=this._extent;this._approxInterval=(a[1]-a[0])/t,n!=null&&this._approxInterval<n&&(this._approxInterval=n),r!=null&&this._approxInterval>r&&(this._approxInterval=r);var o=scaleIntervals.length,s=Math.min(bisect(scaleIntervals,this._approxInterval,0,o),o-1);this._interval=scaleIntervals[s][1],this._minLevelUnit=scaleIntervals[Math.max(s-1,0)][0]},n.prototype.parse=function(t){return isNumber(t)?t:+parseDate(t)},n.prototype.contain=function(t){return contain$1(this.parse(t),this._extent)},n.prototype.normalize=function(t){return normalize$2(this.parse(t),this._extent)},n.prototype.scale=function(t){return scale(t,this._extent)},n.type=`time`,n}(Interval_default),scaleIntervals=[[`second`,ONE_SECOND],[`minute`,ONE_MINUTE],[`hour`,ONE_HOUR],[`quarter-day`,ONE_HOUR*6],[`half-day`,ONE_HOUR*12],[`day`,ONE_DAY*1.2],[`half-week`,ONE_DAY*3.5],[`week`,ONE_DAY*7],[`month`,ONE_DAY*31],[`quarter`,ONE_DAY*95],[`half-year`,ONE_YEAR/2],[`year`,ONE_YEAR]];function isUnitValueSame(t,n,r,a){var o=parseDate(n),s=parseDate(r),c=function(t){return getUnitValue(o,t,a)===getUnitValue(s,t,a)},l=function(){return c(`year`)},u=function(){return l()&&c(`month`)},d=function(){return u()&&c(`day`)},f=function(){return d()&&c(`hour`)},p=function(){return f()&&c(`minute`)},g=function(){return p()&&c(`second`)},_=function(){return g()&&c(`millisecond`)};switch(t){case`year`:return l();case`month`:return u();case`day`:return d();case`hour`:return f();case`minute`:return p();case`second`:return g();case`millisecond`:return _()}}function getDateInterval(t,n){return t/=ONE_DAY,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function getMonthInterval(t){var n=30*ONE_DAY;return t/=n,t>6?6:t>3?3:t>2?2:1}function getHourInterval(t){return t/=ONE_HOUR,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function getMinutesAndSecondsInterval(t,n){return t/=n?ONE_MINUTE:ONE_SECOND,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function getMillisecondsInterval(t){return nice(t,!0)}function getFirstTimestampOfUnit(t,n,r){var a=new Date(t);switch(getPrimaryTimeUnit(n)){case`year`:case`month`:a[monthSetterName(r)](0);case`day`:a[dateSetterName(r)](1);case`hour`:a[hoursSetterName(r)](0);case`minute`:a[minutesSetterName(r)](0);case`second`:a[secondsSetterName(r)](0),a[millisecondsSetterName(r)](0)}return a.getTime()}function getIntervalTicks(t,n,r,a){var o=1e4,s=timeUnits,c=0;function l(t,n,r,o,s,c,l){for(var u=new Date(n),d=n,f=u[o]();d<r&&d<=a[1];)l.push({value:d}),f+=t,u[s](f),d=u.getTime();l.push({value:d,notAdd:!0})}function u(t,o,s){var c=[],u=!o.length;if(!isUnitValueSame(getPrimaryTimeUnit(t),a[0],a[1],r)){u&&(o=[{value:getFirstTimestampOfUnit(new Date(a[0]),t,r)},{value:a[1]}]);for(var d=0;d<o.length-1;d++){var f=o[d].value,p=o[d+1].value;if(f!==p){var g=void 0,_=void 0,v=void 0,y=!1;switch(t){case`year`:g=Math.max(1,Math.round(n/ONE_DAY/365)),_=fullYearGetterName(r),v=fullYearSetterName(r);break;case`half-year`:case`quarter`:case`month`:g=getMonthInterval(n),_=monthGetterName(r),v=monthSetterName(r);break;case`week`:case`half-week`:case`day`:g=getDateInterval(n,31),_=dateGetterName(r),v=dateSetterName(r),y=!0;break;case`half-day`:case`quarter-day`:case`hour`:g=getHourInterval(n),_=hoursGetterName(r),v=hoursSetterName(r);break;case`minute`:g=getMinutesAndSecondsInterval(n,!0),_=minutesGetterName(r),v=minutesSetterName(r);break;case`second`:g=getMinutesAndSecondsInterval(n,!1),_=secondsGetterName(r),v=secondsSetterName(r);break;case`millisecond`:g=getMillisecondsInterval(n),_=millisecondsGetterName(r),v=millisecondsSetterName(r);break}l(g,f,p,_,v,y,c),t===`year`&&s.length>1&&d===0&&s.unshift({value:s[0].value-g})}}for(var d=0;d<c.length;d++)s.push(c[d]);return c}}for(var d=[],f=[],p=0,g=0,_=0;_<s.length&&c++<o;++_){var v=getPrimaryTimeUnit(s[_]);if(isPrimaryTimeUnit(s[_])&&(u(s[_],d[d.length-1]||[],f),v!==(s[_+1]?getPrimaryTimeUnit(s[_+1]):null))){if(f.length){g=p,f.sort(function(t,n){return t.value-n.value});for(var y=[],b=0;b<f.length;++b){var x=f[b].value;(b===0||f[b-1].value!==x)&&(y.push(f[b]),x>=a[0]&&x<=a[1]&&p++)}var S=(a[1]-a[0])/n;if(p>S*1.5&&g>S/1.5||(d.push(y),p>S||t===s[_]))break}f=[]}}for(var C=filter(map$1(d,function(t){return filter(t,function(t){return t.value>=a[0]&&t.value<=a[1]&&!t.notAdd})}),function(t){return t.length>0}),w=[],T=C.length-1,_=0;_<C.length;++_)for(var E=C[_],D=0;D<E.length;++D)w.push({value:E[D].value,level:T-_});w.sort(function(t,n){return t.value-n.value});for(var O=[],_=0;_<w.length;++_)(_===0||w[_].value!==w[_-1].value)&&O.push(w[_]);return O}Scale_default.registerClass(TimeScale);var Time_default=TimeScale,scaleProto=Scale_default.prototype,intervalScaleProto=Interval_default.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`log`,n.base=10,n._originalScale=new Interval_default,n._interval=0,n}return n.prototype.getTicks=function(t){var n=this._originalScale,r=this._extent,a=n.getExtent();return map$1(intervalScaleProto.getTicks.call(this,t),function(t){var n=t.value,o=round$3(mathPow$1(this.base,n));return o=n===r[0]&&this._fixMin?fixRoundingError(o,a[0]):o,o=n===r[1]&&this._fixMax?fixRoundingError(o,a[1]):o,{value:o}},this)},n.prototype.setExtent=function(t,n){var r=mathLog$1(this.base);t=mathLog$1(Math.max(0,t))/r,n=mathLog$1(Math.max(0,n))/r,intervalScaleProto.setExtent.call(this,t,n)},n.prototype.getExtent=function(){var t=this.base,n=scaleProto.getExtent.call(this);n[0]=mathPow$1(t,n[0]),n[1]=mathPow$1(t,n[1]);var r=this._originalScale.getExtent();return this._fixMin&&(n[0]=fixRoundingError(n[0],r[0])),this._fixMax&&(n[1]=fixRoundingError(n[1],r[1])),n},n.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var n=this.base;t[0]=mathLog$1(t[0])/mathLog$1(n),t[1]=mathLog$1(t[1])/mathLog$1(n),scaleProto.unionExtent.call(this,t)},n.prototype.unionExtentFromData=function(t,n){this.unionExtent(t.getApproximateExtent(n))},n.prototype.calcNiceTicks=function(t){t||=10;var n=this._extent,r=n[1]-n[0];if(!(r===1/0||r<=0)){var a=quantity(r);for(t/r*a<=.5&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var o=[round$3(mathCeil$1(n[0]/a)*a),round$3(mathFloor$1(n[1]/a)*a)];this._interval=a,this._niceExtent=o}},n.prototype.calcNiceExtent=function(t){intervalScaleProto.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},n.prototype.parse=function(t){return t},n.prototype.contain=function(t){return t=mathLog$1(t)/mathLog$1(this.base),contain$1(t,this._extent)},n.prototype.normalize=function(t){return t=mathLog$1(t)/mathLog$1(this.base),normalize$2(t,this._extent)},n.prototype.scale=function(t){return t=scale(t,this._extent),mathPow$1(this.base,t)},n.type=`log`,n}(Scale_default),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks,proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(t,n){return roundingErrorFix(t,getPrecision(n))}Scale_default.registerClass(LogScale);var Log_default=LogScale,ScaleRawExtentInfo=function(){function t(t,n,r){this._prepareParams(t,n,r)}return t.prototype._prepareParams=function(t,n,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var a=this._isOrdinal=t.type===`ordinal`;this._needCrossZero=t.type===`interval`&&n.getNeedCrossZero&&n.getNeedCrossZero();var o=n.get(`min`,!0);o??=n.get(`startValue`,!0);var s=this._modelMinRaw=o;isFunction(s)?this._modelMinNum=parseAxisModelMinMax(t,s({min:r[0],max:r[1]})):s!==`dataMin`&&(this._modelMinNum=parseAxisModelMinMax(t,s));var c=this._modelMaxRaw=n.get(`max`,!0);if(isFunction(c)?this._modelMaxNum=parseAxisModelMinMax(t,c({min:r[0],max:r[1]})):c!==`dataMax`&&(this._modelMaxNum=parseAxisModelMinMax(t,c)),a)this._axisDataLen=n.getCategories().length;else{var l=n.get(`boundaryGap`),u=isArray$1(l)?l:[l||0,l||0];typeof u[0]==`boolean`||typeof u[1]==`boolean`?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(u[0],1),parsePercent$1(u[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,n=this._dataMin,r=this._dataMax,a=this._axisDataLen,o=this._boundaryGapInner,s=t?null:r-n||Math.abs(n),c=this._modelMinRaw===`dataMin`?n:this._modelMinNum,l=this._modelMaxRaw===`dataMax`?r:this._modelMaxNum,u=c!=null,d=l!=null;c??=t?a?0:NaN:n-o[0]*s,l??=t?a?a-1:NaN:r+o[1]*s,(c==null||!isFinite(c))&&(c=NaN),(l==null||!isFinite(l))&&(l=NaN);var f=eqNaN(c)||eqNaN(l)||t&&!a;this._needCrossZero&&(c>0&&l>0&&!u&&(c=0),c<0&&l<0&&!d&&(l=0));var p=this._determinedMin,g=this._determinedMax;return p!=null&&(c=p,u=!0),g!=null&&(l=g,d=!0),{min:c,max:l,minFixed:u,maxFixed:d,isBlank:f}},t.prototype.modifyDataMinMax=function(t,n){this[DATA_MIN_MAX_ATTR[t]]=n},t.prototype.setDeterminedMinMax=function(t,n){var r=DETERMINED_MIN_MAX_ATTR[t];this[r]=n},t.prototype.freeze=function(){this.frozen=!0},t}(),DETERMINED_MIN_MAX_ATTR={min:`_determinedMin`,max:`_determinedMax`},DATA_MIN_MAX_ATTR={min:`_dataMin`,max:`_dataMax`};function ensureScaleRawExtentInfo(t,n,r){var a=t.rawExtentInfo;return a||(a=new ScaleRawExtentInfo(t,n,r),t.rawExtentInfo=a,a)}function parseAxisModelMinMax(t,n){return n==null?null:eqNaN(n)?NaN:t.parse(n)}function getScaleExtent(t,n){var r=t.type,a=ensureScaleRawExtentInfo(t,n,t.getExtent()).calculate();t.setBlank(a.isBlank);var o=a.min,s=a.max,c=n.ecModel;if(c&&r===`time`){var l=prepareLayoutBarSeries(`bar`,c),u=!1;if(each$15(l,function(t){u||=t.getBaseAxis()===n.axis}),u){var d=makeColumnLayout(l),f=adjustScaleForOverflow(o,s,n,d);o=f.min,s=f.max}}return{extent:[o,s],fixMin:a.minFixed,fixMax:a.maxFixed}}function adjustScaleForOverflow(t,n,r,a){var o=r.axis.getExtent(),s=Math.abs(o[1]-o[0]),c=retrieveColumnLayout(a,r.axis);if(c===void 0)return{min:t,max:n};var l=1/0;each$15(c,function(t){l=Math.min(t.offset,l)});var u=-1/0;each$15(c,function(t){u=Math.max(t.offset+t.width,u)}),l=Math.abs(l),u=Math.abs(u);var d=l+u,f=n-t,p=f/(1-(l+u)/s)-f;return n+=u/d*p,t-=l/d*p,{min:t,max:n}}function niceScaleExtent(t,n){var r=n,a=getScaleExtent(t,r),o=a.extent,s=r.get(`splitNumber`);t instanceof Log_default&&(t.base=r.get(`logBase`));var c=t.type,l=r.get(`interval`),u=c===`interval`||c===`time`;t.setExtent(o[0],o[1]),t.calcNiceExtent({splitNumber:s,fixMin:a.fixMin,fixMax:a.fixMax,minInterval:u?r.get(`minInterval`):null,maxInterval:u?r.get(`maxInterval`):null}),l!=null&&t.setInterval&&t.setInterval(l)}function createScaleByModel$1(t,n){if(n||=t.get(`type`),n)switch(n){case`category`:return new Ordinal_default({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case`time`:return new Time_default({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get(`useUTC`)});default:return new((Scale_default.getClass(n))||Interval_default)}}function ifAxisCrossZero(t){var n=t.scale.getExtent(),r=n[0],a=n[1];return!(r>0&&a>0||r<0&&a<0)}function makeLabelFormatter(t){var n=t.getLabelModel().get(`formatter`),r=t.type===`category`?t.scale.getExtent()[0]:null;return t.scale.type===`time`?function(n){return function(r,a){return t.scale.getFormattedLabel(r,a,n)}}(n):isString(n)?function(n){return function(r){var a=t.scale.getLabel(r);return n.replace(`{value}`,a??``)}}(n):isFunction(n)?function(n){return function(a,o){return r!=null&&(o=a.value-r),n(getAxisRawValue(t,a),o,a.level==null?null:{level:a.level})}}(n):function(n){return t.scale.getLabel(n)}}function getAxisRawValue(t,n){return t.type===`category`?t.scale.getLabel(n):n.value}function estimateLabelUnionRect(t){var n=t.model,r=t.scale;if(!(!n.get([`axisLabel`,`show`])||r.isBlank())){var a,o,s=r.getExtent();r instanceof Ordinal_default?o=r.count():(a=r.getTicks(),o=a.length);var c=t.getLabelModel(),l=makeLabelFormatter(t),u,d=1;o>40&&(d=Math.ceil(o/40));for(var f=0;f<o;f+=d){var p=l(a?a[f]:{value:s[0]+f},f),g=rotateTextRect(c.getTextRect(p),c.get(`rotate`)||0);u?u.union(g):u=g}return u}}function rotateTextRect(t,n){var r=n*Math.PI/180,a=t.width,o=t.height,s=a*Math.abs(Math.cos(r))+Math.abs(o*Math.sin(r)),c=a*Math.abs(Math.sin(r))+Math.abs(o*Math.cos(r));return new BoundingRect_default(t.x,t.y,s,c)}function getOptionCategoryInterval(t){return t.get(`interval`)??`auto`}function shouldShowAllLabels(t){return t.type===`category`&&getOptionCategoryInterval(t.getLabelModel())===0}function getDataDimensionsOnAxis(t,n){var r={};return each$15(t.mapDimensionsAll(n),function(n){r[getStackedDimension(t,n)]=!0}),keys(r)}function unionAxisExtentFromData(t,n,r){n&&each$15(getDataDimensionsOnAxis(n,r),function(r){var a=n.getApproximateExtent(r);a[0]<t[0]&&(t[0]=a[0]),a[1]>t[1]&&(t[1]=a[1])})}var AxisModelCommonMixin=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}();function createTextStyle(t,n){return n||={},createTextStyle$1(t,null,null,n.state!==`normal`)}var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel:Component_default$1,ComponentView:Component_default,SeriesModel:Series_default,ChartView:Chart_default,registerComponentModel:function(t){Component_default$1.registerClass(t)},registerComponentView:function(t){Component_default.registerClass(t)},registerSeriesModel:function(t){Series_default.registerClass(t)},registerChartView:function(t){Chart_default.registerClass(t)},registerSubTypeDefaulter:function(t,n){Component_default$1.registerSubTypeDefaulter(t,n)},registerPainter:function(t,n){registerPainter(t,n)}};function use(t){if(isArray$1(t)){each$15(t,function(t){use(t)});return}indexOf(extensions,t)>=0||(extensions.push(t),isFunction(t)&&(t={install:t}),t.install(extensionRegisters))}var EPSILON=1e-8;function isAroundEqual(t,n){return Math.abs(t-n)<EPSILON}function contain(t,n,r){var a=0,o=t[0];if(!o)return!1;for(var s=1;s<t.length;s++){var c=t[s];a+=windingLine(o[0],o[1],c[0],c[1],n,r),o=c}var l=t[0];return(!isAroundEqual(o[0],l[0])||!isAroundEqual(o[1],l[1]))&&(a+=windingLine(o[0],o[1],l[0],l[1],n,r)),a!==0}var TMP_TRANSFORM=[];function transformPoints(t,n){for(var r=0;r<t.length;r++)applyTransform$1(t[r],t[r],n)}function updateBBoxFromPoints(t,n,r,a){for(var o=0;o<t.length;o++){var s=t[o];a&&(s=a.project(s)),s&&isFinite(s[0])&&isFinite(s[1])&&(min$1(n,n,s),max$1(r,r,s))}}function centroid$1(t){for(var n=0,r=0,a=0,o=t.length,s=t[o-1][0],c=t[o-1][1],l=0;l<o;l++){var u=t[l][0],d=t[l][1],f=s*d-u*c;n+=f,r+=(s+u)*f,a+=(c+d)*f,s=u,c=d}return n?[r/n/3,a/n/3,n]:[t[0][0]||0,t[0][1]||0]}var Region=function(){function t(t){this.name=t}return t.prototype.setCenter=function(t){this._center=t},t.prototype.getCenter=function(){var t=this._center;return t||=this._center=this.calcCenter(),t},t}(),GeoJSONPolygonGeometry=function(){function t(t,n){this.type=`polygon`,this.exterior=t,this.interiors=n}return t}(),GeoJSONLineStringGeometry=function(){function t(t){this.type=`linestring`,this.points=t}return t}(),GeoJSONRegion=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this,n)||this;return o.type=`geoJSON`,o.geometries=r,o._center=a&&[a[0],a[1]],o}return n.prototype.calcCenter=function(){for(var t=this.geometries,n,r=0,a=0;a<t.length;a++){var o=t[a],s=o.exterior,c=s&&s.length;c>r&&(n=o,r=c)}if(n)return centroid$1(n.exterior);var l=this.getBoundingRect();return[l.x+l.width/2,l.y+l.height/2]},n.prototype.getBoundingRect=function(t){var n=this._rect;if(n&&!t)return n;var r=[1/0,1/0],a=[-1/0,-1/0],o=this.geometries;return each$15(o,function(n){n.type===`polygon`?updateBBoxFromPoints(n.exterior,r,a,t):each$15(n.points,function(n){updateBBoxFromPoints(n,r,a,t)})}),isFinite(r[0])&&isFinite(r[1])&&isFinite(a[0])&&isFinite(a[1])||(r[0]=r[1]=a[0]=a[1]=0),n=new BoundingRect_default(r[0],r[1],a[0]-r[0],a[1]-r[1]),t||(this._rect=n),n},n.prototype.contain=function(t){var n=this.getBoundingRect(),r=this.geometries;if(!n.contain(t[0],t[1]))return!1;loopGeo:for(var a=0,o=r.length;a<o;a++){var s=r[a];if(s.type===`polygon`){var c=s.exterior,l=s.interiors;if(contain(c,t[0],t[1])){for(var u=0;u<(l?l.length:0);u++)if(contain(l[u],t[0],t[1]))continue loopGeo;return!0}}}return!1},n.prototype.transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=o.width/o.height;r?a||=r/s:r=s*a;for(var c=new BoundingRect_default(t,n,r,a),l=o.calculateTransform(c),u=this.geometries,d=0;d<u.length;d++){var f=u[d];f.type===`polygon`?(transformPoints(f.exterior,l),each$15(f.interiors,function(t){transformPoints(t,l)})):each$15(f.points,function(t){transformPoints(t,l)})}o=this._rect,o.copy(c),this._center=[o.x+o.width/2,o.y+o.height/2]},n.prototype.cloneShallow=function(t){t??=this.name;var r=new n(t,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},n}(Region),GeoSVGRegion=function(t){__extends(n,t);function n(n,r){var a=t.call(this,n)||this;return a.type=`geoSVG`,a._elOnlyForCalculate=r,a}return n.prototype.calcCenter=function(){for(var t=this._elOnlyForCalculate,n=t.getBoundingRect(),r=[n.x+n.width/2,n.y+n.height/2],a=identity(TMP_TRANSFORM),o=t;o&&!o.isGeoSVGGraphicRoot;)mul(a,o.getLocalTransform(),a),o=o.parent;return invert(a,a),applyTransform$1(r,r,a),r},n}(Region);function decode(t){if(!t.UTF8Encoding)return t;var n=t,r=n.UTF8Scale;r??=1024;var a=n.features;return each$15(a,function(t){var n=t.geometry,a=n.encodeOffsets,o=n.coordinates;if(a)switch(n.type){case`LineString`:n.coordinates=decodeRing(o,a,r);break;case`Polygon`:decodeRings(o,a,r);break;case`MultiLineString`:decodeRings(o,a,r);break;case`MultiPolygon`:each$15(o,function(t,n){return decodeRings(t,a[n],r)})}}),n.UTF8Encoding=!1,n}function decodeRings(t,n,r){for(var a=0;a<t.length;a++)t[a]=decodeRing(t[a],n[a],r)}function decodeRing(t,n,r){for(var a=[],o=n[0],s=n[1],c=0;c<t.length;c+=2){var l=t.charCodeAt(c)-64,u=t.charCodeAt(c+1)-64;l=l>>1^-(l&1),u=u>>1^-(u&1),l+=o,u+=s,o=l,s=u,a.push([l/r,u/r])}return a}function parseGeoJSON(t,n){return t=decode(t),map$1(filter(t.features,function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0}),function(t){var r=t.properties,a=t.geometry,o=[];switch(a.type){case`Polygon`:var s=a.coordinates;o.push(new GeoJSONPolygonGeometry(s[0],s.slice(1)));break;case`MultiPolygon`:each$15(a.coordinates,function(t){t[0]&&o.push(new GeoJSONPolygonGeometry(t[0],t.slice(1)))});break;case`LineString`:o.push(new GeoJSONLineStringGeometry([a.coordinates]));break;case`MultiLineString`:o.push(new GeoJSONLineStringGeometry(a.coordinates))}var c=new GeoJSONRegion(r[n||`name`],o,r.cp);return c.properties=r,c})}var inner$16=makeInner();function tickValuesToNumbers(t,n){var r=map$1(n,function(n){return t.scale.parse(n)});return t.type===`time`&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function createAxisLabels(t){var n=t.getLabelModel().get(`customValues`);if(n){var r=makeLabelFormatter(t),a=t.scale.getExtent();return{labels:map$1(filter(tickValuesToNumbers(t,n),function(t){return t>=a[0]&&t<=a[1]}),function(n){var a={value:n};return{formattedLabel:r(a),rawLabel:t.scale.getLabel(a),tickValue:n}})}}return t.type===`category`?makeCategoryLabels(t):makeRealNumberLabels(t)}function createAxisTicks(t,n){var r=t.getTickModel().get(`customValues`);if(r){var a=t.scale.getExtent();return{ticks:filter(tickValuesToNumbers(t,r),function(t){return t>=a[0]&&t<=a[1]})}}return t.type===`category`?makeCategoryTicks(t,n):{ticks:map$1(t.scale.getTicks(),function(t){return t.value})}}function makeCategoryLabels(t){var n=t.getLabelModel(),r=makeCategoryLabelsActually(t,n);return!n.get(`show`)||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function makeCategoryLabelsActually(t,n){var r=getListCache(t,`labels`),a=getOptionCategoryInterval(n),o=listCacheGet(r,a);if(o)return o;var s,c;return isFunction(a)?s=makeLabelsByCustomizedCategoryInterval(t,a):(c=a===`auto`?makeAutoCategoryInterval(t):a,s=makeLabelsByNumericCategoryInterval(t,c)),listCacheSet(r,a,{labels:s,labelCategoryInterval:c})}function makeCategoryTicks(t,n){var r=getListCache(t,`ticks`),a=getOptionCategoryInterval(n),o=listCacheGet(r,a);if(o)return o;var s,c;if((!n.get(`show`)||t.scale.isBlank())&&(s=[]),isFunction(a))s=makeLabelsByCustomizedCategoryInterval(t,a,!0);else if(a===`auto`){var l=makeCategoryLabelsActually(t,t.getLabelModel());c=l.labelCategoryInterval,s=map$1(l.labels,function(t){return t.tickValue})}else c=a,s=makeLabelsByNumericCategoryInterval(t,c,!0);return listCacheSet(r,a,{ticks:s,tickCategoryInterval:c})}function makeRealNumberLabels(t){var n=t.scale.getTicks(),r=makeLabelFormatter(t);return{labels:map$1(n,function(n,a){return{level:n.level,formattedLabel:r(n,a),rawLabel:t.scale.getLabel(n),tickValue:n.value}})}}function getListCache(t,n){return inner$16(t)[n]||(inner$16(t)[n]=[])}function listCacheGet(t,n){for(var r=0;r<t.length;r++)if(t[r].key===n)return t[r].value}function listCacheSet(t,n,r){return t.push({key:n,value:r}),r}function makeAutoCategoryInterval(t){return inner$16(t).autoInterval??(inner$16(t).autoInterval=t.calculateCategoryInterval())}function calculateCategoryInterval(t){var n=fetchAutoCategoryIntervalCalculationParams(t),r=makeLabelFormatter(t),a=(n.axisRotate-n.labelRotate)/180*Math.PI,o=t.scale,s=o.getExtent(),c=o.count();if(s[1]-s[0]<1)return 0;var l=1;c>40&&(l=Math.max(1,Math.floor(c/40)));for(var u=s[0],d=t.dataToCoord(u+1)-t.dataToCoord(u),f=Math.abs(d*Math.cos(a)),p=Math.abs(d*Math.sin(a)),g=0,_=0;u<=s[1];u+=l){var v=0,y=0,b=getBoundingRect(r({value:u}),n.font,`center`,`top`);v=b.width*1.3,y=b.height*1.3,g=Math.max(g,v,7),_=Math.max(_,y,7)}var x=g/f,S=_/p;isNaN(x)&&(x=1/0),isNaN(S)&&(S=1/0);var C=Math.max(0,Math.floor(Math.min(x,S))),w=inner$16(t.model),T=t.getExtent(),E=w.lastAutoInterval,D=w.lastTickCount;return E!=null&&D!=null&&Math.abs(E-C)<=1&&Math.abs(D-c)<=1&&E>C&&w.axisExtent0===T[0]&&w.axisExtent1===T[1]?C=E:(w.lastTickCount=c,w.lastAutoInterval=C,w.axisExtent0=T[0],w.axisExtent1=T[1]),C}function fetchAutoCategoryIntervalCalculationParams(t){var n=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:n.get(`rotate`)||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(t,n,r){var a=makeLabelFormatter(t),o=t.scale,s=o.getExtent(),c=t.getLabelModel(),l=[],u=Math.max((n||0)+1,1),d=s[0],f=o.count();d!==0&&u>1&&f/u>2&&(d=Math.round(Math.ceil(d/u)*u));var p=shouldShowAllLabels(t),g=c.get(`showMinLabel`)||p,_=c.get(`showMaxLabel`)||p;g&&d!==s[0]&&y(s[0]);for(var v=d;v<=s[1];v+=u)y(v);_&&v-u!==s[1]&&y(s[1]);function y(t){var n={value:t};l.push(r?t:{formattedLabel:a(n),rawLabel:o.getLabel(n),tickValue:t})}return l}function makeLabelsByCustomizedCategoryInterval(t,n,r){var a=t.scale,o=makeLabelFormatter(t),s=[];return each$15(a.getTicks(),function(t){var c=a.getLabel(t),l=t.value;n(t.value,c)&&s.push(r?l:{formattedLabel:o(t),rawLabel:c,tickValue:l})}),s}var NORMALIZED_EXTENT=[0,1],Axis=function(){function t(t,n,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=n,this._extent=r||[0,0]}return t.prototype.contain=function(t){var n=this._extent,r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return t>=r&&t<=a},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return getPixelPrecision(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,n){var r=this._extent;r[0]=t,r[1]=n},t.prototype.dataToCoord=function(t,n){var r=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&a.type===`ordinal`&&(r=r.slice(),fixExtentWithBands(r,a.count())),linearMap$2(t,NORMALIZED_EXTENT,r,n)},t.prototype.coordToData=function(t,n){var r=this._extent,a=this.scale;this.onBand&&a.type===`ordinal`&&(r=r.slice(),fixExtentWithBands(r,a.count()));var o=linearMap$2(t,r,NORMALIZED_EXTENT,n);return this.scale.scale(o)},t.prototype.pointToData=function(t,n){},t.prototype.getTicksCoords=function(t){t||={};var n=t.tickModel||this.getTickModel(),r=createAxisTicks(this,n).ticks,a=map$1(r,function(t){return{coord:this.dataToCoord(this.scale.type===`ordinal`?this.scale.getRawOrdinalNumber(t):t),tickValue:t}},this),o=n.get(`alignWithLabel`);return fixOnBandTicksCoords(this,a,o,t.clamp),a},t.prototype.getMinorTicksCoords=function(){if(this.scale.type===`ordinal`)return[];var t=this.model.getModel(`minorTick`).get(`splitNumber`);return t>0&&t<100||(t=5),map$1(this.scale.getMinorTicks(t),function(t){return map$1(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},t.prototype.getViewLabels=function(){return createAxisLabels(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel(`axisLabel`)},t.prototype.getTickModel=function(){return this.model.getModel(`axisTick`)},t.prototype.getBandWidth=function(){var t=this._extent,n=this.scale.getExtent(),r=n[1]-n[0]+(this.onBand?1:0);r===0&&(r=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/r},t.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},t}();function fixExtentWithBands(t,n){var r=(t[1]-t[0])/n/2;t[0]+=r,t[1]-=r}function fixOnBandTicksCoords(t,n,r,a){var o=n.length;if(!t.onBand||r||!o)return;var s=t.getExtent(),c,l;if(o===1)n[0].coord=s[0],c=n[1]={coord:s[1],tickValue:n[0].tickValue};else{var u=n[o-1].tickValue-n[0].tickValue,d=(n[o-1].coord-n[0].coord)/u;each$15(n,function(t){t.coord-=d/2});var f=t.scale.getExtent();l=1+f[1]-n[o-1].tickValue,c={coord:n[o-1].coord+d*l,tickValue:f[1]+1},n.push(c)}var p=s[0]>s[1];g(n[0].coord,s[0])&&(a?n[0].coord=s[0]:n.shift()),a&&g(s[0],n[0].coord)&&n.unshift({coord:s[0]}),g(s[1],c.coord)&&(a?c.coord=s[1]:n.pop()),a&&g(c.coord,s[1])&&n.push({coord:s[1]});function g(t,n){return t=round$3(t),n=round$3(n),p?t>n:t<n}}var Axis_default=Axis;function extendSeriesModel(t){var n=Series_default.extend(t);return Series_default.registerClass(n),n}function extendChartView(t){var n=Chart_default.extend(t);return Chart_default.registerClass(n),n}var PI2$2=Math.PI*2,CMD$1=PathProxy_default.CMD,DEFAULT_SEARCH_SPACE=[`top`,`right`,`bottom`,`left`];function getCandidateAnchor(t,n,r,a,o){var s=r.width,c=r.height;switch(t){case`top`:a.set(r.x+s/2,r.y-n),o.set(0,-1);break;case`bottom`:a.set(r.x+s/2,r.y+c+n),o.set(0,1);break;case`left`:a.set(r.x-n,r.y+c/2),o.set(-1,0);break;case`right`:a.set(r.x+s+n,r.y+c/2),o.set(1,0);break}}function projectPointToArc(t,n,r,a,o,s,c,l,u){c-=t,l-=n;var d=Math.sqrt(c*c+l*l);c/=d,l/=d;var f=c*r+t,p=l*r+n;if(Math.abs(a-o)%PI2$2<1e-4)return u[0]=f,u[1]=p,d-r;if(s){var g=a;a=normalizeRadian(o),o=normalizeRadian(g)}else a=normalizeRadian(a),o=normalizeRadian(o);a>o&&(o+=PI2$2);var _=Math.atan2(l,c);if(_<0&&(_+=PI2$2),_>=a&&_<=o||_+PI2$2>=a&&_+PI2$2<=o)return u[0]=f,u[1]=p,d-r;var v=r*Math.cos(a)+t,y=r*Math.sin(a)+n,b=r*Math.cos(o)+t,x=r*Math.sin(o)+n,S=(v-c)*(v-c)+(y-l)*(y-l),C=(b-c)*(b-c)+(x-l)*(x-l);return S<C?(u[0]=v,u[1]=y,Math.sqrt(S)):(u[0]=b,u[1]=x,Math.sqrt(C))}function projectPointToLine(t,n,r,a,o,s,c,l){var u=o-t,d=s-n,f=r-t,p=a-n,g=Math.sqrt(f*f+p*p);f/=g,p/=g;var _=(u*f+d*p)/g;l&&(_=Math.min(Math.max(_,0),1)),_*=g;var v=c[0]=t+_*f,y=c[1]=n+_*p;return Math.sqrt((v-o)*(v-o)+(y-s)*(y-s))}function projectPointToRect(t,n,r,a,o,s,c){r<0&&(t+=r,r=-r),a<0&&(n+=a,a=-a);var l=t+r,u=n+a,d=c[0]=Math.min(Math.max(o,t),l),f=c[1]=Math.min(Math.max(s,n),u);return Math.sqrt((d-o)*(d-o)+(f-s)*(f-s))}var tmpPt=[];function nearestPointOnRect(t,n,r){var a=projectPointToRect(n.x,n.y,n.width,n.height,t.x,t.y,tmpPt);return r.set(tmpPt[0],tmpPt[1]),a}function nearestPointOnPath(t,n,r){for(var a=0,o=0,s=0,c=0,l,u,d=1/0,f=n.data,p=t.x,g=t.y,_=0;_<f.length;){var v=f[_++];_===1&&(a=f[_],o=f[_+1],s=a,c=o);var y=d;switch(v){case CMD$1.M:s=f[_++],c=f[_++],a=s,o=c;break;case CMD$1.L:y=projectPointToLine(a,o,f[_],f[_+1],p,g,tmpPt,!0),a=f[_++],o=f[_++];break;case CMD$1.C:y=cubicProjectPoint(a,o,f[_++],f[_++],f[_++],f[_++],f[_],f[_+1],p,g,tmpPt),a=f[_++],o=f[_++];break;case CMD$1.Q:y=quadraticProjectPoint(a,o,f[_++],f[_++],f[_],f[_+1],p,g,tmpPt),a=f[_++],o=f[_++];break;case CMD$1.A:var b=f[_++],x=f[_++],S=f[_++],C=f[_++],w=f[_++],T=f[_++];_+=1;var E=!!(1-f[_++]);l=Math.cos(w)*S+b,u=Math.sin(w)*C+x,_<=1&&(s=l,c=u);var D=(p-b)*C/S+b;y=projectPointToArc(b,x,C,w,w+T,E,D,g,tmpPt),a=Math.cos(w+T)*S+b,o=Math.sin(w+T)*C+x;break;case CMD$1.R:s=a=f[_++],c=o=f[_++];var O=f[_++],A=f[_++];y=projectPointToRect(s,c,O,A,p,g,tmpPt);break;case CMD$1.Z:y=projectPointToLine(a,o,s,c,p,g,tmpPt,!0),a=s,o=c;break}y<d&&(d=y,r.set(tmpPt[0],tmpPt[1]))}return d}var pt0=new Point_default,pt1=new Point_default,pt2=new Point_default,dir=new Point_default,dir2=new Point_default;function updateLabelLinePoints(t,n){if(t){var r=t.getTextGuideLine(),a=t.getTextContent();if(a&&r){var o=t.textGuideLineConfig||{},s=[[0,0],[0,0],[0,0]],c=o.candidates||DEFAULT_SEARCH_SPACE,l=a.getBoundingRect().clone();l.applyTransform(a.getComputedTransform());var u=1/0,d=o.anchor,f=t.getComputedTransform(),p=f&&invert([],f),g=n.get(`length2`)||0;d&&pt2.copy(d);for(var _=0;_<c.length;_++){var v=c[_];getCandidateAnchor(v,0,l,pt0,dir),Point_default.scaleAndAdd(pt1,pt0,dir,g),pt1.transform(p);var y=t.getBoundingRect(),b=d?d.distance(pt1):t instanceof Path_default?nearestPointOnPath(pt1,t.path,pt2):nearestPointOnRect(pt1,y,pt2);b<u&&(u=b,pt1.transform(f),pt2.transform(f),pt2.toArray(s[0]),pt1.toArray(s[1]),pt0.toArray(s[2]))}limitTurnAngle(s,n.get(`minTurnAngle`)),r.setShape({points:s})}}}var tmpArr=[],tmpProjPoint=new Point_default;function limitTurnAngle(t,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(t[0]),pt1.fromArray(t[1]),pt2.fromArray(t[2]),Point_default.sub(dir,pt0,pt1),Point_default.sub(dir2,pt2,pt1);var r=dir.len(),a=dir2.len();if(!(r<.001||a<.001)){dir.scale(1/r),dir2.scale(1/a);var o=dir.dot(dir2);if(Math.cos(n)<o){var s=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,s/Math.tan(Math.PI-n));var c=pt2.x===pt1.x?(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y):(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x);if(isNaN(c))return;c<0?Point_default.copy(tmpProjPoint,pt1):c>1&&Point_default.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(t[1])}}}}function limitSurfaceAngle(t,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(t[0]),pt1.fromArray(t[1]),pt2.fromArray(t[2]),Point_default.sub(dir,pt1,pt0),Point_default.sub(dir2,pt2,pt1);var a=dir.len(),o=dir2.len();if(!(a<.001||o<.001)&&(dir.scale(1/a),dir2.scale(1/o),dir.dot(n)<Math.cos(r))){var s=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var c=Math.PI/2,l=c+Math.acos(dir2.dot(n))-r;if(l>=c)Point_default.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,s/Math.tan(Math.PI/2-l));var u=pt2.x===pt1.x?(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y):(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x);if(isNaN(u))return;u<0?Point_default.copy(tmpProjPoint,pt1):u>1&&Point_default.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(t[1])}}}function setLabelLineState(t,n,r,a){var o=r===`normal`,s=o?t:t.ensureState(r);s.ignore=n;var c=a.get(`smooth`);c&&c===!0&&(c=.3),s.shape=s.shape||{},c>0&&(s.shape.smooth=c);var l=a.getModel(`lineStyle`).getLineStyle();o?t.useStyle(l):s.style=l}function buildLabelLinePath(t,n){var r=n.smooth,a=n.points;if(a)if(t.moveTo(a[0][0],a[0][1]),r>0&&a.length>=3){var o=dist$1(a[0],a[1]),s=dist$1(a[1],a[2]);if(!o||!s){t.lineTo(a[1][0],a[1][1]),t.lineTo(a[2][0],a[2][1]);return}var c=Math.min(o,s)*r,l=lerp$1([],a[1],a[0],c/o),u=lerp$1([],a[1],a[2],c/s),d=lerp$1([],l,u,.5);t.bezierCurveTo(l[0],l[1],l[0],l[1],d[0],d[1]),t.bezierCurveTo(u[0],u[1],u[0],u[1],a[2][0],a[2][1])}else for(var f=1;f<a.length;f++)t.lineTo(a[f][0],a[f][1])}function setLabelLineStyle(t,n,r){var a=t.getTextGuideLine(),o=t.getTextContent();if(!o){a&&t.removeTextGuideLine();return}for(var s=n.normal,c=s.get(`show`),l=o.ignore,u=0;u<DISPLAY_STATES.length;u++){var d=DISPLAY_STATES[u],f=n[d],p=d===`normal`;if(f){var g=f.get(`show`);if((p?l:retrieve2(o.states[d]&&o.states[d].ignore,l))||!retrieve2(g,c)){var _=p?a:a&&a.states[d];_&&(_.ignore=!0),a&&setLabelLineState(a,!0,d,f);continue}a||(a=new Polyline_default$1,t.setTextGuideLine(a),!p&&(l||!c)&&setLabelLineState(a,!0,`normal`,n.normal),t.stateProxy&&(a.stateProxy=t.stateProxy)),setLabelLineState(a,!1,d,f)}}if(a){defaults(a.style,r),a.style.fill=null;var v=s.get(`showAbove`),y=t.textGuideLineConfig=t.textGuideLineConfig||{};y.showAbove=v||!1,a.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(t,n){n||=`labelLine`;for(var r={normal:t.getModel(n)},a=0;a<SPECIAL_STATES.length;a++){var o=SPECIAL_STATES[a];r[o]=t.getModel([o,n])}return r}function prepareLayoutList(t){for(var n=[],r=0;r<t.length;r++){var a=t[r];if(!a.defaultAttr.ignore){var o=a.label,s=o.getComputedTransform(),c=o.getBoundingRect(),l=!s||s[1]<1e-5&&s[2]<1e-5,u=o.style.margin||0,d=c.clone();d.applyTransform(s),d.x-=u/2,d.y-=u/2,d.width+=u,d.height+=u;var f=l?new OrientedBoundingRect_default(c,s):null;n.push({label:o,labelLine:a.labelLine,rect:d,localRect:c,obb:f,priority:a.priority,defaultAttr:a.defaultAttr,layoutOption:a.computedLayoutOption,axisAligned:l,transform:s})}}return n}function shiftLayout(t,n,r,a,o,s){var c=t.length;if(c<2)return;t.sort(function(t,r){return t.rect[n]-r.rect[n]});for(var l=0,u,d=!1,f=[],p=0,g=0;g<c;g++){var _=t[g],v=_.rect;u=v[n]-l,u<0&&(v[n]-=u,_.label[n]-=u,d=!0);var y=Math.max(-u,0);f.push(y),p+=y,l=v[n]+v[r]}p>0&&s&&E(-p/c,0,c);var b=t[0],x=t[c-1],S,C;w(),S<0&&D(-S,.8),C<0&&D(C,.8),w(),T(S,C,1),T(C,S,-1),w(),S<0&&O(-S),C<0&&O(C);function w(){S=b.rect[n]-a,C=o-x.rect[n]-x.rect[r]}function T(t,n,r){if(t<0){var a=Math.min(n,-t);if(a>0){E(a*r,0,c);var o=a+t;o<0&&D(-o*r,1)}else D(-t*r,1)}}function E(r,a,o){r!==0&&(d=!0);for(var s=a;s<o;s++){var c=t[s],l=c.rect;l[n]+=r,c.label[n]+=r}}function D(a,o){for(var s=[],l=0,u=1;u<c;u++){var d=t[u-1].rect,f=Math.max(t[u].rect[n]-d[n]-d[r],0);s.push(f),l+=f}if(l){var p=Math.min(Math.abs(a)/l,o);if(a>0)for(var u=0;u<c-1;u++){var g=s[u]*p;E(g,0,u+1)}else for(var u=c-1;u>0;u--){var g=s[u-1]*p;E(-g,u,c)}}}function O(t){var n=t<0?-1:1;t=Math.abs(t);for(var r=Math.ceil(t/(c-1)),a=0;a<c-1;a++)if(n>0?E(r,0,a+1):E(-r,c-a-1,c),t-=r,t<=0)return}return d}function shiftLayoutOnX(t,n,r,a){return shiftLayout(t,`x`,`width`,n,r,a)}function shiftLayoutOnY(t,n,r,a){return shiftLayout(t,`y`,`height`,n,r,a)}function hideOverlap(t){var n=[];t.sort(function(t,n){return n.priority-t.priority});var r=new BoundingRect_default(0,0,0,0);function a(t){if(!t.ignore){var n=t.ensureState(`emphasis`);n.ignore??=!1}t.ignore=!0}for(var o=0;o<t.length;o++){var s=t[o],c=s.axisAligned,l=s.localRect,u=s.transform,d=s.label,f=s.labelLine;r.copy(s.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var p=s.obb,g=!1,_=0;_<n.length;_++){var v=n[_];if(r.intersect(v.rect)){if(c&&v.axisAligned){g=!0;break}if(v.obb||=new OrientedBoundingRect_default(v.localRect,v.transform),p||=new OrientedBoundingRect_default(l,u),p.intersect(v.obb)){g=!0;break}}}g?(a(d),f&&a(f)):(d.attr(`ignore`,s.defaultAttr.ignore),f&&f.attr(`ignore`,s.defaultAttr.labelGuideIgnore),n.push(s))}}function cloneArr(t){if(t){for(var n=[],r=0;r<t.length;r++)n.push(t[r].slice());return n}}function prepareLayoutCallbackParams(t,n){var r=t.label,a=n&&n.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:cloneArr(a&&a.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=[`align`,`verticalAlign`,`width`,`height`,`fontSize`],dummyTransformable=new Transformable_default,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(t,n,r){for(var a=0;a<r.length;a++){var o=r[a];n[o]!=null&&(t[o]=n[o])}}var LABEL_LAYOUT_PROPS=[`x`,`y`,`rotation`],LabelManager_default=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,n,r,a,o){var s=a.style,c=a.__hostTarget.textConfig||{},l=a.getComputedTransform(),u=a.getBoundingRect().plain();BoundingRect_default.applyTransform(u,u,l),l?dummyTransformable.setLocalTransform(l):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var d=a.__hostTarget,f;if(d){f=d.getBoundingRect().plain();var p=d.getComputedTransform();BoundingRect_default.applyTransform(f,f,p)}var g=f&&d.getTextGuideLine();this._labelList.push({label:a,labelLine:g,seriesModel:r,dataIndex:t,dataType:n,layoutOption:o,computedLayoutOption:null,rect:u,hostRect:f,priority:f?f.width*f.height:0,defaultAttr:{ignore:a.ignore,labelGuideIgnore:g&&g.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:s.x,y:s.y,align:s.align,verticalAlign:s.verticalAlign,width:s.width,height:s.height,fontSize:s.fontSize},cursor:a.cursor,attachedPos:c.position,attachedRot:c.rotation}})},t.prototype.addLabelsOfSeries=function(t){var n=this;this._chartViewList.push(t);var r=t.__model,a=r.get(`labelLayout`);(isFunction(a)||keys(a).length)&&t.group.traverse(function(t){if(t.ignore)return!0;var o=t.getTextContent(),s=getECData(t);o&&!o.disableLabelLayout&&n._addLabel(s.dataIndex,s.dataType,r,o,a)})},t.prototype.updateLayoutConfig=function(t){var n=t.getWidth(),r=t.getHeight();function a(t,n){return function(){updateLabelLinePoints(t,n)}}for(var o=0;o<this._labelList.length;o++){var s=this._labelList[o],c=s.label,l=c.__hostTarget,u=s.defaultAttr,d=void 0;d=isFunction(s.layoutOption)?s.layoutOption(prepareLayoutCallbackParams(s,l)):s.layoutOption,d||={},s.computedLayoutOption=d;var f=Math.PI/180;l&&l.setTextConfig({local:!1,position:d.x!=null||d.y!=null?null:u.attachedPos,rotation:d.rotate==null?u.attachedRot:d.rotate*f,offset:[d.dx||0,d.dy||0]});var p=!1;if(d.x==null?(c.x=u.x,c.setStyle(`x`,u.style.x)):(c.x=parsePercent(d.x,n),c.setStyle(`x`,0),p=!0),d.y==null?(c.y=u.y,c.setStyle(`y`,u.style.y)):(c.y=parsePercent(d.y,r),c.setStyle(`y`,0),p=!0),d.labelLinePoints){var g=l.getTextGuideLine();g&&(g.setShape({points:d.labelLinePoints}),p=!1)}var _=labelLayoutInnerStore(c);_.needsUpdateLabelLine=p,c.rotation=d.rotate==null?u.rotation:d.rotate*f,c.scaleX=u.scaleX,c.scaleY=u.scaleY;for(var v=0;v<LABEL_OPTION_TO_STYLE_KEYS.length;v++){var y=LABEL_OPTION_TO_STYLE_KEYS[v];c.setStyle(y,d[y]==null?u.style[y]:d[y])}if(d.draggable){if(c.draggable=!0,c.cursor=`move`,l){var b=s.seriesModel;s.dataIndex!=null&&(b=s.seriesModel.getData(s.dataType).getItemModel(s.dataIndex)),c.on(`drag`,a(l,b.getModel(`labelLine`)))}}else c.off(`drag`),c.cursor=u.cursor}},t.prototype.layout=function(t){var n=t.getWidth(),r=t.getHeight(),a=prepareLayoutList(this._labelList),o=filter(a,function(t){return t.layoutOption.moveOverlap===`shiftX`}),s=filter(a,function(t){return t.layoutOption.moveOverlap===`shiftY`});shiftLayoutOnX(o,0,n),shiftLayoutOnY(s,0,r),hideOverlap(filter(a,function(t){return t.layoutOption.hideOverlap}))},t.prototype.processLabelsOverall=function(){var t=this;each$15(this._chartViewList,function(n){var r=n.__model,a=n.ignoreLabelLineUpdate,o=r.isAnimationEnabled();n.group.traverse(function(n){if(n.ignore&&!n.forceLabelAnimation)return!0;var s=!a,c=n.getTextContent();!s&&c&&(s=labelLayoutInnerStore(c).needsUpdateLabelLine),s&&t._updateLabelLine(n,r),o&&t._animateLabels(n,r)})})},t.prototype._updateLabelLine=function(t,n){var r=t.getTextContent(),a=getECData(t),o=a.dataIndex;if(r&&o!=null){var s=n.getData(a.dataType),c=s.getItemModel(o),l={},u=s.getItemVisual(o,`style`);u&&(l.stroke=u[s.getVisual(`drawType`)]);var d=c.getModel(`labelLine`);setLabelLineStyle(t,getLabelLineStatesModels(c),l),updateLabelLinePoints(t,d)}},t.prototype._animateLabels=function(t,n){var r=t.getTextContent(),a=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!isElementRemoved(t))){var o=labelLayoutInnerStore(r),s=o.oldLayout,c=getECData(t),l=c.dataIndex,u={x:r.x,y:r.y,rotation:r.rotation},d=n.getData(c.dataType);if(s){r.attr(s);var f=t.prevStates;f&&(indexOf(f,`select`)>=0&&r.attr(o.oldLayoutSelect),indexOf(f,`emphasis`)>=0&&r.attr(o.oldLayoutEmphasis)),updateProps$1(r,u,n,l)}else if(r.attr(u),!labelInner(r).valueAnimation){var p=retrieve2(r.style.opacity,1);r.style.opacity=0,initProps(r,{style:{opacity:p}},n,l)}if(o.oldLayout=u,r.states.select){var g=o.oldLayoutSelect={};extendWithKeys(g,u,LABEL_LAYOUT_PROPS),extendWithKeys(g,r.states.select,LABEL_LAYOUT_PROPS)}if(r.states.emphasis){var _=o.oldLayoutEmphasis={};extendWithKeys(_,u,LABEL_LAYOUT_PROPS),extendWithKeys(_,r.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(r,l,d,n,n)}if(a&&!a.ignore&&!a.invisible){var o=labelLineAnimationStore(a),s=o.oldLayout,v={points:a.shape.points};s?(a.attr({shape:s}),updateProps$1(a,{shape:v},n)):(a.setShape(v),a.style.strokePercent=0,initProps(a,{style:{strokePercent:1}},n)),o.oldLayout=v}},t}(),getLabelManager=makeInner();function installLabelLayout(t){t.registerUpdateLifecycle(`series:beforeupdate`,function(t,n,r){var a=getLabelManager(n).labelManager;a||=getLabelManager(n).labelManager=new LabelManager_default,a.clearLabels()}),t.registerUpdateLifecycle(`series:layoutlabels`,function(t,n,r){var a=getLabelManager(n).labelManager;r.updatedSeries.forEach(function(t){a.addLabelsOfSeries(n.getViewOfSeriesModel(t))}),a.updateLayoutConfig(n),a.layout(n),a.processLabelsOverall()})}var METHOD_NAMES=[`getWidth`,`getHeight`,`getDom`,`getOption`,`resize`,`dispatchAction`,`convertToPixel`,`convertFromPixel`,`containPixel`,`getDataURL`,`getConnectedDataURL`,`appendData`,`clear`,`isDisposed`,`dispose`];function usePublicAPI(t){function n(n){return(...r)=>{if(!t.value)throw Error(`ECharts is not initialized yet.`);return t.value[n].apply(t.value,r)}}function r(){let t=Object.create(null);return METHOD_NAMES.forEach(r=>{t[r]=n(r)}),t}return r()}function useAutoresize(t,n,r){watch([r,t,n],([t,n,r],a,o)=>{let s=null;if(t&&n&&r){let{offsetWidth:a,offsetHeight:o}=t,{throttle:c=100,onResize:l}=r===!0?{}:r,u=!1,d=()=>{n.resize(),l?.()},f=c?throttle(d,c):d;s=new ResizeObserver(()=>{!u&&(u=!0,t.offsetWidth===a&&t.offsetHeight===o)||f()}),s.observe(t)}o(()=>{s&&=(s.disconnect(),null)})})}var autoresizeProps={autoresize:[Boolean,Object]},onRE=/^on[^a-z]/,isOn=t=>onRE.test(t);function omitOn(t){let n={};for(let r in t)isOn(r)||(n[r]=t[r]);return n}function unwrapInjected(t,n){let r=isRef(t)?unref(t):t;return r&&typeof r==`object`&&`value`in r?r.value||n:r||n}var LOADING_OPTIONS_KEY=`ecLoadingOptions`;function useLoading(t,n,a){let o=inject(LOADING_OPTIONS_KEY,{}),s=computed(()=>({...unwrapInjected(o,{}),...a?.value}));watchEffect(()=>{let r=t.value;r&&(n.value?r.showLoading(s.value):r.hideLoading())})}var loadingProps={loading:Boolean,loadingOptions:Object},registered=null,TAG_NAME=`x-vue-echarts`;function register$1(){if(registered!=null)return registered;if(typeof HTMLElement>`u`||typeof customElements>`u`)return registered=!1;try{Function(`tag`,`class EChartsElement extends HTMLElement{__dispose=null;disconnectedCallback(){this.__dispose&&(this.__dispose(),this.__dispose=null)}}customElements.get(tag)==null&&customElements.define(tag,EChartsElement);`)(TAG_NAME)}catch{return registered=!1}return registered=!0}document.head.appendChild(document.createElement(`style`)).textContent=`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}
`;var wcRegistered=register$1(),THEME_KEY=`ecTheme`,INIT_OPTIONS_KEY=`ecInitOptions`,UPDATE_OPTIONS_KEY=`ecUpdateOptions`,NATIVE_EVENT_RE=/(^&?~?!?)native:/,ECharts=defineComponent({name:`echarts`,props:{option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean,...autoresizeProps,...loadingProps},emits:{},inheritAttrs:!1,setup(n,{attrs:a}){let s=shallowRef(),c=shallowRef(),l=shallowRef(),p=inject(THEME_KEY,null),g=inject(INIT_OPTIONS_KEY,null),x=inject(UPDATE_OPTIONS_KEY,null),{autoresize:S,manualUpdate:C,loading:w,loadingOptions:T}=toRefs(n),E=computed(()=>l.value||n.option||null),D=computed(()=>n.theme||unwrapInjected(p,{})),O=computed(()=>n.initOptions||unwrapInjected(g,{})),A=computed(()=>n.updateOptions||unwrapInjected(x,{})),j=computed(()=>omitOn(a)),M={},N=getCurrentInstance().proxy.$listeners,P={};N?Object.keys(N).forEach(t=>{NATIVE_EVENT_RE.test(t)?M[t.replace(NATIVE_EVENT_RE,`$1`)]=N[t]:P[t]=N[t]}):Object.keys(a).filter(t=>isOn(t)).forEach(t=>{let n=t.charAt(2).toLowerCase()+t.slice(3);if(n.indexOf(`native:`)===0){let r=`on${n.charAt(7).toUpperCase()}${n.slice(8)}`;M[r]=a[t];return}n.substring(n.length-4)===`Once`&&(n=`~${n.substring(0,n.length-4)}`),P[n]=a[t]});function F(t){if(!s.value)return;let r=c.value=init$1(s.value,D.value,O.value);n.group&&(r.group=n.group),Object.keys(P).forEach(t=>{let n=P[t];if(!n)return;let a=t.toLowerCase();a.charAt(0)===`~`&&(a=a.substring(1),n.__once__=!0);let o=r;if(a.indexOf(`zr:`)===0&&(o=r.getZr(),a=a.substring(3)),n.__once__){delete n.__once__;let t=n;n=(...r)=>{t(...r),o.off(a,n)}}o.on(a,n)});function a(){r&&!r.isDisposed()&&r.resize()}function o(){let n=t||E.value;n&&r.setOption(n,A.value)}S.value?nextTick(()=>{a(),o()}):o()}function I(t,r){n.manualUpdate&&(l.value=t),c.value?c.value.setOption(t,r||{}):F(t)}function L(){c.value&&=(c.value.dispose(),void 0)}let R=null;watch(C,t=>{typeof R==`function`&&(R(),R=null),t||(R=watch(()=>n.option,(t,n)=>{t&&(c.value?c.value.setOption(t,{notMerge:t!==n,...A.value}):F())},{deep:!0}))},{immediate:!0}),watch([D,O],()=>{L(),F()},{deep:!0}),watchEffect(()=>{n.group&&c.value&&(c.value.group=n.group)});let z=usePublicAPI(c);return useLoading(c,w,T),useAutoresize(c,S,s),onMounted(()=>{F()}),onBeforeUnmount(()=>{wcRegistered&&s.value?s.value.__dispose=L:L()}),{chart:c,root:s,setOption:I,nonEventAttrs:j,nativeListeners:M,...z}},render(){let t={...this.nonEventAttrs,...this.nativeListeners};return t.ref=`root`,t.class=t.class?[`echarts`].concat(t.class):`echarts`,h(TAG_NAME,t)}}),GridModel_default=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.type=`grid`,n.dependencies=[`xAxis`,`yAxis`],n.layoutMode=`box`,n.defaultOption={show:!1,z:0,left:`10%`,top:60,right:`10%`,bottom:70,containLabel:!1,backgroundColor:`rgba(0,0,0,0)`,borderWidth:1,borderColor:`#ccc`},n}(Component_default$1),CartesianAxisModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents(`grid`,SINGLE_REFERRING).models[0]},n.type=`cartesian2dAxis`,n}(Component_default$1);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:``,nameLocation:`end`,nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:`...`,placeholder:`.`},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:`#6E7079`,width:1,type:`solid`},symbol:[`none`,`none`],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:[`#E0E6F1`],width:1,type:`solid`}},splitArea:{show:!1,areaStyle:{color:[`rgba(250,250,250,0.2)`,`rgba(210,219,238,0.2)`]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:`auto`},axisLabel:{interval:`auto`}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:`auto`},axisTick:{show:`auto`},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:`#F4F7FD`,width:1}}},defaultOption$1),axisDefault_default={category:categoryAxis,value:valueAxis,time:merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:`bold`}}},splitLine:{show:!1}},valueAxis),log:defaults({logBase:10},valueAxis)},AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(t,n,r,a){each$15(AXIS_TYPES,function(o,s){var c=merge(merge({},axisDefault_default[s],!0),a,!0),l=function(t){__extends(r,t);function r(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n+`Axis.`+s,r}return r.prototype.mergeDefaultAndTheme=function(t,n){var r=fetchLayoutMode(this),a=r?getLayoutParams(t):{};merge(t,n.getTheme().get(s+`Axis`)),merge(t,this.getDefaultOption()),t.type=getAxisType(t),r&&mergeLayoutParam(t,a,r)},r.prototype.optionUpdated=function(){this.option.type===`category`&&(this.__ordinalMeta=OrdinalMeta_default.createByAxisModel(this))},r.prototype.getCategories=function(t){var n=this.option;if(n.type===`category`)return t?n.data:this.__ordinalMeta.categories},r.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},r.type=n+`Axis.`+s,r.defaultOption=c,r}(r);t.registerComponentModel(l)}),t.registerSubTypeDefaulter(n+`Axis`,getAxisType)}function getAxisType(t){return t.type||(t.data?`category`:`value`)}var Cartesian_default=function(){function t(t){this.type=`cartesian`,this._dimList=[],this._axes={},this.name=t||``}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return map$1(this._dimList,function(t){return this._axes[t]},this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),filter(this.getAxes(),function(n){return n.scale.type===t})},t.prototype.addAxis=function(t){var n=t.dim;this._axes[n]=t,this._dimList.push(n)},t}(),cartesian2DDimensions=[`x`,`y`];function canCalculateAffineTransform(t){return t.type===`interval`||t.type===`time`}var Cartesian2D_default=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`cartesian2d`,n.dimensions=cartesian2DDimensions,n}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis(`x`).scale,n=this.getAxis(`y`).scale;if(!(!canCalculateAffineTransform(t)||!canCalculateAffineTransform(n))){var r=t.getExtent(),a=n.getExtent(),o=this.dataToPoint([r[0],a[0]]),s=this.dataToPoint([r[1],a[1]]),c=r[1]-r[0],l=a[1]-a[0];if(!(!c||!l)){var u=(s[0]-o[0])/c,d=(s[1]-o[1])/l;this._invTransform=invert([],this._transform=[u,0,0,d,o[0]-r[0]*u,o[1]-a[0]*d])}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale(`ordinal`)[0]||this.getAxesByScale(`time`)[0]||this.getAxis(`x`)},n.prototype.containPoint=function(t){var n=this.getAxis(`x`),r=this.getAxis(`y`);return n.contain(n.toLocalCoord(t[0]))&&r.contain(r.toLocalCoord(t[1]))},n.prototype.containData=function(t){return this.getAxis(`x`).containData(t[0])&&this.getAxis(`y`).containData(t[1])},n.prototype.containZone=function(t,n){var r=this.dataToPoint(t),a=this.dataToPoint(n),o=this.getArea(),s=new BoundingRect_default(r[0],r[1],a[0]-r[0],a[1]-r[1]);return o.intersect(s)},n.prototype.dataToPoint=function(t,n,r){r||=[];var a=t[0],o=t[1];if(this._transform&&a!=null&&isFinite(a)&&o!=null&&isFinite(o))return applyTransform$1(r,t,this._transform);var s=this.getAxis(`x`),c=this.getAxis(`y`);return r[0]=s.toGlobalCoord(s.dataToCoord(a,n)),r[1]=c.toGlobalCoord(c.dataToCoord(o,n)),r},n.prototype.clampData=function(t,n){var r=this.getAxis(`x`).scale,a=this.getAxis(`y`).scale,o=r.getExtent(),s=a.getExtent(),c=r.parse(t[0]),l=a.parse(t[1]);return n||=[],n[0]=Math.min(Math.max(Math.min(o[0],o[1]),c),Math.max(o[0],o[1])),n[1]=Math.min(Math.max(Math.min(s[0],s[1]),l),Math.max(s[0],s[1])),n},n.prototype.pointToData=function(t,n){var r=[];if(this._invTransform)return applyTransform$1(r,t,this._invTransform);var a=this.getAxis(`x`),o=this.getAxis(`y`);return r[0]=a.coordToData(a.toLocalCoord(t[0]),n),r[1]=o.coordToData(o.toLocalCoord(t[1]),n),r},n.prototype.getOtherAxis=function(t){return this.getAxis(t.dim===`x`?`y`:`x`)},n.prototype.getArea=function(t){t||=0;var n=this.getAxis(`x`).getGlobalExtent(),r=this.getAxis(`y`).getGlobalExtent(),a=Math.min(n[0],n[1])-t,o=Math.min(r[0],r[1])-t;return new BoundingRect_default(a,o,Math.max(n[0],n[1])-a+t,Math.max(r[0],r[1])-o+t)},n}(Cartesian_default),Axis2D_default=function(t){__extends(n,t);function n(n,r,a,o,s){var c=t.call(this,n,r,a)||this;return c.index=0,c.type=o||`value`,c.position=s||`bottom`,c}return n.prototype.isHorizontal=function(){var t=this.position;return t===`top`||t===`bottom`},n.prototype.getGlobalExtent=function(t){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),t&&n[0]>n[1]&&n.reverse(),n},n.prototype.pointToData=function(t,n){return this.coordToData(this.toLocalCoord(t[this.dim===`x`?0:1]),n)},n.prototype.setCategorySortInfo=function(t){if(this.type!==`category`)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},n}(Axis_default);function layout$2(t,n,r){r||={};var a=t.coordinateSystem,o=n.axis,s={},c=o.getAxesOnZeroOf()[0],l=o.position,u=c?`onZero`:l,d=o.dim,f=a.getRect(),p=[f.x,f.x+f.width,f.y,f.y+f.height],g={left:0,right:1,top:0,bottom:1,onZero:2},_=n.get(`offset`)||0,v=d===`x`?[p[2]-_,p[3]+_]:[p[0]-_,p[1]+_];if(c){var y=c.toGlobalCoord(c.dataToCoord(0));v[g.onZero]=Math.max(Math.min(y,v[1]),v[0])}s.position=[d===`y`?v[g[u]]:p[0],d===`x`?v[g[u]]:p[3]],s.rotation=Math.PI/2*(d===`x`?0:1),s.labelDirection=s.tickDirection=s.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],s.labelOffset=c?v[g[l]]-v[g.onZero]:0,n.get([`axisTick`,`inside`])&&(s.tickDirection=-s.tickDirection),retrieve(r.labelInside,n.get([`axisLabel`,`inside`]))&&(s.labelDirection=-s.labelDirection);var b=n.get([`axisLabel`,`rotate`]);return s.labelRotate=u===`top`?-b:b,s.z2=1,s}function isCartesian2DSeries(t){return t.get(`coordinateSystem`)===`cartesian2d`}function findAxisModels(t){var n={xAxisModel:null,yAxisModel:null};return each$15(n,function(r,a){var o=a.replace(/Model$/,``);n[a]=t.getReferringComponents(o,SINGLE_REFERRING).models[0]}),n}var mathLog=Math.log;function alignScaleTicks(t,n,r){var a=Interval_default.prototype,o=a.getTicks.call(r),s=a.getTicks.call(r,!0),c=o.length-1,l=a.getInterval.call(r),u=getScaleExtent(t,n),d=u.extent,f=u.fixMin,p=u.fixMax;if(t.type===`log`){var g=mathLog(t.base);d=[mathLog(d[0])/g,mathLog(d[1])/g]}t.setExtent(d[0],d[1]),t.calcNiceExtent({splitNumber:c,fixMin:f,fixMax:p});var _=a.getExtent.call(t);f&&(d[0]=_[0]),p&&(d[1]=_[1]);var v=a.getInterval.call(t),y=d[0],b=d[1];if(f&&p)v=(b-y)/c;else if(f)for(b=d[0]+v*c;b<d[1]&&isFinite(b)&&isFinite(d[1]);)v=increaseInterval(v),b=d[0]+v*c;else if(p)for(y=d[1]-v*c;y>d[0]&&isFinite(y)&&isFinite(d[0]);)v=increaseInterval(v),y=d[1]-v*c;else{t.getTicks().length-1>c&&(v=increaseInterval(v));var x=v*c;b=Math.ceil(d[1]/v)*v,y=round$3(b-x),y<0&&d[0]>=0?(y=0,b=round$3(x)):b>0&&d[1]<=0&&(b=0,y=-round$3(x))}var S=(o[0].value-s[0].value)/l,C=(o[c].value-s[c].value)/l;a.setExtent.call(t,y+v*S,b+v*C),a.setInterval.call(t,v),(S||C)&&a.setNiceExtent.call(t,y+v,b-v)}var Grid=function(){function t(t,n,r){this.type=`grid`,this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(t,n,r),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,n){var r=this._axesMap;this._updateScale(t,this.model);function a(t){var n,r=keys(t),a=r.length;if(a){for(var o=[],s=a-1;s>=0;s--){var c=t[+r[s]],l=c.model,u=c.scale;isIntervalOrLogScale(u)&&l.get(`alignTicks`)&&l.get(`interval`)==null?o.push(c):(niceScaleExtent(u,l),isIntervalOrLogScale(u)&&(n=c))}o.length&&(n||(n=o.pop(),niceScaleExtent(n.scale,n.model)),each$15(o,function(t){alignScaleTicks(t.scale,t.model,n.scale)}))}}a(r.x),a(r.y);var o={};each$15(r.x,function(t){fixAxisOnZero(r,`y`,t,o)}),each$15(r.y,function(t){fixAxisOnZero(r,`x`,t,o)}),this.resize(this.model,n)},t.prototype.resize=function(t,n,r){var a=t.getBoxLayoutParams(),o=!r&&t.get(`containLabel`),s=getLayoutRect(a,{width:n.getWidth(),height:n.getHeight()});this._rect=s;var c=this._axesList;l(),o&&(each$15(c,function(t){if(!t.model.get([`axisLabel`,`inside`])){var n=estimateLabelUnionRect(t);if(n){var r=t.isHorizontal()?`height`:`width`,a=t.model.get([`axisLabel`,`margin`]);s[r]-=n[r]+a,t.position===`top`?s.y+=n.height+a:t.position===`left`&&(s.x+=n.width+a)}}}),l()),each$15(this._coordsList,function(t){t.calcAffineTransform()});function l(){each$15(c,function(t){var n=t.isHorizontal(),r=n?[0,s.width]:[0,s.height],a=t.inverse?1:0;t.setExtent(r[a],r[1-a]),updateAxisTransform(t,n?s.x:s.y)})}},t.prototype.getAxis=function(t,n){var r=this._axesMap[t];if(r!=null)return r[n||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,n){if(t!=null&&n!=null){var r=`x`+t+`y`+n;return this._coordsMap[r]}isObject$3(t)&&(n=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,o=this._coordsList;a<o.length;a++)if(o[a].getAxis(`x`).index===t||o[a].getAxis(`y`).index===n)return o[a]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.dataToPoint(r):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(r)):null},t.prototype.convertFromPixel=function(t,n,r){var a=this._findConvertTarget(n);return a.cartesian?a.cartesian.pointToData(r):a.axis?a.axis.coordToData(a.axis.toLocalCoord(r)):null},t.prototype._findConvertTarget=function(t){var n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents(`xAxis`,SINGLE_REFERRING).models[0],a=t.yAxisModel||n&&n.getReferringComponents(`yAxis`,SINGLE_REFERRING).models[0],o=t.gridModel,s=this._coordsList,c,l;return n?(c=n.coordinateSystem,indexOf(s,c)<0&&(c=null)):r&&a?c=this.getCartesian(r.componentIndex,a.componentIndex):r?l=this.getAxis(`x`,r.componentIndex):a?l=this.getAxis(`y`,a.componentIndex):o&&o.coordinateSystem===this&&(c=this._coordsList[0]),{cartesian:c,axis:l}},t.prototype.containPoint=function(t){var n=this._coordsList[0];if(n)return n.containPoint(t)},t.prototype._initCartesian=function(t,n,r){var a=this,o=this,s={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},l={x:0,y:0};if(n.eachComponent(`xAxis`,u(`x`),this),n.eachComponent(`yAxis`,u(`y`),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=c,each$15(c.x,function(n,r){each$15(c.y,function(o,s){var c=`x`+r+`y`+s,l=new Cartesian2D_default(c);l.master=a,l.model=t,a._coordsMap[c]=l,a._coordsList.push(l),l.addAxis(n),l.addAxis(o)})});function u(n){return function(r,a){if(isAxisUsedInTheGrid(r,t)){var u=r.get(`position`);n===`x`?u!==`top`&&u!==`bottom`&&(u=s.bottom?`top`:`bottom`):u!==`left`&&u!==`right`&&(u=s.left?`right`:`left`),s[u]=!0;var d=new Axis2D_default(n,createScaleByModel$1(r),[0,0],r.get(`type`),u);d.onBand=d.type===`category`&&r.get(`boundaryGap`),d.inverse=r.get(`inverse`),r.axis=d,d.model=r,d.grid=o,d.index=a,o._axesList.push(d),c[n][a]=d,l[n]++}}}},t.prototype._updateScale=function(t,n){each$15(this._axesList,function(t){if(t.scale.setExtent(1/0,-1/0),t.type===`category`){var n=t.model.get(`categorySortInfo`);t.scale.setSortInfo(n)}}),t.eachSeries(function(t){if(isCartesian2DSeries(t)){var a=findAxisModels(t),o=a.xAxisModel,s=a.yAxisModel;if(!isAxisUsedInTheGrid(o,n)||!isAxisUsedInTheGrid(s,n))return;var c=this.getCartesian(o.componentIndex,s.componentIndex),l=t.getData(),u=c.getAxis(`x`),d=c.getAxis(`y`);r(l,u),r(l,d)}},this);function r(t,n){each$15(getDataDimensionsOnAxis(t,n.dim),function(r){n.scale.unionExtentFromData(t,r)})}},t.prototype.getTooltipAxes=function(t){var n=[],r=[];return each$15(this.getCartesians(),function(a){var o=t!=null&&t!==`auto`?a.getAxis(t):a.getBaseAxis(),s=a.getOtherAxis(o);indexOf(n,o)<0&&n.push(o),indexOf(r,s)<0&&r.push(s)}),{baseAxes:n,otherAxes:r}},t.create=function(n,r){var a=[];return n.eachComponent(`grid`,function(o,s){var c=new t(o,n,r);c.name=`grid_`+s,c.resize(o,r,!0),o.coordinateSystem=c,a.push(c)}),n.eachSeries(function(t){if(isCartesian2DSeries(t)){var n=findAxisModels(t),r=n.xAxisModel,a=n.yAxisModel;t.coordinateSystem=r.getCoordSysModel().coordinateSystem.getCartesian(r.componentIndex,a.componentIndex)}}),a},t.dimensions=cartesian2DDimensions,t}();function isAxisUsedInTheGrid(t,n){return t.getCoordSysModel()===n}function fixAxisOnZero(t,n,r,a){r.getAxesOnZeroOf=function(){return s?[s]:[]};var o=t[n],s,c=r.model,l=c.get([`axisLine`,`onZero`]),u=c.get([`axisLine`,`onZeroAxisIndex`]);if(!l)return;if(u!=null)canOnZeroToAxis(o[u])&&(s=o[u]);else for(var d in o)if(o.hasOwnProperty(d)&&canOnZeroToAxis(o[d])&&!a[f(o[d])]){s=o[d];break}s&&(a[f(s)]=!0);function f(t){return t.dim+`_`+t.index}}function canOnZeroToAxis(t){return t&&t.type!==`category`&&t.type!==`time`&&ifAxisCrossZero(t)}function updateAxisTransform(t,n){var r=t.getExtent(),a=r[0]+r[1];t.toGlobalCoord=t.dim===`x`?function(t){return t+n}:function(t){return a-t+n},t.toLocalCoord=t.dim===`x`?function(t){return t-n}:function(t){return a-t+n}}var Grid_default=Grid,PI$4=Math.PI,AxisBuilder=function(){function t(t,n){this.group=new Group_default,this.opt=n,this.axisModel=t,defaults(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Group_default({x:n.position[0],y:n.position[1],rotation:n.rotation});r.updateTransform(),this._transformGroup=r}return t.prototype.hasBuilder=function(t){return!!builders[t]},t.prototype.add=function(t){builders[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,n,r){var a=remRadian(n-t),o,s;return isRadianAroundZero(a)?(s=r>0?`top`:`bottom`,o=`center`):isRadianAroundZero(a-PI$4)?(s=r>0?`bottom`:`top`,o=`center`):(s=`middle`,o=a>0&&a<PI$4?r>0?`right`:`left`:r>0?`left`:`right`),{rotation:a,textAlign:o,textVerticalAlign:s}},t.makeAxisEventDataBase=function(t){var n={componentType:t.mainType,componentIndex:t.componentIndex};return n[t.mainType+`Index`]=t.componentIndex,n},t.isLabelSilent=function(t){var n=t.get(`tooltip`);return t.get(`silent`)||!(t.get(`triggerEvent`)||n&&n.show)},t}(),builders={axisLine:function(t,n,r,a){var o=n.get([`axisLine`,`show`]);if(o===`auto`&&t.handleAutoShown&&(o=t.handleAutoShown(`axisLine`)),o){var s=n.axis.getExtent(),c=a.transform,l=[s[0],0],u=[s[1],0],d=l[0]>u[0];c&&(applyTransform$1(l,l,c),applyTransform$1(u,u,c));var f=extend({lineCap:`round`},n.getModel([`axisLine`,`lineStyle`]).getLineStyle()),p=new Line_default$1({shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:f,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(p.shape,p.style.lineWidth),p.anid=`line`,r.add(p);var g=n.get([`axisLine`,`symbol`]);if(g!=null){var _=n.get([`axisLine`,`symbolSize`]);isString(g)&&(g=[g,g]),(isString(_)||isNumber(_))&&(_=[_,_]);var v=normalizeSymbolOffset(n.get([`axisLine`,`symbolOffset`])||0,_),y=_[0],b=_[1];each$15([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((l[0]-u[0])*(l[0]-u[0])+(l[1]-u[1])*(l[1]-u[1]))}],function(n,a){if(g[a]!==`none`&&g[a]!=null){var o=createSymbol$1(g[a],-y/2,-b/2,y,b,f.stroke,!0),s=n.r+n.offset,c=d?u:l;o.attr({rotation:n.rotate,x:c[0]+s*Math.cos(t.rotation),y:c[1]-s*Math.sin(t.rotation),silent:!0,z2:11}),r.add(o)}})}}},axisTickLabel:function(t,n,r,a){var o=buildAxisMajorTicks(r,a,n,t),s=buildAxisLabel(r,a,n,t);fixMinMaxLabelShow(n,s,o),buildAxisMinorTicks(r,a,n,t.tickDirection),n.get([`axisLabel`,`hideOverlap`])&&hideOverlap(prepareLayoutList(map$1(s,function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})))},axisName:function(t,n,r,a){var o=retrieve(t.axisName,n.get(`name`));if(o){var s=n.get(`nameLocation`),c=t.nameDirection,l=n.getModel(`nameTextStyle`),u=n.get(`nameGap`)||0,d=n.axis.getExtent(),f=d[0]>d[1]?-1:1,p=[s===`start`?d[0]-f*u:s===`end`?d[1]+f*u:(d[0]+d[1])/2,isNameLocationCenter(s)?t.labelOffset+c*u:0],g,_=n.get(`nameRotate`);_!=null&&(_=_*PI$4/180);var v;isNameLocationCenter(s)?g=AxisBuilder.innerTextLayout(t.rotation,_??t.rotation,c):(g=endTextLayout(t.rotation,s,_||0,d),v=t.axisNameAvailableWidth,v!=null&&(v=Math.abs(v/Math.sin(g.rotation)),!isFinite(v)&&(v=null)));var y=l.getFont(),b=n.get(`nameTruncate`,!0)||{},x=b.ellipsis,S=retrieve(t.nameTruncateMaxWidth,b.maxWidth,v),C=new Text_default({x:p[0],y:p[1],rotation:g.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle$1(l,{text:o,font:y,overflow:`truncate`,width:S,ellipsis:x,fill:l.getTextColor()||n.get([`axisLine`,`lineStyle`,`color`]),align:l.get(`align`)||g.textAlign,verticalAlign:l.get(`verticalAlign`)||g.textVerticalAlign}),z2:1});if(setTooltipConfig({el:C,componentModel:n,itemName:o}),C.__fullText=o,C.anid=`name`,n.get(`triggerEvent`)){var w=AxisBuilder.makeAxisEventDataBase(n);w.targetType=`axisName`,w.name=o,getECData(C).eventData=w}a.add(C),C.updateTransform(),r.add(C),C.decomposeTransform()}}};function endTextLayout(t,n,r,a){var o=remRadian(r-t),s,c,l=a[0]>a[1],u=n===`start`&&!l||n!==`start`&&l;return isRadianAroundZero(o-PI$4/2)?(c=u?`bottom`:`top`,s=`center`):isRadianAroundZero(o-PI$4*1.5)?(c=u?`top`:`bottom`,s=`center`):(c=`middle`,s=o<PI$4*1.5&&o>PI$4/2?u?`left`:`right`:u?`right`:`left`),{rotation:o,textAlign:s,textVerticalAlign:c}}function fixMinMaxLabelShow(t,n,r){if(!shouldShowAllLabels(t.axis)){var a=t.get([`axisLabel`,`showMinLabel`]),o=t.get([`axisLabel`,`showMaxLabel`]);n||=[],r||=[];var s=n[0],c=n[1],l=n[n.length-1],u=n[n.length-2],d=r[0],f=r[1],p=r[r.length-1],g=r[r.length-2];a===!1?(ignoreEl(s),ignoreEl(d)):isTwoLabelOverlapped(s,c)&&(a?(ignoreEl(c),ignoreEl(f)):(ignoreEl(s),ignoreEl(d))),o===!1?(ignoreEl(l),ignoreEl(p)):isTwoLabelOverlapped(u,l)&&(o?(ignoreEl(u),ignoreEl(g)):(ignoreEl(l),ignoreEl(p)))}}function ignoreEl(t){t&&(t.ignore=!0)}function isTwoLabelOverlapped(t,n){var r=t&&t.getBoundingRect().clone(),a=n&&n.getBoundingRect().clone();if(!(!r||!a)){var o=identity([]);return rotate(o,o,-t.rotation),r.applyTransform(mul([],o,t.getLocalTransform())),a.applyTransform(mul([],o,n.getLocalTransform())),r.intersect(a)}}function isNameLocationCenter(t){return t===`middle`||t===`center`}function createTicks(t,n,r,a,o){for(var s=[],c=[],l=[],u=0;u<t.length;u++){var d=t[u].coord;c[0]=d,c[1]=0,l[0]=d,l[1]=r,n&&(applyTransform$1(c,c,n),applyTransform$1(l,l,n));var f=new Line_default$1({shape:{x1:c[0],y1:c[1],x2:l[0],y2:l[1]},style:a,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(f.shape,f.style.lineWidth),f.anid=o+`_`+t[u].tickValue,s.push(f)}return s}function buildAxisMajorTicks(t,n,r,a){var o=r.axis,s=r.getModel(`axisTick`),c=s.get(`show`);if(c===`auto`&&a.handleAutoShown&&(c=a.handleAutoShown(`axisTick`)),!(!c||o.scale.isBlank())){for(var l=s.getModel(`lineStyle`),u=a.tickDirection*s.get(`length`),d=createTicks(o.getTicksCoords(),n.transform,u,defaults(l.getLineStyle(),{stroke:r.get([`axisLine`,`lineStyle`,`color`])}),`ticks`),f=0;f<d.length;f++)t.add(d[f]);return d}}function buildAxisMinorTicks(t,n,r,a){var o=r.axis,s=r.getModel(`minorTick`);if(!(!s.get(`show`)||o.scale.isBlank())){var c=o.getMinorTicksCoords();if(c.length)for(var l=s.getModel(`lineStyle`),u=a*s.get(`length`),d=defaults(l.getLineStyle(),defaults(r.getModel(`axisTick`).getLineStyle(),{stroke:r.get([`axisLine`,`lineStyle`,`color`])})),f=0;f<c.length;f++)for(var p=createTicks(c[f],n.transform,u,d,`minorticks_`+f),g=0;g<p.length;g++)t.add(p[g])}}function buildAxisLabel(t,n,r,a){var o=r.axis;if(!(!retrieve(a.axisLabelShow,r.get([`axisLabel`,`show`]))||o.scale.isBlank())){var s=r.getModel(`axisLabel`),c=s.get(`margin`),l=o.getViewLabels(),u=(retrieve(a.labelRotate,s.get(`rotate`))||0)*PI$4/180,d=AxisBuilder.innerTextLayout(a.rotation,u,a.labelDirection),f=r.getCategories&&r.getCategories(!0),p=[],g=AxisBuilder.isLabelSilent(r),_=r.get(`triggerEvent`);return each$15(l,function(u,v){var y=o.scale.type===`ordinal`?o.scale.getRawOrdinalNumber(u.tickValue):u.tickValue,b=u.formattedLabel,x=u.rawLabel,S=s;if(f&&f[y]){var C=f[y];isObject$3(C)&&C.textStyle&&(S=new Model_default(C.textStyle,s,r.ecModel))}var w=S.getTextColor()||r.get([`axisLine`,`lineStyle`,`color`]),T=o.dataToCoord(y),E=S.getShallow(`align`,!0)||d.textAlign,D=retrieve2(S.getShallow(`alignMinLabel`,!0),E),O=retrieve2(S.getShallow(`alignMaxLabel`,!0),E),A=S.getShallow(`verticalAlign`,!0)||S.getShallow(`baseline`,!0)||d.textVerticalAlign,j=retrieve2(S.getShallow(`verticalAlignMinLabel`,!0),A),M=retrieve2(S.getShallow(`verticalAlignMaxLabel`,!0),A),N=new Text_default({x:T,y:a.labelOffset+a.labelDirection*c,rotation:d.rotation,silent:g,z2:10+(u.level||0),style:createTextStyle$1(S,{text:b,align:v===0?D:v===l.length-1?O:E,verticalAlign:v===0?j:v===l.length-1?M:A,fill:isFunction(w)?w(o.type===`category`?x:o.type===`value`?y+``:y,v):w})});if(N.anid=`label_`+y,setTooltipConfig({el:N,componentModel:r,itemName:b,formatterParamsExtra:{isTruncated:function(){return N.isTruncated},value:x,tickIndex:v}}),_){var P=AxisBuilder.makeAxisEventDataBase(r);P.targetType=`axisLabel`,P.value=x,P.tickIndex=v,o.type===`category`&&(P.dataIndex=y),getECData(N).eventData=P}n.add(N),N.updateTransform(),p.push(N),t.add(N),N.decomposeTransform()}),p}}var AxisBuilder_default=AxisBuilder;function collect(t,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(r,t,n),r.seriesInvolved&&collectSeriesInfo(r,t),r}function collectAxesInfo(t,n,r){var a=n.getComponent(`tooltip`),o=n.getComponent(`axisPointer`),s=o.get(`link`,!0)||[],c=[];each$15(r.getCoordinateSystems(),function(r){if(!r.axisPointerEnabled)return;var l=makeKey(r.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=r;var d=r.model.getModel(`tooltip`,a);if(each$15(r.getAxes(),curry$1(_,!1,null)),r.getTooltipAxes&&a&&d.get(`show`)){var f=d.get(`trigger`)===`axis`,p=d.get([`axisPointer`,`type`])===`cross`,g=r.getTooltipAxes(d.get([`axisPointer`,`axis`]));(f||p)&&each$15(g.baseAxes,curry$1(_,p?`cross`:!0,f)),p&&each$15(g.otherAxes,curry$1(_,`cross`,!1))}function _(a,l,f){var p=f.model.getModel(`axisPointer`,o),g=p.get(`show`);if(!(!g||g===`auto`&&!a&&!isHandleTrigger(p))){l??=p.get(`triggerTooltip`),p=a?makeAxisPointerModel(f,d,o,n,a,l):p;var _=p.get(`snap`),v=p.get(`triggerEmphasis`),y=makeKey(f.model),b=l||_||f.type===`category`,x=t.axesInfo[y]={key:y,axis:f,coordSys:r,axisPointerModel:p,triggerTooltip:l,triggerEmphasis:v,involveSeries:b,snap:_,useHandle:isHandleTrigger(p),seriesModels:[],linkGroup:null};u[y]=x,t.seriesInvolved=t.seriesInvolved||b;var S=getLinkGroupIndex(s,f);if(S!=null){var C=c[S]||(c[S]={axesInfo:{}});C.axesInfo[y]=x,C.mapper=s[S].mapper,x.linkGroup=C}}}})}function makeAxisPointerModel(t,n,r,a,o,s){var c=n.getModel(`axisPointer`),l=[`type`,`snap`,`lineStyle`,`shadowStyle`,`label`,`animation`,`animationDurationUpdate`,`animationEasingUpdate`,`z`],u={};each$15(l,function(t){u[t]=clone$4(c.get(t))}),u.snap=t.type!==`category`&&!!s,c.get(`type`)===`cross`&&(u.type=`line`);var d=u.label||={};if(d.show??=!1,o===`cross`&&(d.show=c.get([`label`,`show`])??!0,!s)){var f=u.lineStyle=c.get(`crossStyle`);f&&defaults(d,f.textStyle)}return t.model.getModel(`axisPointer`,new Model_default(u,r,a))}function collectSeriesInfo(t,n){n.eachSeries(function(n){var r=n.coordinateSystem,a=n.get([`tooltip`,`trigger`],!0),o=n.get([`tooltip`,`show`],!0);!r||a===`none`||a===!1||a===`item`||o===!1||n.get([`axisPointer`,`show`],!0)===!1||each$15(t.coordSysAxesInfo[makeKey(r.model)],function(t){var a=t.axis;r.getAxis(a.dim)===a&&(t.seriesModels.push(n),t.seriesDataCount??=0,t.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(t,n){for(var r=n.model,a=n.dim,o=0;o<t.length;o++){var s=t[o]||{};if(checkPropInLink(s[a+`AxisId`],r.id)||checkPropInLink(s[a+`AxisIndex`],r.componentIndex)||checkPropInLink(s[a+`AxisName`],r.name))return o}}function checkPropInLink(t,n){return t===`all`||isArray$1(t)&&indexOf(t,n)>=0||t===n}function fixValue(t){var n=getAxisInfo$1(t);if(n){var r=n.axisPointerModel,a=n.axis.scale,o=r.option,s=r.get(`status`),c=r.get(`value`);c!=null&&(c=a.parse(c));var l=isHandleTrigger(r);s??(o.status=l?`show`:`hide`);var u=a.getExtent().slice();u[0]>u[1]&&u.reverse(),(c==null||c>u[1])&&(c=u[1]),c<u[0]&&(c=u[0]),o.value=c,l&&(o.status=n.axis.scale.isBlank()?`hide`:`show`)}}function getAxisInfo$1(t){var n=(t.ecModel.getComponent(`axisPointer`)||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(t)]}function getAxisPointerModel(t){var n=getAxisInfo$1(t);return n&&n.axisPointerModel}function isHandleTrigger(t){return!!t.get([`handle`,`show`])}function makeKey(t){return t.type+`||`+t.id}var axisPointerClazz={},AxisView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(n,r,a,o){this.axisPointerClass&&fixValue(n),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},n.prototype.updateAxisPointer=function(t,n,r,a){this._doUpdateAxisPointerClass(t,r,!1)},n.prototype.remove=function(t,n){var r=this._axisPointer;r&&r.remove(n)},n.prototype.dispose=function(n,r){this._disposeAxisPointer(r),t.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(t,r,a){var o=n.getAxisPointerClass(this.axisPointerClass);if(o){var s=getAxisPointerModel(t);s?(this._axisPointer||=new o).render(t,s,r,a):this._disposeAxisPointer(r)}},n.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},n.registerAxisPointerClass=function(t,n){axisPointerClazz[t]=n},n.getAxisPointerClass=function(t){return t&&axisPointerClazz[t]},n.type=`axis`,n}(Component_default),inner$15=makeInner();function rectCoordAxisBuildSplitArea(t,n,r,a){var o=r.axis;if(!o.scale.isBlank()){var s=r.getModel(`splitArea`),c=s.getModel(`areaStyle`),l=c.get(`color`),u=a.coordinateSystem.getRect(),d=o.getTicksCoords({tickModel:s,clamp:!0});if(d.length){var f=l.length,p=inner$15(t).splitAreaColors,g=createHashMap(),_=0;if(p)for(var v=0;v<d.length;v++){var y=p.get(d[v].tickValue);if(y!=null){_=(y+(f-1)*v)%f;break}}var b=o.toGlobalCoord(d[0].coord),x=c.getAreaStyle();l=isArray$1(l)?l:[l];for(var v=1;v<d.length;v++){var S=o.toGlobalCoord(d[v].coord),C=void 0,w=void 0,T=void 0,E=void 0;o.isHorizontal()?(C=b,w=u.y,T=S-C,E=u.height,b=C+T):(C=u.x,w=b,T=u.width,E=S-w,b=w+E);var D=d[v-1].tickValue;D!=null&&g.set(D,_),n.add(new Rect_default({anid:D==null?null:`area_`+D,shape:{x:C,y:w,width:T,height:E},style:defaults({fill:l[_]},x),autoBatch:!0,silent:!0})),_=(_+1)%f}inner$15(t).splitAreaColors=g}}}function rectCoordAxisHandleRemove(t){inner$15(t).splitAreaColors=null}var axisBuilderAttrs$3=[`axisLine`,`axisTickLabel`,`axisName`],selfBuilderAttrs$2=[`splitArea`,`splitLine`,`minorSplitLine`],CartesianAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass=`CartesianAxisPointer`,r}return n.prototype.render=function(n,r,a,o){this.group.removeAll();var s=this._axisGroup;if(this._axisGroup=new Group_default,this.group.add(this._axisGroup),n.get(`show`)){var c=n.getCoordSysModel(),l=new AxisBuilder_default(n,extend({handleAutoShown:function(t){for(var r=c.coordinateSystem.getCartesians(),a=0;a<r.length;a++)if(isIntervalOrLogScale(r[a].getOtherAxis(n.axis).scale))return!0;return!1}},layout$2(c,n)));each$15(axisBuilderAttrs$3,l.add,l),this._axisGroup.add(l.getGroup()),each$15(selfBuilderAttrs$2,function(t){n.get([t,`show`])&&axisElementBuilders$2[t](this,this._axisGroup,n,c)},this),o&&o.type===`changeAxisOrder`&&o.isInitSort||groupTransition(s,this._axisGroup,n),t.prototype.render.call(this,n,r,a,o)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type=`cartesianAxis`,n}(AxisView_default),axisElementBuilders$2={splitLine:function(t,n,r,a){var o=r.axis;if(!o.scale.isBlank()){var s=r.getModel(`splitLine`),c=s.getModel(`lineStyle`),l=c.get(`color`),u=s.get(`showMinLine`)!==!1,d=s.get(`showMaxLine`)!==!1;l=isArray$1(l)?l:[l];for(var f=a.coordinateSystem.getRect(),p=o.isHorizontal(),g=0,_=o.getTicksCoords({tickModel:s}),v=[],y=[],b=c.getLineStyle(),x=0;x<_.length;x++){var S=o.toGlobalCoord(_[x].coord);if(!(x===0&&!u||x===_.length-1&&!d)){var C=_[x].tickValue;p?(v[0]=S,v[1]=f.y,y[0]=S,y[1]=f.y+f.height):(v[0]=f.x,v[1]=S,y[0]=f.x+f.width,y[1]=S);var w=g++%l.length,T=new Line_default$1({anid:C==null?null:`line_`+C,autoBatch:!0,shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},style:defaults({stroke:l[w]},b),silent:!0});subPixelOptimizeLine(T.shape,b.lineWidth),n.add(T)}}}},minorSplitLine:function(t,n,r,a){var o=r.axis,s=r.getModel(`minorSplitLine`).getModel(`lineStyle`),c=a.coordinateSystem.getRect(),l=o.isHorizontal(),u=o.getMinorTicksCoords();if(u.length)for(var d=[],f=[],p=s.getLineStyle(),g=0;g<u.length;g++)for(var _=0;_<u[g].length;_++){var v=o.toGlobalCoord(u[g][_].coord);l?(d[0]=v,d[1]=c.y,f[0]=v,f[1]=c.y+c.height):(d[0]=c.x,d[1]=v,f[0]=c.x+c.width,f[1]=v);var y=new Line_default$1({anid:`minor_line_`+u[g][_].tickValue,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:p,silent:!0});subPixelOptimizeLine(y.shape,p.lineWidth),n.add(y)}},splitArea:function(t,n,r,a){rectCoordAxisBuildSplitArea(t,n,r,a)}},CartesianXAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`xAxis`,n}(CartesianAxisView),CartesianYAxisView=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=CartesianXAxisView.type,n}return n.type=`yAxis`,n}(CartesianAxisView),GridView=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`grid`,n}return n.prototype.render=function(t,n){this.group.removeAll(),t.get(`show`)&&this.group.add(new Rect_default({shape:t.coordinateSystem.getRect(),style:defaults({fill:t.get(`backgroundColor`)},t.getItemStyle()),silent:!0,z2:-1}))},n.type=`grid`,n}(Component_default),extraOption={offset:0};function install$54(t){t.registerComponentView(GridView),t.registerComponentModel(GridModel_default),t.registerCoordinateSystem(`cartesian2d`,Grid_default),axisModelCreator(t,`x`,CartesianAxisModel,extraOption),axisModelCreator(t,`y`,CartesianAxisModel,extraOption),t.registerComponentView(CartesianXAxisView),t.registerComponentView(CartesianYAxisView),t.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}var inner$14=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,n,r,a){var o=n.get(`value`),s=n.get(`status`);if(this._axisModel=t,this._axisPointerModel=n,this._api=r,!(!a&&this._lastValue===o&&this._lastStatus===s)){this._lastValue=o,this._lastStatus=s;var c=this._group,l=this._handle;if(!s||s===`hide`){c&&c.hide(),l&&l.hide();return}c&&c.show(),l&&l.show();var u={};this.makeElOption(u,o,t,n,r);var d=u.graphicKey;d!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=d;var f=this._moveAnimation=this.determineAnimation(t,n);if(!c)c=this._group=new Group_default,this.createPointerEl(c,u,t,n),this.createLabelEl(c,u,t,n),r.getZr().add(c);else{var p=curry$1(updateProps,n,f);this.updatePointerEl(c,u,p),this.updateLabelEl(c,u,p,n)}updateMandatoryProps(c,n,!0),this._renderHandle(o)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,n){var r=n.get(`animation`),a=t.axis,o=a.type===`category`,s=n.get(`snap`);if(!s&&!o)return!1;if(r===`auto`||r==null){var c=this.animationThreshold;if(o&&a.getBandWidth()>c)return!0;if(s){var l=getAxisInfo$1(t).seriesDataCount,u=a.getExtent();return Math.abs(u[0]-u[1])/l>c}return!1}return r===!0},t.prototype.makeElOption=function(t,n,r,a,o){},t.prototype.createPointerEl=function(t,n,r,a){var o=n.pointer;if(o){var s=inner$14(t).pointerEl=new graphic_exports[o.type](clone$1(n.pointer));t.add(s)}},t.prototype.createLabelEl=function(t,n,r,a){if(n.label){var o=inner$14(t).labelEl=new Text_default(clone$1(n.label));t.add(o),updateLabelShowHide(o,a)}},t.prototype.updatePointerEl=function(t,n,r){var a=inner$14(t).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),r(a,{shape:n.pointer.shape}))},t.prototype.updateLabelEl=function(t,n,r,a){var o=inner$14(t).labelEl;o&&(o.setStyle(n.label.style),r(o,{x:n.label.x,y:n.label.y}),updateLabelShowHide(o,a))},t.prototype._renderHandle=function(t){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,r=this._api.getZr(),a=this._handle,o=n.getModel(`handle`),s=n.get(`status`);if(!o.get(`show`)||!s||s===`hide`){a&&r.remove(a),this._handle=null;return}var c;this._handle||(c=!0,a=this._handle=createIcon(o.get(`icon`),{cursor:`move`,draggable:!0,onmousemove:function(t){stop(t.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),r.add(a)),updateMandatoryProps(a,n,!1),a.setStyle(o.getItemStyle(null,[`color`,`borderColor`,`borderWidth`,`opacity`,`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`]));var l=o.get(`size`);isArray$1(l)||(l=[l,l]),a.scaleX=l[0]/2,a.scaleY=l[1]/2,createOrUpdate(this,`_doDispatchAxisPointer`,o.get(`throttle`)||0,`fixRate`),this._moveHandleToValue(t,c)}},t.prototype._moveHandleToValue=function(t,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,n){var r=this._handle;if(r){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(r),[t,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,r.stopAnimation(),r.attr(getHandleTransProps(a)),inner$14(r).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,n=this._axisModel;this._api.dispatchAction({type:`updateAxisPointer`,x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:n.axis.dim,axisIndex:n.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get(`value`);this._moveHandleToValue(t),this._api.dispatchAction({type:`hideTip`})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var n=t.getZr(),r=this._group,a=this._handle;n&&r&&(this._lastGraphicKey=null,r&&n.remove(r),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,`_doDispatchAxisPointer`)},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,n,r){return r||=0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}},t}();function updateProps(t,n,r,a){propsEqual(inner$14(r).lastProp,a)||(inner$14(r).lastProp=a,n?updateProps$1(r,a,t):(r.stopAnimation(),r.attr(a)))}function propsEqual(t,n){if(isObject$3(t)&&isObject$3(n)){var r=!0;return each$15(n,function(n,a){r&&=propsEqual(t[a],n)}),!!r}else return t===n}function updateLabelShowHide(t,n){t[n.get([`label`,`show`])?`show`:`hide`]()}function getHandleTransProps(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function updateMandatoryProps(t,n,r){var a=n.get(`z`),o=n.get(`zlevel`);t&&t.traverse(function(t){t.type!==`group`&&(a!=null&&(t.z=a),o!=null&&(t.zlevel=o),t.silent=r)})}var BaseAxisPointer_default=BaseAxisPointer;function buildElStyle(t){var n=t.get(`type`),r=t.getModel(n+`Style`),a;return n===`line`?(a=r.getLineStyle(),a.fill=null):n===`shadow`&&(a=r.getAreaStyle(),a.stroke=null),a}function buildLabelElOption(t,n,r,a,o){var s=getValueLabel(r.get(`value`),n.axis,n.ecModel,r.get(`seriesDataIndices`),{precision:r.get([`label`,`precision`]),formatter:r.get([`label`,`formatter`])}),c=r.getModel(`label`),l=normalizeCssArray(c.get(`padding`)||0),u=c.getFont(),d=getBoundingRect(s,u),f=o.position,p=d.width+l[1]+l[3],g=d.height+l[0]+l[2],_=o.align;_===`right`&&(f[0]-=p),_===`center`&&(f[0]-=p/2);var v=o.verticalAlign;v===`bottom`&&(f[1]-=g),v===`middle`&&(f[1]-=g/2),confineInContainer(f,p,g,a);var y=c.get(`backgroundColor`);(!y||y===`auto`)&&(y=n.get([`axisLine`,`lineStyle`,`color`])),t.label={x:f[0],y:f[1],style:createTextStyle$1(c,{text:s,font:u,fill:c.getTextColor(),padding:l,backgroundColor:y}),z2:10}}function confineInContainer(t,n,r,a){var o=a.getWidth(),s=a.getHeight();t[0]=Math.min(t[0]+n,o)-n,t[1]=Math.min(t[1]+r,s)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function getValueLabel(t,n,r,a,o){t=n.scale.parse(t);var s=n.scale.getLabel({value:t},{precision:o.precision}),c=o.formatter;if(c){var l={value:getAxisRawValue(n,{value:t}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$15(a,function(t){var n=r.getSeriesByIndex(t.seriesIndex),a=t.dataIndexInside,o=n&&n.getDataParams(a);o&&l.seriesData.push(o)}),isString(c)?s=c.replace(`{value}`,s):isFunction(c)&&(s=c(l))}return s}function getTransformedPosition(t,n,r){var a=create$1();return rotate(a,a,r.rotation),translate(a,a,r.position),applyTransform([t.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],a)}function buildCartesianSingleLabelElOption(t,n,r,a,o,s){var c=AxisBuilder_default.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=o.get([`label`,`margin`]),buildLabelElOption(n,a,o,s,{position:getTransformedPosition(a.axis,t,r),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(t,n,r){return r||=0,{x1:t[r],y1:t[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape(t,n,r){return r||=0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}}function makeSectorShape(t,n,r,a,o,s){return{cx:t,cy:n,r0:r,r:a,startAngle:o,endAngle:s,clockwise:!0}}var CartesianAxisPointer=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis,c=s.grid,l=a.get(`type`),u=getCartesian(c,s).getOtherAxis(s).getGlobalExtent(),d=s.toGlobalCoord(s.dataToCoord(n,!0));if(l&&l!==`none`){var f=buildElStyle(a),p=pointerShapeBuilder$2[l](s,d,u);p.style=f,t.graphicKey=p.type,t.pointer=p}buildCartesianSingleLabelElOption(n,t,layout$2(c.model,r),r,a,o)},n.prototype.getHandleTransform=function(t,n,r){var a=layout$2(n.axis.grid.model,n,{labelInside:!1});a.labelMargin=r.get([`handle`,`margin`]);var o=getTransformedPosition(n.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,n,r,a){var o=r.axis,s=o.grid,c=o.getGlobalExtent(!0),l=getCartesian(s,o).getOtherAxis(o).getGlobalExtent(),u=o.dim===`x`?0:1,d=[t.x,t.y];d[u]+=n[u],d[u]=Math.min(c[1],d[u]),d[u]=Math.max(c[0],d[u]);var f=(l[1]+l[0])/2,p=[f,f];return p[u]=d[u],{x:d[0],y:d[1],rotation:t.rotation,cursorPoint:p,tooltipOption:[{verticalAlign:`middle`},{align:`center`}][u]}},n}(BaseAxisPointer_default);function getCartesian(t,n){var r={};return r[n.dim+`AxisIndex`]=n.index,t.getCartesian(r)}var pointerShapeBuilder$2={line:function(t,n,r){return{type:`Line`,subPixelOptimize:!0,shape:makeLineShape([n,r[0]],[n,r[1]],getAxisDimIndex(t))}},shadow:function(t,n,r){var a=Math.max(1,t.getBandWidth()),o=r[1]-r[0];return{type:`Rect`,shape:makeRectShape([n-a/2,r[0]],[a,o],getAxisDimIndex(t))}}};function getAxisDimIndex(t){return t.dim===`x`?0:1}var CartesianAxisPointer_default=CartesianAxisPointer,AxisPointerModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`axisPointer`,n.defaultOption={show:`auto`,z:50,type:`line`,snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:`#B9BEC9`,width:1,type:`dashed`},shadowStyle:{color:`rgba(210,219,238,0.2)`},label:{show:!0,formatter:null,precision:`auto`,margin:3,color:`#fff`,padding:[5,7,5,7],backgroundColor:`auto`,borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:`M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z`,size:45,margin:50,color:`#333`,shadowBlur:3,shadowColor:`#aaa`,shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(Component_default$1),inner$13=makeInner(),each$12=each$15;function register(t,n,r){if(!env_default.node){var a=n.getZr();inner$13(a).records||(inner$13(a).records={}),initGlobalListeners(a,n);var o=inner$13(a).records[t]||(inner$13(a).records[t]={});o.handler=r}}function initGlobalListeners(t,n){if(inner$13(t).initialized)return;inner$13(t).initialized=!0,r(`click`,curry$1(doEnter,`click`)),r(`mousemove`,curry$1(doEnter,`mousemove`)),r(`globalout`,onLeave);function r(r,a){t.on(r,function(r){var o=makeDispatchAction$1(n);each$12(inner$13(t).records,function(t){t&&a(t,r,o.dispatchAction)}),dispatchTooltipFinally(o.pendings,n)})}}function dispatchTooltipFinally(t,n){var r=t.showTip.length,a=t.hideTip.length,o;r?o=t.showTip[r-1]:a&&(o=t.hideTip[a-1]),o&&(o.dispatchAction=null,n.dispatchAction(o))}function onLeave(t,n,r){t.handler(`leave`,null,r)}function doEnter(t,n,r,a){n.handler(t,r,a)}function makeDispatchAction$1(t){var n={showTip:[],hideTip:[]},r=function(a){var o=n[a.type];o?o.push(a):(a.dispatchAction=r,t.dispatchAction(a))};return{dispatchAction:r,pendings:n}}function unregister(t,n){if(!env_default.node){var r=n.getZr();(inner$13(r).records||{})[t]&&(inner$13(r).records[t]=null)}}var AxisPointerView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=n.getComponent(`tooltip`),o=t.get(`triggerOn`)||a&&a.get(`triggerOn`)||`mousemove|click`;register(`axisPointer`,r,function(t,n,r){o!==`none`&&(t===`leave`||o.indexOf(t)>=0)&&r({type:`updateAxisPointer`,currTrigger:t,x:n&&n.offsetX,y:n&&n.offsetY})})},n.prototype.remove=function(t,n){unregister(`axisPointer`,n)},n.prototype.dispose=function(t,n){unregister(`axisPointer`,n)},n.type=`axisPointer`,n}(Component_default);function findPointFromSeries(t,n){var r=[],a=t.seriesIndex,o;if(a==null||!(o=n.getSeriesByIndex(a)))return{point:[]};var s=o.getData(),c=queryDataIndex(s,t);if(c==null||c<0||isArray$1(c))return{point:[]};var l=s.getItemGraphicEl(c),u=o.coordinateSystem;if(o.getTooltipPosition)r=o.getTooltipPosition(c)||[];else if(u&&u.dataToPoint)if(t.isStacked){var d=u.getBaseAxis(),f=u.getOtherAxis(d).dim,p=d.dim,g=f===`x`||f===`radius`?1:0,_=s.mapDimension(p),v=[];v[g]=s.get(_,c),v[1-g]=s.get(s.getCalculationInfo(`stackResultDimension`),c),r=u.dataToPoint(v)||[]}else r=u.dataToPoint(s.getValues(map$1(u.dimensions,function(t){return s.mapDimension(t)}),c))||[];else if(l){var y=l.getBoundingRect().clone();y.applyTransform(l.transform),r=[y.x+y.width/2,y.y+y.height/2]}return{point:r,el:l}}var inner$12=makeInner();function axisTrigger(t,n,r){var a=t.currTrigger,o=[t.x,t.y],s=t,c=t.dispatchAction||bind$1(r.dispatchAction,r),l=n.getComponent(`axisPointer`).coordSysAxesInfo;if(l){illegalPoint(o)&&(o=findPointFromSeries({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},n).point);var u=illegalPoint(o),d=s.axesInfo,f=l.axesInfo,p=a===`leave`||illegalPoint(o),g={},_={},v={list:[],map:{}},y={showPointer:curry$1(showPointer,_),showTooltip:curry$1(showTooltip,v)};each$15(l.coordSysMap,function(t,n){var r=u||t.containPoint(o);each$15(l.coordSysAxesInfo[n],function(t,n){var a=t.axis,s=findInputAxisInfo(d,t);if(!p&&r&&(!d||s)){var c=s&&s.value;c==null&&!u&&(c=a.pointToData(o)),c!=null&&processOnAxis(t,c,y,!1,g)}})});var b={};return each$15(f,function(t,n){var r=t.linkGroup;r&&!_[n]&&each$15(r.axesInfo,function(n,a){var o=_[a];if(n!==t&&o){var s=o.value;r.mapper&&(s=t.axis.scale.parse(r.mapper(s,makeMapperParam(n),makeMapperParam(t)))),b[t.key]=s}})}),each$15(b,function(t,n){processOnAxis(f[n],t,y,!0,g)}),updateModelActually(_,f,g),dispatchTooltipActually(v,o,t,c),dispatchHighDownActually(f,c,r),g}}function processOnAxis(t,n,r,a,o){var s=t.axis;if(!(s.scale.isBlank()||!s.containData(n))){if(!t.involveSeries){r.showPointer(t,n);return}var c=buildPayloadsBySeries(n,t),l=c.payloadBatch,u=c.snapToValue;l[0]&&o.seriesIndex==null&&extend(o,l[0]),!a&&t.snap&&s.containData(u)&&u!=null&&(n=u),r.showPointer(t,n,l),r.showTooltip(t,c,u)}}function buildPayloadsBySeries(t,n){var r=n.axis,a=r.dim,o=t,s=[],c=Number.MAX_VALUE,l=-1;return each$15(n.seriesModels,function(n,u){var d=n.getData().mapDimensionsAll(a),f,p;if(n.getAxisTooltipData){var g=n.getAxisTooltipData(d,t,r);p=g.dataIndices,f=g.nestestValue}else{if(p=n.getData().indicesOfNearest(d[0],t,r.type===`category`?.5:null),!p.length)return;f=n.getData().get(d[0],p[0])}if(!(f==null||!isFinite(f))){var _=t-f,v=Math.abs(_);v<=c&&((v<c||_>=0&&l<0)&&(c=v,l=_,o=f,s.length=0),each$15(p,function(t){s.push({seriesIndex:n.seriesIndex,dataIndexInside:t,dataIndex:n.getData().getRawIndex(t)})}))}}),{payloadBatch:s,snapToValue:o}}function showPointer(t,n,r,a){t[n.key]={value:r,payloadBatch:a}}function showTooltip(t,n,r,a){var o=r.payloadBatch,s=n.axis,c=s.model,l=n.axisPointerModel;if(!(!n.triggerTooltip||!o.length)){var u=n.coordSys.model,d=makeKey(u),f=t.map[d];f||(f=t.map[d]={coordSysId:u.id,coordSysIndex:u.componentIndex,coordSysType:u.type,coordSysMainType:u.mainType,dataByAxis:[]},t.list.push(f)),f.dataByAxis.push({axisDim:s.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:a,valueLabelOpt:{precision:l.get([`label`,`precision`]),formatter:l.get([`label`,`formatter`])},seriesDataIndices:o.slice()})}}function updateModelActually(t,n,r){var a=r.axesInfo=[];each$15(n,function(n,r){var o=n.axisPointerModel.option,s=t[r];s?(!n.useHandle&&(o.status=`show`),o.value=s.value,o.seriesDataIndices=(s.payloadBatch||[]).slice()):!n.useHandle&&(o.status=`hide`),o.status===`show`&&a.push({axisDim:n.axis.dim,axisIndex:n.axis.model.componentIndex,value:o.value})})}function dispatchTooltipActually(t,n,r,a){if(illegalPoint(n)||!t.list.length){a({type:`hideTip`});return}var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:`showTip`,escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}function dispatchHighDownActually(t,n,r){var a=r.getZr(),o=`axisPointerLastHighlights`,s=inner$12(a)[o]||{},c=inner$12(a)[o]={};each$15(t,function(t,n){var r=t.axisPointerModel.option;r.status===`show`&&t.triggerEmphasis&&each$15(r.seriesDataIndices,function(t){var n=t.seriesIndex+` | `+t.dataIndex;c[n]=t})});var l=[],u=[];each$15(s,function(t,n){!c[n]&&u.push(t)}),each$15(c,function(t,n){!s[n]&&l.push(t)}),u.length&&r.dispatchAction({type:`downplay`,escapeConnect:!0,notBlur:!0,batch:u}),l.length&&r.dispatchAction({type:`highlight`,escapeConnect:!0,notBlur:!0,batch:l})}function findInputAxisInfo(t,n){for(var r=0;r<(t||[]).length;r++){var a=t[r];if(n.axis.dim===a.axisDim&&n.axis.model.componentIndex===a.axisIndex)return a}}function makeMapperParam(t){var n=t.axis.model,r={},a=r.axisDim=t.axis.dim;return r.axisIndex=r[a+`AxisIndex`]=n.componentIndex,r.axisName=r[a+`AxisName`]=n.name,r.axisId=r[a+`AxisId`]=n.id,r}function illegalPoint(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function install$53(t){AxisView_default.registerAxisPointerClass(`CartesianAxisPointer`,CartesianAxisPointer_default),t.registerComponentModel(AxisPointerModel_default),t.registerComponentView(AxisPointerView_default),t.registerPreprocessor(function(t){if(t){(!t.axisPointer||t.axisPointer.length===0)&&(t.axisPointer={});var n=t.axisPointer.link;n&&!isArray$1(n)&&(t.axisPointer.link=[n])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(t,n){t.getComponent(`axisPointer`).coordSysAxesInfo=collect(t,n)}),t.registerAction({type:`updateAxisPointer`,event:`updateAxisPointer`,update:`:updateAxisPointer`},axisTrigger)}function install$52(t){use(install$54),use(install$53)}var PolarAxisPointer=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis;s.dim===`angle`&&(this.animationThreshold=Math.PI/18);var c=s.polar,l=c.getOtherAxis(s).getExtent(),u=s.dataToCoord(n),d=a.get(`type`);if(d&&d!==`none`){var f=buildElStyle(a),p=pointerShapeBuilder$1[d](s,c,u,l);p.style=f,t.graphicKey=p.type,t.pointer=p}buildLabelElOption(t,r,a,o,getLabelPosition(n,r,a,c,a.get([`label`,`margin`])))},n}(BaseAxisPointer_default);function getLabelPosition(t,n,r,a,o){var s=n.axis,c=s.dataToCoord(t),l=a.getAngleAxis().getExtent()[0];l=l/180*Math.PI;var u=a.getRadiusAxis().getExtent(),d,f,p;if(s.dim===`radius`){var g=create$1();rotate(g,g,l),translate(g,g,[a.cx,a.cy]),d=applyTransform([c,-o],g);var _=n.getModel(`axisLabel`).get(`rotate`)||0,v=AxisBuilder_default.innerTextLayout(l,_*Math.PI/180,-1);f=v.textAlign,p=v.textVerticalAlign}else{var y=u[1];d=a.coordToPoint([y+o,c]);var b=a.cx,x=a.cy;f=Math.abs(d[0]-b)/y<.3?`center`:d[0]>b?`left`:`right`,p=Math.abs(d[1]-x)/y<.3?`middle`:d[1]>x?`top`:`bottom`}return{position:d,align:f,verticalAlign:p}}var pointerShapeBuilder$1={line:function(t,n,r,a){return t.dim===`angle`?{type:`Line`,shape:makeLineShape(n.coordToPoint([a[0],r]),n.coordToPoint([a[1],r]))}:{type:`Circle`,shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(t,n,r,a){var o=Math.max(1,t.getBandWidth()),s=Math.PI/180;return t.dim===`angle`?{type:`Sector`,shape:makeSectorShape(n.cx,n.cy,a[0],a[1],(-r-o/2)*s,(-r+o/2)*s)}:{type:`Sector`,shape:makeSectorShape(n.cx,n.cy,r-o/2,r+o/2,0,Math.PI*2)}}},PolarAxisPointer_default=PolarAxisPointer,PolarModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(t){var n;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(n=t)},this),n},n.type=`polar`,n.dependencies=[`radiusAxis`,`angleAxis`],n.defaultOption={z:0,center:[`50%`,`50%`],radius:`80%`},n}(Component_default$1),PolarAxisModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents(`polar`,SINGLE_REFERRING).models[0]},n.type=`polarAxis`,n}(Component_default$1);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`angleAxis`,n}(PolarAxisModel),RadiusAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`radiusAxis`,n}(PolarAxisModel),RadiusAxis=function(t){__extends(n,t);function n(n,r){return t.call(this,`radius`,n,r)||this}return n.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim===`radius`?0:1]},n}(Axis_default);RadiusAxis.prototype.dataToRadius=Axis_default.prototype.dataToCoord,RadiusAxis.prototype.radiusToData=Axis_default.prototype.coordToData;var RadiusAxis_default=RadiusAxis,inner$11=makeInner(),AngleAxis=function(t){__extends(n,t);function n(n,r){return t.call(this,`angle`,n,r||[0,360])||this}return n.prototype.pointToData=function(t,n){return this.polar.pointToData(t,n)[this.dim===`radius`?0:1]},n.prototype.calculateCategoryInterval=function(){var t=this,n=t.getLabelModel(),r=t.scale,a=r.getExtent(),o=r.count();if(a[1]-a[0]<1)return 0;var s=a[0],c=t.dataToCoord(s+1)-t.dataToCoord(s),l=Math.abs(c),u=getBoundingRect(s==null?``:s+``,n.getFont(),`center`,`top`),d=Math.max(u.height,7)/l;isNaN(d)&&(d=1/0);var f=Math.max(0,Math.floor(d)),p=inner$11(t.model),g=p.lastAutoInterval,_=p.lastTickCount;return g!=null&&_!=null&&Math.abs(g-f)<=1&&Math.abs(_-o)<=1&&g>f?f=g:(p.lastTickCount=o,p.lastAutoInterval=f),f},n}(Axis_default);AngleAxis.prototype.dataToAngle=Axis_default.prototype.dataToCoord,AngleAxis.prototype.angleToData=Axis_default.prototype.coordToData;var AngleAxis_default=AngleAxis,polarDimensions=[`radius`,`angle`],Polar=function(){function t(t){this.dimensions=polarDimensions,this.type=`polar`,this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis_default,this._angleAxis=new AngleAxis_default,this.axisPointerEnabled=!0,this.name=t||``,this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(t){var n=this.pointToCoord(t);return this._radiusAxis.contain(n[0])&&this._angleAxis.contain(n[1])},t.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},t.prototype.getAxis=function(t){var n=`_`+t+`Axis`;return this[n]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(t){var n=[],r=this._angleAxis,a=this._radiusAxis;return r.scale.type===t&&n.push(r),a.scale.type===t&&n.push(a),n},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(t){var n=this._angleAxis;return t===n?this._radiusAxis:n},t.prototype.getBaseAxis=function(){return this.getAxesByScale(`ordinal`)[0]||this.getAxesByScale(`time`)[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(t){var n=t!=null&&t!==`auto`?this.getAxis(t):this.getBaseAxis();return{baseAxes:[n],otherAxes:[this.getOtherAxis(n)]}},t.prototype.dataToPoint=function(t,n){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],n),this._angleAxis.dataToAngle(t[1],n)])},t.prototype.pointToData=function(t,n){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],n),this._angleAxis.angleToData(r[1],n)]},t.prototype.pointToCoord=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,a=this.getAngleAxis(),o=a.getExtent(),s=Math.min(o[0],o[1]),c=Math.max(o[0],o[1]);a.inverse?s=c-360:c=s+360;var l=Math.sqrt(n*n+r*r);n/=l,r/=l;for(var u=Math.atan2(-r,n)/Math.PI*180,d=u<s?1:-1;u<s||u>c;)u+=d*360;return[l,u]},t.prototype.coordToPoint=function(t){var n=t[0],r=t[1]/180*Math.PI;return[Math.cos(r)*n+this.cx,-Math.sin(r)*n+this.cy]},t.prototype.getArea=function(){var t=this.getAngleAxis(),n=this.getRadiusAxis().getExtent().slice();n[0]>n[1]&&n.reverse();var r=t.getExtent(),a=Math.PI/180,o=1e-4;return{cx:this.cx,cy:this.cy,r0:n[0],r:n[1],startAngle:-r[0]*a,endAngle:-r[1]*a,clockwise:t.inverse,contain:function(t,n){var r=t-this.cx,a=n-this.cy,s=r*r+a*a,c=this.r,l=this.r0;return c!==l&&s-o<=c*c&&s+o>=l*l}}},t.prototype.convertToPixel=function(t,n,r){return getCoordSys$4(n)===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(t,n,r){return getCoordSys$4(n)===this?this.pointToData(r):null},t}();function getCoordSys$4(t){var n=t.seriesModel,r=t.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}var Polar_default=Polar;function resizePolar(t,n,r){var a=n.get(`center`),o=r.getWidth(),s=r.getHeight();t.cx=parsePercent(a[0],o),t.cy=parsePercent(a[1],s);var c=t.getRadiusAxis(),l=Math.min(o,s)/2,u=n.get(`radius`);u==null?u=[0,`100%`]:isArray$1(u)||(u=[0,u]);var d=[parsePercent(u[0],l),parsePercent(u[1],l)];c.inverse?c.setExtent(d[1],d[0]):c.setExtent(d[0],d[1])}function updatePolarScale(t,n){var r=this,a=r.getAngleAxis(),o=r.getRadiusAxis();if(a.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){if(t.coordinateSystem===r){var n=t.getData();each$15(getDataDimensionsOnAxis(n,`radius`),function(t){o.scale.unionExtentFromData(n,t)}),each$15(getDataDimensionsOnAxis(n,`angle`),function(t){a.scale.unionExtentFromData(n,t)})}}),niceScaleExtent(a.scale,a.model),niceScaleExtent(o.scale,o.model),a.type===`category`&&!a.onBand){var s=a.getExtent(),c=360/a.scale.count();a.inverse?s[1]+=c:s[1]-=c,a.setExtent(s[0],s[1])}}function isAngleAxisModel(t){return t.mainType===`angleAxis`}function setAxis(t,n){if(t.type=n.get(`type`),t.scale=createScaleByModel$1(n),t.onBand=n.get(`boundaryGap`)&&t.type===`category`,t.inverse=n.get(`inverse`),isAngleAxisModel(n)){t.inverse=t.inverse!==n.get(`clockwise`);var r=n.get(`startAngle`),a=n.get(`endAngle`)??r+(t.inverse?-360:360);t.setExtent(r,a)}n.axis=t,t.model=n}var polarCreator_default={dimensions:polarDimensions,create:function(t,n){var r=[];return t.eachComponent(`polar`,function(t,a){var o=new Polar_default(a+``);o.update=updatePolarScale;var s=o.getRadiusAxis(),c=o.getAngleAxis(),l=t.findAxisModel(`radiusAxis`),u=t.findAxisModel(`angleAxis`);setAxis(s,l),setAxis(c,u),resizePolar(o,t,n),r.push(o),t.coordinateSystem=o,o.model=t}),t.eachSeries(function(t){t.get(`coordinateSystem`)===`polar`&&(t.coordinateSystem=t.getReferringComponents(`polar`,SINGLE_REFERRING).models[0].coordinateSystem)}),r}},elementList$1=[`axisLine`,`axisLabel`,`axisTick`,`minorTick`,`splitLine`,`minorSplitLine`,`splitArea`];function getAxisLineShape(t,n,r){n[1]>n[0]&&(n=n.slice().reverse());var a=t.coordToPoint([n[0],r]),o=t.coordToPoint([n[1],r]);return{x1:a[0],y1:a[1],x2:o[0],y2:o[1]}}function getRadiusIdx(t){return t.getRadiusAxis().inverse?0:1}function fixAngleOverlap(t){var n=t[0],r=t[t.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&t.pop()}var AngleAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass=`PolarAxisPointer`,r}return n.prototype.render=function(t,n){if(this.group.removeAll(),t.get(`show`)){var r=t.axis,a=r.polar,o=a.getRadiusAxis().getExtent(),s=r.getTicksCoords(),c=r.getMinorTicksCoords(),l=map$1(r.getViewLabels(),function(t){t=clone$4(t);var n=r.scale,a=n.type===`ordinal`?n.getRawOrdinalNumber(t.tickValue):t.tickValue;return t.coord=r.dataToCoord(a),t});fixAngleOverlap(l),fixAngleOverlap(s),each$15(elementList$1,function(n){t.get([n,`show`])&&(!r.scale.isBlank()||n===`axisLine`)&&angelAxisElementsBuilders[n](this.group,t,a,s,c,o,l)},this)}},n.type=`angleAxis`,n}(AxisView_default),angelAxisElementsBuilders={axisLine:function(t,n,r,a,o,s){var c=n.getModel([`axisLine`,`lineStyle`]),l=r.getAngleAxis(),u=Math.PI/180,d=l.getExtent(),f=getRadiusIdx(r),p=f?0:1,g,_=Math.abs(d[1]-d[0])===360?`Circle`:`Arc`;g=s[p]===0?new graphic_exports[_]({shape:{cx:r.cx,cy:r.cy,r:s[f],startAngle:-d[0]*u,endAngle:-d[1]*u,clockwise:l.inverse},style:c.getLineStyle(),z2:1,silent:!0}):new Ring_default({shape:{cx:r.cx,cy:r.cy,r:s[f],r0:s[p]},style:c.getLineStyle(),z2:1,silent:!0}),g.style.fill=null,t.add(g)},axisTick:function(t,n,r,a,o,s){var c=n.getModel(`axisTick`),l=(c.get(`inside`)?-1:1)*c.get(`length`),u=s[getRadiusIdx(r)],d=map$1(a,function(t){return new Line_default$1({shape:getAxisLineShape(r,[u,u+l],t.coord)})});t.add(mergePath(d,{style:defaults(c.getModel(`lineStyle`).getLineStyle(),{stroke:n.get([`axisLine`,`lineStyle`,`color`])})}))},minorTick:function(t,n,r,a,o,s){if(o.length){for(var c=n.getModel(`axisTick`),l=n.getModel(`minorTick`),u=(c.get(`inside`)?-1:1)*l.get(`length`),d=s[getRadiusIdx(r)],f=[],p=0;p<o.length;p++)for(var g=0;g<o[p].length;g++)f.push(new Line_default$1({shape:getAxisLineShape(r,[d,d+u],o[p][g].coord)}));t.add(mergePath(f,{style:defaults(l.getModel(`lineStyle`).getLineStyle(),defaults(c.getLineStyle(),{stroke:n.get([`axisLine`,`lineStyle`,`color`])}))}))}},axisLabel:function(t,n,r,a,o,s,c){var l=n.getCategories(!0),u=n.getModel(`axisLabel`),d=u.get(`margin`),f=n.get(`triggerEvent`);each$15(c,function(a,o){var c=u,p=a.tickValue,g=s[getRadiusIdx(r)],_=r.coordToPoint([g+d,a.coord]),v=r.cx,y=r.cy,b=Math.abs(_[0]-v)/g<.3?`center`:_[0]>v?`left`:`right`,x=Math.abs(_[1]-y)/g<.3?`middle`:_[1]>y?`top`:`bottom`;if(l&&l[p]){var S=l[p];isObject$3(S)&&S.textStyle&&(c=new Model_default(S.textStyle,u,u.ecModel))}var C=new Text_default({silent:AxisBuilder_default.isLabelSilent(n),style:createTextStyle$1(c,{x:_[0],y:_[1],fill:c.getTextColor()||n.get([`axisLine`,`lineStyle`,`color`]),text:a.formattedLabel,align:b,verticalAlign:x})});if(t.add(C),f){var w=AxisBuilder_default.makeAxisEventDataBase(n);w.targetType=`axisLabel`,w.value=a.rawLabel,getECData(C).eventData=w}},this)},splitLine:function(t,n,r,a,o,s){var c=n.getModel(`splitLine`).getModel(`lineStyle`),l=c.get(`color`),u=0;l=l instanceof Array?l:[l];for(var d=[],f=0;f<a.length;f++){var p=u++%l.length;d[p]=d[p]||[],d[p].push(new Line_default$1({shape:getAxisLineShape(r,s,a[f].coord)}))}for(var f=0;f<d.length;f++)t.add(mergePath(d[f],{style:defaults({stroke:l[f%l.length]},c.getLineStyle()),silent:!0,z:n.get(`z`)}))},minorSplitLine:function(t,n,r,a,o,s){if(o.length){for(var c=n.getModel(`minorSplitLine`).getModel(`lineStyle`),l=[],u=0;u<o.length;u++)for(var d=0;d<o[u].length;d++)l.push(new Line_default$1({shape:getAxisLineShape(r,s,o[u][d].coord)}));t.add(mergePath(l,{style:c.getLineStyle(),silent:!0,z:n.get(`z`)}))}},splitArea:function(t,n,r,a,o,s){if(a.length){var c=n.getModel(`splitArea`).getModel(`areaStyle`),l=c.get(`color`),u=0;l=l instanceof Array?l:[l];for(var d=[],f=Math.PI/180,p=-a[0].coord*f,g=Math.min(s[0],s[1]),_=Math.max(s[0],s[1]),v=n.get(`clockwise`),y=1,b=a.length;y<=b;y++){var x=y===b?a[0].coord:a[y].coord,S=u++%l.length;d[S]=d[S]||[],d[S].push(new Sector_default({shape:{cx:r.cx,cy:r.cy,r0:g,r:_,startAngle:p,endAngle:-x*f,clockwise:v},silent:!0})),p=-x*f}for(var y=0;y<d.length;y++)t.add(mergePath(d[y],{style:defaults({fill:l[y%l.length]},c.getAreaStyle()),silent:!0}))}}},AngleAxisView_default=AngleAxisView,axisBuilderAttrs$2=[`axisLine`,`axisTickLabel`,`axisName`],selfBuilderAttrs$1=[`splitLine`,`splitArea`,`minorSplitLine`],RadiusAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass=`PolarAxisPointer`,r}return n.prototype.render=function(t,n){if(this.group.removeAll(),t.get(`show`)){var r=this._axisGroup,a=this._axisGroup=new Group_default;this.group.add(a);var o=t.axis,s=o.polar,c=s.getAngleAxis(),l=o.getTicksCoords(),u=o.getMinorTicksCoords(),d=c.getExtent()[0],f=o.getExtent(),p=new AxisBuilder_default(t,layoutAxis(s,t,d));each$15(axisBuilderAttrs$2,p.add,p),a.add(p.getGroup()),groupTransition(r,a,t),each$15(selfBuilderAttrs$1,function(n){t.get([n,`show`])&&!o.scale.isBlank()&&axisElementBuilders$1[n](this.group,t,s,d,f,l,u)},this)}},n.type=`radiusAxis`,n}(AxisView_default),axisElementBuilders$1={splitLine:function(t,n,r,a,o,s){var c=n.getModel(`splitLine`).getModel(`lineStyle`),l=c.get(`color`),u=0,d=r.getAngleAxis(),f=Math.PI/180,p=d.getExtent(),g=Math.abs(p[1]-p[0])===360?`Circle`:`Arc`;l=l instanceof Array?l:[l];for(var _=[],v=0;v<s.length;v++){var y=u++%l.length;_[y]=_[y]||[],_[y].push(new graphic_exports[g]({shape:{cx:r.cx,cy:r.cy,r:Math.max(s[v].coord,0),startAngle:-p[0]*f,endAngle:-p[1]*f,clockwise:d.inverse}}))}for(var v=0;v<_.length;v++)t.add(mergePath(_[v],{style:defaults({stroke:l[v%l.length],fill:null},c.getLineStyle()),silent:!0}))},minorSplitLine:function(t,n,r,a,o,s,c){if(c.length){for(var l=n.getModel(`minorSplitLine`).getModel(`lineStyle`),u=[],d=0;d<c.length;d++)for(var f=0;f<c[d].length;f++)u.push(new Circle_default({shape:{cx:r.cx,cy:r.cy,r:c[d][f].coord}}));t.add(mergePath(u,{style:defaults({fill:null},l.getLineStyle()),silent:!0}))}},splitArea:function(t,n,r,a,o,s){if(s.length){var c=n.getModel(`splitArea`).getModel(`areaStyle`),l=c.get(`color`),u=0;l=l instanceof Array?l:[l];for(var d=[],f=s[0].coord,p=1;p<s.length;p++){var g=u++%l.length;d[g]=d[g]||[],d[g].push(new Sector_default({shape:{cx:r.cx,cy:r.cy,r0:f,r:s[p].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),f=s[p].coord}for(var p=0;p<d.length;p++)t.add(mergePath(d[p],{style:defaults({fill:l[p%l.length]},c.getAreaStyle()),silent:!0}))}}};function layoutAxis(t,n,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel(`axisLabel`).get(`rotate`),z2:1}}var RadiusAxisView_default=RadiusAxisView;function getSeriesStackId(t){return t.get(`stack`)||`__ec_stack_`+t.seriesIndex}function getAxisKey(t,n){return n.dim+t.model.componentIndex}function barLayoutPolar(t,n,r){var a={},o=calRadialBar(filter(n.getSeriesByType(t),function(t){return!n.isSeriesFiltered(t)&&t.coordinateSystem&&t.coordinateSystem.type===`polar`}));n.eachSeriesByType(t,function(t){if(t.coordinateSystem.type===`polar`){var n=t.getData(),r=t.coordinateSystem,s=r.getBaseAxis(),c=getAxisKey(r,s),l=getSeriesStackId(t),u=o[c][l],d=u.offset,f=u.width,p=r.getOtherAxis(s),g=t.coordinateSystem.cx,_=t.coordinateSystem.cy,v=t.get(`barMinHeight`)||0,y=t.get(`barMinAngle`)||0;a[l]=a[l]||[];for(var b=n.mapDimension(p.dim),x=n.mapDimension(s.dim),S=isDimensionStacked(n,b),C=s.dim!==`radius`||!t.get(`roundCap`,!0),w=p.model.get(`startValue`),T=p.dataToCoord(w||0),E=0,D=n.count();E<D;E++){var O=n.get(b,E),A=n.get(x,E),j=O>=0?`p`:`n`,M=T;S&&(a[l][A]||(a[l][A]={p:T,n:T}),M=a[l][A][j]);var N=void 0,P=void 0,F=void 0,I=void 0;if(p.dim===`radius`){var L=p.dataToCoord(O)-T,R=s.dataToCoord(A);Math.abs(L)<v&&(L=(L<0?-1:1)*v),N=M,P=M+L,F=R-d,I=F-f,S&&(a[l][A][j]=P)}else{var z=p.dataToCoord(O,C)-T,B=s.dataToCoord(A);Math.abs(z)<y&&(z=(z<0?-1:1)*y),N=B+d,P=N+f,F=M,I=M+z,S&&(a[l][A][j]=I)}n.setItemLayout(E,{cx:g,cy:_,r0:N,r:P,startAngle:-F*Math.PI/180,endAngle:-I*Math.PI/180,clockwise:F>=I})}}})}function calRadialBar(t){var n={};each$15(t,function(t,r){var a=t.getData(),o=t.coordinateSystem,s=o.getBaseAxis(),c=getAxisKey(o,s),l=s.getExtent(),u=s.type===`category`?s.getBandWidth():Math.abs(l[1]-l[0])/a.count(),d=n[c]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:`20%`,gap:`30%`,stacks:{}},f=d.stacks;n[c]=d;var p=getSeriesStackId(t);f[p]||d.autoWidthCount++,f[p]=f[p]||{width:0,maxWidth:0};var g=parsePercent(t.get(`barWidth`),u),_=parsePercent(t.get(`barMaxWidth`),u),v=t.get(`barGap`),y=t.get(`barCategoryGap`);g&&!f[p].width&&(g=Math.min(d.remainedWidth,g),f[p].width=g,d.remainedWidth-=g),_&&(f[p].maxWidth=_),v!=null&&(d.gap=v),y!=null&&(d.categoryGap=y)});var r={};return each$15(n,function(t,n){r[n]={};var a=t.stacks,o=t.bandWidth,s=parsePercent(t.categoryGap,o),c=parsePercent(t.gap,1),l=t.remainedWidth,u=t.autoWidthCount,d=(l-s)/(u+(u-1)*c);d=Math.max(d,0),each$15(a,function(t,n){var r=t.maxWidth;r&&r<d&&(r=Math.min(r,l),t.width&&(r=Math.min(r,t.width)),l-=r,t.width=r,u--)}),d=(l-s)/(u+(u-1)*c),d=Math.max(d,0);var f=0,p;each$15(a,function(t,n){t.width||=d,p=t,f+=t.width*(1+c)}),p&&(f-=p.width*c);var g=-f/2;each$15(a,function(t,a){r[n][a]=r[n][a]||{offset:g,width:t.width},g+=t.width*(1+c)})}),r}var barPolar_default=barLayoutPolar,angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`polar`,n}(Component_default);function install$51(t){use(install$53),AxisView_default.registerAxisPointerClass(`PolarAxisPointer`,PolarAxisPointer_default),t.registerCoordinateSystem(`polar`,polarCreator_default),t.registerComponentModel(PolarModel_default),t.registerComponentView(PolarView),axisModelCreator(t,`angle`,AngleAxisModel,angleAxisExtraOption),axisModelCreator(t,`radius`,RadiusAxisModel,radiusAxisExtraOption),t.registerComponentView(AngleAxisView_default),t.registerComponentView(RadiusAxisView_default),t.registerLayout(curry$1(barPolar_default,`bar`))}var valueAxisDefault=axisDefault_default.value;function defaultsShow(t,n){return defaults({show:n},t)}var RadarModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var t=this.get(`boundaryGap`),n=this.get(`splitNumber`),r=this.get(`scale`),a=this.get(`axisLine`),o=this.get(`axisTick`),s=this.get(`axisLabel`),c=this.get(`axisName`),l=this.get([`axisName`,`show`]),u=this.get([`axisName`,`formatter`]),d=this.get(`axisNameGap`),f=this.get(`triggerEvent`);this._indicatorModels=map$1(this.get(`indicator`)||[],function(p){p.max!=null&&p.max>0&&!p.min?p.min=0:p.min!=null&&p.min<0&&!p.max&&(p.max=0);var g=c;p.color!=null&&(g=defaults({color:p.color},c));var _=merge(clone$4(p),{boundaryGap:t,splitNumber:n,scale:r,axisLine:a,axisTick:o,axisLabel:s,name:p.text,showName:l,nameLocation:`end`,nameGap:d,nameTextStyle:g,triggerEvent:f},!1);if(isString(u)){var v=_.name;_.name=u.replace(`{value}`,v??``)}else isFunction(u)&&(_.name=u(_.name,_));var y=new Model_default(_,null,this.ecModel);return mixin(y,AxisModelCommonMixin.prototype),y.mainType=`radar`,y.componentIndex=this.componentIndex,y},this)},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type=`radar`,n.defaultOption={z:0,center:[`50%`,`50%`],radius:`75%`,startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:`polygon`,axisLine:merge({lineStyle:{color:`#bbb`}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(Component_default$1),axisBuilderAttrs$1=[`axisLine`,`axisTickLabel`,`axisName`],RadarView_default$1=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},n.prototype._buildAxes=function(t){var n=t.coordinateSystem;each$15(map$1(n.getIndicatorAxes(),function(t){var r=t.model.get(`showName`)?t.name:``;return new AxisBuilder_default(t.model,{axisName:r,position:[n.cx,n.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){each$15(axisBuilderAttrs$1,t.add,t),this.group.add(t.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(t){var n=t.coordinateSystem,r=n.getIndicatorAxes();if(!r.length)return;var a=t.get(`shape`),o=t.getModel(`splitLine`),s=t.getModel(`splitArea`),c=o.getModel(`lineStyle`),l=s.getModel(`areaStyle`),u=o.get(`show`),d=s.get(`show`),f=c.get(`color`),p=l.get(`color`),g=isArray$1(f)?f:[f],_=isArray$1(p)?p:[p],v=[],y=[];function b(t,n,r){var a=r%n.length;return t[a]=t[a]||[],a}if(a===`circle`)for(var x=r[0].getTicksCoords(),S=n.cx,C=n.cy,w=0;w<x.length;w++){if(u){var T=b(v,g,w);v[T].push(new Circle_default({shape:{cx:S,cy:C,r:x[w].coord}}))}if(d&&w<x.length-1){var T=b(y,_,w);y[T].push(new Ring_default({shape:{cx:S,cy:C,r0:x[w].coord,r:x[w+1].coord}}))}}else for(var E,D=map$1(r,function(t,r){var a=t.getTicksCoords();return E=E==null?a.length-1:Math.min(a.length-1,E),map$1(a,function(t){return n.coordToPoint(t.coord,r)})}),O=[],w=0;w<=E;w++){for(var A=[],j=0;j<r.length;j++)A.push(D[j][w]);if(A[0]&&A.push(A[0].slice()),u){var T=b(v,g,w);v[T].push(new Polyline_default$1({shape:{points:A}}))}if(d&&O){var T=b(y,_,w-1);y[T].push(new Polygon_default({shape:{points:A.concat(O)}}))}O=A.slice().reverse()}var M=c.getLineStyle(),N=l.getAreaStyle();each$15(y,function(t,n){this.group.add(mergePath(t,{style:defaults({stroke:`none`,fill:_[n%_.length]},N),silent:!0}))},this),each$15(v,function(t,n){this.group.add(mergePath(t,{style:defaults({fill:`none`,stroke:g[n%g.length]},M),silent:!0}))},this)},n.type=`radar`,n}(Component_default),IndicatorAxis_default=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this,n,r,a)||this;return o.type=`value`,o.angle=0,o.name=``,o}return n}(Axis_default),Radar_default=function(){function t(t,n,r){this.dimensions=[],this._model=t,this._indicatorAxes=map$1(t.getIndicatorModels(),function(t,n){var r=`indicator_`+n,a=new IndicatorAxis_default(r,new Interval_default);return a.name=t.get(`name`),a.model=t,t.axis=a,this.dimensions.push(r),a},this),this.resize(t,r)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,n){var r=this._indicatorAxes[n];return this.coordToPoint(r.dataToCoord(t),n)},t.prototype.coordToPoint=function(t,n){var r=this._indicatorAxes[n].angle;return[this.cx+t*Math.cos(r),this.cy-t*Math.sin(r)]},t.prototype.pointToData=function(t){var n=t[0]-this.cx,r=t[1]-this.cy,a=Math.sqrt(n*n+r*r);n/=a,r/=a;for(var o=Math.atan2(-r,n),s=1/0,c,l=-1,u=0;u<this._indicatorAxes.length;u++){var d=this._indicatorAxes[u],f=Math.abs(o-d.angle);f<s&&(c=d,l=u,s=f)}return[l,+(c&&c.coordToData(a))]},t.prototype.resize=function(t,n){var r=t.get(`center`),a=n.getWidth(),o=n.getHeight(),s=Math.min(a,o)/2;this.cx=parsePercent(r[0],a),this.cy=parsePercent(r[1],o),this.startAngle=t.get(`startAngle`)*Math.PI/180;var c=t.get(`radius`);(isString(c)||isNumber(c))&&(c=[0,c]),this.r0=parsePercent(c[0],s),this.r=parsePercent(c[1],s),each$15(this._indicatorAxes,function(t,n){t.setExtent(this.r0,this.r);var r=this.startAngle+n*Math.PI*2/this._indicatorAxes.length;r=Math.atan2(Math.sin(r),Math.cos(r)),t.angle=r},this)},t.prototype.update=function(t,n){var r=this._indicatorAxes,a=this._model;each$15(r,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType(`radar`,function(n,o){if(!(n.get(`coordinateSystem`)!==`radar`||t.getComponent(`radar`,n.get(`radarIndex`))!==a)){var s=n.getData();each$15(r,function(t){t.scale.unionExtentFromData(s,s.mapDimension(t.dim))})}},this);var o=a.get(`splitNumber`),s=new Interval_default;s.setExtent(0,o),s.setInterval(1),each$15(r,function(t,n){alignScaleTicks(t.scale,t.model,s)})},t.prototype.convertToPixel=function(t,n,r){return null},t.prototype.convertFromPixel=function(t,n,r){return null},t.prototype.containPoint=function(t){return!1},t.create=function(n,r){var a=[];return n.eachComponent(`radar`,function(o){var s=new t(o,n,r);a.push(s),o.coordinateSystem=s}),n.eachSeriesByType(`radar`,function(t){t.get(`coordinateSystem`)===`radar`&&(t.coordinateSystem=a[t.get(`radarIndex`)||0])}),a},t.dimensions=[],t}();function install$50(t){t.registerCoordinateSystem(`radar`,Radar_default),t.registerComponentModel(RadarModel_default),t.registerComponentView(RadarView_default$1),t.registerVisual({seriesType:`radar`,reset:function(t){var n=t.getData();n.each(function(t){n.setItemVisual(t,`legendIcon`,`roundRect`)}),n.setVisual(`legendIcon`,`roundRect`)}})}var v2ApplyTransform=applyTransform$1,View=function(t){__extends(n,t);function n(n){var r=t.call(this)||this;return r.type=`view`,r.dimensions=[`x`,`y`],r._roamTransformable=new Transformable_default,r._rawTransformable=new Transformable_default,r.name=n,r}return n.prototype.setBoundingRect=function(t,n,r,a){return this._rect=new BoundingRect_default(t,n,r,a),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(t,n,r,a){this._transformTo(t,n,r,a),this._viewRect=new BoundingRect_default(t,n,r,a)},n.prototype._transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=this._rawTransformable;s.transform=o.calculateTransform(new BoundingRect_default(t,n,r,a));var c=s.parent;s.parent=null,s.decomposeTransform(),s.parent=c,this._updateTransform()},n.prototype.setCenter=function(t,n){t&&(this._center=[parsePercent(t[0],n.getWidth()),parsePercent(t[1],n.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(t){t||=1;var n=this.zoomLimit;n&&(n.max!=null&&(t=Math.min(n.max,t)),n.min!=null&&(t=Math.max(n.min,t))),this._zoom=t,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var t=this._rawTransformable.getLocalTransform(),n=this._roamTransformable,r=this.getDefaultCenter(),a=this.getCenter(),o=this.getZoom();a=applyTransform$1([],a,t),r=applyTransform$1([],r,t),n.originX=a[0],n.originY=a[1],n.x=r[0]-a[0],n.y=r[1]-a[1],n.scaleX=n.scaleY=o,this._updateTransform()},n.prototype._updateTransform=function(){var t=this._roamTransformable,n=this._rawTransformable;n.parent=t,t.updateTransform(),n.updateTransform(),copy(this.transform||=[],n.transform||create$1()),this._rawTransform=n.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var t=this._rawTransformable,n=this._roamTransformable,r=new Transformable_default;return r.transform=n.transform,r.decomposeTransform(),{roam:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY},raw:{x:t.x,y:t.y,scaleX:t.scaleX,scaleY:t.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},n.prototype.dataToPoint=function(t,n,r){var a=n?this._rawTransform:this.transform;return r||=[],a?v2ApplyTransform(r,t,a):copy$1(r,t)},n.prototype.pointToData=function(t){var n=this.invTransform;return n?v2ApplyTransform([],t,n):[t[0],t[1]]},n.prototype.convertToPixel=function(t,n,r){var a=getCoordSys$3(n);return a===this?a.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,n,r){var a=getCoordSys$3(n);return a===this?a.pointToData(r):null},n.prototype.containPoint=function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])},n.dimensions=[`x`,`y`],n}(Transformable_default);function getCoordSys$3(t){var n=t.seriesModel;return n?n.coordinateSystem:null}var View_default=View;function parseXML(t){isString(t)&&(t=new DOMParser().parseFromString(t,`text/xml`));var n=t;for(n.nodeType===9&&(n=n.firstChild);n.nodeName.toLowerCase()!==`svg`||n.nodeType!==1;)n=n.nextSibling;return n}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:`fill`,stroke:`stroke`,"stroke-width":`lineWidth`,opacity:`opacity`,"fill-opacity":`fillOpacity`,"stroke-opacity":`strokeOpacity`,"stroke-dasharray":`lineDash`,"stroke-dashoffset":`lineDashOffset`,"stroke-linecap":`lineCap`,"stroke-linejoin":`lineJoin`,"stroke-miterlimit":`miterLimit`,"font-family":`fontFamily`,"font-size":`fontSize`,"font-style":`fontStyle`,"font-weight":`fontWeight`,"text-anchor":`textAlign`,visibility:`visibility`,display:`display`},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":`textBaseline`,"stop-color":`stopColor`},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(t,n){n||={};var r=parseXML(t);this._defsUsePending=[];var a=new Group_default;this._root=a;var o=[],s=r.getAttribute(`viewBox`)||``,c=parseFloat(r.getAttribute(`width`)||n.width),l=parseFloat(r.getAttribute(`height`)||n.height);isNaN(c)&&(c=null),isNaN(l)&&(l=null),parseAttributes(r,a,null,!0,!1);for(var u=r.firstChild;u;)this._parseNode(u,a,o,null,!1,!1),u=u.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var d,f;if(s){var p=splitNumberSequence(s);p.length>=4&&(d={x:parseFloat(p[0]||0),y:parseFloat(p[1]||0),width:parseFloat(p[2]),height:parseFloat(p[3])})}if(d&&c!=null&&l!=null&&(f=makeViewBoxTransform(d,{x:0,y:0,width:c,height:l}),!n.ignoreViewBox)){var g=a;a=new Group_default,a.add(g),g.scaleX=g.scaleY=f.scale,g.x=f.x,g.y=f.y}return!n.ignoreRootClip&&c!=null&&l!=null&&a.setClipPath(new Rect_default({shape:{x:0,y:0,width:c,height:l}})),{root:a,width:c,height:l,viewBoxRect:d,viewBoxTransform:f,named:o}},t.prototype._parseNode=function(t,n,r,a,o,s){var c=t.nodeName.toLowerCase(),l,u=a;if(c===`defs`&&(o=!0),c===`text`&&(s=!0),c===`defs`||c===`switch`)l=n;else{if(!o){var d=nodeParsers[c];if(d&&hasOwn(nodeParsers,c)){l=d.call(this,t,n);var f=t.getAttribute(`name`);if(f){var p={name:f,namedFrom:null,svgNodeTagLower:c,el:l};r.push(p),c===`g`&&(u=p)}else a&&r.push({name:a.name,namedFrom:a,svgNodeTagLower:c,el:l});n.add(l)}}var g=paintServerParsers[c];if(g&&hasOwn(paintServerParsers,c)){var _=g.call(this,t),v=t.getAttribute(`id`);v&&(this._defs[v]=_)}}if(l&&l.isGroup)for(var y=t.firstChild;y;)y.nodeType===1?this._parseNode(y,l,r,u,o,s):y.nodeType===3&&s&&this._parseText(y,l),y=y.nextSibling},t.prototype._parseText=function(t,n){var r=new TSpan_default({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),applyTextAlignment(r,n);var a=r.style,o=a.fontSize;o&&o<9&&(a.fontSize=9,r.scaleX*=o/9,r.scaleY*=o/9),a.font=(a.fontSize||a.fontFamily)&&[a.fontStyle,a.fontWeight,(a.fontSize||12)+`px`,a.fontFamily||`sans-serif`].join(` `);var s=r.getBoundingRect();return this._textX+=s.width,n.add(r),r},t.internalField=(function(){nodeParsers={g:function(t,n){var r=new Group_default;return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r},rect:function(t,n){var r=new Rect_default;return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute(`x`)||`0`),y:parseFloat(t.getAttribute(`y`)||`0`),width:parseFloat(t.getAttribute(`width`)||`0`),height:parseFloat(t.getAttribute(`height`)||`0`)}),r.silent=!0,r},circle:function(t,n){var r=new Circle_default;return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute(`cx`)||`0`),cy:parseFloat(t.getAttribute(`cy`)||`0`),r:parseFloat(t.getAttribute(`r`)||`0`)}),r.silent=!0,r},line:function(t,n){var r=new Line_default$1;return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute(`x1`)||`0`),y1:parseFloat(t.getAttribute(`y1`)||`0`),x2:parseFloat(t.getAttribute(`x2`)||`0`),y2:parseFloat(t.getAttribute(`y2`)||`0`)}),r.silent=!0,r},ellipse:function(t,n){var r=new Ellipse_default;return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute(`cx`)||`0`),cy:parseFloat(t.getAttribute(`cy`)||`0`),rx:parseFloat(t.getAttribute(`rx`)||`0`),ry:parseFloat(t.getAttribute(`ry`)||`0`)}),r.silent=!0,r},polygon:function(t,n){var r=t.getAttribute(`points`),a;r&&(a=parsePoints(r));var o=new Polygon_default({shape:{points:a||[]},silent:!0});return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,n){var r=t.getAttribute(`points`),a;r&&(a=parsePoints(r));var o=new Polyline_default$1({shape:{points:a||[]},silent:!0});return inheritStyle(n,o),parseAttributes(t,o,this._defsUsePending,!1,!1),o},image:function(t,n){var r=new Image_default;return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute(`xlink:href`)||t.getAttribute(`href`),x:+t.getAttribute(`x`),y:+t.getAttribute(`y`),width:+t.getAttribute(`width`),height:+t.getAttribute(`height`)}),r.silent=!0,r},text:function(t,n){var r=t.getAttribute(`x`)||`0`,a=t.getAttribute(`y`)||`0`,o=t.getAttribute(`dx`)||`0`,s=t.getAttribute(`dy`)||`0`;this._textX=parseFloat(r)+parseFloat(o),this._textY=parseFloat(a)+parseFloat(s);var c=new Group_default;return inheritStyle(n,c),parseAttributes(t,c,this._defsUsePending,!1,!0),c},tspan:function(t,n){var r=t.getAttribute(`x`),a=t.getAttribute(`y`);r!=null&&(this._textX=parseFloat(r)),a!=null&&(this._textY=parseFloat(a));var o=t.getAttribute(`dx`)||`0`,s=t.getAttribute(`dy`)||`0`,c=new Group_default;return inheritStyle(n,c),parseAttributes(t,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(s),c},path:function(t,n){var r=createFromString(t.getAttribute(`d`)||``);return inheritStyle(n,r),parseAttributes(t,r,this._defsUsePending,!1,!1),r.silent=!0,r}}})(),t}(),paintServerParsers={lineargradient:function(t){var n=new LinearGradient_default(parseInt(t.getAttribute(`x1`)||`0`,10),parseInt(t.getAttribute(`y1`)||`0`,10),parseInt(t.getAttribute(`x2`)||`10`,10),parseInt(t.getAttribute(`y2`)||`0`,10));return parsePaintServerUnit(t,n),parseGradientColorStops(t,n),n},radialgradient:function(t){var n=new RadialGradient_default(parseInt(t.getAttribute(`cx`)||`0`,10),parseInt(t.getAttribute(`cy`)||`0`,10),parseInt(t.getAttribute(`r`)||`0`,10));return parsePaintServerUnit(t,n),parseGradientColorStops(t,n),n}};function parsePaintServerUnit(t,n){t.getAttribute(`gradientUnits`)===`userSpaceOnUse`&&(n.global=!0)}function parseGradientColorStops(t,n){for(var r=t.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()===`stop`){var a=r.getAttribute(`offset`),o=void 0;o=a&&a.indexOf(`%`)>0?parseInt(a,10)/100:a?parseFloat(a):0;var s={};parseInlineStyle(r,s,s);var c=s.stopColor||r.getAttribute(`stop-color`)||`#000000`;n.colorStops.push({offset:o,color:c})}r=r.nextSibling}}function inheritStyle(t,n){t&&t.__inheritedStyle&&(n.__inheritedStyle||={},defaults(n.__inheritedStyle,t.__inheritedStyle))}function parsePoints(t){for(var n=splitNumberSequence(t),r=[],a=0;a<n.length;a+=2){var o=parseFloat(n[a]),s=parseFloat(n[a+1]);r.push([o,s])}return r}function parseAttributes(t,n,r,a,o){var s=n,c=s.__inheritedStyle=s.__inheritedStyle||{},l={};t.nodeType===1&&(parseTransformAttribute(t,n),parseInlineStyle(t,c,l),a||parseAttributeStyle(t,c,l)),s.style=s.style||{},c.fill!=null&&(s.style.fill=getFillStrokeStyle(s,`fill`,c.fill,r)),c.stroke!=null&&(s.style.stroke=getFillStrokeStyle(s,`stroke`,c.stroke,r)),each$15([`lineWidth`,`opacity`,`fillOpacity`,`strokeOpacity`,`miterLimit`,`fontSize`],function(t){c[t]!=null&&(s.style[t]=parseFloat(c[t]))}),each$15([`lineDashOffset`,`lineCap`,`lineJoin`,`fontWeight`,`fontFamily`,`fontStyle`,`textAlign`],function(t){c[t]!=null&&(s.style[t]=c[t])}),o&&(s.__selfStyle=l),c.lineDash&&(s.style.lineDash=map$1(splitNumberSequence(c.lineDash),function(t){return parseFloat(t)})),(c.visibility===`hidden`||c.visibility===`collapse`)&&(s.invisible=!0),c.display===`none`&&(s.ignore=!0)}function applyTextAlignment(t,n){var r=n.__selfStyle;if(r){var a=r.textBaseline,o=a;!a||a===`auto`||a===`baseline`?o=`alphabetic`:a===`before-edge`||a===`text-before-edge`?o=`top`:a===`after-edge`||a===`text-after-edge`?o=`bottom`:(a===`central`||a===`mathematical`)&&(o=`middle`),t.style.textBaseline=o}var s=n.__inheritedStyle;if(s){var c=s.textAlign,l=c;c&&(c===`middle`&&(l=`center`),t.style.textAlign=l)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(t,n,r,a){var o=r&&r.match(urlRegex);if(o){var s=trim$1(o[1]);a.push([t,n,s]);return}return r===`none`&&(r=null),r}function applyDefs(t,n){for(var r=0;r<n.length;r++){var a=n[r];a[0].style[a[1]]=t[a[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(t){return t.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(t,n){var r=t.getAttribute(`transform`);if(r){r=r.replace(/,/g,` `);var a=[],o=null;r.replace(transformRegex,function(t,n,r){return a.push(n,r),``});for(var s=a.length-1;s>0;s-=2){var c=a[s],l=a[s-1],u=splitNumberSequence(c);switch(o||=create$1(),l){case`translate`:translate(o,o,[parseFloat(u[0]),parseFloat(u[1]||`0`)]);break;case`scale`:scale$1(o,o,[parseFloat(u[0]),parseFloat(u[1]||u[0])]);break;case`rotate`:rotate(o,o,-parseFloat(u[0])*DEGREE_TO_ANGLE,[parseFloat(u[1]||`0`),parseFloat(u[2]||`0`)]);break;case`skewX`:var d=Math.tan(parseFloat(u[0])*DEGREE_TO_ANGLE);mul(o,[1,0,d,1,0,0],o);break;case`skewY`:var f=Math.tan(parseFloat(u[0])*DEGREE_TO_ANGLE);mul(o,[1,f,0,1,0,0],o);break;case`matrix`:o[0]=parseFloat(u[0]),o[1]=parseFloat(u[1]),o[2]=parseFloat(u[2]),o[3]=parseFloat(u[3]),o[4]=parseFloat(u[4]),o[5]=parseFloat(u[5]);break}}n.setLocalTransform(o)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(t,n,r){var a=t.getAttribute(`style`);if(a){styleRegex.lastIndex=0;for(var o;(o=styleRegex.exec(a))!=null;){var s=o[1],c=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,s)?INHERITABLE_STYLE_ATTRIBUTES_MAP[s]:null;c&&(n[c]=o[2]);var l=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,s)?SELF_STYLE_ATTRIBUTES_MAP[s]:null;l&&(r[l]=o[2])}}}function parseAttributeStyle(t,n,r){for(var a=0;a<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;a++){var o=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[a],s=t.getAttribute(o);s!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[o]]=s)}for(var a=0;a<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;a++){var o=SELF_STYLE_ATTRIBUTES_MAP_KEYS[a],s=t.getAttribute(o);s!=null&&(r[SELF_STYLE_ATTRIBUTES_MAP[o]]=s)}}function makeViewBoxTransform(t,n){var r=n.width/t.width,a=n.height/t.height,o=Math.min(r,a);return{scale:o,x:-(t.x+t.width/2)*o+(n.x+n.width/2),y:-(t.y+t.height/2)*o+(n.y+n.height/2)}}function parseSVG(t,n){return new SVGParser().parse(t,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap([`rect`,`circle`,`line`,`ellipse`,`polygon`,`polyline`,`path`,`text`,`tspan`,`g`]),GeoSVGResource=function(){function t(t,n){this.type=`geoSVG`,this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=t,this._parsedXML=parseXML(n)}return t.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var n=createRegions(t.named),r=n.regions,a=n.regionsMap;this._regions=r,this._regionsMap=a}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(t){var n,r;try{n=t&&parseSVG(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},r=n.root,assert(r!=null)}catch(t){throw Error(`Invalid svg format
`+t.message)}var a=new Group_default;a.add(r),a.isGeoSVGGraphicRoot=!0;var o=n.width,s=n.height,c=n.viewBoxRect,l=this._boundingRect;if(!l){var u=void 0,d=void 0,f=void 0,p=void 0;if(o==null?c&&(u=c.x,f=c.width):(u=0,f=o),s==null?c&&(d=c.y,p=c.height):(d=0,p=s),u==null||d==null){var g=r.getBoundingRect();u??(u=g.x,f=g.width),d??(d=g.y,p=g.height)}l=this._boundingRect=new BoundingRect_default(u,d,f,p)}if(c){var _=makeViewBoxTransform(c,l);r.scaleX=r.scaleY=_.scale,r.x=_.x,r.y=_.y}a.setClipPath(new Rect_default({shape:l.plain()}));var v=[];return each$15(n.named,function(t){REGION_AVAILABLE_SVG_TAG_MAP.get(t.svgNodeTagLower)!=null&&(v.push(t),setSilent(t.el))}),{root:a,boundingRect:l,named:v}},t.prototype.useGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),n.set(t,r),r)},t.prototype.freeGraphic=function(t){var n=this._usedGraphicMap,r=n.get(t);r&&(n.removeKey(t),this._freedGraphics.push(r))},t}();function setSilent(t){t.silent=!1,t.isGroup&&t.traverse(function(t){t.silent=!1})}function createRegions(t){var n=[],r=createHashMap();return each$15(t,function(t){if(t.namedFrom==null){var a=new GeoSVGRegion(t.name,t.el);n.push(a),r.set(t.name,a)}}),{regions:n,regionsMap:r}}for(var geoCoord=[126,25],nanhaiName=``,points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(t,n){if(t===`china`){for(var r=0;r<n.length;r++)if(n[r].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(t){return{type:`polygon`,exterior:t}}),geoCoord))}}var coordsOffsetMap={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function fixTextCoords(t,n){if(t===`china`){var r=coordsOffsetMap[n.name];if(r){var a=n.getCenter();a[0]+=r[0]/10.5,a[1]+=-r[1]/(10.5/.75),n.setCenter(a)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(t,n){t===`china`&&n.name===``&&n.geometries.push({type:`polygon`,exterior:points[0]})}var DEFAULT_NAME_PROPERTY=`name`,GeoJSONResource=function(){function t(t,n,r){this.type=`geoJSON`,this._parsedMap=createHashMap(),this._mapName=t,this._specialAreas=r,this._geoJSON=parseInput(n)}return t.prototype.load=function(t,n){n||=DEFAULT_NAME_PROPERTY;var r=this._parsedMap.get(n);if(!r){var a=this._parseToRegions(n);r=this._parsedMap.set(n,{regions:a,boundingRect:calculateBoundingRect(a)})}var o=createHashMap(),s=[];return each$15(r.regions,function(n){var r=n.name;t&&hasOwn(t,r)&&(n=n.cloneShallow(r=t[r])),s.push(n),o.set(r,n)}),{regions:s,boundingRect:r.boundingRect||new BoundingRect_default(0,0,0,0),regionsMap:o}},t.prototype._parseToRegions=function(t){var n=this._mapName,r=this._geoJSON,a;try{a=r?parseGeoJSON(r,t):[]}catch(t){throw Error(`Invalid geoJson format
`+t.message)}return fixNanhai(n,a),each$15(a,function(t){var r=t.name;fixTextCoords(n,t),fixDiaoyuIsland(n,t);var a=this._specialAreas&&this._specialAreas[r];a&&t.transformTo(a.left,a.top,a.width,a.height)},this),a},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function calculateBoundingRect(t){for(var n,r=0;r<t.length;r++){var a=t[r].getBoundingRect();n||=a.clone(),n.union(a)}return n}function parseInput(t){return isString(t)?typeof JSON<`u`&&JSON.parse?JSON.parse(t):Function(`return (`+t+`);`)():t}var storage=createHashMap(),geoSourceManager_default={registerMap:function(t,n,r){if(n.svg){var a=new GeoSVGResource(t,n.svg);storage.set(t,a)}else{var o=n.geoJson||n.geoJSON;o&&!n.features?r=n.specialAreas:o=n;var a=new GeoJSONResource(t,o,r);storage.set(t,a)}},getGeoResource:function(t){return storage.get(t)},getMapForUser:function(t){var n=storage.get(t);return n&&n.type===`geoJSON`&&n.getMapForUser()},load:function(t,n,r){var a=storage.get(t);if(a)return a.load(n,r)}},GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=[`lng`,`lat`],Geo=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this,n)||this;o.dimensions=geo2DDimensions,o.type=`geo`,o._nameCoordMap=createHashMap(),o.map=r;var s=a.projection,c=geoSourceManager_default.load(r,a.nameMap,a.nameProperty),l=geoSourceManager_default.getGeoResource(r);o.resourceType=l?l.type:null;var u=o.regions=c.regions,d=GEO_DEFAULT_PARAMS[l.type];o._regionsMap=c.regionsMap,o.regions=c.regions,o.projection=s;var f;if(s)for(var p=0;p<u.length;p++){var g=u[p].getBoundingRect(s);f||=g.clone(),f.union(g)}else f=c.boundingRect;return o.setBoundingRect(f.x,f.y,f.width,f.height),o.aspectScale=s?1:retrieve2(a.aspectScale,d.aspectScale),o._invertLongitute=s?!1:d.invertLongitute,o}return n.prototype._transformTo=function(t,n,r,a){var o=this.getBoundingRect(),s=this._invertLongitute;o=o.clone(),s&&(o.y=-o.y-o.height);var c=this._rawTransformable;c.transform=o.calculateTransform(new BoundingRect_default(t,n,r,a));var l=c.parent;c.parent=null,c.decomposeTransform(),c.parent=l,s&&(c.scaleY=-c.scaleY),this._updateTransform()},n.prototype.getRegion=function(t){return this._regionsMap.get(t)},n.prototype.getRegionByCoord=function(t){for(var n=this.regions,r=0;r<n.length;r++){var a=n[r];if(a.type===`geoJSON`&&a.contain(t))return n[r]}},n.prototype.addGeoCoord=function(t,n){this._nameCoordMap.set(t,n)},n.prototype.getGeoCoord=function(t){var n=this._regionsMap.get(t);return this._nameCoordMap.get(t)||n&&n.getCenter()},n.prototype.dataToPoint=function(t,n,r){if(isString(t)&&(t=this.getGeoCoord(t)),t){var a=this.projection;return a&&(t=a.project(t)),t&&this.projectedToPoint(t,n,r)}},n.prototype.pointToData=function(t){var n=this.projection;return n&&(t=n.unproject(t)),t&&this.pointToProjected(t)},n.prototype.pointToProjected=function(n){return t.prototype.pointToData.call(this,n)},n.prototype.projectedToPoint=function(n,r,a){return t.prototype.dataToPoint.call(this,n,r,a)},n.prototype.convertToPixel=function(t,n,r){var a=getCoordSys$2(n);return a===this?a.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,n,r){var a=getCoordSys$2(n);return a===this?a.pointToData(r):null},n}(View_default);mixin(Geo,View_default);function getCoordSys$2(t){var n=t.geoModel,r=t.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents(`geo`,SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}var Geo_default=Geo;function resizeGeo(t,n){var r=t.get(`boundingCoords`);if(r!=null){var a=r[0],o=r[1];if(isFinite(a[0])&&isFinite(a[1])&&isFinite(o[0])&&isFinite(o[1])){var s=this.projection;if(s){var c=a[0],l=a[1],u=o[0],d=o[1];a=[1/0,1/0],o=[-1/0,-1/0];var f=function(t,n,r,c){for(var l=r-t,u=c-n,d=0;d<=100;d++){var f=d/100,p=s.project([t+l*f,n+u*f]);min$1(a,a,p),max$1(o,o,p)}};f(c,l,u,l),f(u,l,u,d),f(u,d,c,d),f(c,d,u,l)}this.setBoundingRect(a[0],a[1],o[0]-a[0],o[1]-a[1])}}var p=this.getBoundingRect(),g=t.get(`layoutCenter`),_=t.get(`layoutSize`),v=n.getWidth(),y=n.getHeight(),b=p.width/p.height*this.aspectScale,x=!1,S,C;g&&_&&(S=[parsePercent(g[0],v),parsePercent(g[1],y)],C=parsePercent(_,Math.min(v,y)),!isNaN(S[0])&&!isNaN(S[1])&&!isNaN(C)&&(x=!0));var w;if(x)w={},b>1?(w.width=C,w.height=C/b):(w.height=C,w.width=C*b),w.y=S[1]-w.height/2,w.x=S[0]-w.width/2;else{var T=t.getBoxLayoutParams();T.aspect=b,w=getLayoutRect(T,{width:v,height:y})}this.setViewRect(w.x,w.y,w.width,w.height),this.setCenter(t.get(`center`),n),this.setZoom(t.get(`zoom`))}function setGeoCoords(t,n){each$15(n.get(`geoCoord`),function(n,r){t.addGeoCoord(r,n)})}var geoCreator_default=new(function(){function t(){this.dimensions=geo2DDimensions}return t.prototype.create=function(t,n){var r=[];function a(t){return{nameProperty:t.get(`nameProperty`),aspectScale:t.get(`aspectScale`),projection:t.get(`projection`)}}t.eachComponent(`geo`,function(t,o){var s=t.get(`map`),c=new Geo_default(s+o,s,extend({nameMap:t.get(`nameMap`)},a(t)));c.zoomLimit=t.get(`scaleLimit`),r.push(c),t.coordinateSystem=c,c.model=t,c.resize=resizeGeo,c.resize(t,n)}),t.eachSeries(function(t){t.get(`coordinateSystem`)===`geo`&&(t.coordinateSystem=r[t.get(`geoIndex`)||0])});var o={};return t.eachSeriesByType(`map`,function(t){if(!t.getHostGeoModel()){var n=t.getMapType();o[n]=o[n]||[],o[n].push(t)}}),each$15(o,function(t,o){var s=new Geo_default(o,o,extend({nameMap:mergeAll(map$1(t,function(t){return t.get(`nameMap`)}))},a(t[0])));s.zoomLimit=retrieve.apply(null,map$1(t,function(t){return t.get(`scaleLimit`)})),r.push(s),s.resize=resizeGeo,s.resize(t[0],n),each$15(t,function(t){t.coordinateSystem=s,setGeoCoords(s,t)})}),r},t.prototype.getFilledRegions=function(t,n,r,a){for(var o=(t||[]).slice(),s=createHashMap(),c=0;c<o.length;c++)s.set(o[c].name,o[c]);return each$15(geoSourceManager_default.load(n,r,a).regions,function(t){var n=t.name,r=s.get(n),a=t.properties&&t.properties.echartsStyle;r||(r={name:n},o.push(r)),a&&merge(r,a)}),o},t}()),GeoModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(t,n,r){var a=geoSourceManager_default.getGeoResource(t.map);if(a&&a.type===`geoJSON`){var o=t.itemStyle=t.itemStyle||{};`color`in o||(o.color=`#eee`)}this.mergeDefaultAndTheme(t,r),defaultEmphasis(t,`label`,[`show`])},n.prototype.optionUpdated=function(){var t=this,n=this.option;n.regions=geoCreator_default.getFilledRegions(n.regions,n.map,n.nameMap,n.nameProperty);var r={};this._optionModelMap=reduce(n.regions||[],function(n,a){var o=a.name;return o&&(n.set(o,new Model_default(a,t,t.ecModel)),a.selected&&(r[o]=!0)),n},createHashMap()),n.selectedMap||=r},n.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new Model_default(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(t,n){var r=this.getRegionModel(t),a=n===`normal`?r.get([`label`,`formatter`]):r.get([`emphasis`,`label`,`formatter`]),o={name:t};if(isFunction(a))return o.status=n,a(o);if(isString(a))return a.replace(`{a}`,t??``)},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.select=function(t){var n=this.option,r=n.selectedMode;if(r){r!==`multiple`&&(n.selectedMap=null);var a=n.selectedMap||={};a[t]=!0}},n.prototype.unSelect=function(t){var n=this.option.selectedMap;n&&(n[t]=!1)},n.prototype.toggleSelected=function(t){this[this.isSelected(t)?`unSelect`:`select`](t)},n.prototype.isSelected=function(t){var n=this.option.selectedMap;return!!(n&&n[t])},n.type=`geo`,n.layoutMode=`box`,n.defaultOption={z:0,show:!0,left:`center`,top:`center`,aspectScale:null,silent:!1,map:``,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:`#000`},itemStyle:{borderWidth:.5,borderColor:`#444`},emphasis:{label:{show:!0,color:`rgb(100,0,0)`},itemStyle:{color:`rgba(255,215,0,0.8)`}},select:{label:{show:!0,color:`rgb(100,0,0)`},itemStyle:{color:`rgba(255,215,0,0.8)`}},regions:[]},n}(Component_default$1);function getCenterCoord(t,n){return t.pointToProjected?t.pointToProjected(n):t.pointToData(n)}function updateCenterAndZoom(t,n,r,a){var o=t.getZoom(),s=t.getCenter(),c=n.zoom,l=t.projectedToPoint?t.projectedToPoint(s):t.dataToPoint(s);if(n.dx!=null&&n.dy!=null&&(l[0]-=n.dx,l[1]-=n.dy,t.setCenter(getCenterCoord(t,l),a)),c!=null){if(r){var u=r.min||0,d=r.max||1/0;c=Math.max(Math.min(o*c,d),u)/o}t.scaleX*=c,t.scaleY*=c;var f=(n.originX-t.x)*(c-1),p=(n.originY-t.y)*(c-1);t.x-=f,t.y-=p,t.updateTransform(),t.setCenter(getCenterCoord(t,l),a),t.setZoom(c*o)}return{center:t.getCenter(),zoom:t.getZoom()}}var ATTR=`\0_ec_interaction_mutex`;function take(t,n,r){var a=getStore(t);a[n]=r}function release(t,n,r){var a=getStore(t);a[n]===r&&(a[n]=null)}function isTaken(t,n){return!!getStore(t)[n]}function getStore(t){return t[ATTR]||(t[ATTR]={})}registerAction({type:`takeGlobalCursor`,event:`globalCursorTaken`,update:`update`},noop);var RoamController=function(t){__extends(n,t);function n(n){var r=t.call(this)||this;r._zr=n;var a=bind$1(r._mousedownHandler,r),o=bind$1(r._mousemoveHandler,r),s=bind$1(r._mouseupHandler,r),c=bind$1(r._mousewheelHandler,r),l=bind$1(r._pinchHandler,r);return r.enable=function(t,r){this.disable(),this._opt=defaults(clone$4(r)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t??=!0,(t===!0||t===`move`||t===`pan`)&&(n.on(`mousedown`,a),n.on(`mousemove`,o),n.on(`mouseup`,s)),(t===!0||t===`scale`||t===`zoom`)&&(n.on(`mousewheel`,c),n.on(`pinch`,l))},r.disable=function(){n.off(`mousedown`,a),n.off(`mousemove`,o),n.off(`mouseup`,s),n.off(`mousewheel`,c),n.off(`pinch`,l)},r}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(t){this.pointerChecker=t},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(t){if(!isMiddleOrRightButtonOnMouseUpDown(t)){for(var n=t.target;n;){if(n.draggable)return;n=n.__hostTarget||n.parent}var r=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,r,a)&&(this._x=r,this._y=a,this._dragging=!0)}},n.prototype._mousemoveHandler=function(t){if(!(!this._dragging||!isAvailableBehavior(`moveOnMouseMove`,t,this._opt)||t.gestureEvent===`pinch`||isTaken(this._zr,`globalPan`))){var n=t.offsetX,r=t.offsetY,a=this._x,o=this._y,s=n-a,c=r-o;this._x=n,this._y=r,this._opt.preventDefaultMouseMove&&stop(t.event),trigger$1(this,`pan`,`moveOnMouseMove`,t,{dx:s,dy:c,oldX:a,oldY:o,newX:n,newY:r,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(t){isMiddleOrRightButtonOnMouseUpDown(t)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(t){var n=isAvailableBehavior(`zoomOnMouseWheel`,t,this._opt),r=isAvailableBehavior(`moveOnMouseWheel`,t,this._opt),a=t.wheelDelta,o=Math.abs(a),s=t.offsetX,c=t.offsetY;if(!(a===0||!n&&!r)){if(n){var l=o>3?1.4:o>1?1.2:1.1,u=a>0?l:1/l;checkPointerAndTrigger(this,`zoom`,`zoomOnMouseWheel`,t,{scale:u,originX:s,originY:c,isAvailableBehavior:null})}if(r){var d=Math.abs(a);checkPointerAndTrigger(this,`scrollMove`,`moveOnMouseWheel`,t,{scrollDelta:(a>0?1:-1)*(d>3?.4:d>1?.15:.05),originX:s,originY:c,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(t){if(!isTaken(this._zr,`globalPan`)){var n=t.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,`zoom`,null,t,{scale:n,originX:t.pinchX,originY:t.pinchY,isAvailableBehavior:null})}},n}(Eventful_default);function checkPointerAndTrigger(t,n,r,a,o){t.pointerChecker&&t.pointerChecker(a,o.originX,o.originY)&&(stop(a.event),trigger$1(t,n,r,a,o))}function trigger$1(t,n,r,a,o){o.isAvailableBehavior=bind$1(isAvailableBehavior,null,r,a),t.trigger(n,o)}function isAvailableBehavior(t,n,r){var a=r[t];return!t||a&&(!isString(a)||n.event[a+`Key`])}var RoamController_default=RoamController;function updateViewOnPan(t,n,r){var a=t.target;a.x+=n,a.y+=r,a.dirty()}function updateViewOnZoom(t,n,r,a){var o=t.target,s=t.zoomLimit,c=t.zoom=t.zoom||1;if(c*=n,s){var l=s.min||0,u=s.max||1/0;c=Math.max(Math.min(u,c),l)}var d=c/t.zoom;t.zoom=c,o.x-=(r-o.x)*(d-1),o.y-=(a-o.y)*(d-1),o.scaleX*=d,o.scaleY*=d,o.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(t,n,r){var a=n.getComponentByElement(t.topTarget),o=a&&a.coordinateSystem;return a&&a!==r&&!IRRELEVANT_EXCLUDES.hasOwnProperty(a.mainType)&&o&&o.model!==r}var OPTION_STYLE_ENABLED_TAGS=[`rect`,`circle`,`line`,`ellipse`,`polygon`,`polyline`,`path`],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat([`g`])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat([`g`])),mapLabelRaw=makeInner();function getFixedItemStyle(t){var n=t.getItemStyle(),r=t.get(`areaColor`);return r!=null&&(n.fill=r),n}function fixLineStyle(t){var n=t.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function t(t){var n=new Group_default;this.uid=getUID(`ec_map_draw`),this._controller=new RoamController_default(t.getZr()),this._controllerHost={target:n},this.group=n,n.add(this._regionsGroup=new Group_default),n.add(this._svgGroup=new Group_default)}return t.prototype.draw=function(t,n,r,a,o){var s=t.mainType===`geo`,c=t.getData&&t.getData();s&&n.eachComponent({mainType:`series`,subType:`map`},function(n){!c&&n.getHostGeoModel()===t&&(c=n.getData())});var l=t.coordinateSystem,u=this._regionsGroup,d=this.group,f=l.getTransformInfo(),p=f.raw,g=f.roam;!u.childAt(0)||o?(d.x=g.x,d.y=g.y,d.scaleX=g.scaleX,d.scaleY=g.scaleY,d.dirty()):updateProps$1(d,g,t);var _=c&&c.getVisual(`visualMeta`)&&c.getVisual(`visualMeta`).length>0,v={api:r,geo:l,mapOrGeoModel:t,data:c,isVisualEncodedByVisualMap:_,isGeo:s,transformInfoRaw:p};l.resourceType===`geoJSON`?this._buildGeoJSON(v):l.resourceType===`geoSVG`&&this._buildSVG(v),this._updateController(t,n,r),this._updateMapSelectHandler(t,u,r,a)},t.prototype._buildGeoJSON=function(t){var n=this._regionsGroupByName=createHashMap(),r=createHashMap(),a=this._regionsGroup,o=t.transformInfoRaw,s=t.mapOrGeoModel,c=t.data,l=t.geo.projection,u=l&&l.stream;function d(t,n){return n&&(t=n(t)),t&&[t[0]*o.scaleX+o.x,t[1]*o.scaleY+o.y]}function f(t){for(var n=[],r=!u&&l&&l.project,a=0;a<t.length;++a){var o=d(t[a],r);o&&n.push(o)}return n}function p(t){return{shape:{points:f(t)}}}a.removeAll(),each$15(t.geo.regions,function(o){var f=o.name,g=n.get(f),_=r.get(f)||{},v=_.dataIdx,y=_.regionModel;if(!g){g=n.set(f,new Group_default),a.add(g),v=c?c.indexOfName(f):null,y=t.isGeo?s.getRegionModel(f):c?c.getItemModel(v):null;var b=y.get(`silent`,!0);b!=null&&(g.silent=b),r.set(f,{dataIdx:v,regionModel:y})}var x=[],S=[];each$15(o.geometries,function(t){if(t.type===`polygon`){var n=[t.exterior].concat(t.interiors||[]);u&&(n=projectPolys(n,u)),each$15(n,function(t){x.push(new Polygon_default(p(t)))})}else{var r=t.points;u&&(r=projectPolys(r,u,!0)),each$15(r,function(t){S.push(new Polyline_default$1(p(t)))})}});var C=d(o.getCenter(),l&&l.project);function w(n,r){if(n.length){var a=new CompoundPath_default({culling:!0,segmentIgnoreThreshold:1,shape:{paths:n}});g.add(a),applyOptionStyleForRegion(t,a,v,y),resetLabelForRegion(t,a,f,y,s,v,C),r&&(fixLineStyle(a),each$15(a.states,fixLineStyle))}}w(x),w(S,!0)}),n.each(function(n,a){var o=r.get(a),c=o.dataIdx,l=o.regionModel;resetEventTriggerForRegion(t,n,a,l,s,c),resetTooltipForRegion(t,n,a,l,s),resetStateTriggerForRegion(t,n,a,l,s)},this)},t.prototype._buildSVG=function(t){var n=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(n)&&(this._freeSVG(),this._useSVG(n));var a=this._svgDispatcherMap=createHashMap(),o=!1;each$15(this._svgGraphicRecord.named,function(n){var r=n.name,s=t.mapOrGeoModel,c=t.data,l=n.svgNodeTagLower,u=n.el,d=c?c.indexOfName(r):null,f=s.getRegionModel(r);OPTION_STYLE_ENABLED_TAG_MAP.get(l)!=null&&u instanceof Displayable_default&&applyOptionStyleForRegion(t,u,d,f),u instanceof Displayable_default&&(u.culling=!0);var p=f.get(`silent`,!0);p!=null&&(u.silent=p),u.z2EmphasisLift=0,n.namedFrom||(LABEL_HOST_MAP.get(l)!=null&&resetLabelForRegion(t,u,r,f,s,d,null),resetEventTriggerForRegion(t,u,r,f,s,d),resetTooltipForRegion(t,u,r,f,s),STATE_TRIGGER_TAG_MAP.get(l)!=null&&(resetStateTriggerForRegion(t,u,r,f,s)===`self`&&(o=!0),(a.get(r)||a.set(r,[])).push(u)))},this),this._enableBlurEntireSVG(o,t)},t.prototype._enableBlurEntireSVG=function(t,n){if(t&&n.isGeo){var r=n.mapOrGeoModel.getModel([`blur`,`itemStyle`]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(t){if(!t.isGroup){setDefaultStateProxy(t);var n=t.ensureState(`blur`).style||{};n.opacity==null&&r!=null&&(n.opacity=r),t.ensureState(`emphasis`)}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(t,n){if(t==null)return[];var r=n.coordinateSystem;if(r.resourceType===`geoJSON`){var a=this._regionsGroupByName;if(a){var o=a.get(t);return o?[o]:[]}}else if(r.resourceType===`geoSVG`)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},t.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},t.prototype._useSVG=function(t){var n=geoSourceManager_default.getGeoResource(t);if(n&&n.type===`geoSVG`){var r=n.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},t.prototype._freeSVG=function(){var t=this._svgMapName;if(t!=null){var n=geoSourceManager_default.getGeoResource(t);n&&n.type===`geoSVG`&&n.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(t,n,r){var a=t.coordinateSystem,o=this._controller,s=this._controllerHost;s.zoomLimit=t.get(`scaleLimit`),s.zoom=a.getZoom(),o.enable(t.get(`roam`)||!1);var c=t.mainType;function l(){var n={type:`geoRoam`,componentType:c};return n[c+`Id`]=t.id,n}o.off(`pan`).on(`pan`,function(t){this._mouseDownFlag=!1,updateViewOnPan(s,t.dx,t.dy),r.dispatchAction(extend(l(),{dx:t.dx,dy:t.dy,animation:{duration:0}}))},this),o.off(`zoom`).on(`zoom`,function(t){this._mouseDownFlag=!1,updateViewOnZoom(s,t.scale,t.originX,t.originY),r.dispatchAction(extend(l(),{totalZoom:s.zoom,zoom:t.scale,originX:t.originX,originY:t.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(n,o,s){return a.containPoint([o,s])&&!onIrrelevantElement(n,r,t)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var n=t.getTextContent();n&&(n.ignore=mapLabelRaw(n).ignore)})},t.prototype._updateMapSelectHandler=function(t,n,r,a){var o=this;n.off(`mousedown`),n.off(`click`),t.get(`selectedMode`)&&(n.on(`mousedown`,function(){o._mouseDownFlag=!0}),n.on(`click`,function(t){o._mouseDownFlag&&=!1}))},t}();function applyOptionStyleForRegion(t,n,r,a){var o=a.getModel(`itemStyle`),s=a.getModel([`emphasis`,`itemStyle`]),c=a.getModel([`blur`,`itemStyle`]),l=a.getModel([`select`,`itemStyle`]),u=getFixedItemStyle(o),d=getFixedItemStyle(s),f=getFixedItemStyle(l),p=getFixedItemStyle(c),g=t.data;if(g){var _=g.getItemVisual(r,`style`),v=g.getItemVisual(r,`decal`);t.isVisualEncodedByVisualMap&&_.fill&&(u.fill=_.fill),v&&(u.decal=createOrUpdatePatternFromDecal(v,t.api))}n.setStyle(u),n.style.strokeNoScale=!0,n.ensureState(`emphasis`).style=d,n.ensureState(`select`).style=f,n.ensureState(`blur`).style=p,setDefaultStateProxy(n)}function resetLabelForRegion(t,n,r,a,o,s,c){var l=t.data,u=t.isGeo,d=l&&isNaN(l.get(l.mapDimension(`value`),s)),f=l&&l.getItemLayout(s);if(u||d||f&&f.showLabel){var p=u?r:s,g=void 0;(!l||s>=0)&&(g=o);var _=c?{normal:{align:`center`,verticalAlign:`middle`}}:null;setLabelStyle(n,getLabelStatesModels(a),{labelFetcher:g,labelDataIndex:p,defaultText:r},_);var v=n.getTextContent();if(v&&(mapLabelRaw(v).ignore=v.ignore,n.textConfig&&c)){var y=n.getBoundingRect().clone();n.textConfig.layoutRect=y,n.textConfig.position=[(c[0]-y.x)/y.width*100+`%`,(c[1]-y.y)/y.height*100+`%`]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(t,n,r,a,o,s){t.data?t.data.setItemGraphicEl(s,n):getECData(n).eventData={componentType:`geo`,componentIndex:o.componentIndex,geoIndex:o.componentIndex,name:r,region:a&&a.option||{}}}function resetTooltipForRegion(t,n,r,a,o){t.data||setTooltipConfig({el:n,componentModel:o,itemName:r,itemTooltipOption:a.get(`tooltip`)})}function resetStateTriggerForRegion(t,n,r,a,o){n.highDownSilentOnTouch=!!o.get(`selectedMode`);var s=a.getModel(`emphasis`),c=s.get(`focus`);return toggleHoverEmphasis(n,c,s.get(`blurScope`),s.get(`disabled`)),t.isGeo&&enableComponentHighDownFeatures(n,o,r),c}function projectPolys(t,n,r){var a=[],o;function s(){o=[]}function c(){o.length&&(a.push(o),o=[])}var l=n({polygonStart:s,polygonEnd:c,lineStart:s,lineEnd:c,point:function(t,n){isFinite(t)&&isFinite(n)&&o.push([t,n])},sphere:function(){}});return!r&&l.polygonStart(),each$15(t,function(t){l.lineStart();for(var n=0;n<t.length;n++)l.point(t[n][0],t[n][1]);l.lineEnd()}),!r&&l.polygonEnd(),a}var MapDraw_default=MapDraw,GeoView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(t,n){this._api=n},n.prototype.render=function(t,n,r,a){if(this._model=t,!t.get(`show`)){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||=new MapDraw_default(r);var o=this._mapDraw;o.draw(t,n,r,this,a),o.group.on(`click`,this._handleRegionClick,this),o.group.silent=t.get(`silent`),this.group.add(o.group),this.updateSelectStatus(t,n,r)},n.prototype._handleRegionClick=function(t){var n;findEventDispatcher(t.target,function(t){return(n=getECData(t).eventData)!=null},!0),n&&this._api.dispatchAction({type:`geoToggleSelect`,geoId:this._model.id,name:n.name})},n.prototype.updateSelectStatus=function(t,n,r){var a=this;this._mapDraw.group.traverse(function(t){var n=getECData(t).eventData;if(n)return a._model.isSelected(n.name)?r.enterSelect(t):r.leaveSelect(t),!0})},n.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type=`geo`,n}(Component_default);function registerMap(t,n,r){geoSourceManager_default.registerMap(t,n,r)}function install$49(t){t.registerCoordinateSystem(`geo`,geoCreator_default),t.registerComponentModel(GeoModel_default),t.registerComponentView(GeoView_default),t.registerImpl(`registerMap`,registerMap),t.registerImpl(`getMap`,function(t){return geoSourceManager_default.getMapForUser(t)});function n(n,r){r.update=`geo:updateSelectStatus`,t.registerAction(r,function(t,r){var a={},o=[];return r.eachComponent({mainType:`geo`,query:t},function(r){r[n](t.name);var s=r.coordinateSystem;each$15(s.regions,function(t){a[t.name]=r.isSelected(t.name)||!1});var c=[];each$15(a,function(t,n){a[n]&&c.push(n)}),o.push({geoIndex:r.componentIndex,name:c})}),{selected:a,allSelected:o,name:t.name}})}n(`toggleSelected`,{type:`geoToggleSelect`,event:`geoselectchanged`}),n(`select`,{type:`geoSelect`,event:`geoselected`}),n(`unSelect`,{type:`geoUnSelect`,event:`geounselected`}),t.registerAction({type:`geoRoam`,event:`geoRoam`,update:`updateTransform`},function(t,n,r){var a=t.componentType||`series`;n.eachComponent({mainType:a,query:t},function(n){var o=n.coordinateSystem;if(o.type===`geo`){var s=updateCenterAndZoom(o,t,n.get(`scaleLimit`),r);n.setCenter&&n.setCenter(s.center),n.setZoom&&n.setZoom(s.zoom),a===`series`&&each$15(n.seriesGroup,function(t){t.setCenter(s.center),t.setZoom(s.zoom)})}})})}function layout$1(t,n){n||={};var r=t.coordinateSystem,a=t.axis,o={},s=a.position,c=a.orient,l=r.getRect(),u=[l.x,l.x+l.width,l.y,l.y+l.height],d={horizontal:{top:u[2],bottom:u[3]},vertical:{left:u[0],right:u[1]}};o.position=[c===`vertical`?d.vertical[s]:u[0],c===`horizontal`?d.horizontal[s]:u[3]],o.rotation=Math.PI/2*{horizontal:0,vertical:1}[c],o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,right:1,left:-1}[s],t.get([`axisTick`,`inside`])&&(o.tickDirection=-o.tickDirection),retrieve(n.labelInside,t.get([`axisLabel`,`inside`]))&&(o.labelDirection=-o.labelDirection);var f=n.rotate;return f??=t.get([`axisLabel`,`rotate`]),o.labelRotation=s===`top`?-f:f,o.z2=1,o}var axisBuilderAttrs=[`axisLine`,`axisTickLabel`,`axisName`],selfBuilderAttrs=[`splitArea`,`splitLine`],SingleAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass=`SingleAxisPointer`,r}return n.prototype.render=function(n,r,a,o){var s=this.group;s.removeAll();var c=this._axisGroup;this._axisGroup=new Group_default;var l=new AxisBuilder_default(n,layout$1(n));each$15(axisBuilderAttrs,l.add,l),s.add(this._axisGroup),s.add(l.getGroup()),each$15(selfBuilderAttrs,function(t){n.get([t,`show`])&&axisElementBuilders[t](this,this.group,this._axisGroup,n)},this),groupTransition(c,this._axisGroup,n),t.prototype.render.call(this,n,r,a,o)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type=`singleAxis`,n}(AxisView_default),axisElementBuilders={splitLine:function(t,n,r,a){var o=a.axis;if(!o.scale.isBlank()){var s=a.getModel(`splitLine`),c=s.getModel(`lineStyle`),l=c.get(`color`);l=l instanceof Array?l:[l];for(var u=c.get(`width`),d=a.coordinateSystem.getRect(),f=o.isHorizontal(),p=[],g=0,_=o.getTicksCoords({tickModel:s}),v=[],y=[],b=0;b<_.length;++b){var x=o.toGlobalCoord(_[b].coord);f?(v[0]=x,v[1]=d.y,y[0]=x,y[1]=d.y+d.height):(v[0]=d.x,v[1]=x,y[0]=d.x+d.width,y[1]=x);var S=new Line_default$1({shape:{x1:v[0],y1:v[1],x2:y[0],y2:y[1]},silent:!0});subPixelOptimizeLine(S.shape,u);var C=g++%l.length;p[C]=p[C]||[],p[C].push(S)}for(var w=c.getLineStyle([`color`]),b=0;b<p.length;++b)n.add(mergePath(p[b],{style:defaults({stroke:l[b%l.length]},w),silent:!0}))}},splitArea:function(t,n,r,a){rectCoordAxisBuildSplitArea(t,r,a,a)}},SingleAxisView_default=SingleAxisView,SingleAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type=`singleAxis`,n.layoutMode=`box`,n.defaultOption={left:`5%`,top:`5%`,right:`5%`,bottom:`5%`,type:`value`,position:`bottom`,orient:`horizontal`,axisLine:{show:!0,lineStyle:{width:1,type:`solid`}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:`auto`},splitLine:{show:!0,lineStyle:{type:`dashed`,opacity:.2}}},n}(Component_default$1);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var AxisModel_default$1=SingleAxisModel,SingleAxis_default=function(t){__extends(n,t);function n(n,r,a,o,s){var c=t.call(this,n,r,a)||this;return c.type=o||`value`,c.position=s||`bottom`,c}return n.prototype.isHorizontal=function(){var t=this.position;return t===`top`||t===`bottom`},n.prototype.pointToData=function(t,n){return this.coordinateSystem.pointToData(t)[0]},n}(Axis_default),singleDimensions=[`single`],Single=function(){function t(t,n,r){this.type=`single`,this.dimension=`single`,this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=t,this._init(t,n,r)}return t.prototype._init=function(t,n,r){var a=this.dimension,o=new SingleAxis_default(a,createScaleByModel$1(t),[0,0],t.get(`type`),t.get(`position`));o.onBand=o.type===`category`&&t.get(`boundaryGap`),o.inverse=t.get(`inverse`),o.orient=t.get(`orient`),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},t.prototype.update=function(t,n){t.eachSeries(function(t){if(t.coordinateSystem===this){var n=t.getData();each$15(n.mapDimensionsAll(this.dimension),function(t){this._axis.scale.unionExtentFromData(n,t)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(t,n){this._rect=getLayoutRect({left:t.get(`left`),top:t.get(`top`),right:t.get(`right`),bottom:t.get(`bottom`),width:t.get(`width`),height:t.get(`height`)},{width:n.getWidth(),height:n.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var t=this._rect,n=this._axis,r=n.isHorizontal(),a=r?[0,t.width]:[0,t.height],o=n.inverse?1:0;n.setExtent(a[o],a[1-o]),this._updateAxisTransform(n,r?t.x:t.y)},t.prototype._updateAxisTransform=function(t,n){var r=t.getExtent(),a=r[0]+r[1],o=t.isHorizontal();t.toGlobalCoord=o?function(t){return t+n}:function(t){return a-t+n},t.toLocalCoord=o?function(t){return t-n}:function(t){return a-t+n}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(t){var n=this.getRect(),r=this.getAxis();return r.orient===`horizontal`?r.contain(r.toLocalCoord(t[0]))&&t[1]>=n.y&&t[1]<=n.y+n.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=n.y&&t[0]<=n.y+n.height},t.prototype.pointToData=function(t){var n=this.getAxis();return[n.coordToData(n.toLocalCoord(t[n.orient===`horizontal`?0:1]))]},t.prototype.dataToPoint=function(t){var n=this.getAxis(),r=this.getRect(),a=[],o=n.orient===`horizontal`?0:1;return t instanceof Array&&(t=t[0]),a[o]=n.toGlobalCoord(n.dataToCoord(+t)),a[1-o]=o===0?r.y+r.height/2:r.x+r.width/2,a},t.prototype.convertToPixel=function(t,n,r){return getCoordSys$1(n)===this?this.dataToPoint(r):null},t.prototype.convertFromPixel=function(t,n,r){return getCoordSys$1(n)===this?this.pointToData(r):null},t}();function getCoordSys$1(t){var n=t.seriesModel,r=t.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}var Single_default=Single;function create(t,n){var r=[];return t.eachComponent(`singleAxis`,function(a,o){var s=new Single_default(a,t,n);s.name=`single_`+o,s.resize(a,n),a.coordinateSystem=s,r.push(s)}),t.eachSeries(function(t){if(t.get(`coordinateSystem`)===`singleAxis`){var n=t.getReferringComponents(`singleAxis`,SINGLE_REFERRING).models[0];t.coordinateSystem=n&&n.coordinateSystem}}),r}var singleCreator_default={create,dimensions:singleDimensions},XY$1=[`x`,`y`],WH$1=[`width`,`height`],SingleAxisPointer=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeElOption=function(t,n,r,a,o){var s=r.axis,c=s.coordinateSystem,l=getGlobalExtent(c,1-getPointDimIndex(s)),u=c.dataToPoint(n)[0],d=a.get(`type`);if(d&&d!==`none`){var f=buildElStyle(a),p=pointerShapeBuilder[d](s,u,l);p.style=f,t.graphicKey=p.type,t.pointer=p}buildCartesianSingleLabelElOption(n,t,layout$1(r),r,a,o)},n.prototype.getHandleTransform=function(t,n,r){var a=layout$1(n,{labelInside:!1});a.labelMargin=r.get([`handle`,`margin`]);var o=getTransformedPosition(n.axis,t,a);return{x:o[0],y:o[1],rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(t,n,r,a){var o=r.axis,s=o.coordinateSystem,c=getPointDimIndex(o),l=getGlobalExtent(s,c),u=[t.x,t.y];u[c]+=n[c],u[c]=Math.min(l[1],u[c]),u[c]=Math.max(l[0],u[c]);var d=getGlobalExtent(s,1-c),f=(d[1]+d[0])/2,p=[f,f];return p[c]=u[c],{x:u[0],y:u[1],rotation:t.rotation,cursorPoint:p,tooltipOption:{verticalAlign:`middle`}}},n}(BaseAxisPointer_default),pointerShapeBuilder={line:function(t,n,r){return{type:`Line`,subPixelOptimize:!0,shape:makeLineShape([n,r[0]],[n,r[1]],getPointDimIndex(t))}},shadow:function(t,n,r){var a=t.getBandWidth(),o=r[1]-r[0];return{type:`Rect`,shape:makeRectShape([n-a/2,r[0]],[a,o],getPointDimIndex(t))}}};function getPointDimIndex(t){return t.isHorizontal()?0:1}function getGlobalExtent(t,n){var r=t.getRect();return[r[XY$1[n]],r[XY$1[n]]+r[WH$1[n]]]}var SingleAxisPointer_default=SingleAxisPointer,SingleView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`single`,n}(Component_default);function install$48(t){use(install$53),AxisView_default.registerAxisPointerClass(`SingleAxisPointer`,SingleAxisPointer_default),t.registerComponentView(SingleView),t.registerComponentView(SingleAxisView_default),t.registerComponentModel(AxisModel_default$1),axisModelCreator(t,`single`,AxisModel_default$1,AxisModel_default$1.defaultOption),t.registerCoordinateSystem(`single`,singleCreator_default)}function parallelPreprocessor(t){createParallelIfNeeded(t),mergeAxisOptionFromParallel(t)}function createParallelIfNeeded(t){if(!t.parallel){var n=!1;each$15(t.series,function(t){t&&t.type===`parallel`&&(n=!0)}),n&&(t.parallel=[{}])}}function mergeAxisOptionFromParallel(t){each$15(normalizeToArray(t.parallelAxis),function(n){if(isObject$3(n)){var r=n.parallelIndex||0,a=normalizeToArray(t.parallel)[r];a&&a.parallelAxisDefault&&merge(n,a.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView$1=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){this._model=t,this._api=r,this._handlers||(this._handlers={},each$15(handlers$1,function(t,n){r.getZr().on(n,this._handlers[n]=bind$1(t,this))},this)),createOrUpdate(this,`_throttledDispatchExpand`,t.get(`axisExpandRate`),`fixRate`)},n.prototype.dispose=function(t,n){clear$1(this,`_throttledDispatchExpand`),each$15(this._handlers,function(t,r){n.getZr().off(r,t)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(t){this._dispatchExpand(t)},n.prototype._dispatchExpand=function(t){t&&this._api.dispatchAction(extend({type:`parallelAxisExpand`},t))},n.type=`parallel`,n}(Component_default),handlers$1={mousedown:function(t){checkTrigger(this,`click`)&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var n=this._mouseDownPoint;if(checkTrigger(this,`click`)&&n){var r=[t.offsetX,t.offsetY];if((n[0]-r[0])**2+(n[1]-r[1])**2>CLICK_THRESHOLD)return;var a=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);a.behavior!==`none`&&this._dispatchExpand({axisExpandWindow:a.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!checkTrigger(this,`mousemove`))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),a=r.behavior;a===`jump`&&this._throttledDispatchExpand.debounceNextCall(n.get(`axisExpandDebounce`)),this._throttledDispatchExpand(a===`none`?null:{axisExpandWindow:r.axisExpandWindow,animation:a===`jump`?null:{duration:0}})}}};function checkTrigger(t,n){var r=t._model;return r.get(`axisExpandable`)&&r.get(`axisExpandTriggerOn`)===n}var ParallelView_default$1=ParallelView$1,ParallelModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(t){var n=this.option;t&&merge(n,t,!0),this._initDimensions()},n.prototype.contains=function(t,n){var r=t.get(`parallelIndex`);return r!=null&&n.getComponent(`parallel`,r)===this},n.prototype.setAxisExpand=function(t){each$15([`axisExpandable`,`axisExpandCenter`,`axisExpandCount`,`axisExpandWidth`,`axisExpandWindow`],function(n){t.hasOwnProperty(n)&&(this.option[n]=t[n])},this)},n.prototype._initDimensions=function(){var t=this.dimensions=[],n=this.parallelAxisIndex=[];each$15(filter(this.ecModel.queryComponents({mainType:`parallelAxis`}),function(t){return(t.get(`parallelIndex`)||0)===this.componentIndex},this),function(r){t.push(`dim`+r.get(`dim`)),n.push(r.componentIndex)})},n.type=`parallel`,n.dependencies=[`parallelAxis`],n.layoutMode=`box`,n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:`horizontal`,axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:`click`,parallelAxisDefault:null},n}(Component_default$1),ParallelAxis_default=function(t){__extends(n,t);function n(n,r,a,o,s){var c=t.call(this,n,r,a)||this;return c.type=o||`value`,c.axisIndex=s,c}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get(`layout`)!==`horizontal`},n}(Axis_default);function sliderMove(t,n,r,a,o,s){t||=0;var c=r[1]-r[0];if(o!=null&&(o=restrict$1(o,[0,c])),s!=null&&(s=Math.max(s,o??0)),a===`all`){var l=Math.abs(n[1]-n[0]);l=restrict$1(l,[0,c]),o=s=restrict$1(l,[o,s]),a=0}n[0]=restrict$1(n[0],r),n[1]=restrict$1(n[1],r);var u=getSpanSign(n,a);n[a]+=t;var d=o||0,f=r.slice();u.sign<0?f[0]+=d:f[1]-=d,n[a]=restrict$1(n[a],f);var p=getSpanSign(n,a);return o!=null&&(p.sign!==u.sign||p.span<o)&&(n[1-a]=n[a]+u.sign*o),p=getSpanSign(n,a),s!=null&&p.span>s&&(n[1-a]=n[a]+p.sign*s),n}function getSpanSign(t,n){var r=t[n]-t[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function restrict$1(t,n){return Math.min(n[1]==null?1/0:n[1],Math.max(n[0]==null?-1/0:n[0],t))}var each$11=each$15,mathMin$5=Math.min,mathMax$5=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round$1=round$3,PI$3=Math.PI,Parallel=function(){function t(t,n,r){this.type=`parallel`,this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,n,r)}return t.prototype._init=function(t,n,r){var a=t.dimensions,o=t.parallelAxisIndex;each$11(a,function(t,r){var a=o[r],s=n.getComponent(`parallelAxis`,a),c=this._axesMap.set(t,new ParallelAxis_default(t,createScaleByModel$1(s),[0,0],s.get(`type`),a));c.onBand=c.type===`category`&&s.get(`boundaryGap`),c.inverse=s.get(`inverse`),s.axis=c,c.model=s,c.coordinateSystem=s.coordinateSystem=this},this)},t.prototype.update=function(t,n){this._updateAxesFromSeries(this._model,t)},t.prototype.containPoint=function(t){var n=this._makeLayoutInfo(),r=n.axisBase,a=n.layoutBase,o=n.pixelDimIndex,s=t[1-o],c=t[o];return s>=r&&s<=r+n.axisLength&&c>=a&&c<=a+n.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(t,n){n.eachSeries(function(r){if(t.contains(r,n)){var a=r.getData();each$11(this.dimensions,function(t){var n=this._axesMap.get(t);n.scale.unionExtentFromData(a,a.mapDimension(t)),niceScaleExtent(n.scale,n.model)},this)}},this)},t.prototype.resize=function(t,n){this._rect=getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var t=this._model,n=this._rect,r=[`x`,`y`],a=[`width`,`height`],o=t.get(`layout`),s=o===`horizontal`?0:1,c=n[a[s]],l=[0,c],u=this.dimensions.length,d=restrict(t.get(`axisExpandWidth`),l),f=restrict(t.get(`axisExpandCount`)||0,[0,u]),p=t.get(`axisExpandable`)&&u>3&&u>f&&f>1&&d>0&&c>0,g=t.get(`axisExpandWindow`),_;g?(_=restrict(g[1]-g[0],l),g[1]=g[0]+_):(_=restrict(d*(f-1),l),g=[d*(t.get(`axisExpandCenter`)||mathFloor(u/2))-_/2],g[1]=g[0]+_);var v=(c-_)/(u-f);v<3&&(v=0);var y=[mathFloor(round$1(g[0]/d,1))+1,mathCeil(round$1(g[1]/d,1))-1],b=v/d*g[0];return{layout:o,pixelDimIndex:s,layoutBase:n[r[s]],layoutLength:c,axisBase:n[r[1-s]],axisLength:n[a[1-s]],axisExpandable:p,axisExpandWidth:d,axisCollapseWidth:v,axisExpandWindow:g,axisCount:u,winInnerIndices:y,axisExpandWindow0Pos:b}},t.prototype._layoutAxes=function(){var t=this._rect,n=this._axesMap,r=this.dimensions,a=this._makeLayoutInfo(),o=a.layout;n.each(function(t){var n=[0,a.axisLength],r=t.inverse?1:0;t.setExtent(n[r],n[1-r])}),each$11(r,function(n,r){var s=(a.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(r,a),c={horizontal:{x:s.position,y:a.axisLength},vertical:{x:0,y:s.position}},l={horizontal:PI$3/2,vertical:0},u=[c[o].x+t.x,c[o].y+t.y],d=l[o],f=create$1();rotate(f,f,d),translate(f,f,u),this._axesLayout[n]={position:u,rotation:d,transform:f,axisNameAvailableWidth:s.axisNameAvailableWidth,axisLabelShow:s.axisLabelShow,nameTruncateMaxWidth:s.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(t){return this._axesMap.get(t)},t.prototype.dataToPoint=function(t,n){return this.axisCoordToPoint(this._axesMap.get(n).dataToCoord(t),n)},t.prototype.eachActiveState=function(t,n,r,a){r??=0,a??=t.count();var o=this._axesMap,s=this.dimensions,c=[],l=[];each$15(s,function(n){c.push(t.mapDimension(n)),l.push(o.get(n).model)});for(var u=this.hasAxisBrushed(),d=r;d<a;d++){var f=void 0;if(!u)f=`normal`;else{f=`active`;for(var p=t.getValues(c,d),g=0,_=s.length;g<_;g++)if(l[g].getActiveState(p[g])===`inactive`){f=`inactive`;break}}n(f,d)}},t.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,n=this._axesMap,r=!1,a=0,o=t.length;a<o;a++)n.get(t[a]).model.getActiveState()!==`normal`&&(r=!0);return r},t.prototype.axisCoordToPoint=function(t,n){var r=this._axesLayout[n];return applyTransform([t,0],r.transform)},t.prototype.getAxisLayout=function(t){return clone$4(this._axesLayout[t])},t.prototype.getSlidedAxisExpandWindow=function(t){var n=this._makeLayoutInfo(),r=n.pixelDimIndex,a=n.axisExpandWindow.slice(),o=a[1]-a[0],s=[0,n.axisExpandWidth*(n.axisCount-1)];if(!this.containPoint(t))return{behavior:`none`,axisExpandWindow:a};var c=t[r]-n.layoutBase-n.axisExpandWindow0Pos,l,u=`slide`,d=n.axisCollapseWidth,f=this._model.get(`axisExpandSlideTriggerArea`),p=f[0]!=null;if(d)p&&d&&c<o*f[0]?(u=`jump`,l=c-o*f[2]):p&&d&&c>o*(1-f[0])?(u=`jump`,l=c-o*(1-f[2])):(l=c-o*f[1])>=0&&(l=c-o*(1-f[1]))<=0&&(l=0),l*=n.axisExpandWidth/d,l?sliderMove(l,a,s,`all`):u=`none`;else{var g=a[1]-a[0];a=[mathMax$5(0,s[1]*c/g-g/2)],a[1]=mathMin$5(s[1],a[0]+g),a[0]=a[1]-g}return{axisExpandWindow:a,behavior:u}},t}();function restrict(t,n){return mathMin$5(mathMax$5(t,n[0]),n[1])}function layoutAxisWithoutExpand(t,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:!0}}function layoutAxisWithExpand(t,n){var r=n.layoutLength,a=n.axisExpandWidth,o=n.axisCount,s=n.axisCollapseWidth,c=n.winInnerIndices,l,u=s,d=!1,f;return t<c[0]?(l=t*s,f=s):t<=c[1]?(l=n.axisExpandWindow0Pos+t*a-n.axisExpandWindow[0],u=a,d=!0):(l=r-(o-1-t)*s,f=s),{position:l,axisNameAvailableWidth:u,axisLabelShow:d,nameTruncateMaxWidth:f}}var Parallel_default=Parallel;function createParallelCoordSys(t,n){var r=[];return t.eachComponent(`parallel`,function(a,o){var s=new Parallel_default(a,t,n);s.name=`parallel_`+o,s.resize(a,n),a.coordinateSystem=s,s.model=a,r.push(s)}),t.eachSeries(function(t){t.get(`coordinateSystem`)===`parallel`&&(t.coordinateSystem=t.getReferringComponents(`parallel`,SINGLE_REFERRING).models[0].coordinateSystem)}),r}var parallelCreator_default={create:createParallelCoordSys},ParallelAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([[`fill`,`color`],[`lineWidth`,`borderWidth`],[`stroke`,`borderColor`],[`width`,`width`],[`opacity`,`opacity`]])(this.getModel(`areaSelectStyle`))},n.prototype.setActiveIntervals=function(t){var n=this.activeIntervals=clone$4(t);if(n)for(var r=n.length-1;r>=0;r--)asc$2(n[r])},n.prototype.getActiveState=function(t){var n=this.activeIntervals;if(!n.length)return`normal`;if(t==null||isNaN(+t))return`inactive`;if(n.length===1){var r=n[0];if(r[0]<=t&&t<=r[1])return`active`}else for(var a=0,o=n.length;a<o;a++)if(n[a][0]<=t&&t<=n[a][1])return`active`;return`inactive`},n}(Component_default$1);mixin(ParallelAxisModel,AxisModelCommonMixin);var AxisModel_default=ParallelAxisModel,BRUSH_PANEL_GLOBAL=!0,mathMin$4=Math.min,mathMax$4=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY=`globalPan`,DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:`ew`,e:`ew`,n:`ns`,s:`ns`,ne:`nesw`,sw:`nesw`,nw:`nwse`,se:`nwse`},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:`rgba(210,219,238,0.3)`,fill:`#D2DBEE`},transformable:!0,brushMode:`single`,removeOnClick:!1},baseUID=0,BrushController=function(t){__extends(n,t);function n(n){var r=t.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=n,r.group=new Group_default,r._uid=`brushController_`+ baseUID++,each$15(pointerHandlers,function(t,n){this._handlers[n]=bind$1(t,this)},r),r}return n.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},n.prototype._doEnableBrush=function(t){var n=this._zr;this._enableGlobalPan||take(n,MUTEX_RESOURCE_KEY,this._uid),each$15(this._handlers,function(t,r){n.on(r,t)}),this._brushType=t.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),t,!0)},n.prototype._doDisableBrush=function(){var t=this._zr;release(t,MUTEX_RESOURCE_KEY,this._uid),each$15(this._handlers,function(n,r){t.off(r,n)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(t){if(t&&t.length){var n=this._panels={};each$15(t,function(t){n[t.panelId]=clone$4(t)})}else this._panels=null;return this},n.prototype.mount=function(t){t||={},this._enableGlobalPan=t.enableGlobalPan;var n=this.group;return this._zr.add(n),n.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=n.getLocalTransform(),this},n.prototype.updateCovers=function(t){t=map$1(t,function(t){return merge(clone$4(DEFAULT_BRUSH_OPT),t,!0)});var n=`\0-brush-index-`,r=this._covers,a=this._covers=[],o=this,s=this._creatingCover;return new DataDiffer_default(r,t,l,c).add(u).update(u).remove(d).execute(),this;function c(t,r){return(t.id==null?n+r:t.id)+`-`+t.brushType}function l(t,n){return c(t.__brushOption,n)}function u(n,c){var l=t[n];c!=null&&r[c]===s?a[n]=r[c]:updateCoverAfterCreation(o,a[n]=c==null?endCreating(o,createCover(o,l)):(r[c].__brushOption=l,r[c]))}function d(t){r[t]!==s&&o.group.remove(r[t])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful_default);function createCover(t,n){var r=coverRenderers[n.brushType].createCover(t,n);return r.__brushOption=n,updateZ$1(r,n),t.group.add(r),r}function endCreating(t,n){var r=getCoverRenderer(n);return r.endCreating&&(r.endCreating(t,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(t,n){var r=n.__brushOption;getCoverRenderer(n).updateCoverShape(t,n,r.range,r)}function updateZ$1(t,n){var r=n.z;r??=COVER_Z,t.traverse(function(t){t.z=r,t.z2=r})}function updateCoverAfterCreation(t,n){getCoverRenderer(n).updateCommon(t,n),updateCoverShape(t,n)}function getCoverRenderer(t){return coverRenderers[t.__brushOption.brushType]}function getPanelByPoint(t,n,r){var a=t._panels;if(!a)return BRUSH_PANEL_GLOBAL;var o,s=t._transform;return each$15(a,function(t){t.isTargetByCursor(n,r,s)&&(o=t)}),o}function getPanelByCover(t,n){var r=t._panels;if(!r)return BRUSH_PANEL_GLOBAL;var a=n.__brushOption.panelId;return a==null?BRUSH_PANEL_GLOBAL:r[a]}function clearCovers(t){var n=t._covers,r=n.length;return each$15(n,function(n){t.group.remove(n)},t),n.length=0,!!r}function trigger(t,n){var r=map$1(t._covers,function(t){var n=t.__brushOption,r=clone$4(n.range);return{brushType:n.brushType,panelId:n.panelId,range:r}});t.trigger(`brush`,{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(t){var n=t._track;if(!n.length)return!1;var r=n[n.length-1],a=n[0],o=r[0]-a[0],s=r[1]-a[1];return mathPow(o*o+s*s,.5)>UNSELECT_THRESHOLD}function getTrackEnds(t){var n=t.length-1;return n<0&&(n=0),[t[0],t[n]]}function createBaseRectCover(t,n,r,a){var o=new Group_default;return o.add(new Rect_default({name:`main`,style:makeStyle(r),silent:!0,draggable:!0,cursor:`move`,drift:curry$1(driftRect,t,n,o,[`n`,`s`,`w`,`e`]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$15(a,function(r){o.add(new Rect_default({name:r.join(``),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,t,n,o,r),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),o}function updateBaseRect(t,n,r,a){var o=a.brushStyle.lineWidth||0,s=mathMax$4(o,MIN_RESIZE_LINE_WIDTH),c=r[0][0],l=r[1][0],u=c-o/2,d=l-o/2,f=r[0][1],p=r[1][1],g=f-s+o/2,_=p-s+o/2,v=f-c,y=p-l,b=v+o,x=y+o;updateRectShape(t,n,`main`,c,l,v,y),a.transformable&&(updateRectShape(t,n,`w`,u,d,s,x),updateRectShape(t,n,`e`,g,d,s,x),updateRectShape(t,n,`n`,u,d,b,s),updateRectShape(t,n,`s`,u,_,b,s),updateRectShape(t,n,`nw`,u,d,s,s),updateRectShape(t,n,`ne`,g,d,s,s),updateRectShape(t,n,`sw`,u,_,s,s),updateRectShape(t,n,`se`,g,_,s,s))}function updateCommon$1(t,n){var r=n.__brushOption,a=r.transformable,o=n.childAt(0);o.useStyle(makeStyle(r)),o.attr({silent:!a,cursor:a?`move`:`default`}),each$15([[`w`],[`e`],[`n`],[`s`],[`s`,`e`],[`s`,`w`],[`n`,`e`],[`n`,`w`]],function(r){var o=n.childOfName(r.join(``)),s=r.length===1?getGlobalDirection1(t,r[0]):getGlobalDirection2(t,r);o&&o.attr({silent:!a,invisible:!a,cursor:a?CURSOR_MAP[s]+`-resize`:null})})}function updateRectShape(t,n,r,a,o,s,c){var l=n.childOfName(r);l&&l.setShape(pointsToRect(clipByPanel(t,n,[[a,o],[a+s,o+c]])))}function makeStyle(t){return defaults({strokeNoScale:!0},t.brushStyle)}function formatRectRange(t,n,r,a){var o=[mathMin$4(t,r),mathMin$4(n,a)],s=[mathMax$4(t,r),mathMax$4(n,a)];return[[o[0],s[0]],[o[1],s[1]]]}function getTransform(t){return getTransform$1(t.group)}function getGlobalDirection1(t,n){return{left:`w`,right:`e`,top:`n`,bottom:`s`}[transformDirection({w:`left`,e:`right`,n:`top`,s:`bottom`}[n],getTransform(t))]}function getGlobalDirection2(t,n){var r=[getGlobalDirection1(t,n[0]),getGlobalDirection1(t,n[1])];return(r[0]===`e`||r[0]===`w`)&&r.reverse(),r.join(``)}function driftRect(t,n,r,a,o,s){var c=r.__brushOption,l=t.toRectRange(c.range),u=toLocalDelta(n,o,s);each$15(a,function(t){var n=DIRECTION_MAP[t];l[n[0]][n[1]]+=u[n[0]]}),c.range=t.fromRectRange(formatRectRange(l[0][0],l[1][0],l[0][1],l[1][1])),updateCoverAfterCreation(n,r),trigger(n,{isEnd:!1})}function driftPolygon(t,n,r,a){var o=n.__brushOption.range,s=toLocalDelta(t,r,a);each$15(o,function(t){t[0]+=s[0],t[1]+=s[1]}),updateCoverAfterCreation(t,n),trigger(t,{isEnd:!1})}function toLocalDelta(t,n,r){var a=t.group,o=a.transformCoordToLocal(n,r),s=a.transformCoordToLocal(0,0);return[o[0]-s[0],o[1]-s[1]]}function clipByPanel(t,n,r){var a=getPanelByCover(t,n);return a&&a!==BRUSH_PANEL_GLOBAL?a.clipPath(r,t._transform):clone$4(r)}function pointsToRect(t){var n=mathMin$4(t[0][0],t[1][0]),r=mathMin$4(t[0][1],t[1][1]),a=mathMax$4(t[0][0],t[1][0]),o=mathMax$4(t[0][1],t[1][1]);return{x:n,y:r,width:a-n,height:o-r}}function resetCursor(t,n,r){if(!(!t._brushType||isOutsideZrArea(t,n.offsetX,n.offsetY))){var a=t._zr,o=t._covers,s=getPanelByPoint(t,n,r);if(!t._dragging)for(var c=0;c<o.length;c++){var l=o[c].__brushOption;if(s&&(s===BRUSH_PANEL_GLOBAL||l.panelId===s.panelId)&&coverRenderers[l.brushType].contain(o[c],r[0],r[1]))return}s&&a.setCursorStyle(`crosshair`)}}function preventDefault(t){var n=t.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(t,n,r){return t.childOfName(`main`).contain(n,r)}function updateCoverByMouse(t,n,r,a){var o=t._creatingCover,s=t._creatingPanel,c=t._brushOption,l;if(t._track.push(r.slice()),shouldShowCover(t)||o){if(s&&!o){c.brushMode===`single`&&clearCovers(t);var u=clone$4(c);u.brushType=determineBrushType(u.brushType,s),u.panelId=s===BRUSH_PANEL_GLOBAL?null:s.panelId,o=t._creatingCover=createCover(t,u),t._covers.push(o)}if(o){var d=coverRenderers[determineBrushType(t._brushType,s)],f=o.__brushOption;f.range=d.getCreatingRange(clipByPanel(t,o,t._track)),a&&(endCreating(t,o),d.updateCommon(t,o)),updateCoverShape(t,o),l={isEnd:a}}}else a&&c.brushMode===`single`&&c.removeOnClick&&getPanelByPoint(t,n,r)&&clearCovers(t)&&(l={isEnd:a,removeOnClick:!0});return l}function determineBrushType(t,n){return t===`auto`?n.defaultBrushType:t}var pointerHandlers={mousedown:function(t){if(this._dragging)handleDragEnd(this,t);else if(!t.target||!t.target.draggable){preventDefault(t);var n=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null,(this._creatingPanel=getPanelByPoint(this,t,n))&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(t){var n=t.offsetX,r=t.offsetY,a=this.group.transformCoordToLocal(n,r);if(resetCursor(this,t,a),this._dragging){preventDefault(t);var o=updateCoverByMouse(this,t,a,!1);o&&trigger(this,o)}},mouseup:function(t){handleDragEnd(this,t)}};function handleDragEnd(t,n){if(t._dragging){preventDefault(n);var r=n.offsetX,a=n.offsetY,o=updateCoverByMouse(t,n,t.group.transformCoordToLocal(r,a),!0);t._dragging=!1,t._track=[],t._creatingCover=null,o&&trigger(t,o)}}function isOutsideZrArea(t,n,r){var a=t._zr;return n<0||n>a.getWidth()||r<0||r>a.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(t,n){function r(t){return t}return createBaseRectCover({toRectRange:r,fromRectRange:r},t,n,[[`w`],[`e`],[`n`],[`s`],[`s`,`e`],[`s`,`w`],[`n`,`e`],[`n`,`w`]])},getCreatingRange:function(t){var n=getTrackEnds(t);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(t,n,r,a){updateBaseRect(t,n,r,a)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(t,n){var r=new Group_default;return r.add(new Polyline_default$1({name:`main`,style:makeStyle(n),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,n){n.remove(n.childAt(0)),n.add(new Polygon_default({name:`main`,draggable:!0,drift:curry$1(driftPolygon,t,n),ondragend:curry$1(trigger,t,{isEnd:!0})}))},updateCoverShape:function(t,n,r,a){n.childAt(0).setShape({points:clipByPanel(t,n,r)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(t){return{createCover:function(n,r){return createBaseRectCover({toRectRange:function(n){var r=[n,[0,100]];return t&&r.reverse(),r},fromRectRange:function(n){return n[t]}},n,r,[[[`w`],[`e`]],[[`n`],[`s`]]][t])},getCreatingRange:function(n){var r=getTrackEnds(n);return[mathMin$4(r[0][t],r[1][t]),mathMax$4(r[0][t],r[1][t])]},updateCoverShape:function(n,r,a,o){var s,c=getPanelByCover(n,r);if(c!==BRUSH_PANEL_GLOBAL&&c.getLinearBrushOtherExtent)s=c.getLinearBrushOtherExtent(t);else{var l=n._zr;s=[0,[l.getWidth(),l.getHeight()][1-t]]}var u=[a,s];t&&u.reverse(),updateBaseRect(n,r,u,o)},updateCommon:updateCommon$1,contain:mainShapeContain}}var BrushController_default=BrushController;function makeRectPanelClipPath(t){return t=normalizeRect(t),function(n){return clipPointsByRect(n,t)}}function makeLinearBrushOtherExtent(t,n){return t=normalizeRect(t),function(r){var a=n??r,o=a?t.width:t.height,s=a?t.x:t.y;return[s,s+(o||0)]}}function makeRectIsTargetByCursor(t,n,r){var a=normalizeRect(t);return function(t,o){return a.contain(o[0],o[1])&&!onIrrelevantElement(t,n,r)}}function normalizeRect(t){return BoundingRect_default.create(t)}var elementList=[`axisLine`,`axisTickLabel`,`axisName`],ParallelAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(n,r){t.prototype.init.apply(this,arguments),(this._brushController=new BrushController_default(r.getZr())).on(`brush`,bind$1(this._onBrush,this))},n.prototype.render=function(t,n,r,a){if(!fromAxisAreaSelect(t,n,a)){this.axisModel=t,this.api=r,this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new Group_default,this.group.add(this._axisGroup),t.get(`show`)){var s=getCoordSysModel(t,n),c=s.coordinateSystem,l=t.getAreaSelectStyle(),u=l.width,d=t.axis.dim,f=c.getAxisLayout(d),p=extend({strokeContainThreshold:u},f),g=new AxisBuilder_default(t,p);each$15(elementList,g.add,g),this._axisGroup.add(g.getGroup()),this._refreshBrushController(p,l,t,s,u,r),groupTransition(o,this._axisGroup,t)}}},n.prototype._refreshBrushController=function(t,n,r,a,o,s){var c=r.axis.getExtent(),l=c[1]-c[0],u=Math.min(30,Math.abs(l)*.1),d=BoundingRect_default.create({x:c[0],y:-o/2,width:l,height:o});d.x-=u,d.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,x:t.position[0],y:t.position[1]}).setPanels([{panelId:`pl`,clipPath:makeRectPanelClipPath(d),isTargetByCursor:makeRectIsTargetByCursor(d,s,a),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(d,0)}]).enableBrush({brushType:`lineX`,brushStyle:n,removeOnClick:!0}).updateCovers(getCoverInfoList(r))},n.prototype._onBrush=function(t){var n=t.areas,r=this.axisModel,a=r.axis,o=map$1(n,function(t){return[a.coordToData(t.range[0],!0),a.coordToData(t.range[1],!0)]});(!r.option.realtime===t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:`axisAreaSelect`,parallelAxisId:r.id,intervals:o})},n.prototype.dispose=function(){this._brushController.dispose()},n.type=`parallelAxis`,n}(Component_default);function fromAxisAreaSelect(t,n,r){return r&&r.type===`axisAreaSelect`&&n.findComponents({mainType:`parallelAxis`,query:r})[0]===t}function getCoverInfoList(t){var n=t.axis;return map$1(t.activeIntervals,function(t){return{brushType:`lineX`,panelId:`pl`,range:[n.dataToCoord(t[0],!0),n.dataToCoord(t[1],!0)]}})}function getCoordSysModel(t,n){return n.getComponent(`parallel`,t.get(`parallelIndex`))}var ParallelAxisView_default=ParallelAxisView,actionInfo$1={type:`axisAreaSelect`,event:`axisAreaSelected`};function installParallelActions(t){t.registerAction(actionInfo$1,function(t,n){n.eachComponent({mainType:`parallelAxis`,query:t},function(n){n.axis.model.setActiveIntervals(t.intervals)})}),t.registerAction(`parallelAxisExpand`,function(t,n){n.eachComponent({mainType:`parallel`,query:t},function(n){n.setAxisExpand(t)})})}var defaultAxisOption={type:`value`,areaSelectStyle:{width:20,borderWidth:1,borderColor:`rgba(160,197,232)`,color:`rgba(160,197,232)`,opacity:.3},realtime:!0,z:10};function install$47(t){t.registerComponentView(ParallelView_default$1),t.registerComponentModel(ParallelModel_default),t.registerCoordinateSystem(`parallel`,parallelCreator_default),t.registerPreprocessor(parallelPreprocessor),t.registerComponentModel(AxisModel_default),t.registerComponentView(ParallelAxisView_default),axisModelCreator(t,`parallel`,AxisModel_default,defaultAxisOption),installParallelActions(t)}var CalendarModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(n,r,a){var o=getLayoutParams(n);t.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(n,o)},n.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,n)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type=`calendar`,n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:`horizontal`,splitLine:{show:!0,lineStyle:{color:`#000`,width:1,type:`solid`}},itemStyle:{color:`#fff`,borderWidth:1,borderColor:`#ccc`},dayLabel:{show:!0,firstDay:0,position:`start`,margin:`50%`,color:`#000`},monthLabel:{show:!0,position:`start`,margin:5,align:`center`,formatter:null,color:`#000`},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:`#ccc`,fontFamily:`sans-serif`,fontWeight:`bolder`,fontSize:20}},n}(Component_default$1);function mergeAndNormalizeLayoutParams$1(t,n){var r=t.cellSize,a=isArray$1(r)?r:t.cellSize=[r,r];a.length===1&&(a[1]=a[0]),mergeLayoutParam(t,n,{type:`box`,ignoreSize:map$1([0,1],function(t){return sizeCalculable(n,t)&&(a[t]=`auto`),a[t]!=null&&a[t]!==`auto`})})}var CalendarModel_default=CalendarModel,CalendarView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=this.group;a.removeAll();var o=t.coordinateSystem,s=o.getRangeInfo(),c=o.getOrient(),l=n.getLocaleModel();this._renderDayRect(t,s,a),this._renderLines(t,s,c,a),this._renderYearText(t,s,c,a),this._renderMonthText(t,l,c,a),this._renderWeekText(t,l,s,c,a)},n.prototype._renderDayRect=function(t,n,r){for(var a=t.coordinateSystem,o=t.getModel(`itemStyle`).getItemStyle(),s=a.getCellWidth(),c=a.getCellHeight(),l=n.start.time;l<=n.end.time;l=a.getNextNDay(l,1).time){var u=a.dataToRect([l],!1).tl,d=new Rect_default({shape:{x:u[0],y:u[1],width:s,height:c},cursor:`default`,style:o});r.add(d)}},n.prototype._renderLines=function(t,n,r,a){var o=this,s=t.coordinateSystem,c=t.getModel([`splitLine`,`lineStyle`]).getLineStyle(),l=t.get([`splitLine`,`show`]),u=c.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var d=n.start,f=0;d.time<=n.end.time;f++){g(d.formatedDate),f===0&&(d=s.getDateInfo(n.start.y+`-`+n.start.m));var p=d.date;p.setMonth(p.getMonth()+1),d=s.getDateInfo(p)}g(s.getNextNDay(n.end.time,1).formatedDate);function g(n){o._firstDayOfMonth.push(s.getDateInfo(n)),o._firstDayPoints.push(s.dataToRect([n],!1).tl);var u=o._getLinePointsOfOneWeek(t,n,r);o._tlpoints.push(u[0]),o._blpoints.push(u[u.length-1]),l&&o._drawSplitline(u,c,a)}l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,r),c,a),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,r),c,a)},n.prototype._getEdgesPoints=function(t,n,r){var a=[t[0].slice(),t[t.length-1].slice()],o=r===`horizontal`?0:1;return a[0][o]=a[0][o]-n/2,a[1][o]=a[1][o]+n/2,a},n.prototype._drawSplitline=function(t,n,r){var a=new Polyline_default$1({z2:20,shape:{points:t},style:n});r.add(a)},n.prototype._getLinePointsOfOneWeek=function(t,n,r){for(var a=t.coordinateSystem,o=a.getDateInfo(n),s=[],c=0;c<7;c++){var l=a.getNextNDay(o.time,c),u=a.dataToRect([l.time],!1);s[2*l.day]=u.tl,s[2*l.day+1]=u[r===`horizontal`?`bl`:`tr`]}return s},n.prototype._formatterLabel=function(t,n){return isString(t)&&t?formatTplSimple(t,n):isFunction(t)?t(n):n.nameMap},n.prototype._yearTextPositionControl=function(t,n,r,a,o){var s=n[0],c=n[1],l=[`center`,`bottom`];a===`bottom`?(c+=o,l=[`center`,`top`]):a===`left`?s-=o:a===`right`?(s+=o,l=[`center`,`top`]):c-=o;var u=0;return(a===`left`||a===`right`)&&(u=Math.PI/2),{rotation:u,x:s,y:c,style:{align:l[0],verticalAlign:l[1]}}},n.prototype._renderYearText=function(t,n,r,a){var o=t.getModel(`yearLabel`);if(o.get(`show`)){var s=o.get(`margin`),c=o.get(`position`);c||=r===`horizontal`?`left`:`top`;var l=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],u=(l[0][0]+l[1][0])/2,d=(l[0][1]+l[1][1])/2,f=r===`horizontal`?0:1,p={top:[u,l[f][1]],bottom:[u,l[1-f][1]],left:[l[1-f][0],d],right:[l[f][0],d]},g=n.start.y;+n.end.y>+n.start.y&&(g=g+`-`+n.end.y);var _=o.get(`formatter`),v={start:n.start.y,end:n.end.y,nameMap:g},y=new Text_default({z2:30,style:createTextStyle$1(o,{text:this._formatterLabel(_,v)}),silent:o.get(`silent`)});y.attr(this._yearTextPositionControl(y,p[c],r,c,s)),a.add(y)}},n.prototype._monthTextPositionControl=function(t,n,r,a,o){var s=`left`,c=`top`,l=t[0],u=t[1];return r===`horizontal`?(u+=o,n&&(s=`center`),a===`start`&&(c=`bottom`)):(l+=o,n&&(c=`middle`),a===`start`&&(s=`right`)),{x:l,y:u,align:s,verticalAlign:c}},n.prototype._renderMonthText=function(t,n,r,a){var o=t.getModel(`monthLabel`);if(o.get(`show`)){var s=o.get(`nameMap`),c=o.get(`margin`),l=o.get(`position`),u=o.get(`align`),d=[this._tlpoints,this._blpoints];(!s||isString(s))&&(s&&(n=getLocaleModel(s)||n),s=n.get([`time`,`monthAbbr`])||[]);var f=l===`start`?0:1,p=r===`horizontal`?0:1;c=l===`start`?-c:c;for(var g=u===`center`,_=o.get(`silent`),v=0;v<d[f].length-1;v++){var y=d[f][v].slice(),b=this._firstDayOfMonth[v];g&&(y[p]=(this._firstDayPoints[v][p]+d[0][v+1][p])/2);var x=o.get(`formatter`),S=s[b.m-1],C={yyyy:b.y,yy:(b.y+``).slice(2),MM:b.m,M:+b.m,nameMap:S},w=new Text_default({z2:30,style:extend(createTextStyle$1(o,{text:this._formatterLabel(x,C)}),this._monthTextPositionControl(y,g,r,l,c)),silent:_});a.add(w)}}},n.prototype._weekTextPositionControl=function(t,n,r,a,o){var s=`center`,c=`middle`,l=t[0],u=t[1],d=r===`start`;return n===`horizontal`?(l=l+a+(d?1:-1)*o[0]/2,s=d?`right`:`left`):(u=u+a+(d?1:-1)*o[1]/2,c=d?`bottom`:`top`),{x:l,y:u,align:s,verticalAlign:c}},n.prototype._renderWeekText=function(t,n,r,a,o){var s=t.getModel(`dayLabel`);if(s.get(`show`)){var c=t.coordinateSystem,l=s.get(`position`),u=s.get(`nameMap`),d=s.get(`margin`),f=c.getFirstDayOfWeek();(!u||isString(u))&&(u&&(n=getLocaleModel(u)||n),u=n.get([`time`,`dayOfWeekShort`])||map$1(n.get([`time`,`dayOfWeekAbbr`]),function(t){return t[0]}));var p=c.getNextNDay(r.end.time,7-r.lweek).time,g=[c.getCellWidth(),c.getCellHeight()];d=parsePercent(d,Math.min(g[1],g[0])),l===`start`&&(p=c.getNextNDay(r.start.time,-(7+r.fweek)).time,d=-d);for(var _=s.get(`silent`),v=0;v<7;v++){var y=c.getNextNDay(p,v),b=c.dataToRect([y.time],!1).center,x=v;x=Math.abs((v+f)%7);var S=new Text_default({z2:30,style:extend(createTextStyle$1(s,{text:u[x]}),this._weekTextPositionControl(b,a,l,d,g)),silent:_});o.add(S)}}},n.type=`calendar`,n}(Component_default),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function t(n,r,a){this.type=`calendar`,this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=n}return t.getDimensionsInfo=function(){return[{name:`time`,type:`time`},`value`]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(t){t=parseDate(t);var n=t.getFullYear(),r=t.getMonth()+1,a=r<10?`0`+r:``+r,o=t.getDate(),s=o<10?`0`+o:``+o,c=t.getDay();return c=Math.abs((c+7-this.getFirstDayOfWeek())%7),{y:n+``,m:a,d:s,day:c,time:t.getTime(),formatedDate:n+`-`+a+`-`+s,date:t}},t.prototype.getNextNDay=function(t,n){return n||=0,n===0?this.getDateInfo(t):(t=new Date(this.getDateInfo(t).time),t.setDate(t.getDate()+n),this.getDateInfo(t))},t.prototype.update=function(t,n){this._firstDayOfWeek=+this._model.getModel(`dayLabel`).get(`firstDay`),this._orient=this._model.get(`orient`),this._lineWidth=this._model.getModel(`itemStyle`).getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,a=[`width`,`height`],o=this._model.getCellSize().slice(),s=this._model.getBoxLayoutParams(),c=this._orient===`horizontal`?[r,7]:[7,r];each$15([0,1],function(t){u(o,t)&&(s[a[t]]=o[t]*c[t])});var l=this._rect=getLayoutRect(s,{width:n.getWidth(),height:n.getHeight()});each$15([0,1],function(t){u(o,t)||(o[t]=l[a[t]]/c[t])});function u(t,n){return t[n]!=null&&t[n]!==`auto`}this._sw=o[0],this._sh=o[1]},t.prototype.dataToPoint=function(t,n){isArray$1(t)&&(t=t[0]),n??=!0;var r=this.getDateInfo(t),a=this._rangeInfo,o=r.formatedDate;if(n&&!(r.time>=a.start.time&&r.time<a.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var s=r.day,c=this._getRangeInfo([a.start.time,o]).nthWeek;return this._orient===`vertical`?[this._rect.x+s*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+s*this._sh+this._sh/2]},t.prototype.pointToData=function(t){var n=this.pointToDate(t);return n&&n.time},t.prototype.dataToRect=function(t,n){var r=this.dataToPoint(t,n);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},t.prototype.pointToDate=function(t){var n=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,a=this._rangeInfo.range;return this._orient===`vertical`?this._getDateByWeeksAndDay(r,n-1,a):this._getDateByWeeksAndDay(n,r-1,a)},t.prototype.convertToPixel=function(t,n,r){var a=getCoordSys(n);return a===this?a.dataToPoint(r):null},t.prototype.convertFromPixel=function(t,n,r){var a=getCoordSys(n);return a===this?a.pointToData(r):null},t.prototype.containPoint=function(t){return!1},t.prototype._initRangeOption=function(){var t=this._model.get(`range`),n;if(isArray$1(t)&&t.length===1&&(t=t[0]),isArray$1(t))n=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(n=[r+`-01-01`,r+`-12-31`]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var a=this.getDateInfo(r),o=a.date;o.setMonth(o.getMonth()+1);var s=this.getNextNDay(o,-1);n=[a.formatedDate,s.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(n=[r,r])}if(!n)return t;var c=this._getRangeInfo(n);return c.start.time>c.end.time&&n.reverse(),n},t.prototype._getRangeInfo=function(t){var n=[this.getDateInfo(t[0]),this.getDateInfo(t[1])],r;n[0].time>n[1].time&&(r=!0,n.reverse());var a=Math.floor(n[1].time/PROXIMATE_ONE_DAY)-Math.floor(n[0].time/PROXIMATE_ONE_DAY)+1,o=new Date(n[0].time),s=o.getDate(),c=n[1].date.getDate();o.setDate(s+a-1);var l=o.getDate();if(l!==c)for(var u=o.getTime()-n[1].time>0?1:-1;(l=o.getDate())!==c&&(o.getTime()-n[1].time)*u>0;)a-=u,o.setDate(l-u);var d=Math.floor((a+n[0].day+6)/7),f=r?-d+1:d-1;return r&&n.reverse(),{range:[n[0].formatedDate,n[1].formatedDate],start:n[0],end:n[1],allDay:a,weeks:d,nthWeek:f,fweek:n[0].day,lweek:n[1].day}},t.prototype._getDateByWeeksAndDay=function(t,n,r){var a=this._getRangeInfo(r);if(t>a.weeks||t===0&&n<a.fweek||t===a.weeks&&n>a.lweek)return null;var o=(t-1)*7-a.fweek+n,s=new Date(a.start.time);return s.setDate(+a.start.d+o),this.getDateInfo(s)},t.create=function(n,r){var a=[];return n.eachComponent(`calendar`,function(o){var s=new t(o,n,r);a.push(s),o.coordinateSystem=s}),n.eachSeries(function(t){t.get(`coordinateSystem`)===`calendar`&&(t.coordinateSystem=a[t.get(`calendarIndex`)||0])}),a},t.dimensions=[`time`,`value`],t}();function getCoordSys(t){var n=t.calendarModel,r=t.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem:null}var Calendar_default=Calendar;function install$46(t){t.registerComponentModel(CalendarModel_default),t.registerComponentView(CalendarView_default),t.registerCoordinateSystem(`calendar`,Calendar_default)}function setKeyInfoToNewElOption(t,n){var r=t.existing;if(n.id=t.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var a=n.parentOption;a?n.parentId=a.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function isSetLoc(t,n){var r;return each$15(n,function(n){t[n]!=null&&t[n]!==`auto`&&(r=!0)}),r}function mergeNewElOptionToExist(t,n,r){var a=extend({},r),o=t[n],s=r.$action||`merge`;s===`merge`?o?(merge(o,a,!0),mergeLayoutParam(o,a,{ignoreSize:!0}),copyLayoutParams(r,o),copyTransitionInfo(r,o),copyTransitionInfo(r,o,`shape`),copyTransitionInfo(r,o,`style`),copyTransitionInfo(r,o,`extra`),r.clipPath=o.clipPath):t[n]=a:s===`replace`?t[n]=a:s===`remove`&&o&&(t[n]=null)}var TRANSITION_PROPS_TO_COPY=[`transition`,`enterFrom`,`leaveTo`],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat([`enterAnimation`,`updateAnimation`,`leaveAnimation`]);function copyTransitionInfo(t,n,r){if(r&&(!t[r]&&n[r]&&(t[r]={}),t=t[r],n=n[r]),!(!t||!n))for(var a=r?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,o=0;o<a.length;o++){var s=a[o];t[s]==null&&n[s]!=null&&(t[s]=n[s])}}function setLayoutInfoToExist(t,n){if(t&&(t.hv=n.hv=[isSetLoc(n,[`left`,`right`]),isSetLoc(n,[`top`,`bottom`])],t.type===`group`)){var r=t,a=n;r.width??=a.width=0,r.height??=a.height=0}}var GraphicComponentModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(n,r){var a=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,n,r),this.option.elements=a},n.prototype.optionUpdated=function(t,n){var r=this.option,a=(n?r:t).elements,o=r.elements=n?[]:r.elements,s=[];this._flatten(a,s,null);var c=mappingToExists(o,s,`normalMerge`),l=this._elOptionsToUpdate=[];each$15(c,function(t,n){var r=t.newOption;r&&(l.push(r),setKeyInfoToNewElOption(t,r),mergeNewElOptionToExist(o,n,r),setLayoutInfoToExist(o[n],r))},this),r.elements=filter(o,function(t){return t&&delete t.$action,t!=null})},n.prototype._flatten=function(t,n,r){each$15(t,function(t){if(t){r&&(t.parentOption=r),n.push(t);var a=t.children;a&&a.length&&this._flatten(a,n,t),delete t.children}},this)},n.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},n.type=`graphic`,n.defaultOption={elements:[]},n}(Component_default$1);function isEC4CompatibleStyle(t,n,r,a){return t&&(t.legacy||t.legacy!==!1&&!r&&!a&&n!==`tspan`&&(n===`text`||hasOwn(t,`text`)))}function convertFromEC4CompatibleStyle(t,n,r){var a=t,o,s,c;if(n===`text`)c=a;else{c={},hasOwn(a,`text`)&&(c.text=a.text),hasOwn(a,`rich`)&&(c.rich=a.rich),hasOwn(a,`textFill`)&&(c.fill=a.textFill),hasOwn(a,`textStroke`)&&(c.stroke=a.textStroke),hasOwn(a,`fontFamily`)&&(c.fontFamily=a.fontFamily),hasOwn(a,`fontSize`)&&(c.fontSize=a.fontSize),hasOwn(a,`fontStyle`)&&(c.fontStyle=a.fontStyle),hasOwn(a,`fontWeight`)&&(c.fontWeight=a.fontWeight),s={type:`text`,style:c,silent:!0},o={};var l=hasOwn(a,`textPosition`);r?o.position=l?a.textPosition:`inside`:l&&(o.position=a.textPosition),hasOwn(a,`textPosition`)&&(o.position=a.textPosition),hasOwn(a,`textOffset`)&&(o.offset=a.textOffset),hasOwn(a,`textRotation`)&&(o.rotation=a.textRotation),hasOwn(a,`textDistance`)&&(o.distance=a.textDistance)}return convertEC4CompatibleRichItem(c,t),each$15(c.rich,function(t){convertEC4CompatibleRichItem(t,t)}),{textConfig:o,textContent:s}}function convertEC4CompatibleRichItem(t,n){n&&(n.font=n.textFont||n.font,hasOwn(n,`textStrokeWidth`)&&(t.lineWidth=n.textStrokeWidth),hasOwn(n,`textAlign`)&&(t.align=n.textAlign),hasOwn(n,`textVerticalAlign`)&&(t.verticalAlign=n.textVerticalAlign),hasOwn(n,`textLineHeight`)&&(t.lineHeight=n.textLineHeight),hasOwn(n,`textWidth`)&&(t.width=n.textWidth),hasOwn(n,`textHeight`)&&(t.height=n.textHeight),hasOwn(n,`textBackgroundColor`)&&(t.backgroundColor=n.textBackgroundColor),hasOwn(n,`textPadding`)&&(t.padding=n.textPadding),hasOwn(n,`textBorderColor`)&&(t.borderColor=n.textBorderColor),hasOwn(n,`textBorderWidth`)&&(t.borderWidth=n.textBorderWidth),hasOwn(n,`textBorderRadius`)&&(t.borderRadius=n.textBorderRadius),hasOwn(n,`textBoxShadowColor`)&&(t.shadowColor=n.textBoxShadowColor),hasOwn(n,`textBoxShadowBlur`)&&(t.shadowBlur=n.textBoxShadowBlur),hasOwn(n,`textBoxShadowOffsetX`)&&(t.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,`textBoxShadowOffsetY`)&&(t.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(t,n,r){var a=t;a.textPosition=a.textPosition||r.position||`inside`,r.offset!=null&&(a.textOffset=r.offset),r.rotation!=null&&(a.textRotation=r.rotation),r.distance!=null&&(a.textDistance=r.distance);var o=a.textPosition.indexOf(`inside`)>=0,s=t.fill||`#000`;convertToEC4RichItem(a,n);var c=a.textFill==null;return o?c&&(a.textFill=r.insideFill||`#fff`,!a.textStroke&&r.insideStroke&&(a.textStroke=r.insideStroke),!a.textStroke&&(a.textStroke=s),a.textStrokeWidth??=2):(c&&(a.textFill=t.fill||r.outsideFill||`#000`),!a.textStroke&&r.outsideStroke&&(a.textStroke=r.outsideStroke)),a.text=n.text,a.rich=n.rich,each$15(n.rich,function(t){convertToEC4RichItem(t,t)}),a}function convertToEC4RichItem(t,n){n&&(hasOwn(n,`fill`)&&(t.textFill=n.fill),hasOwn(n,`stroke`)&&(t.textStroke=n.fill),hasOwn(n,`lineWidth`)&&(t.textStrokeWidth=n.lineWidth),hasOwn(n,`font`)&&(t.font=n.font),hasOwn(n,`fontStyle`)&&(t.fontStyle=n.fontStyle),hasOwn(n,`fontWeight`)&&(t.fontWeight=n.fontWeight),hasOwn(n,`fontSize`)&&(t.fontSize=n.fontSize),hasOwn(n,`fontFamily`)&&(t.fontFamily=n.fontFamily),hasOwn(n,`align`)&&(t.textAlign=n.align),hasOwn(n,`verticalAlign`)&&(t.textVerticalAlign=n.verticalAlign),hasOwn(n,`lineHeight`)&&(t.textLineHeight=n.lineHeight),hasOwn(n,`width`)&&(t.textWidth=n.width),hasOwn(n,`height`)&&(t.textHeight=n.height),hasOwn(n,`backgroundColor`)&&(t.textBackgroundColor=n.backgroundColor),hasOwn(n,`padding`)&&(t.textPadding=n.padding),hasOwn(n,`borderColor`)&&(t.textBorderColor=n.borderColor),hasOwn(n,`borderWidth`)&&(t.textBorderWidth=n.borderWidth),hasOwn(n,`borderRadius`)&&(t.textBorderRadius=n.borderRadius),hasOwn(n,`shadowColor`)&&(t.textBoxShadowColor=n.shadowColor),hasOwn(n,`shadowBlur`)&&(t.textBoxShadowBlur=n.shadowBlur),hasOwn(n,`shadowOffsetX`)&&(t.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,`shadowOffsetY`)&&(t.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,`textShadowColor`)&&(t.textShadowColor=n.textShadowColor),hasOwn(n,`textShadowBlur`)&&(t.textShadowBlur=n.textShadowBlur),hasOwn(n,`textShadowOffsetX`)&&(t.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,`textShadowOffsetY`)&&(t.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:[`x`,`y`],scale:[`scaleX`,`scaleY`],origin:[`originX`,`originY`]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(t,n){return t[n]=1,t},{}),TRANSFORMABLE_PROPS.join(`, `);var ELEMENT_ANIMATABLE_PROPS=[``,`style`,`shape`,`extra`],transitionInnerStore=makeInner();function getElementAnimationConfig(t,n,r,a,o){var s=t+`Animation`,c=getAnimationConfig(t,a,o)||{},l=transitionInnerStore(n).userDuring;return c.duration>0&&(c.during=l?bind$1(duringCall,{el:n,userDuring:l}):null,c.setToFinal=!0,c.scope=t),extend(c,r[s]),c}function applyUpdateTransition(t,n,r,a){a||={};var o=a.dataIndex,s=a.isInit,c=a.clearStyle,l=r.isAnimationEnabled(),u=transitionInnerStore(t),d=n.style;u.userDuring=n.during;var f={},p={};if(prepareTransformAllPropsFinal(t,n,p),prepareShapeOrExtraAllPropsFinal(`shape`,n,p),prepareShapeOrExtraAllPropsFinal(`extra`,n,p),!s&&l&&(prepareTransformTransitionFrom(t,n,f),prepareShapeOrExtraTransitionFrom(`shape`,t,n,f),prepareShapeOrExtraTransitionFrom(`extra`,t,n,f),prepareStyleTransitionFrom(t,n,d,f)),p.style=d,applyPropsDirectly(t,p,c),applyMiscProps(t,n),l)if(s){var g={};each$15(ELEMENT_ANIMATABLE_PROPS,function(t){var r=t?n[t]:n;r&&r.enterFrom&&(t&&(g[t]=g[t]||{}),extend(t?g[t]:g,r.enterFrom))});var _=getElementAnimationConfig(`enter`,t,n,r,o);_.duration>0&&t.animateFrom(g,_)}else applyPropsTransition(t,n,o||0,r,f);updateLeaveTo(t,n),d?t.dirty():t.markRedraw()}function updateLeaveTo(t,n){for(var r=transitionInnerStore(t).leaveToProps,a=0;a<ELEMENT_ANIMATABLE_PROPS.length;a++){var o=ELEMENT_ANIMATABLE_PROPS[a],s=o?n[o]:n;s&&s.leaveTo&&(r||=transitionInnerStore(t).leaveToProps={},o&&(r[o]=r[o]||{}),extend(o?r[o]:r,s.leaveTo))}}function applyLeaveTransition(t,n,r,a){if(t){var o=t.parent,s=transitionInnerStore(t).leaveToProps;if(s){var c=getElementAnimationConfig(`update`,t,n,r,0);c.done=function(){o.remove(t),a&&a()},t.animateTo(s,c)}else o.remove(t),a&&a()}}function isTransitionAll(t){return t===`all`}function applyPropsDirectly(t,n,r){var a=n.style;if(!t.isGroup&&a){if(r){t.useStyle({});for(var o=t.animators,s=0;s<o.length;s++){var c=o[s];c.targetName===`style`&&c.changeTarget(t.style)}}t.setStyle(a)}n&&(n.style=null,n&&t.attr(n),n.style=a)}function applyPropsTransition(t,n,r,a,o){if(o){var s=getElementAnimationConfig(`update`,t,n,a,r);s.duration>0&&t.animateFrom(o,s)}}function applyMiscProps(t,n){hasOwn(n,`silent`)&&(t.silent=n.silent),hasOwn(n,`ignore`)&&(t.ignore=n.ignore),t instanceof Displayable_default&&hasOwn(n,`invisible`)&&(t.invisible=n.invisible),t instanceof Path_default&&hasOwn(n,`autoBatch`)&&(t.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(t,n){return tmpDuringScope.el[t]=n,this},getTransform:function(t){return tmpDuringScope.el[t]},setShape:function(t,n){var r=tmpDuringScope.el,a=r.shape||={};return a[t]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(t){var n=tmpDuringScope.el.shape;if(n)return n[t]},setStyle:function(t,n){var r=tmpDuringScope.el,a=r.style;return a&&(a[t]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(t){var n=tmpDuringScope.el.style;if(n)return n[t]},setExtra:function(t,n){var r=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return r[t]=n,this},getExtra:function(t){var n=tmpDuringScope.el.extra;if(n)return n[t]}};function duringCall(){var t=this,n=t.el;if(n){var r=transitionInnerStore(n).userDuring,a=t.userDuring;if(r!==a){t.el=t.userDuring=null;return}tmpDuringScope.el=n,a(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(t,n,r,a){var o=r[t];if(o){var s=n[t],c;if(s){var l=r.transition,u=o.transition;if(u)if(!c&&(c=a[t]={}),isTransitionAll(u))extend(c,s);else for(var d=normalizeToArray(u),f=0;f<d.length;f++){var p=d[f],g=s[p];c[p]=g}else if(isTransitionAll(l)||indexOf(l,t)>=0){!c&&(c=a[t]={});for(var _=keys(s),f=0;f<_.length;f++){var p=_[f],g=s[p];isNonStyleTransitionEnabled(o[p],g)&&(c[p]=g)}}}}}function prepareShapeOrExtraAllPropsFinal(t,n,r){var a=n[t];if(a)for(var o=r[t]={},s=keys(a),c=0;c<s.length;c++){var l=s[c];o[l]=cloneValue(a[l])}}function prepareTransformTransitionFrom(t,n,r){for(var a=n.transition,o=isTransitionAll(a)?TRANSFORMABLE_PROPS:normalizeToArray(a||[]),s=0;s<o.length;s++){var c=o[s];c===`style`||c===`shape`||c===`extra`||(r[c]=t[c])}}function prepareTransformAllPropsFinal(t,n,r){for(var a=0;a<LEGACY_TRANSFORM_PROPS.length;a++){var o=LEGACY_TRANSFORM_PROPS[a],s=LEGACY_TRANSFORM_PROPS_MAP[o],c=n[o];c&&(r[s[0]]=c[0],r[s[1]]=c[1])}for(var a=0;a<TRANSFORMABLE_PROPS.length;a++){var l=TRANSFORMABLE_PROPS[a];n[l]!=null&&(r[l]=n[l])}}function prepareStyleTransitionFrom(t,n,r,a){if(r){var o=t.style,s;if(o){var c=r.transition,l=n.transition;if(c&&!isTransitionAll(c)){var u=normalizeToArray(c);!s&&(s=a.style={});for(var d=0;d<u.length;d++){var f=u[d],p=o[f];s[f]=p}}else if(t.getAnimationStyleProps&&(isTransitionAll(l)||isTransitionAll(c)||indexOf(l,`style`)>=0)){var g=t.getAnimationStyleProps(),_=g?g.style:null;if(_){!s&&(s=a.style={});for(var v=keys(r),d=0;d<v.length;d++){var f=v[d];if(_[f]){var p=o[f];s[f]=p}}}}}}}function isNonStyleTransitionEnabled(t,n){return isArrayLike(t)?t!==n:t!=null&&isFinite(t)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=[`percent`,`easing`,`shape`,`style`,`extra`];function stopPreviousKeyframeAnimationAndRestore(t){t.stopAnimation(`keyframe`),t.attr(getStateToRestore(t))}function applyKeyframeAnimation(t,n,r){if(!(!r.isAnimationEnabled()||!n)){if(isArray$1(n)){each$15(n,function(n){applyKeyframeAnimation(t,n,r)});return}var a=n.keyframes,o=n.duration;if(r&&o==null){var s=getAnimationConfig(`enter`,r,0);o=s&&s.duration}if(!(!a||!o)){var c=getStateToRestore(t);each$15(ELEMENT_ANIMATABLE_PROPS,function(r){if(!(r&&!t[r])){var s;a.sort(function(t,n){return t.percent-n.percent}),each$15(a,function(a){var l=t.animators,u=r?a[r]:a;if(u){var d=keys(u);if(r||(d=filter(d,function(t){return indexOf(KEYFRAME_EXCLUDE_KEYS,t)<0})),d.length){s||(s=t.animate(r,n.loop,!0),s.scope=`keyframe`);for(var f=0;f<l.length;f++)l[f]!==s&&l[f].targetName===s.targetName&&l[f].stopTracks(d);r&&(c[r]=c[r]||{});var p=r?c[r]:c;each$15(d,function(n){p[n]=((r?t[r]:t)||{})[n]}),s.whenWithKeys(o*a.percent,u,d,a.easing)}}}),s&&s.delay(n.delay||0).duration(o).start(n.easing)}})}}}var nonShapeGraphicElements={path:null,compoundPath:null,group:Group_default,image:Image_default,text:Text_default},inner$10=makeInner(),GraphicComponentView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(t,n,r){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,r)},n.prototype._updateElements=function(t){var n=t.useElOptionsToUpdate();if(n){var r=this._elMap,a=this.group,o=t.get(`z`),s=t.get(`zlevel`);each$15(n,function(n){var c=convertOptionIdName(n.id,null),l=c==null?null:r.get(c),u=convertOptionIdName(n.parentId,null),d=u==null?a:r.get(u),f=n.type,p=n.style;f===`text`&&p&&n.hv&&n.hv[1]&&(p.textVerticalAlign=p.textBaseline=p.verticalAlign=p.align=null);var g=n.textContent,_=n.textConfig;if(p&&isEC4CompatibleStyle(p,f,!!_,!!g)){var v=convertFromEC4CompatibleStyle(p,f,!0);!_&&v.textConfig&&(_=n.textConfig=v.textConfig),!g&&v.textContent&&(g=v.textContent)}var y=getCleanedElOption(n),b=n.$action||`merge`,x=b===`merge`,S=b===`replace`;if(x){var C=!l,w=l;C?w=createEl$1(c,d,n.type,r):(w&&(inner$10(w).isNew=!1),stopPreviousKeyframeAnimationAndRestore(w)),w&&(applyUpdateTransition(w,y,t,{isInit:C}),updateCommonAttrs(w,n,o,s))}else if(S){removeEl$1(l,n,r,t);var T=createEl$1(c,d,n.type,r);T&&(applyUpdateTransition(T,y,t,{isInit:!0}),updateCommonAttrs(T,n,o,s))}else b===`remove`&&(updateLeaveTo(l,n),removeEl$1(l,n,r,t));var E=r.get(c);if(E&&g)if(x){var D=E.getTextContent();D?D.attr(g):E.setTextContent(new Text_default(g))}else S&&E.setTextContent(new Text_default(g));if(E){var O=n.clipPath;if(O){var A=O.type,j=void 0,C=!1;if(x){var M=E.getClipPath();C=!M||inner$10(M).type!==A,j=C?newEl(A):M}else S&&(C=!0,j=newEl(A));E.setClipPath(j),applyUpdateTransition(j,O,t,{isInit:C}),applyKeyframeAnimation(j,O.keyframeAnimation,t)}var N=inner$10(E);E.setTextConfig(_),N.option=n,setEventData(E,t,n),setTooltipConfig({el:E,componentModel:t,itemName:E.name,itemTooltipOption:n.tooltip}),applyKeyframeAnimation(E,n.keyframeAnimation,t)}})}},n.prototype._relocate=function(t,n){for(var r=t.option.elements,a=this.group,o=this._elMap,s=n.getWidth(),c=n.getHeight(),l=[`x`,`y`],u=0;u<r.length;u++){var d=r[u],f=convertOptionIdName(d.id,null),p=f==null?null:o.get(f);if(!(!p||!p.isGroup)){var g=p.parent,_=g===a,v=inner$10(p),y=inner$10(g);v.width=parsePercent(v.option.width,_?s:y.width)||0,v.height=parsePercent(v.option.height,_?c:y.height)||0}}for(var u=r.length-1;u>=0;u--){var d=r[u],f=convertOptionIdName(d.id,null),p=f==null?null:o.get(f);if(p){var g=p.parent,y=inner$10(g),b=g===a?{width:s,height:c}:{width:y.width,height:y.height},x={},S=positionElement(p,d,b,null,{hv:d.hv,boundingMode:d.bounding},x);if(!inner$10(p).isNew&&S){for(var C=d.transition,w={},T=0;T<l.length;T++){var E=l[T],D=x[E];C&&(isTransitionAll(C)||indexOf(C,E)>=0)?w[E]=D:p[E]=D}updateProps$1(p,w,t,0)}else p.attr(x)}}},n.prototype._clear=function(){var t=this,n=this._elMap;n.each(function(r){removeEl$1(r,inner$10(r).option,n,t._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type=`graphic`,n}(Component_default);function newEl(t){var n=new(hasOwn(nonShapeGraphicElements,t)?nonShapeGraphicElements[t]:getShapeClass(t))({});return inner$10(n).type=t,n}function createEl$1(t,n,r,a){var o=newEl(r);return n.add(o),a.set(t,o),inner$10(o).id=t,inner$10(o).isNew=!0,o}function removeEl$1(t,n,r,a){t&&t.parent&&(t.type===`group`&&t.traverse(function(t){removeEl$1(t,n,r,a)}),applyLeaveTransition(t,n,a),r.removeKey(inner$10(t).id))}function updateCommonAttrs(t,n,r,a){t.isGroup||each$15([[`cursor`,Displayable_default.prototype.cursor],[`zlevel`,a||0],[`z`,r||0],[`z2`,0]],function(r){var a=r[0];hasOwn(n,a)?t[a]=retrieve2(n[a],r[1]):t[a]??(t[a]=r[1])}),each$15(keys(n),function(r){if(r.indexOf(`on`)===0){var a=n[r];t[r]=isFunction(a)?a:null}}),hasOwn(n,`draggable`)&&(t.draggable=n.draggable),n.name!=null&&(t.name=n.name),n.id!=null&&(t.id=n.id)}function getCleanedElOption(t){return t=extend({},t),each$15([`id`,`parentId`,`$action`,`hv`,`bounding`,`textContent`,`clipPath`].concat(LOCATION_PARAMS),function(n){delete t[n]}),t}function setEventData(t,n,r){var a=getECData(t).eventData;!t.silent&&!t.ignore&&!a&&(a=getECData(t).eventData={componentType:`graphic`,componentIndex:n.componentIndex,name:t.name}),a&&(a.info=r.info)}function install$45(t){t.registerComponentModel(GraphicComponentModel),t.registerComponentView(GraphicComponentView),t.registerPreprocessor(function(t){var n=t.graphic;isArray$1(n)?!n[0]||!n[0].elements?t.graphic=[{elements:n}]:t.graphic=[t.graphic[0]]:n&&!n.elements&&(t.graphic=[{elements:[n]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=[`x`,`y`,`radius`,`angle`,`single`],SERIES_COORDS=[`cartesian2d`,`polar`,`singleAxis`];function isCoordSupported(t){return indexOf(SERIES_COORDS,t.get(`coordinateSystem`))>=0}function getAxisMainType(t){return t+`Axis`}function findEffectedDataZooms(t,n){var r=createHashMap(),a=[],o=createHashMap();t.eachComponent({mainType:`dataZoom`,query:n},function(t){o.get(t.uid)||l(t)});var s;do s=!1,t.eachComponent(`dataZoom`,c);while(s);function c(t){!o.get(t.uid)&&u(t)&&(l(t),s=!0)}function l(t){o.set(t.uid,!0),a.push(t),d(t)}function u(t){var n=!1;return t.eachTargetAxis(function(t,a){var o=r.get(t);o&&o[a]&&(n=!0)}),n}function d(t){t.eachTargetAxis(function(t,n){(r.get(t)||r.set(t,[]))[n]=!0})}return a}function collectReferCoordSysModelInfo(t){var n=t.ecModel,r={infoList:[],infoMap:createHashMap()};return t.eachTargetAxis(function(t,a){var o=n.getComponent(getAxisMainType(t),a);if(o){var s=o.getCoordSysModel();if(s){var c=s.uid,l=r.infoMap.get(c);l||(l={model:s,axisModels:[]},r.infoList.push(l),r.infoMap.set(c,l)),l.axisModels.push(o)}}}),r}var DataZoomAxisInfo=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},t}(),DataZoomModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=[`percent`,`percent`],r}return n.prototype.init=function(t,n,r){var a=retrieveRawOption(t);this.settledOption=a,this.mergeDefaultAndTheme(t,r),this._doInit(a)},n.prototype.mergeOption=function(t){var n=retrieveRawOption(t);merge(this.option,t,!0),merge(this.settledOption,n,!0),this._doInit(n)},n.prototype._doInit=function(t){var n=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var r=this.settledOption;each$15([[`start`,`startValue`],[`end`,`endValue`]],function(t,a){this._rangePropMode[a]===`value`&&(n[t[0]]=r[t[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var t=this.get(`orient`,!0),n=this._targetAxisInfoMap=createHashMap();this._fillSpecifiedTargetAxis(n)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||`horizontal`,this._fillAutoTargetAxisByOrient(n,this._orient)),this._noTarget=!0,n.each(function(t){t.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(t){var n=!1;return each$15(DATA_ZOOM_AXIS_DIMENSIONS,function(r){var a=this.getReferringComponents(getAxisMainType(r),MULTIPLE_REFERRING);if(a.specified){n=!0;var o=new DataZoomAxisInfo;each$15(a.models,function(t){o.add(t.componentIndex)}),t.set(r,o)}},this),n},n.prototype._fillAutoTargetAxisByOrient=function(t,n){var r=this.ecModel,a=!0;if(a){var o=n===`vertical`?`y`:`x`,s=r.findComponents({mainType:o+`Axis`});c(s,o)}if(a){var s=r.findComponents({mainType:`singleAxis`,filter:function(t){return t.get(`orient`,!0)===n}});c(s,`single`)}function c(n,r){var o=n[0];if(o){var s=new DataZoomAxisInfo;if(s.add(o.componentIndex),t.set(r,s),a=!1,r===`x`||r===`y`){var c=o.getReferringComponents(`grid`,SINGLE_REFERRING).models[0];c&&each$15(n,function(t){o.componentIndex!==t.componentIndex&&c===t.getReferringComponents(`grid`,SINGLE_REFERRING).models[0]&&s.add(t.componentIndex)})}}}a&&each$15(DATA_ZOOM_AXIS_DIMENSIONS,function(n){if(a){var o=r.findComponents({mainType:getAxisMainType(n),filter:function(t){return t.get(`type`,!0)===`category`}});if(o[0]){var s=new DataZoomAxisInfo;s.add(o[0].componentIndex),t.set(n,s),a=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(n){!t&&(t=n)},this),t===`y`?`vertical`:`horizontal`},n.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty(`throttle`)&&(this._autoThrottle=!1),this._autoThrottle){var n=this.ecModel.option;this.option.throttle=n.animation&&n.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(t){var n=this._rangePropMode,r=this.get(`rangeMode`);each$15([[`start`,`startValue`],[`end`,`endValue`]],function(a,o){var s=t[a[0]]!=null,c=t[a[1]]!=null;s&&!c?n[o]=`percent`:!s&&c?n[o]=`value`:r?n[o]=r[o]:s&&(n[o]=`percent`)})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(n,r){t??=this.ecModel.getComponent(getAxisMainType(n),r)},this),t},n.prototype.eachTargetAxis=function(t,n){this._targetAxisInfoMap.each(function(r,a){each$15(r.indexList,function(r){t.call(n,a,r)})})},n.prototype.getAxisProxy=function(t,n){var r=this.getAxisModel(t,n);if(r)return r.__dzAxisProxy},n.prototype.getAxisModel=function(t,n){var r=this._targetAxisInfoMap.get(t);if(r&&r.indexMap[n])return this.ecModel.getComponent(getAxisMainType(t),n)},n.prototype.setRawRange=function(t){var n=this.option,r=this.settledOption;each$15([[`start`,`startValue`],[`end`,`endValue`]],function(a){(t[a[0]]!=null||t[a[1]]!=null)&&(n[a[0]]=r[a[0]]=t[a[0]],n[a[1]]=r[a[1]]=t[a[1]])},this),this._updateRangeUse(t)},n.prototype.setCalculatedRange=function(t){var n=this.option;each$15([`start`,`startValue`,`end`,`endValue`],function(r){n[r]=t[r]})},n.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},n.prototype.getValueRange=function(t,n){if(t==null&&n==null){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataValueWindow()}else return this.getAxisProxy(t,n).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var n,r=this._targetAxisInfoMap.keys(),a=0;a<r.length;a++)for(var o=r[a],s=this._targetAxisInfoMap.get(o),c=0;c<s.indexList.length;c++){var l=this.getAxisProxy(o,s.indexList[c]);if(l.hostedBy(this))return l;n||=l}return n},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type=`dataZoom`,n.dependencies=[`xAxis`,`yAxis`,`radiusAxis`,`angleAxis`,`singleAxis`,`series`,`toolbox`],n.defaultOption={z:4,filterMode:`filter`,start:0,end:100},n}(Component_default$1);function retrieveRawOption(t){var n={};return each$15([`start`,`end`,`startValue`,`endValue`,`throttle`],function(r){t.hasOwnProperty(r)&&(n[r]=t[r])}),n}var DataZoomModel_default=DataZoomModel,SelectZoomModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`dataZoom.select`,n}(DataZoomModel_default),DataZoomView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r,a){this.dataZoomModel=t,this.ecModel=n,this.api=r},n.type=`dataZoom`,n}(Component_default),SelectZoomView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`dataZoom.select`,n}(DataZoomView_default),each$10=each$15,asc$1=asc$2,AxisProxy=function(){function t(t,n,r,a){this._dimName=t,this._axisIndex=n,this.ecModel=a,this._dataZoomModel=r}return t.prototype.hostedBy=function(t){return this._dataZoomModel===t},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(n){if(isCoordSupported(n)){var r=getAxisMainType(this._dimName),a=n.getReferringComponents(r,SINGLE_REFERRING).models[0];a&&this._axisIndex===a.componentIndex&&t.push(n)}},this),t},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+`Axis`,this._axisIndex)},t.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},t.prototype.calculateDataWindow=function(t){var n=this._dataExtent,r=this.getAxisModel().axis.scale,a=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],c=[],l;each$10([`start`,`end`],function(u,d){var f=t[u],p=t[u+`Value`];a[d]===`percent`?(f??=o[d],p=r.parse(linearMap$2(f,o,n))):(l=!0,p=p==null?n[d]:r.parse(p),f=linearMap$2(p,n,o)),c[d]=p==null||isNaN(p)?n[d]:p,s[d]=f==null||isNaN(f)?o[d]:f}),asc$1(c),asc$1(s);var u=this._minMaxSpan;l?d(c,s,n,o,!1):d(s,c,o,n,!0);function d(t,n,a,o,s){var c=s?`Span`:`ValueSpan`;sliderMove(0,t,a,`all`,u[`min`+c],u[`max`+c]);for(var l=0;l<2;l++)n[l]=linearMap$2(t[l],a,o,!0),s&&(n[l]=r.parse(n[l]))}return{valueWindow:c,percentWindow:s}},t.prototype.reset=function(t){if(t===this._dataZoomModel){var n=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,n),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(t,n){if(t!==this._dataZoomModel)return;var r=this._dimName,a=this.getTargetSeriesModels(),o=t.get(`filterMode`),s=this._valueWindow;if(o===`none`)return;each$10(a,function(t){var n=t.getData(),a=n.mapDimensionsAll(r);if(a.length){if(o===`weakFilter`){var l=n.getStore(),u=map$1(a,function(t){return n.getDimensionIndex(t)},n);n.filterSelf(function(t){for(var n,r,o,c=0;c<a.length;c++){var d=l.get(u[c],t),f=!isNaN(d),p=d<s[0],g=d>s[1];if(f&&!p&&!g)return!0;f&&(o=!0),p&&(n=!0),g&&(r=!0)}return o&&n&&r})}else each$10(a,function(r){if(o===`empty`)t.setData(n=n.map(r,function(t){return c(t)?t:NaN}));else{var a={};a[r]=s,n.selectRange(a)}});each$10(a,function(t){n.setApproximateExtent(s,t)})}});function c(t){return t>=s[0]&&t<=s[1]}},t.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},n=this._dataZoomModel,r=this._dataExtent;each$10([`min`,`max`],function(a){var o=n.get(a+`Span`),s=n.get(a+`ValueSpan`);s!=null&&(s=this.getAxisModel().axis.scale.parse(s)),s==null?o!=null&&(s=linearMap$2(o,[0,100],r,!0)-r[0]):o=linearMap$2(r[0]+s,r,[0,100],!0),t[a+`Span`]=o,t[a+`ValueSpan`]=s},this)},t.prototype._setAxisModel=function(){var t=this.getAxisModel(),n=this._percentWindow,r=this._valueWindow;if(n){var a=getPixelPrecision(r,[0,500]);a=Math.min(a,20);var o=t.axis.scale.rawExtentInfo;n[0]!==0&&o.setDeterminedMinMax(`min`,+r[0].toFixed(a)),n[1]!==100&&o.setDeterminedMinMax(`max`,+r[1].toFixed(a)),o.freeze()}},t}();function calculateDataExtent(t,n,r){var a=[1/0,-1/0];each$10(r,function(t){unionAxisExtentFromData(a,t.getData(),n)});var o=t.getAxisModel(),s=ensureScaleRawExtentInfo(o.axis.scale,o,a).calculate();return[s.min,s.max]}var AxisProxy_default=AxisProxy,dataZoomProcessor_default={getTargetSeries:function(t){function n(n){t.eachComponent(`dataZoom`,function(r){r.eachTargetAxis(function(a,o){n(a,o,t.getComponent(getAxisMainType(a),o),r)})})}n(function(t,n,r,a){r.__dzAxisProxy=null});var r=[];n(function(n,a,o,s){o.__dzAxisProxy||(o.__dzAxisProxy=new AxisProxy_default(n,a,s,t),r.push(o.__dzAxisProxy))});var a=createHashMap();return each$15(r,function(t){each$15(t.getTargetSeriesModels(),function(t){a.set(t.uid,t)})}),a},overallReset:function(t,n){t.eachComponent(`dataZoom`,function(t){t.eachTargetAxis(function(n,r){t.getAxisProxy(n,r).reset(t)}),t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).filterData(t,n)})}),t.eachComponent(`dataZoom`,function(t){var n=t.findRepresentativeAxisProxy();if(n){var r=n.getDataPercentWindow(),a=n.getDataValueWindow();t.setCalculatedRange({start:r[0],end:r[1],startValue:a[0],endValue:a[1]})}})}};function installDataZoomAction(t){t.registerAction(`dataZoom`,function(t,n){each$15(findEffectedDataZooms(n,t),function(n){n.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}var installed$1=!1;function installCommon$1(t){installed$1||(installed$1=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor_default),installDataZoomAction(t),t.registerSubTypeDefaulter(`dataZoom`,function(){return`slider`}))}function install$44(t){t.registerComponentModel(SelectZoomModel_default),t.registerComponentView(SelectZoomView_default),installCommon$1(t)}var ToolboxFeature=function(){function t(){}return t}(),features$1={};function registerFeature(t,n){features$1[t]=n}function getFeature(t){return features$1[t]}var ToolboxModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var n=this.ecModel;each$15(this.option.feature,function(t,r){var a=getFeature(r);a&&(a.getDefaultOption&&(a.defaultOption=a.getDefaultOption(n)),merge(t,a.defaultOption))})},n.type=`toolbox`,n.layoutMode={type:`box`,ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:`horizontal`,left:`right`,top:`top`,backgroundColor:`transparent`,borderColor:`#ccc`,borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:`#666`,color:`none`},emphasis:{iconStyle:{borderColor:`#3E98C5`}},tooltip:{show:!1,position:`bottom`}},n}(Component_default$1);function layout(t,n,r){var a=n.getBoxLayoutParams(),o=n.get(`padding`),s={width:r.getWidth(),height:r.getHeight()},c=getLayoutRect(a,s,o);box(n.get(`orient`),t,n.get(`itemGap`),c.width,c.height),positionElement(t,a,s,o)}function makeBackground(t,n){var r=normalizeCssArray(n.get(`padding`)),a=n.getItemStyle([`color`,`opacity`]);return a.fill=n.get(`backgroundColor`),t=new Rect_default({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:n.get(`borderRadius`)},style:a,silent:!0,z2:-1}),t}var ToolboxView=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(t,n,r,a){var o=this.group;if(o.removeAll(),!t.get(`show`))return;var s=+t.get(`itemSize`),c=t.get(`orient`)===`vertical`,l=t.get(`feature`)||{},u=this._features||={},d=[];each$15(l,function(t,n){d.push(n)}),new DataDiffer_default(this._featureNames||[],d).add(f).update(f).remove(curry$1(f,null)).execute(),this._featureNames=d;function f(o,s){var c=d[o],f=d[s],g=l[c],_=new Model_default(g,t,t.ecModel),v;if(a&&a.newTitle!=null&&a.featureName===c&&(g.title=a.newTitle),c&&!f){if(isUserFeatureName(c))v={onclick:_.option.onclick,featureName:c};else{var y=getFeature(c);if(!y)return;v=new y}u[c]=v}else if(v=u[f],!v)return;v.uid=getUID(`toolbox-feature`),v.model=_,v.ecModel=n,v.api=r;var b=v instanceof ToolboxFeature;if(!c&&f){b&&v.dispose&&v.dispose(n,r);return}if(!_.get(`show`)||b&&v.unusable){b&&v.remove&&v.remove(n,r);return}p(_,v,c),_.setIconStatus=function(t,n){var r=this.option,a=this.iconPaths;r.iconStatus=r.iconStatus||{},r.iconStatus[t]=n,a[t]&&(n===`emphasis`?enterEmphasis:leaveEmphasis)(a[t])},v instanceof ToolboxFeature&&v.render&&v.render(_,n,r,a)}function p(a,l,u){var d=a.getModel(`iconStyle`),f=a.getModel([`emphasis`,`iconStyle`]),p=l instanceof ToolboxFeature&&l.getIcons?l.getIcons():a.get(`icon`),g=a.get(`title`)||{},_,v;isString(p)?(_={},_[u]=p):_=p,isString(g)?(v={},v[u]=g):v=g;var y=a.iconPaths={};each$15(_,function(u,p){var g=createIcon(u,{},{x:-s/2,y:-s/2,width:s,height:s});g.setStyle(d.getItemStyle());var _=g.ensureState(`emphasis`);_.style=f.getItemStyle();var b=new Text_default({style:{text:v[p],align:f.get(`textAlign`),borderRadius:f.get(`textBorderRadius`),padding:f.get(`textPadding`),fill:null,font:getFont({fontStyle:f.get(`textFontStyle`),fontFamily:f.get(`textFontFamily`),fontSize:f.get(`textFontSize`),fontWeight:f.get(`textFontWeight`)},n)},ignore:!0});g.setTextContent(b),setTooltipConfig({el:g,componentModel:t,itemName:p,formatterParamsExtra:{title:v[p]}}),g.__title=v[p],g.on(`mouseover`,function(){var n=f.getItemStyle(),a=c?t.get(`right`)==null&&t.get(`left`)!==`right`?`right`:`left`:t.get(`bottom`)==null&&t.get(`top`)!==`bottom`?`bottom`:`top`;b.setStyle({fill:f.get(`textFill`)||n.fill||n.stroke||`#000`,backgroundColor:f.get(`textBackgroundColor`)}),g.setTextConfig({position:f.get(`textPosition`)||a}),b.ignore=!t.get(`showTitle`),r.enterEmphasis(this)}).on(`mouseout`,function(){a.get([`iconStatus`,p])!==`emphasis`&&r.leaveEmphasis(this),b.hide()}),(a.get([`iconStatus`,p])===`emphasis`?enterEmphasis:leaveEmphasis)(g),o.add(g),g.on(`click`,bind$1(l.onclick,l,n,r,p)),y[p]=g})}layout(o,t,r),o.add(makeBackground(o.getBoundingRect(),t)),c||o.eachChild(function(t){var n=t.__title,a=t.ensureState(`emphasis`),c=a.textConfig||={},l=t.getTextContent(),u=l&&l.ensureState(`emphasis`);if(u&&!isFunction(u)&&n){var d=u.style||={},f=getBoundingRect(n,Text_default.makeFont(d)),p=t.x+o.x,g=t.y+o.y+s,_=!1;g+f.height>r.getHeight()&&(c.position=`top`,_=!0);var v=_?-5-f.height:s+10;p+f.width/2>r.getWidth()?(c.position=[`100%`,v],d.align=`right`):p-f.width/2<0&&(c.position=[0,v],d.align=`left`)}})},n.prototype.updateView=function(t,n,r,a){each$15(this._features,function(t){t instanceof ToolboxFeature&&t.updateView&&t.updateView(t.model,n,r,a)})},n.prototype.remove=function(t,n){each$15(this._features,function(r){r instanceof ToolboxFeature&&r.remove&&r.remove(t,n)}),this.group.removeAll()},n.prototype.dispose=function(t,n){each$15(this._features,function(r){r instanceof ToolboxFeature&&r.dispose&&r.dispose(t,n)})},n.type=`toolbox`,n}(Component_default);function isUserFeatureName(t){return t.indexOf(`my`)===0}var ToolboxView_default=ToolboxView,SaveAsImage_default=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.onclick=function(t,n){var r=this.model,a=r.get(`name`)||t.get(`title.0.text`)||`echarts`,o=n.getZr().painter.getType()===`svg`,s=o?`svg`:r.get(`type`,!0)||`png`,c=n.getConnectedDataURL({type:s,backgroundColor:r.get(`backgroundColor`,!0)||t.get(`backgroundColor`)||`#fff`,connectedBackgroundColor:r.get(`connectedBackgroundColor`),excludeComponents:r.get(`excludeComponents`),pixelRatio:r.get(`pixelRatio`)}),l=env_default.browser;if(typeof MouseEvent==`function`&&(l.newEdge||!l.ie&&!l.edge)){var u=document.createElement(`a`);u.download=a+`.`+s,u.target=`_blank`,u.href=c;var d=new MouseEvent(`click`,{view:document.defaultView,bubbles:!0,cancelable:!1});u.dispatchEvent(d)}else if(window.navigator.msSaveOrOpenBlob||o){var f=c.split(`,`),p=f[0].indexOf(`base64`)>-1,g=o?decodeURIComponent(f[1]):f[1];p&&(g=window.atob(g));var _=a+`.`+s;if(window.navigator.msSaveOrOpenBlob){for(var v=g.length,y=new Uint8Array(v);v--;)y[v]=g.charCodeAt(v);var b=new Blob([y]);window.navigator.msSaveOrOpenBlob(b,_)}else{var x=document.createElement(`iframe`);document.body.appendChild(x);var S=x.contentWindow,C=S.document;C.open(`image/svg+xml`,`replace`),C.write(g),C.close(),S.focus(),C.execCommand(`SaveAs`,!0,_),document.body.removeChild(x)}}else{var w=r.get(`lang`),T=`<body style="margin:0;"><img src="`+c+`" style="max-width:100%;" title="`+(w&&w[0]||``)+`" /></body>`,E=window.open();E.document.write(T),E.document.title=a}},n.getDefaultOption=function(t){return{show:!0,icon:`M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0`,title:t.getLocaleModel().get([`toolbox`,`saveAsImage`,`title`]),type:`png`,connectedBackgroundColor:`#fff`,name:``,excludeComponents:[`toolbox`],lang:t.getLocaleModel().get([`toolbox`,`saveAsImage`,`lang`])}},n}(ToolboxFeature),INNER_STACK_KEYWORD=`__ec_magicType_stack__`,radioTypes=[[`line`,`bar`],[`stack`]],MagicType=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getIcons=function(){var t=this.model,n=t.get(`icon`),r={};return each$15(t.get(`type`),function(t){n[t]&&(r[t]=n[t])}),r},n.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:`M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4`,bar:`M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7`,stack:`M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z`},title:t.getLocaleModel().get([`toolbox`,`magicType`,`title`]),option:{},seriesIndex:{}}},n.prototype.onclick=function(t,n,r){var a=this.model,o=a.get([`seriesIndex`,r]);if(seriesOptGenreator[r]){var s={series:[]};each$15(radioTypes,function(t){indexOf(t,r)>=0&&each$15(t,function(t){a.setIconStatus(t,`normal`)})}),a.setIconStatus(r,`emphasis`),t.eachComponent({mainType:`series`,query:o==null?null:{seriesIndex:o}},function(t){var n=t.subType,o=t.id,c=seriesOptGenreator[r](n,o,t,a);c&&(defaults(c,t.option),s.series.push(c));var l=t.coordinateSystem;if(l&&l.type===`cartesian2d`&&(r===`line`||r===`bar`)){var u=l.getAxesByScale(`ordinal`)[0];if(u){var d=u.dim+`Axis`,f=t.getReferringComponents(d,SINGLE_REFERRING).models[0].componentIndex;s[d]=s[d]||[];for(var p=0;p<=f;p++)s[d][f]=s[d][f]||{};s[d][f].boundaryGap=r===`bar`}}});var c,l=r;r===`stack`&&(c=merge({stack:a.option.title.tiled,tiled:a.option.title.stack},a.option.title),a.get([`iconStatus`,r])!==`emphasis`&&(l=`tiled`)),n.dispatchAction({type:`changeMagicType`,currentType:l,newOption:s,newTitle:c,featureName:`magicType`})}},n}(ToolboxFeature),seriesOptGenreator={line:function(t,n,r,a){if(t===`bar`)return merge({id:n,type:`line`,data:r.get(`data`),stack:r.get(`stack`),markPoint:r.get(`markPoint`),markLine:r.get(`markLine`)},a.get([`option`,`line`])||{},!0)},bar:function(t,n,r,a){if(t===`line`)return merge({id:n,type:`bar`,data:r.get(`data`),stack:r.get(`stack`),markPoint:r.get(`markPoint`),markLine:r.get(`markLine`)},a.get([`option`,`bar`])||{},!0)},stack:function(t,n,r,a){var o=r.get(`stack`)===INNER_STACK_KEYWORD;if(t===`line`||t===`bar`)return a.setIconStatus(`stack`,o?`normal`:`emphasis`),merge({id:n,stack:o?``:INNER_STACK_KEYWORD},a.get([`option`,`stack`])||{},!0)}};registerAction({type:`changeMagicType`,event:`magicTypeChanged`,update:`prepareAndUpdate`},function(t,n){n.mergeOption(t.newOption)});var MagicType_default=MagicType,BLOCK_SPLITER=Array(60).join(`-`),ITEM_SPLITER=`	`;function groupSeries(t){var n={},r=[],a=[];return t.eachRawSeries(function(t){var o=t.coordinateSystem;if(o&&(o.type===`cartesian2d`||o.type===`polar`)){var s=o.getBaseAxis();if(s.type===`category`){var c=s.dim+`_`+s.index;n[c]||(n[c]={categoryAxis:s,valueAxis:o.getOtherAxis(s),series:[]},a.push({axisDim:s.dim,axisIndex:s.index})),n[c].series.push(t)}else r.push(t)}else r.push(t)}),{seriesGroupByCategoryAxis:n,other:r,meta:a}}function assembleSeriesWithCategoryAxis(t){var n=[];return each$15(t,function(t,r){var a=t.categoryAxis,o=t.valueAxis.dim,s=[` `].concat(map$1(t.series,function(t){return t.name})),c=[a.model.getCategories()];each$15(t.series,function(t){var n=t.getRawData();c.push(t.getRawData().mapArray(n.mapDimension(o),function(t){return t}))});for(var l=[s.join(ITEM_SPLITER)],u=0;u<c[0].length;u++){for(var d=[],f=0;f<c.length;f++)d.push(c[f][u]);l.push(d.join(ITEM_SPLITER))}n.push(l.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(t){return map$1(t,function(t){var n=t.getRawData(),r=[t.name],a=[];return n.each(n.dimensions,function(){for(var t=arguments.length,o=arguments[t-1],s=n.getName(o),c=0;c<t-1;c++)a[c]=arguments[c];r.push((s?s+ITEM_SPLITER:``)+a.join(ITEM_SPLITER))}),r.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(t){var n=groupSeries(t);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(t){return!!t.replace(/[\n\t\s]/g,``)}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim(t){return t.replace(/^\s\s*/,``).replace(/\s\s*$/,``)}function isTSVFormat(t){if(t.slice(0,t.indexOf(`
`)).indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=RegExp(`[`+ITEM_SPLITER+`]+`,`g`);function parseTSVContents(t){for(var n=t.split(/\n+/g),r=trim(n.shift()).split(itemSplitRegex),a=[],o=map$1(r,function(t){return{name:t,data:[]}}),s=0;s<n.length;s++){var c=trim(n[s]).split(itemSplitRegex);a.push(c.shift());for(var l=0;l<c.length;l++)o[l]&&(o[l].data[s]=c[l])}return{series:o,categories:a}}function parseListContents(t){for(var n=t.split(/\n+/g),r=trim(n.shift()),a=[],o=0;o<n.length;o++){var s=trim(n[o]);if(s){var c=s.split(itemSplitRegex),l=``,u=void 0,d=!1;isNaN(c[0])?(d=!0,l=c[0],c=c.slice(1),a[o]={name:l,value:[]},u=a[o].value):u=a[o]=[];for(var f=0;f<c.length;f++)u.push(+c[f]);u.length===1&&(d?a[o].value=u[0]:a[o]=u[0])}}return{name:r,data:a}}function parseContents(t,n){var r=t.split(RegExp(`
*`+BLOCK_SPLITER+`
*`,`g`)),a={series:[]};return each$15(r,function(t,r){if(isTSVFormat(t)){var o=parseTSVContents(t),s=n[r],c=s.axisDim+`Axis`;s&&(a[c]=a[c]||[],a[c][s.axisIndex]={data:o.categories},a.series=a.series.concat(o.series))}else{var o=parseListContents(t);a.series.push(o)}}),a}var DataView=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.onclick=function(t,n){setTimeout(function(){n.dispatchAction({type:`hideTip`})});var r=n.getDom(),a=this.model;this._dom&&r.removeChild(this._dom);var o=document.createElement(`div`);o.style.cssText=`position:absolute;top:0;bottom:0;left:0;right:0;padding:5px`,o.style.backgroundColor=a.get(`backgroundColor`)||`#fff`;var s=document.createElement(`h4`),c=a.get(`lang`)||[];s.innerHTML=c[0]||a.get(`title`),s.style.cssText=`margin:10px 20px`,s.style.color=a.get(`textColor`);var l=document.createElement(`div`),u=document.createElement(`textarea`);l.style.cssText=`overflow:auto`;var d=a.get(`optionToContent`),f=a.get(`contentToOption`),p=getContentFromModel(t);if(isFunction(d)){var g=d(n.getOption());isString(g)?l.innerHTML=g:isDom(g)&&l.appendChild(g)}else{u.readOnly=a.get(`readOnly`);var _=u.style;_.cssText=`display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none`,_.color=a.get(`textColor`),_.borderColor=a.get(`textareaBorderColor`),_.backgroundColor=a.get(`textareaColor`),u.value=p.value,l.appendChild(u)}var v=p.meta,y=document.createElement(`div`);y.style.cssText=`position:absolute;bottom:5px;left:0;right:0`;var b=`float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px`,x=document.createElement(`div`),S=document.createElement(`div`);b+=`;background-color:`+a.get(`buttonColor`),b+=`;color:`+a.get(`buttonTextColor`);var C=this;function w(){r.removeChild(o),C._dom=null}addEventListener(x,`click`,w),addEventListener(S,`click`,function(){if(f==null&&d!=null||f!=null&&d==null){w();return}var t;try{t=isFunction(f)?f(l,n.getOption()):parseContents(u.value,v)}catch(t){throw w(),Error(`Data view format error `+t)}t&&n.dispatchAction({type:`changeDataView`,newOption:t}),w()}),x.innerHTML=c[1],S.innerHTML=c[2],S.style.cssText=x.style.cssText=b,!a.get(`readOnly`)&&y.appendChild(S),y.appendChild(x),o.appendChild(s),o.appendChild(l),o.appendChild(y),l.style.height=r.clientHeight-80+`px`,r.appendChild(o),this._dom=o},n.prototype.remove=function(t,n){this._dom&&n.getDom().removeChild(this._dom)},n.prototype.dispose=function(t,n){this.remove(t,n)},n.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:`M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28`,title:t.getLocaleModel().get([`toolbox`,`dataView`,`title`]),lang:t.getLocaleModel().get([`toolbox`,`dataView`,`lang`]),backgroundColor:`#fff`,textColor:`#000`,textareaColor:`#fff`,textareaBorderColor:`#333`,buttonColor:`#c23531`,buttonTextColor:`#fff`}},n}(ToolboxFeature);function tryMergeDataOption(t,n){return map$1(t,function(t,r){var a=n&&n[r];if(isObject$3(a)&&!isArray$1(a)){isObject$3(t)&&!isArray$1(t)||(t={value:t});var o=a.name!=null&&t.name==null;return t=defaults(t,a),o&&delete t.name,t}else return t})}registerAction({type:`changeDataView`,event:`dataViewChanged`,update:`prepareAndUpdate`},function(t,n){var r=[];each$15(t.newOption.series,function(t){var a=n.getSeriesByName(t.name)[0];if(!a)r.push(extend({type:`scatter`},t));else{var o=a.get(`data`);r.push({name:t.name,data:tryMergeDataOption(t.data,o)})}}),n.mergeOption(defaults({series:r},t.newOption))});var DataView_default=DataView,each$9=each$15,inner$9=makeInner();function push(t,n){var r=getStoreSnapshots(t);each$9(n,function(n,a){for(var o=r.length-1;o>=0&&!r[o][a];o--);if(o<0){var s=t.queryComponents({mainType:`dataZoom`,subType:`select`,id:a})[0];if(s){var c=s.getPercentRange();r[0][a]={dataZoomId:a,start:c[0],end:c[1]}}}}),r.push(n)}function pop(t){var n=getStoreSnapshots(t),r=n[n.length-1];n.length>1&&n.pop();var a={};return each$9(r,function(t,r){for(var o=n.length-1;o>=0;o--)if(t=n[o][r],t){a[r]=t;break}}),a}function clear(t){inner$9(t).snapshots=null}function count(t){return getStoreSnapshots(t).length}function getStoreSnapshots(t){var n=inner$9(t);return n.snapshots||=[{}],n.snapshots}var RestoreOption=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.onclick=function(t,n){clear(t),n.dispatchAction({type:`restore`,from:this.uid})},n.getDefaultOption=function(t){return{show:!0,icon:`M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5`,title:t.getLocaleModel().get([`toolbox`,`restore`,`title`])}},n}(ToolboxFeature);registerAction({type:`restore`,event:`restore`,update:`prepareAndUpdate`},function(t,n){n.resetOption(`recreate`)});var Restore_default=RestoreOption,INCLUDE_FINDER_MAIN_TYPES=[`grid`,`xAxis`,`yAxis`,`geo`,`graph`,`polar`,`radiusAxis`,`angleAxis`,`bmap`],BrushTargetManager=function(){function t(t,n,r){var a=this;this._targetInfoList=[];var o=parseFinder(n,t);each$15(targetInfoBuilders,function(t,n){(!r||!r.include||indexOf(r.include,n)>=0)&&t(o,a._targetInfoList)})}return t.prototype.setOutputRanges=function(t,n){return this.matchOutputRanges(t,n,function(t,n,r){if((t.coordRanges||=[]).push(n),!t.coordRange){t.coordRange=n;var a=coordConvert[t.brushType](0,r,n);t.__rangeOffset={offset:diffProcessor[t.brushType](a.values,t.range,[1,1]),xyMinMax:a.xyMinMax}}}),t},t.prototype.matchOutputRanges=function(t,n,r){each$15(t,function(t){var a=this.findTargetInfo(t,n);a&&a!==!0&&each$15(a.coordSyses,function(a){r(t,coordConvert[t.brushType](1,a,t.range,!0).values,a,n)})},this)},t.prototype.setInputRanges=function(t,n){each$15(t,function(t){var r=this.findTargetInfo(t,n);if(t.range=t.range||[],r&&r!==!0){t.panelId=r.panelId;var a=coordConvert[t.brushType](0,r.coordSys,t.coordRange),o=t.__rangeOffset;t.range=o?diffProcessor[t.brushType](a.values,o.offset,getScales(a.xyMinMax,o.xyMinMax)):a.values}},this)},t.prototype.makePanelOpts=function(t,n){return map$1(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:n?n(r):null,clipPath:makeRectPanelClipPath(a),isTargetByCursor:makeRectIsTargetByCursor(a,t,r.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(a)}})},t.prototype.controlSeries=function(t,n,r){var a=this.findTargetInfo(t,r);return a===!0||a&&indexOf(a.coordSyses,n.coordinateSystem)>=0},t.prototype.findTargetInfo=function(t,n){for(var r=this._targetInfoList,a=parseFinder(n,t),o=0;o<r.length;o++){var s=r[o],c=t.panelId;if(c){if(s.panelId===c)return s}else for(var l=0;l<targetInfoMatchers.length;l++)if(targetInfoMatchers[l](a,s))return s}return!0},t}();function formatMinMax(t){return t[0]>t[1]&&t.reverse(),t}function parseFinder(t,n){return parseFinder$1(t,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(t,n){var r=t.xAxisModels,a=t.yAxisModels,o=t.gridModels,s=createHashMap(),c={},l={};!r&&!a&&!o||(each$15(r,function(t){var n=t.axis.grid.model;s.set(n.id,n),c[n.id]=!0}),each$15(a,function(t){var n=t.axis.grid.model;s.set(n.id,n),l[n.id]=!0}),each$15(o,function(t){s.set(t.id,t),c[t.id]=!0,l[t.id]=!0}),s.each(function(t){var o=t.coordinateSystem,s=[];each$15(o.getCartesians(),function(t,n){(indexOf(r,t.getAxis(`x`).model)>=0||indexOf(a,t.getAxis(`y`).model)>=0)&&s.push(t)}),n.push({panelId:`grid--`+t.id,gridModel:t,coordSysModel:t,coordSys:s[0],coordSyses:s,getPanelRect:panelRectBuilders.grid,xAxisDeclared:c[t.id],yAxisDeclared:l[t.id]})}))},geo:function(t,n){each$15(t.geoModels,function(t){var r=t.coordinateSystem;n.push({panelId:`geo--`+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(t,n){var r=t.xAxisModel,a=t.yAxisModel,o=t.gridModel;return!o&&r&&(o=r.axis.grid.model),!o&&a&&(o=a.axis.grid.model),o&&o===n.gridModel},function(t,n){var r=t.geoModel;return r&&r===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,n=t.getBoundingRect().clone();return n.applyTransform(getTransform$1(t)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(t,n,r,a){var o=t?n.pointToData([r[0][0],r[1][0]],a):n.dataToPoint([r[0][0],r[1][0]],a),s=t?n.pointToData([r[0][1],r[1][1]],a):n.dataToPoint([r[0][1],r[1][1]],a),c=[formatMinMax([o[0],s[0]]),formatMinMax([o[1],s[1]])];return{values:c,xyMinMax:c}},polygon:function(t,n,r,a){var o=[[1/0,-1/0],[1/0,-1/0]];return{values:map$1(r,function(r){var s=t?n.pointToData(r,a):n.dataToPoint(r,a);return o[0][0]=Math.min(o[0][0],s[0]),o[1][0]=Math.min(o[1][0],s[1]),o[0][1]=Math.max(o[0][1],s[0]),o[1][1]=Math.max(o[1][1],s[1]),s}),xyMinMax:o}}};function axisConvert(t,n,r,a){var o=r.getAxis([`x`,`y`][t]),s=formatMinMax(map$1([0,1],function(t){return n?o.coordToData(o.toLocalCoord(a[t]),!0):o.toGlobalCoord(o.dataToCoord(a[t]))})),c=[];return c[t]=s,c[1-t]=[NaN,NaN],{values:s,xyMinMax:c}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(t,n,r){return[[t[0][0]-r[0]*n[0][0],t[0][1]-r[0]*n[0][1]],[t[1][0]-r[1]*n[1][0],t[1][1]-r[1]*n[1][1]]]},polygon:function(t,n,r){return map$1(t,function(t,a){return[t[0]-r[0]*n[a][0],t[1]-r[1]*n[a][1]]})}};function axisDiffProcessor(t,n,r,a){return[n[0]-a[t]*r[0],n[1]-a[t]*r[1]]}function getScales(t,n){var r=getSize(t),a=getSize(n),o=[r[0]/a[0],r[1]/a[1]];return isNaN(o[0])&&(o[0]=1),isNaN(o[1])&&(o[1]=1),o}function getSize(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var BrushTargetManager_default=BrushTargetManager,each$8=each$15,DATA_ZOOM_ID_BASE=makeInternalComponentId(`toolbox-dataZoom_`),DataZoomFeature=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(t,n,r,a){this._brushController||(this._brushController=new BrushController_default(r.getZr()),this._brushController.on(`brush`,bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(t,n,this,a,r),updateBackBtnStatus(t,n)},n.prototype.onclick=function(t,n,r){handlers[r].call(this)},n.prototype.remove=function(t,n){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(t,n){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(t){var n=t.areas;if(!t.isEnd||!n.length)return;var r={},a=this.ecModel;this._brushController.updateCovers([]),new BrushTargetManager_default(makeAxisFinder(this.model),a,{include:[`grid`]}).matchOutputRanges(n,a,function(t,n,r){if(r.type===`cartesian2d`){var a=t.brushType;a===`rect`?(o(`x`,r,n[0]),o(`y`,r,n[1])):o({lineX:`x`,lineY:`y`}[a],r,n)}}),push(a,r),this._dispatchZoomAction(r);function o(t,n,o){var c=n.getAxis(t),l=c.model,u=s(t,l,a),d=u.findRepresentativeAxisProxy(l).getMinMaxSpan();(d.minValueSpan!=null||d.maxValueSpan!=null)&&(o=sliderMove(0,o.slice(),c.scale.getExtent(),0,d.minValueSpan,d.maxValueSpan)),u&&(r[u.id]={dataZoomId:u.id,startValue:o[0],endValue:o[1]})}function s(t,n,r){var a;return r.eachComponent({mainType:`dataZoom`,subType:`select`},function(r){r.getAxisModel(t,n.componentIndex)&&(a=r)}),a}},n.prototype._dispatchZoomAction=function(t){var n=[];each$8(t,function(t,r){n.push(clone$4(t))}),n.length&&this.api.dispatchAction({type:`dataZoom`,from:this.uid,batch:n})},n.getDefaultOption=function(t){return{show:!0,filterMode:`filter`,icon:{zoom:`M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1`,back:`M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26`},title:t.getLocaleModel().get([`toolbox`,`dataZoom`,`title`]),brushStyle:{borderWidth:0,color:`rgba(210,219,238,0.2)`}}},n}(ToolboxFeature),handlers={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:`takeGlobalCursor`,key:`dataZoomSelect`,dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(t){var n={xAxisIndex:t.get(`xAxisIndex`,!0),yAxisIndex:t.get(`yAxisIndex`,!0),xAxisId:t.get(`xAxisId`,!0),yAxisId:t.get(`yAxisId`,!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex=`all`),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex=`all`),n}function updateBackBtnStatus(t,n){t.setIconStatus(`back`,count(n)>1?`emphasis`:`normal`)}function updateZoomBtnStatus(t,n,r,a,o){var s=r._isZoomActive;a&&a.type===`takeGlobalCursor`&&(s=a.key===`dataZoomSelect`?a.dataZoomSelectActive:!1),r._isZoomActive=s,t.setIconStatus(`zoom`,s?`emphasis`:`normal`);var c=new BrushTargetManager_default(makeAxisFinder(t),n,{include:[`grid`]}).makePanelOpts(o,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?`lineX`:!t.xAxisDeclared&&t.yAxisDeclared?`lineY`:`rect`});r._brushController.setPanels(c).enableBrush(s&&c.length?{brushType:`auto`,brushStyle:t.getModel(`brushStyle`).getItemStyle()}:!1)}registerInternalOptionCreator(`dataZoom`,function(t){var n=t.getComponent(`toolbox`,0),r=[`feature`,`dataZoom`];if(!n||n.get(r)==null)return;var a=n.getModel(r),o=[],s=parseFinder$1(t,makeAxisFinder(a));each$8(s.xAxisModels,function(t){return c(t,`xAxis`,`xAxisIndex`)}),each$8(s.yAxisModels,function(t){return c(t,`yAxis`,`yAxisIndex`)});function c(t,n,r){var s=t.componentIndex,c={type:`select`,$fromToolbox:!0,filterMode:a.get(`filterMode`,!0)||`filter`,id:DATA_ZOOM_ID_BASE+n+s};c[r]=s,o.push(c)}return o});var DataZoom_default=DataZoomFeature;function install$43(t){t.registerComponentModel(ToolboxModel_default),t.registerComponentView(ToolboxView_default),registerFeature(`saveAsImage`,SaveAsImage_default),registerFeature(`magicType`,MagicType_default),registerFeature(`dataView`,DataView_default),registerFeature(`dataZoom`,DataZoom_default),registerFeature(`restore`,Restore_default),use(install$44)}var TooltipModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`tooltip`,n.dependencies=[`axisPointer`],n.defaultOption={z:60,show:!0,showContent:!0,trigger:`item`,triggerOn:`mousemove|click`,alwaysShowContent:!1,displayMode:`single`,renderMode:`auto`,confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:`#fff`,shadowBlur:10,shadowColor:`rgba(0, 0, 0, .2)`,shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:``,axisPointer:{type:`line`,axis:`auto`,animation:`auto`,animationDurationUpdate:200,animationEasingUpdate:`exponentialOut`,crossStyle:{color:`#999`,width:1,type:`dashed`,textStyle:{}}},textStyle:{color:`#666`,fontSize:14}},n}(Component_default$1);function shouldTooltipConfine(t){var n=t.get(`confine`);return n==null?t.get(`renderMode`)===`richText`:!!n}function testStyle(t){if(env_default.domSupported){for(var n=document.documentElement.style,r=0,a=t.length;r<a;r++)if(t[r]in n)return t[r]}}var TRANSFORM_VENDOR=testStyle([`transform`,`webkitTransform`,`OTransform`,`MozTransform`,`msTransform`]),TRANSITION_VENDOR=testStyle([`webkitTransition`,`transition`,`OTransition`,`MozTransition`,`msTransition`]);function toCSSVendorPrefix(t,n){if(!t)return n;n=toCamelCase(n,!0);var r=t.indexOf(n);return t=r===-1?n:`-`+t.slice(0,r)+`-`+n,t.toLowerCase()}function getComputedStyle(t,n){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?n?r[n]:r:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,`transition`),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,`transform`),gCssText=`position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;`+(env_default.transform3dSupported?`will-change:transform;`:``);function mirrorPos(t){return t=t===`left`?`right`:t===`right`?`left`:t===`top`?`bottom`:`top`,t}function assembleArrow(t,n,r){if(!isString(r)||r===`inside`)return``;var a=t.get(`backgroundColor`),o=t.get(`borderWidth`);n=convertToColorString(n);var s=mirrorPos(r),c=Math.max(Math.round(o)*1.5,6),l=``,u=CSS_TRANSFORM_VENDOR+`:`,d;indexOf([`left`,`right`],s)>-1?(l+=`top:50%`,u+=`translateY(-50%) rotate(`+(d=s===`left`?-225:-45)+`deg)`):(l+=`left:50%`,u+=`translateX(-50%) rotate(`+(d=s===`top`?225:45)+`deg)`);var f=d*Math.PI/180,p=c+o,g=p*Math.abs(Math.cos(f))+p*Math.abs(Math.sin(f)),_=Math.round(((g-Math.SQRT2*o)/2+Math.SQRT2*o-(g-p)/2)*100)/100;l+=`;`+s+`:-`+_+`px`;var v=n+` solid `+o+`px;`;return`<div style="`+[`position:absolute;width:`+c+`px;height:`+c+`px;z-index:-1;`,l+`;`+u+`;`,`border-bottom:`+v,`border-right:`+v,`background-color:`+a+`;`].join(``)+`"></div>`}function assembleTransition(t,n){var r=`cubic-bezier(0.23,1,0.32,1)`,a=` `+t/2+`s `+r,o=`opacity`+a+`,visibility`+a;return n||(a=` `+t+`s `+r,o+=env_default.transformSupported?`,`+CSS_TRANSFORM_VENDOR+a:`,left`+a+`,top`+a),CSS_TRANSITION_VENDOR+`:`+o}function assembleTransform(t,n,r){var a=t.toFixed(0)+`px`,o=n.toFixed(0)+`px`;if(!env_default.transformSupported)return r?`top:`+o+`;left:`+a+`;`:[[`top`,o],[`left`,a]];var s=env_default.transform3dSupported,c=`translate`+(s?`3d`:``)+`(`+a+`,`+o+(s?`,0`:``)+`)`;return r?`top:0;left:0;`+CSS_TRANSFORM_VENDOR+`:`+c+`;`:[[`top`,0],[`left`,0],[TRANSFORM_VENDOR,c]]}function assembleFont(t){var n=[],r=t.get(`fontSize`),a=t.getTextColor();a&&n.push(`color:`+a),n.push(`font:`+t.getFont());var o=retrieve2(t.get(`lineHeight`),Math.round(r*3/2));r&&n.push(`line-height:`+o+`px`);var s=t.get(`textShadowColor`),c=t.get(`textShadowBlur`)||0,l=t.get(`textShadowOffsetX`)||0,u=t.get(`textShadowOffsetY`)||0;return s&&c&&n.push(`text-shadow:`+l+`px `+u+`px `+c+`px `+s),each$15([`decoration`,`align`],function(r){var a=t.get(r);a&&n.push(`text-`+r+`:`+a)}),n.join(`;`)}function assembleCssText(t,n,r){var a=[],o=t.get(`transitionDuration`),s=t.get(`backgroundColor`),c=t.get(`shadowBlur`),l=t.get(`shadowColor`),u=t.get(`shadowOffsetX`),d=t.get(`shadowOffsetY`),f=t.getModel(`textStyle`),p=getPaddingFromTooltipModel(t,`html`),g=u+`px `+d+`px `+c+`px `+l;return a.push(`box-shadow:`+g),n&&o&&a.push(assembleTransition(o,r)),s&&a.push(`background-color:`+s),each$15([`width`,`color`,`radius`],function(n){var r=`border-`+n,o=toCamelCase(r),s=t.get(o);s!=null&&a.push(r+`:`+s+(n===`color`?``:`px`))}),a.push(assembleFont(f)),p!=null&&a.push(`padding:`+normalizeCssArray(p).join(`px `)+`px`),a.join(`;`)+`;`}function makeStyleCoord$1(t,n,r,a,o){var s=n&&n.painter;if(r){var c=s&&s.getViewportRoot();c&&transformLocalCoord(t,c,r,a,o)}else{t[0]=a,t[1]=o;var l=s&&s.getViewportRootOffset();l&&(t[0]+=l.offsetLeft,t[1]+=l.offsetTop)}t[2]=t[0]/n.getWidth(),t[3]=t[1]/n.getHeight()}var TooltipHTMLContent_default=function(){function t(t,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env_default.wxa)return null;var r=document.createElement(`div`);r.domBelongToZr=!0,this.el=r;var a=this._zr=t.getZr(),o=n.appendTo,s=o&&(isString(o)?document.querySelector(o):isDom(o)?o:isFunction(o)&&o(t.getDom()));makeStyleCoord$1(this._styleCoord,a,s,t.getWidth()/2,t.getHeight()/2),(s||t.getDom()).appendChild(r),this._api=t,this._container=s;var c=this;r.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},r.onmousemove=function(t){if(t||=window.event,!c._enterable){var n=a.handler;normalizeEvent(a.painter.getViewportRoot(),t,!0),n.dispatch(`mousemove`,t)}},r.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return t.prototype.update=function(t){if(!this._container){var n=this._api.getDom(),r=getComputedStyle(n,`position`),a=n.style;a.position!==`absolute`&&r!==`absolute`&&(a.position=`relative`)}var o=t.get(`alwaysShowContent`);o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get(`className`)||``},t.prototype.show=function(t,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,a=r.style,o=this._styleCoord;r.innerHTML?a.cssText=gCssText+assembleCssText(t,!this._firstShow,this._longHide)+assembleTransform(o[0],o[1],!0)+(`border-color:`+convertToColorString(n)+`;`)+(t.get(`extraCssText`)||``)+(`;pointer-events:`+(this._enterable?`auto`:`none`)):a.display=`none`,this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,n,r,a,o){var s=this.el;if(t==null){s.innerHTML=``;return}var c=``;if(isString(o)&&r.get(`trigger`)===`item`&&!shouldTooltipConfine(r)&&(c=assembleArrow(r,a,o)),isString(t))s.innerHTML=t+c;else if(t){s.innerHTML=``,isArray$1(t)||(t=[t]);for(var l=0;l<t.length;l++)isDom(t[l])&&t[l].parentNode!==s&&s.appendChild(t[l]);if(c&&s.childNodes.length){var u=document.createElement(`div`);u.innerHTML=c,s.appendChild(u)}}},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return t?[t.offsetWidth,t.offsetHeight]:[0,0]},t.prototype.moveTo=function(t,n){if(this.el){var r=this._styleCoord;if(makeStyleCoord$1(r,this._zr,this._container,t,n),r[0]!=null&&r[1]!=null){var a=this.el.style;each$15(assembleTransform(r[0],r[1]),function(t){a[t[0]]=t[1]})}}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){var t=this,n=this.el.style;n.visibility=`hidden`,n.opacity=`0`,env_default.transform3dSupported&&(n.willChange=``),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},t.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var t=this.el.parentNode;t&&t.removeChild(this.el),this.el=this._container=null},t}(),TooltipRichContent=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),makeStyleCoord(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){var n=t.get(`alwaysShowContent`);n&&this._moveIfResized(),this._alwaysShowContent=n},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,n,r,a,o){var s=this;isObject$3(t)&&throwError(``),this.el&&this._zr.remove(this.el);var c=r.getModel(`textStyle`);this.el=new Text_default({style:{rich:n.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:c.get(`textShadowColor`),fill:r.get([`textStyle`,`color`]),padding:getPaddingFromTooltipModel(r,`richText`),verticalAlign:`top`,align:`left`},z:r.get(`z`)}),each$15([`backgroundColor`,`borderRadius`,`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`],function(t){s.el.style[t]=r.get(t)}),each$15([`textShadowBlur`,`textShadowOffsetX`,`textShadowOffsetY`],function(t){s.el.style[t]=c.get(t)||0}),this._zr.add(this.el);var l=this;this.el.on(`mouseover`,function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on(`mouseout`,function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,n=this.el.getBoundingRect(),r=calcShadowOuterSize(t.style);return[n.width+r.left+r.right,n.height+r.top+r.bottom]},t.prototype.moveTo=function(t,n){var r=this.el;if(r){var a=this._styleCoord;makeStyleCoord(a,this._zr,t,n),t=a[0],n=a[1];var o=r.style,s=mathMaxWith0(o.borderWidth||0),c=calcShadowOuterSize(o);r.x=t+s+c.left,r.y=n+s+c.top,r.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),n*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function mathMaxWith0(t){return Math.max(0,t)}function calcShadowOuterSize(t){var n=mathMaxWith0(t.shadowBlur||0),r=mathMaxWith0(t.shadowOffsetX||0),a=mathMaxWith0(t.shadowOffsetY||0);return{left:mathMaxWith0(n-r),right:mathMaxWith0(n+r),top:mathMaxWith0(n-a),bottom:mathMaxWith0(n+a)}}function makeStyleCoord(t,n,r,a){t[0]=r,t[1]=a,t[2]=t[0]/n.getWidth(),t[3]=t[1]/n.getHeight()}var TooltipRichContent_default=TooltipRichContent,proxyRect=new Rect_default({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(t,n){if(!(env_default.node||!n.getDom())){var r=t.getComponent(`tooltip`);this._tooltipContent=(this._renderMode=getTooltipRenderMode(r.get(`renderMode`)))===`richText`?new TooltipRichContent_default(n):new TooltipHTMLContent_default(n,{appendTo:r.get(`appendToBody`,!0)?`body`:r.get(`appendTo`,!0)})}},n.prototype.render=function(t,n,r){if(!(env_default.node||!r.getDom())){this.group.removeAll(),this._tooltipModel=t,this._ecModel=n,this._api=r;var a=this._tooltipContent;a.update(t),a.setEnterable(t.get(`enterable`)),this._initGlobalListener(),this._keepShow(),this._renderMode!==`richText`&&t.get(`transitionDuration`)?createOrUpdate(this,`_updatePosition`,50,`fixRate`):clear$1(this,`_updatePosition`)}},n.prototype._initGlobalListener=function(){var t=this._tooltipModel.get(`triggerOn`);register(`itemTooltip`,this._api,bind$1(function(n,r,a){t!==`none`&&(t.indexOf(n)>=0?this._tryShow(r,a):n===`leave`&&this._hide(a))},this))},n.prototype._keepShow=function(){var t=this._tooltipModel,n=this._ecModel,r=this._api,a=t.get(`triggerOn`);if(this._lastX!=null&&this._lastY!=null&&a!==`none`&&a!==`click`){var o=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!r.isDisposed()&&o.manuallyShowTip(t,n,r,{x:o._lastX,y:o._lastY,dataByCoordSys:o._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(t,n,r,a){if(!(a.from===this.uid||env_default.node||!r.getDom())){var o=makeDispatchAction(a,r);this._ticket=``;var s=a.dataByCoordSys,c=findComponentReference(a,n,r);if(c){var l=c.el.getBoundingRect().clone();l.applyTransform(c.el.transform),this._tryShow({offsetX:l.x+l.width/2,offsetY:l.y+l.height/2,target:c.el,position:a.position,positionDefault:`bottom`},o)}else if(a.tooltip&&a.x!=null&&a.y!=null){var u=proxyRect;u.x=a.x,u.y=a.y,u.update(),getECData(u).tooltipConfig={name:null,option:a.tooltip},this._tryShow({offsetX:a.x,offsetY:a.y,target:u},o)}else if(s)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:s,tooltipOption:a.tooltipOption},o);else if(a.seriesIndex!=null){if(this._manuallyAxisShowTip(t,n,r,a))return;var d=findPointFromSeries(a,n),f=d.point[0],p=d.point[1];f!=null&&p!=null&&this._tryShow({offsetX:f,offsetY:p,target:d.el,position:a.position,positionDefault:`bottom`},o)}else a.x!=null&&a.y!=null&&(r.dispatchAction({type:`updateAxisPointer`,x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:r.getZr().findHover(a.x,a.y).target},o))}},n.prototype.manuallyHideTip=function(t,n,r,a){var o=this._tooltipContent;this._tooltipModel&&o.hideLater(this._tooltipModel.get(`hideDelay`)),this._lastX=this._lastY=this._lastDataByCoordSys=null,a.from!==this.uid&&this._hide(makeDispatchAction(a,r))},n.prototype._manuallyAxisShowTip=function(t,n,r,a){var o=a.seriesIndex,s=a.dataIndex,c=n.getComponent(`axisPointer`).coordSysAxesInfo;if(!(o==null||s==null||c==null)){var l=n.getSeriesByIndex(o);if(l&&buildTooltipModel([l.getData().getItemModel(s),l,(l.coordinateSystem||{}).model],this._tooltipModel).get(`trigger`)===`axis`)return r.dispatchAction({type:`updateAxisPointer`,seriesIndex:o,dataIndex:s,position:a.position}),!0}},n.prototype._tryShow=function(t,n){var r=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;if(a&&a.length)this._showAxisTooltip(a,t);else if(r){if(getECData(r).ssrType===`legend`)return;this._lastDataByCoordSys=null;var o,s;findEventDispatcher(r,function(t){if(getECData(t).dataIndex!=null)return o=t,!0;if(getECData(t).tooltipConfig!=null)return s=t,!0},!0),o?this._showSeriesItemTooltip(t,o,n):s?this._showComponentItemTooltip(t,s,n):this._hide(n)}else this._lastDataByCoordSys=null,this._hide(n)}},n.prototype._showOrMove=function(t,n){var r=t.get(`showDelay`);n=bind$1(n,this),clearTimeout(this._showTimout),r>0?this._showTimout=setTimeout(n,r):n()},n.prototype._showAxisTooltip=function(t,n){var r=this._ecModel,a=this._tooltipModel,o=[n.offsetX,n.offsetY],s=buildTooltipModel([n.tooltipOption],a),c=this._renderMode,l=[],u=createTooltipMarkup(`section`,{blocks:[],noHeader:!0}),d=[],f=new TooltipMarkupStyleCreator;each$15(t,function(t){each$15(t.dataByAxis,function(t){var n=r.getComponent(t.axisDim+`Axis`,t.axisIndex),o=t.value;if(!(!n||o==null)){var s=getValueLabel(o,n.axis,r,t.seriesDataIndices,t.valueLabelOpt),p=createTooltipMarkup(`section`,{header:s,noHeader:!trim$1(s),sortBlocks:!0,blocks:[]});u.blocks.push(p),each$15(t.seriesDataIndices,function(u){var g=r.getSeriesByIndex(u.seriesIndex),_=u.dataIndexInside,v=g.getDataParams(_);if(!(v.dataIndex<0)){v.axisDim=t.axisDim,v.axisIndex=t.axisIndex,v.axisType=t.axisType,v.axisId=t.axisId,v.axisValue=getAxisRawValue(n.axis,{value:o}),v.axisValueLabel=s,v.marker=f.makeTooltipMarker(`item`,convertToColorString(v.color),c);var y=normalizeTooltipFormatResult(g.formatTooltip(_,!0,null)),b=y.frag;if(b){var x=buildTooltipModel([g],a).get(`valueFormatter`);p.blocks.push(x?extend({valueFormatter:x},b):b)}y.text&&d.push(y.text),l.push(v)}})}})}),u.blocks.reverse(),d.reverse();var p=n.position,g=buildTooltipMarkup(u,f,c,s.get(`order`),r.get(`useUTC`),s.get(`textStyle`));g&&d.unshift(g);var _=c===`richText`?`

`:`<br/>`,v=d.join(_);this._showOrMove(s,function(){this._updateContentNotChangedOnAxis(t,l)?this._updatePosition(s,p,o[0],o[1],this._tooltipContent,l):this._showTooltipContent(s,v,l,Math.random()+``,o[0],o[1],p,null,f)})},n.prototype._showSeriesItemTooltip=function(t,n,r){var a=this._ecModel,o=getECData(n),s=o.seriesIndex,c=a.getSeriesByIndex(s),l=o.dataModel||c,u=o.dataIndex,d=o.dataType,f=l.getData(d),p=this._renderMode,g=t.positionDefault,_=buildTooltipModel([f.getItemModel(u),l,c&&(c.coordinateSystem||{}).model],this._tooltipModel,g?{position:g}:null),v=_.get(`trigger`);if(!(v!=null&&v!==`item`)){var y=l.getDataParams(u,d),b=new TooltipMarkupStyleCreator;y.marker=b.makeTooltipMarker(`item`,convertToColorString(y.color),p);var x=normalizeTooltipFormatResult(l.formatTooltip(u,!1,d)),S=_.get(`order`),C=_.get(`valueFormatter`),w=x.frag,T=w?buildTooltipMarkup(C?extend({valueFormatter:C},w):w,b,p,S,a.get(`useUTC`),_.get(`textStyle`)):x.text,E=`item_`+l.name+`_`+u;this._showOrMove(_,function(){this._showTooltipContent(_,T,y,E,t.offsetX,t.offsetY,t.position,t.target,b)}),r({type:`showTip`,dataIndexInside:u,dataIndex:f.getRawIndex(u),seriesIndex:s,from:this.uid})}},n.prototype._showComponentItemTooltip=function(t,n,r){var a=this._renderMode===`html`,o=getECData(n),s=o.tooltipConfig.option||{},c=s.encodeHTMLContent;if(isString(s)){var l=s;s={content:l,formatter:l},c=!0}c&&a&&s.content&&(s=clone$4(s),s.content=encodeHTML(s.content));var u=[s],d=this._ecModel.getComponent(o.componentMainType,o.componentIndex);d&&u.push(d),u.push({formatter:s.content});var f=t.positionDefault,p=buildTooltipModel(u,this._tooltipModel,f?{position:f}:null),g=p.get(`content`),_=Math.random()+``,v=new TooltipMarkupStyleCreator;this._showOrMove(p,function(){var r=clone$4(p.get(`formatterParams`)||{});this._showTooltipContent(p,g,r,_,t.offsetX,t.offsetY,t.position,n,v)}),r({type:`showTip`,from:this.uid})},n.prototype._showTooltipContent=function(t,n,r,a,o,s,c,l,u){if(this._ticket=``,!(!t.get(`showContent`)||!t.get(`show`))){var d=this._tooltipContent;d.setEnterable(t.get(`enterable`));var f=t.get(`formatter`);c||=t.get(`position`);var p=n,g=this._getNearestPoint([o,s],r,t.get(`trigger`),t.get(`borderColor`)).color;if(f)if(isString(f)){var _=t.ecModel.get(`useUTC`),v=isArray$1(r)?r[0]:r,y=v&&v.axisType&&v.axisType.indexOf(`time`)>=0;p=f,y&&(p=format(v.axisValue,p,_)),p=formatTpl(p,r,!0)}else if(isFunction(f)){var b=bind$1(function(n,a){n===this._ticket&&(d.setContent(a,u,t,g,c),this._updatePosition(t,c,o,s,d,r,l))},this);this._ticket=a,p=f(r,a,b)}else p=f;d.setContent(p,u,t,g,c),d.show(t,g),this._updatePosition(t,c,o,s,d,r,l)}},n.prototype._getNearestPoint=function(t,n,r,a){if(r===`axis`||isArray$1(n))return{color:a||(this._renderMode===`html`?`#fff`:`none`)};if(!isArray$1(n))return{color:a||n.color||n.borderColor}},n.prototype._updatePosition=function(t,n,r,a,o,s,c){var l=this._api.getWidth(),u=this._api.getHeight();n||=t.get(`position`);var d=o.getSize(),f=t.get(`align`),p=t.get(`verticalAlign`),g=c&&c.getBoundingRect().clone();if(c&&g.applyTransform(c.transform),isFunction(n)&&(n=n([r,a],s,o.el,g,{viewSize:[l,u],contentSize:d.slice()})),isArray$1(n))r=parsePercent(n[0],l),a=parsePercent(n[1],u);else if(isObject$3(n)){var _=n;_.width=d[0],_.height=d[1];var v=getLayoutRect(_,{width:l,height:u});r=v.x,a=v.y,f=null,p=null}else if(isString(n)&&c){var y=calcTooltipPosition(n,g,d,t.get(`borderWidth`));r=y[0],a=y[1]}else{var y=refixTooltipPosition(r,a,o,l,u,f?null:20,p?null:20);r=y[0],a=y[1]}if(f&&(r-=isCenterAlign(f)?d[0]/2:f===`right`?d[0]:0),p&&(a-=isCenterAlign(p)?d[1]/2:p===`bottom`?d[1]:0),shouldTooltipConfine(t)){var y=confineTooltipPosition(r,a,o,l,u);r=y[0],a=y[1]}o.moveTo(r,a)},n.prototype._updateContentNotChangedOnAxis=function(t,n){var r=this._lastDataByCoordSys,a=this._cbParamsList,o=!!r&&r.length===t.length;return o&&each$15(r,function(r,s){var c=r.dataByAxis||[],l=(t[s]||{}).dataByAxis||[];o&&=c.length===l.length,o&&each$15(c,function(t,r){var s=l[r]||{},c=t.seriesDataIndices||[],u=s.seriesDataIndices||[];o=o&&t.value===s.value&&t.axisType===s.axisType&&t.axisId===s.axisId&&c.length===u.length,o&&each$15(c,function(t,n){var r=u[n];o=o&&t.seriesIndex===r.seriesIndex&&t.dataIndex===r.dataIndex}),a&&each$15(t.seriesDataIndices,function(t){var r=t.seriesIndex,s=n[r],c=a[r];s&&c&&c.data!==s.data&&(o=!1)})})}),this._lastDataByCoordSys=t,this._cbParamsList=n,!!o},n.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:`hideTip`,from:this.uid})},n.prototype.dispose=function(t,n){env_default.node||!n.getDom()||(clear$1(this,`_updatePosition`),this._tooltipContent.dispose(),unregister(`itemTooltip`,n))},n.type=`tooltip`,n}(Component_default);function buildTooltipModel(t,n,r){var a=n.ecModel,o;r?(o=new Model_default(r,a,a),o=new Model_default(n.option,o,a)):o=n;for(var s=t.length-1;s>=0;s--){var c=t[s];c&&(c instanceof Model_default&&(c=c.get(`tooltip`,!0)),isString(c)&&(c={formatter:c}),c&&(o=new Model_default(c,o,a)))}return o}function makeDispatchAction(t,n){return t.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(t,n,r,a,o,s,c){var l=r.getSize(),u=l[0],d=l[1];return s!=null&&(t+u+s+2>a?t-=u+s:t+=s),c!=null&&(n+d+c>o?n-=d+c:n+=c),[t,n]}function confineTooltipPosition(t,n,r,a,o){var s=r.getSize(),c=s[0],l=s[1];return t=Math.min(t+c,a)-c,n=Math.min(n+l,o)-l,t=Math.max(t,0),n=Math.max(n,0),[t,n]}function calcTooltipPosition(t,n,r,a){var o=r[0],s=r[1],c=Math.ceil(Math.SQRT2*a)+8,l=0,u=0,d=n.width,f=n.height;switch(t){case`inside`:l=n.x+d/2-o/2,u=n.y+f/2-s/2;break;case`top`:l=n.x+d/2-o/2,u=n.y-s-c;break;case`bottom`:l=n.x+d/2-o/2,u=n.y+f+c;break;case`left`:l=n.x-o-c,u=n.y+f/2-s/2;break;case`right`:l=n.x+d+c,u=n.y+f/2-s/2}return[l,u]}function isCenterAlign(t){return t===`center`||t===`middle`}function findComponentReference(t,n,r){var a=preParseFinder(t).queryOptionMap,o=a.keys()[0];if(!(!o||o===`series`)){var s=queryReferringComponents(n,o,a.get(o),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(s){var c=r.getViewOfComponentModel(s),l;if(c.group.traverse(function(n){var r=getECData(n).tooltipConfig;if(r&&r.name===t.name)return l=n,!0}),l)return{componentMainType:o,componentIndex:s.componentIndex,el:l}}}}var TooltipView_default=TooltipView;function install$42(t){use(install$53),t.registerComponentModel(TooltipModel_default),t.registerComponentView(TooltipView_default),t.registerAction({type:`showTip`,event:`showTip`,update:`tooltip:manuallyShowTip`},noop),t.registerAction({type:`hideTip`,event:`hideTip`,update:`tooltip:manuallyHideTip`},noop)}var DEFAULT_TOOLBOX_BTNS=[`rect`,`polygon`,`keep`,`clear`];function brushPreprocessor(t,n){var r=normalizeToArray(t?t.brush:[]);if(r.length){var a=[];each$15(r,function(t){var n=t.hasOwnProperty(`toolbox`)?t.toolbox:[];n instanceof Array&&(a=a.concat(n))});var o=t&&t.toolbox;isArray$1(o)&&(o=o[0]),o||(o={feature:{}},t.toolbox=[o]);var s=o.feature||={},c=s.brush||={},l=c.type||=[];l.push.apply(l,a),removeDuplicate(l),n&&!l.length&&l.push.apply(l,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(t){var n={};each$15(t,function(t){n[t]=1}),t.length=0,each$15(n,function(n,r){t.push(r)})}var each$7=each$15,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function t(n){var r=n.mappingMethod,a=n.type,o=this.option=clone$4(n);this.type=a,this.mappingMethod=r,this._normalizeData=normalizers[r];var s=t.visualHandlers[a];this.applyVisual=s.applyVisual,this.getColorMapper=s.getColorMapper,this._normalizedToVisual=s._normalizedToVisual[r],r===`piecewise`?(normalizeVisualRange(o),preprocessForPiecewise(o)):r===`category`?o.categories?preprocessForSpecifiedCategory(o):normalizeVisualRange(o,!0):(assert(r!==`linear`||o.dataExtent),normalizeVisualRange(o))}return t.prototype.mapValueToVisual=function(t){var n=this._normalizeData(t);return this._normalizedToVisual(n,t)},t.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},t.listVisualTypes=function(){return keys(t.visualHandlers)},t.isValidType=function(n){return t.visualHandlers.hasOwnProperty(n)},t.eachVisual=function(t,n,r){isObject$3(t)?each$15(t,n,r):n.call(r,t)},t.mapVisual=function(n,r,a){var o,s=isArray$1(n)?[]:isObject$3(n)?{}:(o=!0,null);return t.eachVisual(n,function(t,n){var c=r.call(a,t,n);o?s=c:s[n]=c}),s},t.retrieveVisuals=function(n){var r={},a;return n&&each$7(t.visualHandlers,function(t,o){n.hasOwnProperty(o)&&(r[o]=n[o],a=!0)}),a?r:null},t.prepareVisualTypes=function(t){if(isArray$1(t))t=t.slice();else if(isObject(t)){var n=[];each$7(t,function(t,r){n.push(r)}),t=n}else return[];return t.sort(function(t,n){return n===`color`&&t!==`color`&&t.indexOf(`color`)===0?1:-1}),t},t.dependsOn=function(t,n){return n===`color`?!!(t&&t.indexOf(n)===0):t===n},t.findPieceIndex=function(t,n,r){for(var a,o=1/0,s=0,c=n.length;s<c;s++){var l=n[s].value;if(l!=null){if(l===t||isString(l)&&l===t+``)return s;r&&p(l,s)}}for(var s=0,c=n.length;s<c;s++){var u=n[s],d=u.interval,f=u.close;if(d){if(d[0]===-1/0){if(littleThan(f[1],t,d[1]))return s}else if(d[1]===1/0){if(littleThan(f[0],d[0],t))return s}else if(littleThan(f[0],d[0],t)&&littleThan(f[1],t,d[1]))return s;r&&p(d[0],s),r&&p(d[1],s)}}if(r)return t===1/0?n.length-1:t===-1/0?0:a;function p(n,r){var s=Math.abs(n-t);s<o&&(o=s,a=r)}},t.visualHandlers={color:{applyVisual:makeApplyVisual(`color`),getColorMapper:function(){var t=this.option;return bind$1(t.mappingMethod===`category`?function(t,n){return!n&&(t=this._normalizeData(t)),doMapCategory.call(this,t)}:function(n,r,a){var o=!!a;return!r&&(n=this._normalizeData(n)),a=fastLerp(n,t.parsedVisual,a),o?a:stringify(a,`rgba`)},this)},_normalizedToVisual:{linear:function(t){return stringify(fastLerp(t,this.option.parsedVisual),`rgba`)},category:doMapCategory,piecewise:function(t,n){var r=getSpecifiedVisual.call(this,n);return r??=stringify(fastLerp(t,this.option.parsedVisual),`rgba`),r},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,n)}),colorSaturation:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,null,n)}),colorLightness:makePartialColorVisualHandler(function(t,n){return modifyHSL(t,null,null,n)}),colorAlpha:makePartialColorVisualHandler(function(t,n){return modifyAlpha(t,n)}),decal:{applyVisual:makeApplyVisual(`decal`),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual(`opacity`),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual(`liftZ`),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(t,n,r){r(`symbol`,this.mapValueToVisual(t))},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(t,n){var r=getSpecifiedVisual.call(this,n);return r??=doMapToArray.call(this,t),r},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual(`symbolSize`),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},t}();function preprocessForPiecewise(t){var n=t.pieceList;t.hasSpecialVisual=!1,each$15(n,function(n,r){n.originIndex=r,n.visual!=null&&(t.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(t){var n=t.categories,r=t.categoryMap={},a=t.visual;if(each$7(n,function(t,n){r[t]=n}),!isArray$1(a)){var o=[];isObject$3(a)?each$7(a,function(t,n){var a=r[n];o[a??CATEGORY_DEFAULT_VISUAL_INDEX]=t}):o[CATEGORY_DEFAULT_VISUAL_INDEX]=a,a=setVisualToOption(t,o)}for(var s=n.length-1;s>=0;s--)a[s]??(delete r[n[s]],n.pop())}function normalizeVisualRange(t,n){var r=t.visual,a=[];isObject$3(r)?each$7(r,function(t){a.push(t)}):r!=null&&a.push(r),!n&&a.length===1&&!{color:1,symbol:1}.hasOwnProperty(t.type)&&(a[1]=a[0]),setVisualToOption(t,a)}function makePartialColorVisualHandler(t){return{applyVisual:function(n,r,a){var o=this.mapValueToVisual(n);a(`color`,t(r(`color`),o))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(t){var n=this.option.visual;return n[Math.round(linearMap$2(t,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(t){return function(n,r,a){a(t,this.mapValueToVisual(n))}}function doMapCategory(t){var n=this.option.visual;return n[this.option.loop&&t!==CATEGORY_DEFAULT_VISUAL_INDEX?t%n.length:t]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(t){return{linear:function(n){return linearMap$2(n,t,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,r){var a=getSpecifiedVisual.call(this,r);return a??=linearMap$2(n,t,this.option.visual,!0),a},fixed:doMapFixed}}function getSpecifiedVisual(t){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var a=r[VisualMapping.findPieceIndex(t,r)];if(a&&a.visual)return a.visual[this.type]}}function setVisualToOption(t,n){return t.visual=n,t.type===`color`&&(t.parsedVisual=map$1(n,function(t){return parse(t)||[0,0,0,1]})),n}var normalizers={linear:function(t){return linearMap$2(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var n=this.option.pieceList,r=VisualMapping.findPieceIndex(t,n,!0);if(r!=null)return linearMap$2(r,[0,n.length-1],[0,1],!0)},category:function(t){return(this.option.categories?this.option.categoryMap[t]:t)??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(t,n,r){return t?n<=r:n<r}var VisualMapping_default=VisualMapping,each$6=each$15;function hasKeys(t){if(t){for(var n in t)if(t.hasOwnProperty(n))return!0}}function createVisualMappings(t,n,r){var a={};return each$6(n,function(n){var s=a[n]=o();each$6(t[n],function(t,a){if(VisualMapping_default.isValidType(a)){var o={type:a,visual:t};r&&r(o,n),s[a]=new VisualMapping_default(o),a===`opacity`&&(o=clone$4(o),o.type=`colorAlpha`,s.__hidden.__alphaForOpacity=new VisualMapping_default(o))}})}),a;function o(){var t=function(){};return t.prototype.__hidden=t.prototype,new t}}function replaceVisualOption(t,n,r){var a;each$15(r,function(t){n.hasOwnProperty(t)&&hasKeys(n[t])&&(a=!0)}),a&&each$15(r,function(r){n.hasOwnProperty(r)&&hasKeys(n[r])?t[r]=clone$4(n[r]):delete t[r]})}function applyVisual(t,n,r,a,o,s){var c={};each$15(t,function(t){c[t]=VisualMapping_default.prepareVisualTypes(n[t])});var l;function u(t){return getItemVisualFromData(r,l,t)}function d(t,n){setItemVisualFromData(r,l,t,n)}s==null?r.each(f):r.each([s],f);function f(t,f){l=s==null?t:f;var p=r.getRawDataItem(l);if(!(p&&p.visualMap===!1))for(var g=a.call(o,t),_=n[g],v=c[g],y=0,b=v.length;y<b;y++){var x=v[y];_[x]&&_[x].applyVisual(t,u,d)}}}function incrementalApplyVisual(t,n,r,a){var o={};return each$15(t,function(t){o[t]=VisualMapping_default.prepareVisualTypes(n[t])}),{progress:function(t,s){var c;a!=null&&(c=s.getDimensionIndex(a));function l(t){return getItemVisualFromData(s,d,t)}function u(t,n){setItemVisualFromData(s,d,t,n)}for(var d,f=s.getStore();(d=t.next())!=null;){var p=s.getRawDataItem(d);if(!(p&&p.visualMap===!1))for(var g=a==null?d:f.get(c,d),_=r(g),v=n[_],y=o[_],b=0,x=y.length;b<x;b++){var S=y[b];v[S]&&v[S].applyVisual(g,l,u)}}}}}function makeBrushCommonSelectorForSeries(t){var n=t.brushType,r={point:function(a){return selector[n].point(a,r,t)},rect:function(a){return selector[n].rect(a,r,t)}};return r}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(t,n,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,n,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,n,r){return t&&r.boundingRect.contain(t[0],t[1])&&contain(r.range,t[0],t[1])},rect:function(t,n,r){var a=r.range;if(!t||a.length<=1)return!1;var o=t.x,s=t.y,c=t.width,l=t.height,u=a[0];if(contain(a,o,s)||contain(a,o+c,s)||contain(a,o,s+l)||contain(a,o+c,s+l)||BoundingRect_default.create(t).contain(u[0],u[1])||linePolygonIntersect(o,s,o+c,s,a)||linePolygonIntersect(o,s,o,s+l,a)||linePolygonIntersect(o+c,s,o+c,s+l,a)||linePolygonIntersect(o,s+l,o+c,s+l,a))return!0}}};function getLineSelectors(t){var n=[`x`,`y`],r=[`width`,`height`];return{point:function(n,r,a){if(n){var o=a.range,s=n[t];return inLineRange(s,o)}},rect:function(a,o,s){if(a){var c=s.range,l=[a[n[t]],a[n[t]]+a[r[t]]];return l[1]<l[0]&&l.reverse(),inLineRange(l[0],c)||inLineRange(l[1],c)||inLineRange(c[0],l)||inLineRange(c[1],l)}}}}function inLineRange(t,n){return n[0]<=t&&t<=n[1]}var STATE_LIST=[`inBrush`,`outOfBrush`],DISPATCH_METHOD=`__ecBrushSelect`,DISPATCH_FLAG=`__ecInBrushSelectEvent`;function layoutCovers(t){t.eachComponent({mainType:`brush`},function(n){(n.brushTargetManager=new BrushTargetManager_default(n.option,t)).setInputRanges(n.areas,t)})}function brushVisual(t,n,r){var a=[],o,s;t.eachComponent({mainType:`brush`},function(t){r&&r.type===`takeGlobalCursor`&&t.setBrushOption(r.key===`brush`?r.brushOption:{brushType:!1})}),layoutCovers(t),t.eachComponent({mainType:`brush`},function(n,r){var c={brushId:n.id,brushIndex:r,brushName:n.name,areas:clone$4(n.areas),selected:[]};a.push(c);var l=n.option,u=l.brushLink,d=[],f=[],p=[],g=!1;r||(o=l.throttleType,s=l.throttleDelay);var _=map$1(n.areas,function(t){var n=boundingRectBuilders[t.brushType],r=defaults({boundingRect:n?n(t):void 0},t);return r.selectors=makeBrushCommonSelectorForSeries(r),r}),v=createVisualMappings(n.option,STATE_LIST,function(t){t.mappingMethod=`fixed`});isArray$1(u)&&each$15(u,function(t){d[t]=1});function y(t){return u===`all`||!!d[t]}function b(t){return!!t.length}t.eachSeries(function(t,n){var r=p[n]=[];t.subType===`parallel`?x(t,n):S(t,n,r)});function x(t,n){var r=t.coordinateSystem;g||=r.hasAxisBrushed(),y(n)&&r.eachActiveState(t.getData(),function(t,n){t===`active`&&(f[n]=1)})}function S(r,a,o){if(!(!r.brushSelector||brushModelNotControll(n,a))&&(each$15(_,function(a){n.brushTargetManager.controlSeries(a,r,t)&&o.push(a),g||=b(o)}),y(a)&&b(o))){var s=r.getData();s.each(function(t){checkInRange(r,o,s,t)&&(f[t]=1)})}}t.eachSeries(function(t,n){var r={seriesId:t.id,seriesIndex:n,seriesName:t.name,dataIndex:[]};c.selected.push(r);var a=p[n],o=t.getData(),s=y(n)?function(t){return f[t]?(r.dataIndex.push(o.getRawIndex(t)),`inBrush`):`outOfBrush`}:function(n){return checkInRange(t,a,o,n)?(r.dataIndex.push(o.getRawIndex(n)),`inBrush`):`outOfBrush`};(y(n)?g:b(a))&&applyVisual(STATE_LIST,v,o,s)})}),dispatchAction$1(n,o,s,a,r)}function dispatchAction$1(t,n,r,a,o){if(o){var s=t.getZr();s[DISPATCH_FLAG]||(s[DISPATCH_METHOD]||(s[DISPATCH_METHOD]=doDispatch),createOrUpdate(s,DISPATCH_METHOD,r,n)(t,a))}}function doDispatch(t,n){if(!t.isDisposed()){var r=t.getZr();r[DISPATCH_FLAG]=!0,t.dispatchAction({type:`brushSelect`,batch:n}),r[DISPATCH_FLAG]=!1}}function checkInRange(t,n,r,a){for(var o=0,s=n.length;o<s;o++){var c=n[o];if(t.brushSelector(a,r,c.selectors,c))return!0}}function brushModelNotControll(t,n){var r=t.option.seriesIndex;return r!=null&&r!==`all`&&(isArray$1(r)?indexOf(r,n)<0:n!==r)}var boundingRectBuilders={rect:function(t){return getBoundingRectFromMinMax(t.range)},polygon:function(t){for(var n,r=t.range,a=0,o=r.length;a<o;a++){n||=[[1/0,-1/0],[1/0,-1/0]];var s=r[a];s[0]<n[0][0]&&(n[0][0]=s[0]),s[0]>n[0][1]&&(n[0][1]=s[0]),s[1]<n[1][0]&&(n[1][0]=s[1]),s[1]>n[1][1]&&(n[1][1]=s[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(t){return new BoundingRect_default(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var BrushView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(t,n){this.ecModel=t,this.api=n,this.model,(this._brushController=new BrushController_default(n.getZr())).on(`brush`,bind$1(this._onBrush,this)).mount()},n.prototype.render=function(t,n,r,a){this.model=t,this._updateController(t,n,r,a)},n.prototype.updateTransform=function(t,n,r,a){layoutCovers(n),this._updateController(t,n,r,a)},n.prototype.updateVisual=function(t,n,r,a){this.updateTransform(t,n,r,a)},n.prototype.updateView=function(t,n,r,a){this._updateController(t,n,r,a)},n.prototype._updateController=function(t,n,r,a){(!a||a.$from!==t.id)&&this._brushController.setPanels(t.brushTargetManager.makePanelOpts(r)).enableBrush(t.brushOption).updateCovers(t.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(t){var n=this.model.id,r=this.model.brushTargetManager.setOutputRanges(t.areas,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:`brush`,brushId:n,areas:clone$4(r),$from:n}),t.isEnd&&this.api.dispatchAction({type:`brushEnd`,brushId:n,areas:clone$4(r),$from:n})},n.type=`brush`,n}(Component_default),DEFAULT_OUT_OF_BRUSH_COLOR=`#ddd`,BrushModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(t,n){var r=this.option;!n&&replaceVisualOption(r,t,[`inBrush`,`outOfBrush`]);var a=r.inBrush=r.inBrush||{};r.outOfBrush=r.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},a.hasOwnProperty(`liftZ`)||(a.liftZ=5)},n.prototype.setAreas=function(t){t&&(this.areas=map$1(t,function(t){return generateBrushOption(this.option,t)},this))},n.prototype.setBrushOption=function(t){this.brushOption=generateBrushOption(this.option,t),this.brushType=this.brushOption.brushType},n.type=`brush`,n.dependencies=[`geo`,`grid`,`xAxis`,`yAxis`,`parallel`,`series`],n.defaultOption={seriesIndex:`all`,brushType:`rect`,brushMode:`single`,transformable:!0,brushStyle:{borderWidth:1,color:`rgba(210,219,238,0.3)`,borderColor:`#D2DBEE`},throttleType:`fixRate`,throttleDelay:0,removeOnClick:!0,z:1e4},n}(Component_default$1);function generateBrushOption(t,n){return merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Model_default(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},n,!0)}var BrushModel_default=BrushModel,ICON_TYPES=[`rect`,`polygon`,`lineX`,`lineY`,`keep`,`clear`],Brush_default=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(t,n,r){var a,o,s;n.eachComponent({mainType:`brush`},function(t){a=t.brushType,o=t.brushOption.brushMode||`single`,s||=!!t.areas.length}),this._brushType=a,this._brushMode=o,each$15(t.get(`type`,!0),function(n){t.setIconStatus(n,(n===`keep`?o===`multiple`:n===`clear`?s:n===a)?`emphasis`:`normal`)})},n.prototype.updateView=function(t,n,r){this.render(t,n,r)},n.prototype.getIcons=function(){var t=this.model,n=t.get(`icon`,!0),r={};return each$15(t.get(`type`,!0),function(t){n[t]&&(r[t]=n[t])}),r},n.prototype.onclick=function(t,n,r){var a=this._brushType,o=this._brushMode;r===`clear`?(n.dispatchAction({type:`axisAreaSelect`,intervals:[]}),n.dispatchAction({type:`brush`,command:`clear`,areas:[]})):n.dispatchAction({type:`takeGlobalCursor`,key:`brush`,brushOption:{brushType:r===`keep`?a:a===r?!1:r,brushMode:r===`keep`?o===`multiple`?`single`:`multiple`:o}})},n.getDefaultOption=function(t){return{show:!0,type:ICON_TYPES.slice(),icon:{rect:`M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13`,polygon:`M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2`,lineX:`M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4`,lineY:`M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4`,keep:`M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z`,clear:`M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2`},title:t.getLocaleModel().get([`toolbox`,`brush`,`title`])}},n}(ToolboxFeature);function install$41(t){t.registerComponentView(BrushView_default),t.registerComponentModel(BrushModel_default),t.registerPreprocessor(brushPreprocessor),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,brushVisual),t.registerAction({type:`brush`,event:`brush`,update:`updateVisual`},function(t,n){n.eachComponent({mainType:`brush`,query:t},function(n){n.setAreas(t.areas)})}),t.registerAction({type:`brushSelect`,event:`brushSelected`,update:`none`},noop),t.registerAction({type:`brushEnd`,event:`brushEnd`,update:`none`},noop),registerFeature(`brush`,Brush_default)}var TitleModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:`box`,ignoreSize:!0},r}return n.type=`title`,n.defaultOption={z:6,show:!0,text:``,target:`blank`,subtext:``,subtarget:`blank`,left:0,top:0,backgroundColor:`rgba(0,0,0,0)`,borderColor:`#ccc`,borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:`bold`,color:`#464646`},subtextStyle:{fontSize:12,color:`#6E7079`}},n}(Component_default$1),TitleView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){if(this.group.removeAll(),t.get(`show`)){var a=this.group,o=t.getModel(`textStyle`),s=t.getModel(`subtextStyle`),c=t.get(`textAlign`),l=retrieve2(t.get(`textBaseline`),t.get(`textVerticalAlign`)),u=new Text_default({style:createTextStyle$1(o,{text:t.get(`text`),fill:o.getTextColor()},{disableBox:!0}),z2:10}),d=u.getBoundingRect(),f=t.get(`subtext`),p=new Text_default({style:createTextStyle$1(s,{text:f,fill:s.getTextColor(),y:d.height+t.get(`itemGap`),verticalAlign:`top`},{disableBox:!0}),z2:10}),g=t.get(`link`),_=t.get(`sublink`),v=t.get(`triggerEvent`,!0);u.silent=!g&&!v,p.silent=!_&&!v,g&&u.on(`click`,function(){windowOpen(g,`_`+t.get(`target`))}),_&&p.on(`click`,function(){windowOpen(_,`_`+t.get(`subtarget`))}),getECData(u).eventData=getECData(p).eventData=v?{componentType:`title`,componentIndex:t.componentIndex}:null,a.add(u),f&&a.add(p);var y=a.getBoundingRect(),b=t.getBoxLayoutParams();b.width=y.width,b.height=y.height;var x=getLayoutRect(b,{width:r.getWidth(),height:r.getHeight()},t.get(`padding`));c||(c=t.get(`left`)||t.get(`right`),c===`middle`&&(c=`center`),c===`right`?x.x+=x.width:c===`center`&&(x.x+=x.width/2)),l||(l=t.get(`top`)||t.get(`bottom`),l===`center`&&(l=`middle`),l===`bottom`?x.y+=x.height:l===`middle`&&(x.y+=x.height/2),l||=`top`),a.x=x.x,a.y=x.y,a.markRedraw();var S={align:c,verticalAlign:l};u.setStyle(S),p.setStyle(S),y=a.getBoundingRect();var C=x.margin,w=t.getItemStyle([`color`,`opacity`]);w.fill=t.get(`backgroundColor`);var T=new Rect_default({shape:{x:y.x-C[3],y:y.y-C[0],width:y.width+C[1]+C[3],height:y.height+C[0]+C[2],r:t.get(`borderRadius`)},style:w,subPixelOptimize:!0,silent:!0});a.add(T)}},n.type=`title`,n}(Component_default);function install$40(t){t.registerComponentModel(TitleModel),t.registerComponentView(TitleView)}var TimelineModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.layoutMode=`box`,r}return n.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._initData()},n.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(t){t??=this.option.currentIndex;var n=this._data.count();this.option.loop?t=(t%n+n)%n:(t>=n&&(t=n-1),t<0&&(t=0)),this.option.currentIndex=t},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(t){this.option.autoPlay=!!t},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var t=this.option,n=t.data||[],r=t.axisType,a=this._names=[],o;r===`category`?(o=[],each$15(n,function(t,n){var r=convertOptionIdName(getDataItemValue(t),``),s;isObject$3(t)?(s=clone$4(t),s.value=n):s=n,o.push(s),a.push(r)})):o=n,(this._data=new SeriesData_default([{name:`value`,type:{category:`ordinal`,time:`time`,value:`number`}[r]||`number`}],this)).initData(o,a)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get(`axisType`)===`category`)return this._names.slice()},n.type=`timeline`,n.defaultOption={z:4,show:!0,axisType:`time`,realtime:!0,left:`20%`,top:null,right:`20%`,bottom:0,width:null,height:40,padding:5,controlPosition:`left`,autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:`#000`},data:[]},n}(Component_default$1),SliderTimelineModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`timeline.slider`,n.defaultOption=inheritDefaultOption(TimelineModel_default.defaultOption,{backgroundColor:`rgba(0,0,0,0)`,borderColor:`#ccc`,borderWidth:0,orient:`horizontal`,inverse:!1,tooltip:{trigger:`item`},symbol:`circle`,symbolSize:12,lineStyle:{show:!0,width:2,color:`#DAE1F5`},label:{position:`auto`,show:!0,interval:`auto`,rotate:0,color:`#A4B1D7`},itemStyle:{color:`#A4B1D7`,borderWidth:1},checkpointStyle:{symbol:`circle`,symbolSize:15,color:`#316bf3`,borderColor:`#fff`,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:`rgba(0, 0, 0, 0.3)`,animation:!0,animationDuration:300,animationEasing:`quinticInOut`},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:`left`,playIcon:`path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z`,stopIcon:`path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z`,nextIcon:`M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z`,prevIcon:`M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z`,prevBtnSize:18,nextBtnSize:18,color:`#A4B1D7`,borderColor:`#A4B1D7`,borderWidth:1},emphasis:{label:{show:!0,color:`#6f778d`},itemStyle:{color:`#316BF3`},controlStyle:{color:`#316BF3`,borderColor:`#316BF3`,borderWidth:2}},progress:{lineStyle:{color:`#316BF3`},itemStyle:{color:`#316BF3`},label:{color:`#6f778d`}},data:[]}),n}(TimelineModel_default);mixin(SliderTimelineModel,DataFormatMixin.prototype);var SliderTimelineModel_default=SliderTimelineModel,TimelineView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`timeline`,n}(Component_default),TimelineAxis_default=function(t){__extends(n,t);function n(n,r,a,o){var s=t.call(this,n,r,a)||this;return s.type=o||`value`,s}return n.prototype.getLabelModel=function(){return this.model.getModel(`label`)},n.prototype.isHorizontal=function(){return this.model.get(`orient`)===`horizontal`},n}(Axis_default),PI$2=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(t,n){this.api=n},n.prototype.render=function(t,n,r){if(this.model=t,this.api=r,this.ecModel=n,this.group.removeAll(),t.get(`show`,!0)){var a=this._layout(t,r),o=this._createGroup(`_mainGroup`),s=this._createGroup(`_labelGroup`),c=this._axis=this._createAxis(a,t);t.formatTooltip=function(t){return createTooltipMarkup(`nameValue`,{noName:!0,value:c.scale.getLabel({value:t})})},each$15([`AxisLine`,`AxisTick`,`Control`,`CurrentPointer`],function(n){this[`_render`+n](a,o,c,t)},this),this._renderAxisLabel(a,s,c,t),this._position(a,t)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(t,n){var r=t.get([`label`,`position`]),a=t.get(`orient`),o=getViewRect$5(t,n),s=r==null||r===`auto`?a===`horizontal`?o.y+o.height/2<n.getHeight()/2?`-`:`+`:o.x+o.width/2<n.getWidth()/2?`+`:`-`:isString(r)?{horizontal:{top:`-`,bottom:`+`},vertical:{left:`-`,right:`+`}}[a][r]:r,c={horizontal:`center`,vertical:s>=0||s===`+`?`left`:`right`},l={horizontal:s>=0||s===`+`?`top`:`bottom`,vertical:`middle`},u={horizontal:0,vertical:PI$2/2},d=a===`vertical`?o.height:o.width,f=t.getModel(`controlStyle`),p=f.get(`show`,!0),g=p?f.get(`itemSize`):0,_=p?f.get(`itemGap`):0,v=g+_,y=t.get([`label`,`rotate`])||0;y=y*PI$2/180;var b,x,S,C=f.get(`position`,!0),w=p&&f.get(`showPlayBtn`,!0),T=p&&f.get(`showPrevBtn`,!0),E=p&&f.get(`showNextBtn`,!0),D=0,O=d;C===`left`||C===`bottom`?(w&&(b=[0,0],D+=v),T&&(x=[D,0],D+=v),E&&(S=[O-g,0],O-=v)):(w&&(b=[O-g,0],O-=v),T&&(x=[0,0],D+=v),E&&(S=[O-g,0],O-=v));var A=[D,O];return t.get(`inverse`)&&A.reverse(),{viewRect:o,mainLength:d,orient:a,rotation:u[a],labelRotation:y,labelPosOpt:s,labelAlign:t.get([`label`,`align`])||c[a],labelBaseline:t.get([`label`,`verticalAlign`])||t.get([`label`,`baseline`])||l[a],playPosition:b,prevBtnPosition:x,nextBtnPosition:S,axisExtent:A,controlSize:g,controlGap:_}},n.prototype._position=function(t,n){var r=this._mainGroup,a=this._labelGroup,o=t.viewRect;if(t.orient===`vertical`){var s=create$1(),c=o.x,l=o.y+o.height;translate(s,s,[-c,-l]),rotate(s,s,-PI$2/2),translate(s,s,[c,l]),o=o.clone(),o.applyTransform(s)}var u=b(o),d=b(r.getBoundingRect()),f=b(a.getBoundingRect()),p=[r.x,r.y],g=[a.x,a.y];g[0]=p[0]=u[0][0];var _=t.labelPosOpt;if(_==null||isString(_)){var v=_===`+`?0:1;x(p,d,u,1,v),x(g,f,u,1,1-v)}else{var v=_>=0?0:1;x(p,d,u,1,v),g[1]=p[1]+_}r.setPosition(p),a.setPosition(g),r.rotation=a.rotation=t.rotation,y(r),y(a);function y(t){t.originX=u[0][0]-t.x,t.originY=u[1][0]-t.y}function b(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function x(t,n,r,a,o){t[a]+=r[a][o]-n[a][o]}},n.prototype._createAxis=function(t,n){var r=n.getData(),a=n.get(`axisType`),o=createScaleByModel(n,a);o.getTicks=function(){return r.mapArray([`value`],function(t){return{value:t}})};var s=r.getDataExtent(`value`);o.setExtent(s[0],s[1]),o.calcNiceTicks();var c=new TimelineAxis_default(`value`,o,t.axisExtent,a);return c.model=n,c},n.prototype._createGroup=function(t){var n=this[t]=new Group_default;return this.group.add(n),n},n.prototype._renderAxisLine=function(t,n,r,a){var o=r.getExtent();if(a.get([`lineStyle`,`show`])){var s=new Line_default$1({shape:{x1:o[0],y1:0,x2:o[1],y2:0},style:extend({lineCap:`round`},a.getModel(`lineStyle`).getLineStyle()),silent:!0,z2:1});n.add(s);var c=this._progressLine=new Line_default$1({shape:{x1:o[0],x2:this._currentPointer?this._currentPointer.x:o[0],y1:0,y2:0},style:defaults({lineCap:`round`,lineWidth:s.style.lineWidth},a.getModel([`progress`,`lineStyle`]).getLineStyle()),silent:!0,z2:1});n.add(c)}},n.prototype._renderAxisTick=function(t,n,r,a){var o=this,s=a.getData(),c=r.scale.getTicks();this._tickSymbols=[],each$15(c,function(t){var c=r.dataToCoord(t.value),l=s.getItemModel(t.value),u=l.getModel(`itemStyle`),d=l.getModel([`emphasis`,`itemStyle`]),f=l.getModel([`progress`,`itemStyle`]),p=giveSymbol(l,u,n,{x:c,y:0,onclick:bind$1(o._changeTimeline,o,t.value)});p.ensureState(`emphasis`).style=d.getItemStyle(),p.ensureState(`progress`).style=f.getItemStyle(),enableHoverEmphasis(p);var g=getECData(p);l.get(`tooltip`)?(g.dataIndex=t.value,g.dataModel=a):g.dataIndex=g.dataModel=null,o._tickSymbols.push(p)})},n.prototype._renderAxisLabel=function(t,n,r,a){var o=this;if(r.getLabelModel().get(`show`)){var s=a.getData(),c=r.getViewLabels();this._tickLabels=[],each$15(c,function(a){var c=a.tickValue,l=s.getItemModel(c),u=l.getModel(`label`),d=l.getModel([`emphasis`,`label`]),f=l.getModel([`progress`,`label`]),p=new Text_default({x:r.dataToCoord(a.tickValue),y:0,rotation:t.labelRotation-t.rotation,onclick:bind$1(o._changeTimeline,o,c),silent:!1,style:createTextStyle$1(u,{text:a.formattedLabel,align:t.labelAlign,verticalAlign:t.labelBaseline})});p.ensureState(`emphasis`).style=createTextStyle$1(d),p.ensureState(`progress`).style=createTextStyle$1(f),n.add(p),enableHoverEmphasis(p),labelDataIndexStore(p).dataIndex=c,o._tickLabels.push(p)})}},n.prototype._renderControl=function(t,n,r,a){var o=t.controlSize,s=t.rotation,c=a.getModel(`controlStyle`).getItemStyle(),l=a.getModel([`emphasis`,`controlStyle`]).getItemStyle(),u=a.getPlayState(),d=a.get(`inverse`,!0);f(t.nextBtnPosition,`next`,bind$1(this._changeTimeline,this,d?`-`:`+`)),f(t.prevBtnPosition,`prev`,bind$1(this._changeTimeline,this,d?`+`:`-`)),f(t.playPosition,u?`stop`:`play`,bind$1(this._handlePlayClick,this,!u),!0);function f(t,r,u,d){if(t){var f=parsePercent$1(retrieve2(a.get([`controlStyle`,r+`BtnSize`]),o),o),p=[0,-f/2,f,f],g=makeControlIcon(a,r+`Icon`,p,{x:t[0],y:t[1],originX:o/2,originY:0,rotation:d?-s:0,rectHover:!0,style:c,onclick:u});g.ensureState(`emphasis`).style=l,n.add(g),enableHoverEmphasis(g)}}},n.prototype._renderCurrentPointer=function(t,n,r,a){var o=a.getData(),s=a.getCurrentIndex(),c=o.getItemModel(s).getModel(`checkpointStyle`),l=this;this._currentPointer=giveSymbol(c,c,this._mainGroup,{},this._currentPointer,{onCreate:function(t){t.draggable=!0,t.drift=bind$1(l._handlePointerDrag,l),t.ondragend=bind$1(l._handlePointerDragend,l),pointerMoveTo(t,l._progressLine,s,r,a,!0)},onUpdate:function(t){pointerMoveTo(t,l._progressLine,s,r,a)}})},n.prototype._handlePlayClick=function(t){this._clearTimer(),this.api.dispatchAction({type:`timelinePlayChange`,playState:t,from:this.uid})},n.prototype._handlePointerDrag=function(t,n,r){this._clearTimer(),this._pointerChangeTimeline([r.offsetX,r.offsetY])},n.prototype._handlePointerDragend=function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},n.prototype._pointerChangeTimeline=function(t,n){var r=this._toAxisCoord(t)[0],a=this._axis,o=asc$2(a.getExtent().slice());r>o[1]&&(r=o[1]),r<o[0]&&(r=o[0]),this._currentPointer.x=r,this._currentPointer.markRedraw();var s=this._progressLine;s&&(s.shape.x2=r,s.dirty());var c=this._findNearestTick(r),l=this.model;(n||c!==l.getCurrentIndex()&&l.get(`realtime`))&&this._changeTimeline(c)},n.prototype._doPlayStop=function(){var t=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var n=t.model;t._changeTimeline(n.getCurrentIndex()+(n.get(`rewind`,!0)?-1:1))},this.model.get(`playInterval`)))},n.prototype._toAxisCoord=function(t){return applyTransform(t,this._mainGroup.getLocalTransform(),!0)},n.prototype._findNearestTick=function(t){var n=this.model.getData(),r=1/0,a,o=this._axis;return n.each([`value`],function(n,s){var c=o.dataToCoord(n),l=Math.abs(c-t);l<r&&(r=l,a=s)}),a},n.prototype._clearTimer=function(){this._timer&&=(clearTimeout(this._timer),null)},n.prototype._changeTimeline=function(t){var n=this.model.getCurrentIndex();t===`+`?t=n+1:t===`-`&&(t=n-1),this.api.dispatchAction({type:`timelineChange`,currentIndex:t,from:this.uid})},n.prototype._updateTicksStatus=function(){var t=this.model.getCurrentIndex(),n=this._tickSymbols,r=this._tickLabels;if(n)for(var a=0;a<n.length;a++)n&&n[a]&&n[a].toggleState(`progress`,a<t);if(r)for(var a=0;a<r.length;a++)r&&r[a]&&r[a].toggleState(`progress`,labelDataIndexStore(r[a]).dataIndex<=t)},n.type=`timeline.slider`,n}(TimelineView_default);function createScaleByModel(t,n){if(n||=t.get(`type`),n)switch(n){case`category`:return new Ordinal_default({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case`time`:return new Time_default({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get(`useUTC`)});default:return new Interval_default}}function getViewRect$5(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get(`padding`))}function makeControlIcon(t,n,r,a){var o=a.style,s=createIcon(t.get([`controlStyle`,n]),a||{},new BoundingRect_default(r[0],r[1],r[2],r[3]));return o&&s.setStyle(o),s}function giveSymbol(t,n,r,a,o,s){var c=n.get(`color`);o?(o.setColor(c),r.add(o),s&&s.onUpdate(o)):(o=createSymbol$1(t.get(`symbol`),-1,-1,2,2,c),o.setStyle(`strokeNoScale`,!0),r.add(o),s&&s.onCreate(o));var l=n.getItemStyle([`color`]);o.setStyle(l),a=merge({rectHover:!0,z2:100},a,!0);var u=normalizeSymbolSize(t.get(`symbolSize`));a.scaleX=u[0]/2,a.scaleY=u[1]/2;var d=normalizeSymbolOffset(t.get(`symbolOffset`),u);d&&(a.x=(a.x||0)+d[0],a.y=(a.y||0)+d[1]);var f=t.get(`symbolRotate`);return a.rotation=(f||0)*Math.PI/180||0,o.attr(a),o.updateTransform(),o}function pointerMoveTo(t,n,r,a,o,s){if(!t.dragging){var c=o.getModel(`checkpointStyle`),l=a.dataToCoord(o.getData().get(`value`,r));if(s||!c.get(`animation`,!0))t.attr({x:l,y:0}),n&&n.attr({shape:{x2:l}});else{var u={duration:c.get(`animationDuration`,!0),easing:c.get(`animationEasing`,!0)};t.stopAnimation(null,!0),t.animateTo({x:l,y:0},u),n&&n.animateTo({shape:{x2:l}},u)}}}var SliderTimelineView_default=SliderTimelineView;function installTimelineAction(t){t.registerAction({type:`timelineChange`,event:`timelineChanged`,update:`prepareAndUpdate`},function(t,n,r){var a=n.getComponent(`timeline`);return a&&t.currentIndex!=null&&(a.setCurrentIndex(t.currentIndex),!a.get(`loop`,!0)&&a.isIndexMax()&&a.getPlayState()&&(a.setPlayState(!1),r.dispatchAction({type:`timelinePlayChange`,playState:!1,from:t.from}))),n.resetOption(`timeline`,{replaceMerge:a.get(`replaceMerge`,!0)}),defaults({currentIndex:a.option.currentIndex},t)}),t.registerAction({type:`timelinePlayChange`,event:`timelinePlayChanged`,update:`update`},function(t,n){var r=n.getComponent(`timeline`);r&&t.playState!=null&&r.setPlayState(t.playState)})}function timelinePreprocessor(t){var n=t&&t.timeline;isArray$1(n)||(n=n?[n]:[]),each$15(n,function(t){t&&compatibleEC2(t)})}function compatibleEC2(t){var n=t.type,r={number:`value`,time:`time`};if(r[n]&&(t.axisType=r[n],delete t.type),transferItem(t),has$1(t,`controlPosition`)){var a=t.controlStyle||={};has$1(a,`position`)||(a.position=t.controlPosition),a.position===`none`&&!has$1(a,`show`)&&(a.show=!1,delete a.position),delete t.controlPosition}each$15(t.data||[],function(t){isObject$3(t)&&!isArray$1(t)&&(!has$1(t,`value`)&&has$1(t,`name`)&&(t.value=t.name),transferItem(t))})}function transferItem(t){var n=t.itemStyle||={},r=n.emphasis||={},a=t.label||t.label||{},o=a.normal||={},s={normal:1,emphasis:1};each$15(a,function(t,n){!s[n]&&!has$1(o,n)&&(o[n]=t)}),r.label&&!has$1(a,`emphasis`)&&(a.emphasis=r.label,delete r.label)}function has$1(t,n){return t.hasOwnProperty(n)}function install$39(t){t.registerComponentModel(SliderTimelineModel_default),t.registerComponentView(SliderTimelineView_default),t.registerSubTypeDefaulter(`timeline`,function(){return`slider`}),installTimelineAction(t),t.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(t,n){if(!t)return!1;for(var r=isArray$1(t)?t:[t],a=0;a<r.length;a++)if(r[a]&&r[a][n])return!0;return!1}function fillLabel(t){defaultEmphasis(t,`label`,[`show`])}var inner$8=makeInner(),MarkerModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r}return n.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),this._mergeOption(t,r,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env_default.node)return!1;var t=this.__hostSeries;return this.getShallow(`animation`)&&t&&t.isAnimationEnabled()},n.prototype.mergeOption=function(t,n){this._mergeOption(t,n,!1,!1)},n.prototype._mergeOption=function(t,n,r,a){var o=this.mainType;r||n.eachSeries(function(t){var r=t.get(this.mainType,!0),s=inner$8(t)[o];if(!r||!r.data){inner$8(t)[o]=null;return}s?s._mergeOption(r,n,!0):(a&&fillLabel(r),each$15(r.data,function(t){t instanceof Array?(fillLabel(t[0]),fillLabel(t[1])):fillLabel(t)}),s=this.createMarkerModelFromSeries(r,this,n),extend(s,{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),s.__hostSeries=t),inner$8(t)[o]=s},this)},n.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.getRawValue(t),s=a.getName(t);return createTooltipMarkup(`section`,{header:this.name,blocks:[createTooltipMarkup(`nameValue`,{name:s,value:o,noName:!s,noValue:o==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(t){this._data=t},n.prototype.getDataParams=function(t,n){var r=DataFormatMixin.prototype.getDataParams.call(this,t,n),a=this.__hostSeries;return a&&(r.seriesId=a.id,r.seriesName=a.name,r.seriesType=a.subType),r},n.getMarkerModelFromSeries=function(t,n){return inner$8(t)[n]},n.type=`marker`,n.dependencies=[`series`,`grid`,`polar`,`geo`],n}(Component_default$1);mixin(MarkerModel,DataFormatMixin.prototype);var MarkerModel_default=MarkerModel,MarkPointModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(t,r,a){return new n(t,r,a)},n.type=`markPoint`,n.defaultOption={z:5,symbol:`pin`,symbolSize:50,tooltip:{trigger:`item`},label:{show:!0,position:`inside`},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel_default);function getDefaultLabel(t,n){var r=t.mapDimensionsAll(`defaultedLabel`),a=r.length;if(a===1){var o=retrieveRawValue(t,n,r[0]);return o==null?null:o+``}else if(a){for(var s=[],c=0;c<r.length;c++)s.push(retrieveRawValue(t,n,r[c]));return s.join(` `)}}function getDefaultInterpolatedLabel(t,n){var r=t.mapDimensionsAll(`defaultedLabel`);if(!isArray$1(n))return n+``;for(var a=[],o=0;o<r.length;o++){var s=t.getDimensionIndex(r[o]);s>=0&&a.push(n[s])}return a.join(` `)}var Symbol$1=function(t){__extends(n,t);function n(n,r,a,o){var s=t.call(this)||this;return s.updateData(n,r,a,o),s}return n.prototype._createSymbol=function(t,n,r,a,o){this.removeAll();var s=createSymbol$1(t,-1,-1,2,2,null,o);s.attr({z2:100,culling:!0,scaleX:a[0]/2,scaleY:a[1]/2}),s.drift=driftSymbol,this._symbolType=t,this.add(s)},n.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(t,n){var r=this.childAt(0);r.zlevel=t,r.z=n},n.prototype.setDraggable=function(t,n){var r=this.childAt(0);r.draggable=t,r.cursor=!n&&t?`move`:r.cursor},n.prototype.updateData=function(t,r,a,o){this.silent=!1;var s=t.getItemVisual(r,`symbol`)||`circle`,c=t.hostModel,l=n.getSymbolSize(t,r),u=s!==this._symbolType,d=o&&o.disableAnimation;if(u){var f=t.getItemVisual(r,`symbolKeepAspect`);this._createSymbol(s,t,r,l,f)}else{var p=this.childAt(0);p.silent=!1;var g={scaleX:l[0]/2,scaleY:l[1]/2};d?p.attr(g):updateProps$1(p,g,c,r),saveOldStyle(p)}if(this._updateCommon(t,r,l,a,o),u){var p=this.childAt(0);if(!d){var g={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:p.style.opacity}};p.scaleX=p.scaleY=0,p.style.opacity=0,initProps(p,g,c,r)}}d&&this.childAt(0).stopAnimation(`leave`)},n.prototype._updateCommon=function(t,n,r,a,o){var s=this.childAt(0),c=t.hostModel,l,u,d,f,p,g,_,v,y;if(a&&(l=a.emphasisItemStyle,u=a.blurItemStyle,d=a.selectItemStyle,f=a.focus,p=a.blurScope,_=a.labelStatesModels,v=a.hoverScale,y=a.cursorStyle,g=a.emphasisDisabled),!a||t.hasItemOption){var b=a&&a.itemModel?a.itemModel:t.getItemModel(n),x=b.getModel(`emphasis`);l=x.getModel(`itemStyle`).getItemStyle(),d=b.getModel([`select`,`itemStyle`]).getItemStyle(),u=b.getModel([`blur`,`itemStyle`]).getItemStyle(),f=x.get(`focus`),p=x.get(`blurScope`),g=x.get(`disabled`),_=getLabelStatesModels(b),v=x.getShallow(`scale`),y=b.getShallow(`cursor`)}var S=t.getItemVisual(n,`symbolRotate`);s.attr(`rotation`,(S||0)*Math.PI/180||0);var C=normalizeSymbolOffset(t.getItemVisual(n,`symbolOffset`),r);C&&(s.x=C[0],s.y=C[1]),y&&s.attr(`cursor`,y);var w=t.getItemVisual(n,`style`),T=w.fill;if(s instanceof Image_default){var E=s.style;s.useStyle(extend({image:E.image,x:E.x,y:E.y,width:E.width,height:E.height},w))}else s.__isEmptyBrush?s.useStyle(extend({},w)):s.useStyle(w),s.style.decal=null,s.setColor(T,o&&o.symbolInnerColor),s.style.strokeNoScale=!0;var D=t.getItemVisual(n,`liftZ`),O=this._z2;D==null?O!=null&&(s.z2=O,this._z2=null):O??(this._z2=s.z2,s.z2+=D);var A=o&&o.useNameLabel;setLabelStyle(s,_,{labelFetcher:c,labelDataIndex:n,defaultText:j,inheritColor:T,defaultOpacity:w.opacity});function j(n){return A?t.getName(n):getDefaultLabel(t,n)}this._sizeX=r[0]/2,this._sizeY=r[1]/2;var M=s.ensureState(`emphasis`);M.style=l,s.ensureState(`select`).style=d,s.ensureState(`blur`).style=u;var N=v==null||v===!0?Math.max(1.1,3/this._sizeY):isFinite(v)&&v>0?+v:1;M.scaleX=this._sizeX*N,M.scaleY=this._sizeY*N,this.setSymbolScale(1),toggleHoverEmphasis(this,f,p,g)},n.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},n.prototype.fadeOut=function(t,n,r){var a=this.childAt(0),o=getECData(this).dataIndex,s=r&&r.animation;if(this.silent=a.silent=!0,r&&r.fadeLabel){var c=a.getTextContent();c&&removeElement(c,{style:{opacity:0}},n,{dataIndex:o,removeOpt:s,cb:function(){a.removeTextContent()}})}else a.removeTextContent();removeElement(a,{style:{opacity:0},scaleX:0,scaleY:0},n,{dataIndex:o,cb:t,removeOpt:s})},n.getSymbolSize=function(t,n){return normalizeSymbolSize(t.getItemVisual(n,`symbolSize`))},n}(Group_default);function driftSymbol(t,n){this.parent.drift(t,n)}var Symbol_default=Symbol$1;function symbolNeedsDraw$1(t,n,r,a){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(a.isIgnore&&a.isIgnore(r))&&!(a.clipShape&&!a.clipShape.contain(n[0],n[1]))&&t.getItemVisual(r,`symbol`)!==`none`}function normalizeUpdateOpt(t){return t!=null&&!isObject$3(t)&&(t={isIgnore:t}),t||{}}function makeSeriesScope$2(t){var n=t.hostModel,r=n.getModel(`emphasis`);return{emphasisItemStyle:r.getModel(`itemStyle`).getItemStyle(),blurItemStyle:n.getModel([`blur`,`itemStyle`]).getItemStyle(),selectItemStyle:n.getModel([`select`,`itemStyle`]).getItemStyle(),focus:r.get(`focus`),blurScope:r.get(`blurScope`),emphasisDisabled:r.get(`disabled`),hoverScale:r.get(`scale`),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get(`cursor`)}}var SymbolDraw_default=function(){function t(t){this.group=new Group_default,this._SymbolCtor=t||Symbol_default}return t.prototype.updateData=function(t,n){this._progressiveEls=null,n=normalizeUpdateOpt(n);var r=this.group,a=t.hostModel,o=this._data,s=this._SymbolCtor,c=n.disableAnimation,l=makeSeriesScope$2(t),u={disableAnimation:c},d=n.getSymbolPoint||function(n){return t.getItemLayout(n)};o||r.removeAll(),t.diff(o).add(function(a){var o=d(a);if(symbolNeedsDraw$1(t,o,a,n)){var c=new s(t,a,l,u);c.setPosition(o),t.setItemGraphicEl(a,c),r.add(c)}}).update(function(f,p){var g=o.getItemGraphicEl(p),_=d(f);if(!symbolNeedsDraw$1(t,_,f,n)){r.remove(g);return}var v=t.getItemVisual(f,`symbol`)||`circle`,y=g&&g.getSymbolType&&g.getSymbolType();if(!g||y&&y!==v)r.remove(g),g=new s(t,f,l,u),g.setPosition(_);else{g.updateData(t,f,l,u);var b={x:_[0],y:_[1]};c?g.attr(b):updateProps$1(g,b,a)}r.add(g),t.setItemGraphicEl(f,g)}).remove(function(t){var n=o.getItemGraphicEl(t);n&&n.fadeOut(function(){r.remove(n)},a)}).execute(),this._getSymbolPoint=d,this._data=t},t.prototype.updateLayout=function(){var t=this,n=this._data;n&&n.eachItemGraphicEl(function(n,r){var a=t._getSymbolPoint(r);n.setPosition(a),n.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope$2(t),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,n,r){this._progressiveEls=[],r=normalizeUpdateOpt(r);function a(t){t.isGroup||(t.incremental=!0,t.ensureState(`emphasis`).hoverLayer=!0)}for(var o=t.start;o<t.end;o++){var s=n.getItemLayout(o);if(symbolNeedsDraw$1(n,s,o,r)){var c=new this._SymbolCtor(n,o,this._seriesScope);c.traverse(a),c.setPosition(s),this.group.add(c),n.setItemGraphicEl(o,c),this._progressiveEls.push(c)}}},t.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},t.prototype.remove=function(t){var n=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(t){t.fadeOut(function(){n.remove(t)},r.hostModel)}):n.removeAll()},t}();function hasXOrY(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function hasXAndY(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function markerTypeCalculatorWithExtent(t,n,r,a,o,s){var c=[],l=isDimensionStacked(n,a)?n.getCalculationInfo(`stackResultDimension`):a,u=numCalculate(n,l,t),d=n.indicesOfNearest(l,u)[0];c[o]=n.get(r,d),c[s]=n.get(l,d);var f=n.get(a,d),p=getPrecision(n.get(a,d));return p=Math.min(p,20),p>=0&&(c[s]=+c[s].toFixed(p)),[c,f]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,`min`),max:curry$1(markerTypeCalculatorWithExtent,`max`),average:curry$1(markerTypeCalculatorWithExtent,`average`),median:curry$1(markerTypeCalculatorWithExtent,`median`)};function dataTransform(t,n){if(n){var r=t.getData(),a=t.coordinateSystem,o=a&&a.dimensions;if(!hasXAndY(n)&&!isArray$1(n.coord)&&isArray$1(o)){var s=getAxisInfo(n,r,a,t);if(n=clone$4(n),n.type&&markerTypeCalculator[n.type]&&s.baseAxis&&s.valueAxis){var c=indexOf(o,s.baseAxis.dim),l=indexOf(o,s.valueAxis.dim),u=markerTypeCalculator[n.type](r,s.baseDataDim,s.valueDataDim,c,l);n.coord=u[0],n.value=u[1]}else n.coord=[n.xAxis==null?n.radiusAxis:n.xAxis,n.yAxis==null?n.angleAxis:n.yAxis]}if(n.coord==null||!isArray$1(o))n.coord=[];else for(var d=n.coord,f=0;f<2;f++)markerTypeCalculator[d[f]]&&(d[f]=numCalculate(r,r.mapDimension(o[f]),d[f]));return n}}function getAxisInfo(t,n,r,a){var o={};return t.valueIndex!=null||t.valueDim!=null?(o.valueDataDim=t.valueIndex==null?t.valueDim:n.getDimension(t.valueIndex),o.valueAxis=r.getAxis(dataDimToCoordDim(a,o.valueDataDim)),o.baseAxis=r.getOtherAxis(o.valueAxis),o.baseDataDim=n.mapDimension(o.baseAxis.dim)):(o.baseAxis=a.getBaseAxis(),o.valueAxis=r.getOtherAxis(o.baseAxis),o.baseDataDim=n.mapDimension(o.baseAxis.dim),o.valueDataDim=n.mapDimension(o.valueAxis.dim)),o}function dataDimToCoordDim(t,n){var r=t.getData().getDimensionInfo(n);return r&&r.coordDim}function dataFilter$1(t,n){return t&&t.containData&&n.coord&&!hasXOrY(n)?t.containData(n.coord):!0}function zoneFilter(t,n,r){return t&&t.containZone&&n.coord&&r.coord&&!hasXOrY(n)&&!hasXOrY(r)?t.containZone(n.coord,r.coord):!0}function createMarkerDimValueGetter(t,n){return t?function(t,r,a,o){return parseDataValue(o<2?t.coord&&t.coord[o]:t.value,n[o])}:function(t,r,a,o){return parseDataValue(t.value,n[o])}}function numCalculate(t,n,r){if(r===`average`){var a=0,o=0;return t.each(n,function(t,n){isNaN(t)||(a+=t,o++)}),a/o}else if(r===`median`)return t.getMedian(n);else return t.getDataExtent(n)[r===`max`?1:0]}var inner$7=makeInner(),MarkerView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(t,n,r){var a=this,o=this.markerGroupMap;o.each(function(t){inner$7(t).keep=!1}),n.eachSeries(function(t){var o=MarkerModel_default.getMarkerModelFromSeries(t,a.type);o&&a.renderSeries(t,o,n,r)}),o.each(function(t){!inner$7(t).keep&&a.group.remove(t.group)})},n.prototype.markKeep=function(t){inner$7(t).keep=!0},n.prototype.toggleBlurSeries=function(t,n){var r=this;each$15(t,function(t){var a=MarkerModel_default.getMarkerModelFromSeries(t,r.type);a&&a.getData().eachItemGraphicEl(function(t){t&&(n?enterBlur(t):leaveBlur(t))})})},n.type=`marker`,n}(Component_default);function updateMarkerLayout(t,n,r){var a=n.coordinateSystem;t.each(function(o){var s=t.getItemModel(o),c,l=parsePercent(s.get(`x`),r.getWidth()),u=parsePercent(s.get(`y`),r.getHeight());if(!isNaN(l)&&!isNaN(u))c=[l,u];else if(n.getMarkerPosition)c=n.getMarkerPosition(t.getValues(t.dimensions,o));else if(a){var d=t.get(a.dimensions[0],o),f=t.get(a.dimensions[1],o);c=a.dataToPoint([d,f])}isNaN(l)||(c[0]=l),isNaN(u)||(c[1]=u),t.setItemLayout(o,c)})}var MarkPointView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(t,n,r){n.eachSeries(function(t){var n=MarkerModel_default.getMarkerModelFromSeries(t,`markPoint`);n&&(updateMarkerLayout(n.getData(),t,r),this.markerGroupMap.get(t.id).updateLayout())},this)},n.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,c=t.getData(),l=this.markerGroupMap,u=l.get(s)||l.set(s,new SymbolDraw_default),d=createData(o,t,n);n.setData(d),updateMarkerLayout(n.getData(),t,a),d.each(function(t){var r=d.getItemModel(t),a=r.getShallow(`symbol`),o=r.getShallow(`symbolSize`),s=r.getShallow(`symbolRotate`),l=r.getShallow(`symbolOffset`),u=r.getShallow(`symbolKeepAspect`);if(isFunction(a)||isFunction(o)||isFunction(s)||isFunction(l)){var f=n.getRawValue(t),p=n.getDataParams(t);isFunction(a)&&(a=a(f,p)),isFunction(o)&&(o=o(f,p)),isFunction(s)&&(s=s(f,p)),isFunction(l)&&(l=l(f,p))}var g=r.getModel(`itemStyle`).getItemStyle(),_=getVisualFromData(c,`color`);g.fill||=_,d.setItemVisual(t,{symbol:a,symbolSize:o,symbolRotate:s,symbolOffset:l,symbolKeepAspect:u,style:g})}),u.updateData(d),this.group.add(u.group),d.eachItemGraphicEl(function(t){t.traverse(function(t){getECData(t).dataModel=n})}),this.markKeep(u),u.group.silent=n.get(`silent`)||t.get(`silent`)},n.type=`markPoint`,n}(MarkerView_default);function createData(t,n,r){var a=t?map$1(t&&t.dimensions,function(t){return extend(extend({},n.getData().getDimensionInfo(n.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})}):[{name:`value`,type:`float`}],o=new SeriesData_default(a,r),s=map$1(r.get(`data`),curry$1(dataTransform,n));t&&(s=filter(s,curry$1(dataFilter$1,t)));var c=createMarkerDimValueGetter(!!t,a);return o.initData(s,null,c),o}var MarkPointView_default=MarkPointView;function install$38(t){t.registerComponentModel(MarkPointModel_default),t.registerComponentView(MarkPointView_default),t.registerPreprocessor(function(t){checkMarkerInSeries(t.series,`markPoint`)&&(t.markPoint=t.markPoint||{})})}var MarkLineModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(t,r,a){return new n(t,r,a)},n.type=`markLine`,n.defaultOption={z:5,symbol:[`circle`,`arrow`],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:`item`},label:{show:!0,position:`end`,distance:5},lineStyle:{type:`dashed`},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:`linear`},n}(MarkerModel_default),straightLineProto=Line_default$1.prototype,bezierCurveProto=BezierCurve_default.prototype,StraightLineShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var LinePath_default=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`ec-line`,r}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(t,n){isStraightLine(n)?straightLineProto.buildPath.call(this,t,n):bezierCurveProto.buildPath.call(this,t,n)},n.prototype.pointAt=function(t){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,t):bezierCurveProto.pointAt.call(this,t)},n.prototype.tangentAt=function(t){var n=this.shape,r=isStraightLine(n)?[n.x2-n.x1,n.y2-n.y1]:bezierCurveProto.tangentAt.call(this,t);return normalize$3(r,r)},n}(Path_default),SYMBOL_CATEGORIES=[`fromSymbol`,`toSymbol`];function makeSymbolTypeKey(t){return`_`+t+`Type`}function makeSymbolTypeValue(t,n,r){var a=n.getItemVisual(r,t);if(!a||a===`none`)return a;var o=n.getItemVisual(r,t+`Size`),s=n.getItemVisual(r,t+`Rotate`),c=n.getItemVisual(r,t+`Offset`),l=n.getItemVisual(r,t+`KeepAspect`),u=normalizeSymbolSize(o),d=normalizeSymbolOffset(c||0,u);return a+u+d+(s||``)+(l||``)}function createSymbol(t,n,r){var a=n.getItemVisual(r,t);if(!(!a||a===`none`)){var o=n.getItemVisual(r,t+`Size`),s=n.getItemVisual(r,t+`Rotate`),c=n.getItemVisual(r,t+`Offset`),l=n.getItemVisual(r,t+`KeepAspect`),u=normalizeSymbolSize(o),d=normalizeSymbolOffset(c||0,u),f=createSymbol$1(a,-u[0]/2+d[0],-u[1]/2+d[1],u[0],u[1],null,l);return f.__specifiedRotation=s==null||isNaN(s)?void 0:+s*Math.PI/180||0,f.name=t,f}}function createLine(t){var n=new LinePath_default({name:`line`,subPixelOptimize:!0});return setLinePoints(n.shape,t),n}function setLinePoints(t,n){t.x1=n[0][0],t.y1=n[0][1],t.x2=n[1][0],t.y2=n[1][1],t.percent=1;var r=n[2];r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Line_default=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this)||this;return o._createLine(n,r,a),o}return n.prototype._createLine=function(t,n,r){var a=t.hostModel,o=createLine(t.getItemLayout(n));o.shape.percent=0,initProps(o,{shape:{percent:1}},a,n),this.add(o),each$15(SYMBOL_CATEGORIES,function(r){var a=createSymbol(r,t,n);this.add(a),this[makeSymbolTypeKey(r)]=makeSymbolTypeValue(r,t,n)},this),this._updateCommonStl(t,n,r)},n.prototype.updateData=function(t,n,r){var a=t.hostModel,o=this.childOfName(`line`),s=t.getItemLayout(n),c={shape:{}};setLinePoints(c.shape,s),updateProps$1(o,c,a,n),each$15(SYMBOL_CATEGORIES,function(r){var a=makeSymbolTypeValue(r,t,n),o=makeSymbolTypeKey(r);if(this[o]!==a){this.remove(this.childOfName(r));var s=createSymbol(r,t,n);this.add(s)}this[o]=a},this),this._updateCommonStl(t,n,r)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(t,n,r){var a=t.hostModel,o=this.childOfName(`line`),s=r&&r.emphasisLineStyle,c=r&&r.blurLineStyle,l=r&&r.selectLineStyle,u=r&&r.labelStatesModels,d=r&&r.emphasisDisabled,f=r&&r.focus,p=r&&r.blurScope;if(!r||t.hasItemOption){var g=t.getItemModel(n),_=g.getModel(`emphasis`);s=_.getModel(`lineStyle`).getLineStyle(),c=g.getModel([`blur`,`lineStyle`]).getLineStyle(),l=g.getModel([`select`,`lineStyle`]).getLineStyle(),d=_.get(`disabled`),f=_.get(`focus`),p=_.get(`blurScope`),u=getLabelStatesModels(g)}var v=t.getItemVisual(n,`style`),y=v.stroke;o.useStyle(v),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState(`emphasis`).style=s,o.ensureState(`blur`).style=c,o.ensureState(`select`).style=l,each$15(SYMBOL_CATEGORIES,function(t){var n=this.childOfName(t);if(n){n.setColor(y),n.style.opacity=v.opacity;for(var r=0;r<SPECIAL_STATES.length;r++){var a=SPECIAL_STATES[r],s=o.getState(a);if(s){var c=s.style||{},l=n.ensureState(a),u=l.style||={};c.stroke!=null&&(u[n.__isEmptyBrush?`stroke`:`fill`]=c.stroke),c.opacity!=null&&(u.opacity=c.opacity)}}n.markRedraw()}},this);var b=a.getRawValue(n);setLabelStyle(this,u,{labelDataIndex:n,labelFetcher:{getFormattedLabel:function(n,r){return a.getFormattedLabel(n,r,t.dataType)}},inheritColor:y||`#000`,defaultOpacity:v.opacity,defaultText:(b==null?t.getName(n):isFinite(b)?round$3(b):b)+``});var x=this.getTextContent();if(x){var S=u.normal;x.__align=x.style.align,x.__verticalAlign=x.style.verticalAlign,x.__position=S.get(`position`)||`middle`;var C=S.get(`distance`);isArray$1(C)||(C=[C,C]),x.__labelDistance=C}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,f,p,d)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(t,n){this.setLinePoints(t.getItemLayout(n))},n.prototype.setLinePoints=function(t){var n=this.childOfName(`line`);setLinePoints(n.shape,t),n.dirty()},n.prototype.beforeUpdate=function(){var t=this,n=t.childOfName(`fromSymbol`),r=t.childOfName(`toSymbol`),a=t.getTextContent();if(!n&&!r&&(!a||a.ignore))return;for(var o=1,s=this.parent;s;)s.scaleX&&(o/=s.scaleX),s=s.parent;var c=t.childOfName(`line`);if(!this.__dirty&&!c.__dirty)return;var l=c.shape.percent,u=c.pointAt(0),d=c.pointAt(l),f=sub([],d,u);normalize$3(f,f);function p(t,n){var r=t.__specifiedRotation;if(r==null){var a=c.tangentAt(n);t.attr(`rotation`,(n===1?-1:1)*Math.PI/2-Math.atan2(a[1],a[0]))}else t.attr(`rotation`,r)}if(n&&(n.setPosition(u),p(n,0),n.scaleX=n.scaleY=o*l,n.markRedraw()),r&&(r.setPosition(d),p(r,1),r.scaleX=r.scaleY=o*l,r.markRedraw()),a&&!a.ignore){a.x=a.y=0,a.originX=a.originY=0;var g=void 0,_=void 0,v=a.__labelDistance,y=v[0]*o,b=v[1]*o,x=l/2,S=c.tangentAt(x),C=[S[1],-S[0]],w=c.pointAt(x);C[1]>0&&(C[0]=-C[0],C[1]=-C[1]);var T=S[0]<0?-1:1;if(a.__position!==`start`&&a.__position!==`end`){var E=-Math.atan2(S[1],S[0]);d[0]<u[0]&&(E=Math.PI+E),a.rotation=E}var D=void 0;switch(a.__position){case`insideStartTop`:case`insideMiddleTop`:case`insideEndTop`:case`middle`:D=-b,_=`bottom`;break;case`insideStartBottom`:case`insideMiddleBottom`:case`insideEndBottom`:D=b,_=`top`;break;default:D=0,_=`middle`}switch(a.__position){case`end`:a.x=f[0]*y+d[0],a.y=f[1]*b+d[1],g=f[0]>.8?`left`:f[0]<-.8?`right`:`center`,_=f[1]>.8?`top`:f[1]<-.8?`bottom`:`middle`;break;case`start`:a.x=-f[0]*y+u[0],a.y=-f[1]*b+u[1],g=f[0]>.8?`right`:f[0]<-.8?`left`:`center`,_=f[1]>.8?`bottom`:f[1]<-.8?`top`:`middle`;break;case`insideStartTop`:case`insideStart`:case`insideStartBottom`:a.x=y*T+u[0],a.y=u[1]+D,g=S[0]<0?`right`:`left`,a.originX=-y*T,a.originY=-D;break;case`insideMiddleTop`:case`insideMiddle`:case`insideMiddleBottom`:case`middle`:a.x=w[0],a.y=w[1]+D,g=`center`,a.originY=-D;break;case`insideEndTop`:case`insideEnd`:case`insideEndBottom`:a.x=-y*T+d[0],a.y=d[1]+D,g=S[0]>=0?`right`:`left`,a.originX=y*T,a.originY=-D;break}a.scaleX=a.scaleY=o,a.setStyle({verticalAlign:a.__verticalAlign||_,align:a.__align||g})}},n}(Group_default),LineDraw=function(){function t(t){this.group=new Group_default,this._LineCtor=t||Line_default}return t.prototype.updateData=function(t){var n=this;this._progressiveEls=null;var r=this,a=r.group,o=r._lineData;r._lineData=t,o||a.removeAll();var s=makeSeriesScope$1(t);t.diff(o).add(function(r){n._doAdd(t,r,s)}).update(function(r,a){n._doUpdate(o,t,a,r,s)}).remove(function(t){a.remove(o.getItemGraphicEl(t))}).execute()},t.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(n,r){n.updateLayout(t,r)},this)},t.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=makeSeriesScope$1(t),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(t,n){this._progressiveEls=[];function r(t){!t.isGroup&&!isEffectObject(t)&&(t.incremental=!0,t.ensureState(`emphasis`).hoverLayer=!0)}for(var a=t.start;a<t.end;a++)if(lineNeedsDraw(n.getItemLayout(a))){var o=new this._LineCtor(n,a,this._seriesScope);o.traverse(r),this.group.add(o),n.setItemGraphicEl(a,o),this._progressiveEls.push(o)}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},t.prototype._doAdd=function(t,n,r){if(lineNeedsDraw(t.getItemLayout(n))){var a=new this._LineCtor(t,n,r);t.setItemGraphicEl(n,a),this.group.add(a)}},t.prototype._doUpdate=function(t,n,r,a,o){var s=t.getItemGraphicEl(r);if(!lineNeedsDraw(n.getItemLayout(a))){this.group.remove(s);return}s?s.updateData(n,a,o):s=new this._LineCtor(n,a,o),n.setItemGraphicEl(a,s),this.group.add(s)},t}();function isEffectObject(t){return t.animators&&t.animators.length>0}function makeSeriesScope$1(t){var n=t.hostModel,r=n.getModel(`emphasis`);return{lineStyle:n.getModel(`lineStyle`).getLineStyle(),emphasisLineStyle:r.getModel([`lineStyle`]).getLineStyle(),blurLineStyle:n.getModel([`blur`,`lineStyle`]).getLineStyle(),selectLineStyle:n.getModel([`select`,`lineStyle`]).getLineStyle(),emphasisDisabled:r.get(`disabled`),blurScope:r.get(`blurScope`),focus:r.get(`focus`),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(t){return isNaN(t[0])||isNaN(t[1])}function lineNeedsDraw(t){return t&&!isPointNaN(t[0])&&!isPointNaN(t[1])}var LineDraw_default=LineDraw;function isCoordinateSystemType(t,n){return t.type===n}var inner$6=makeInner(),markLineTransform=function(t,n,r,a){var o=t.getData(),s;if(isArray$1(a))s=a;else{var c=a.type;if(c===`min`||c===`max`||c===`average`||c===`median`||a.xAxis!=null||a.yAxis!=null){var l=void 0,u=void 0;if(a.yAxis!=null||a.xAxis!=null)l=n.getAxis(a.yAxis==null?`x`:`y`),u=retrieve(a.yAxis,a.xAxis);else{var d=getAxisInfo(a,o,n,t);l=d.valueAxis,u=numCalculate(o,getStackedDimension(o,d.valueDataDim),c)}var f=l.dim===`x`?0:1,p=1-f,g=clone$4(a),_={coord:[]};g.type=null,g.coord=[],g.coord[p]=-1/0,_.coord[p]=1/0;var v=r.get(`precision`);v>=0&&isNumber(u)&&(u=+u.toFixed(Math.min(v,20))),g.coord[f]=_.coord[f]=u,s=[g,_,{type:c,valueIndex:a.valueIndex,value:u}]}else s=[]}var y=[dataTransform(t,s[0]),dataTransform(t,s[1]),extend({},s[2])];return y[2].type=y[2].type||null,merge(y[2],y[0]),merge(y[2],y[1]),y};function isInfinity$1(t){return!isNaN(t)&&!isFinite(t)}function ifMarkLineHasOnlyDim(t,n,r,a){var o=1-t,s=a.dimensions[t];return isInfinity$1(n[o])&&isInfinity$1(r[o])&&n[t]===r[t]&&a.getAxis(s).containData(n[t])}function markLineFilter(t,n){if(t.type===`cartesian2d`){var r=n[0].coord,a=n[1].coord;if(r&&a&&(ifMarkLineHasOnlyDim(1,r,a,t)||ifMarkLineHasOnlyDim(0,r,a,t)))return!0}return dataFilter$1(t,n[0])&&dataFilter$1(t,n[1])}function updateSingleMarkerEndLayout(t,n,r,a,o){var s=a.coordinateSystem,c=t.getItemModel(n),l,u=parsePercent(c.get(`x`),o.getWidth()),d=parsePercent(c.get(`y`),o.getHeight());if(!isNaN(u)&&!isNaN(d))l=[u,d];else{if(a.getMarkerPosition)l=a.getMarkerPosition(t.getValues(t.dimensions,n));else{var f=s.dimensions,p=t.get(f[0],n),g=t.get(f[1],n);l=s.dataToPoint([p,g])}if(isCoordinateSystemType(s,`cartesian2d`)){var _=s.getAxis(`x`),v=s.getAxis(`y`),f=s.dimensions;isInfinity$1(t.get(f[0],n))?l[0]=_.toGlobalCoord(_.getExtent()[r?0:1]):isInfinity$1(t.get(f[1],n))&&(l[1]=v.toGlobalCoord(v.getExtent()[r?0:1]))}isNaN(u)||(l[0]=u),isNaN(d)||(l[1]=d)}t.setItemLayout(n,l)}var MarkLineView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(t,n,r){n.eachSeries(function(t){var n=MarkerModel_default.getMarkerModelFromSeries(t,`markLine`);if(n){var a=n.getData(),o=inner$6(n).from,s=inner$6(n).to;o.each(function(n){updateSingleMarkerEndLayout(o,n,!0,t,r),updateSingleMarkerEndLayout(s,n,!1,t,r)}),a.each(function(t){a.setItemLayout(t,[o.getItemLayout(t),s.getItemLayout(t)])}),this.markerGroupMap.get(t.id).updateLayout()}},this)},n.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,c=t.getData(),l=this.markerGroupMap,u=l.get(s)||l.set(s,new LineDraw_default);this.group.add(u.group);var d=createList$1(o,t,n),f=d.from,p=d.to,g=d.line;inner$6(n).from=f,inner$6(n).to=p,n.setData(g);var _=n.get(`symbol`),v=n.get(`symbolSize`),y=n.get(`symbolRotate`),b=n.get(`symbolOffset`);isArray$1(_)||(_=[_,_]),isArray$1(v)||(v=[v,v]),isArray$1(y)||(y=[y,y]),isArray$1(b)||(b=[b,b]),d.from.each(function(t){x(f,t,!0),x(p,t,!1)}),g.each(function(t){var n=g.getItemModel(t).getModel(`lineStyle`).getLineStyle();g.setItemLayout(t,[f.getItemLayout(t),p.getItemLayout(t)]),n.stroke??=f.getItemVisual(t,`style`).fill,g.setItemVisual(t,{fromSymbolKeepAspect:f.getItemVisual(t,`symbolKeepAspect`),fromSymbolOffset:f.getItemVisual(t,`symbolOffset`),fromSymbolRotate:f.getItemVisual(t,`symbolRotate`),fromSymbolSize:f.getItemVisual(t,`symbolSize`),fromSymbol:f.getItemVisual(t,`symbol`),toSymbolKeepAspect:p.getItemVisual(t,`symbolKeepAspect`),toSymbolOffset:p.getItemVisual(t,`symbolOffset`),toSymbolRotate:p.getItemVisual(t,`symbolRotate`),toSymbolSize:p.getItemVisual(t,`symbolSize`),toSymbol:p.getItemVisual(t,`symbol`),style:n})}),u.updateData(g),d.line.eachItemGraphicEl(function(t){getECData(t).dataModel=n,t.traverse(function(t){getECData(t).dataModel=n})});function x(n,r,o){var s=n.getItemModel(r);updateSingleMarkerEndLayout(n,r,o,t,a);var l=s.getModel(`itemStyle`).getItemStyle();l.fill??=getVisualFromData(c,`color`),n.setItemVisual(r,{symbolKeepAspect:s.get(`symbolKeepAspect`),symbolOffset:retrieve2(s.get(`symbolOffset`,!0),b[o?0:1]),symbolRotate:retrieve2(s.get(`symbolRotate`,!0),y[o?0:1]),symbolSize:retrieve2(s.get(`symbolSize`),v[o?0:1]),symbol:retrieve2(s.get(`symbol`,!0),_[o?0:1]),style:l})}this.markKeep(u),u.group.silent=n.get(`silent`)||t.get(`silent`)},n.type=`markLine`,n}(MarkerView_default);function createList$1(t,n,r){var a=t?map$1(t&&t.dimensions,function(t){return extend(extend({},n.getData().getDimensionInfo(n.getData().mapDimension(t))||{}),{name:t,ordinalMeta:null})}):[{name:`value`,type:`float`}],o=new SeriesData_default(a,r),s=new SeriesData_default(a,r),c=new SeriesData_default([],r),l=map$1(r.get(`data`),curry$1(markLineTransform,n,t,r));t&&(l=filter(l,curry$1(markLineFilter,t)));var u=createMarkerDimValueGetter(!!t,a);return o.initData(map$1(l,function(t){return t[0]}),null,u),s.initData(map$1(l,function(t){return t[1]}),null,u),c.initData(map$1(l,function(t){return t[2]})),c.hasItemOption=!0,{from:o,to:s,line:c}}var MarkLineView_default=MarkLineView;function install$37(t){t.registerComponentModel(MarkLineModel_default),t.registerComponentView(MarkLineView_default),t.registerPreprocessor(function(t){checkMarkerInSeries(t.series,`markLine`)&&(t.markLine=t.markLine||{})})}var MarkAreaModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(t,r,a){return new n(t,r,a)},n.type=`markArea`,n.defaultOption={z:1,tooltip:{trigger:`item`},animation:!1,label:{show:!0,position:`top`},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:`top`}}},n}(MarkerModel_default),inner$5=makeInner(),markAreaTransform=function(t,n,r,a){var o=a[0],s=a[1];if(!(!o||!s)){var c=dataTransform(t,o),l=dataTransform(t,s),u=c.coord,d=l.coord;u[0]=retrieve(u[0],-1/0),u[1]=retrieve(u[1],-1/0),d[0]=retrieve(d[0],1/0),d[1]=retrieve(d[1],1/0);var f=mergeAll([{},c,l]);return f.coord=[c.coord,l.coord],f.x0=c.x,f.y0=c.y,f.x1=l.x,f.y1=l.y,f}};function isInfinity(t){return!isNaN(t)&&!isFinite(t)}function ifMarkAreaHasOnlyDim(t,n,r,a){var o=1-t;return isInfinity(n[o])&&isInfinity(r[o])}function markAreaFilter(t,n){var r=n.coord[0],a=n.coord[1],o={coord:r,x:n.x0,y:n.y0},s={coord:a,x:n.x1,y:n.y1};return isCoordinateSystemType(t,`cartesian2d`)?r&&a&&(ifMarkAreaHasOnlyDim(1,r,a,t)||ifMarkAreaHasOnlyDim(0,r,a,t))?!0:zoneFilter(t,o,s):dataFilter$1(t,o)||dataFilter$1(t,s)}function getSingleMarkerEndPoint(t,n,r,a,o){var s=a.coordinateSystem,c=t.getItemModel(n),l,u=parsePercent(c.get(r[0]),o.getWidth()),d=parsePercent(c.get(r[1]),o.getHeight());if(!isNaN(u)&&!isNaN(d))l=[u,d];else{if(a.getMarkerPosition){var f=t.getValues([`x0`,`y0`],n),p=t.getValues([`x1`,`y1`],n),g=s.clampData(f),_=s.clampData(p),v=[];r[0]===`x0`?v[0]=g[0]>_[0]?p[0]:f[0]:v[0]=g[0]>_[0]?f[0]:p[0],r[1]===`y0`?v[1]=g[1]>_[1]?p[1]:f[1]:v[1]=g[1]>_[1]?f[1]:p[1],l=a.getMarkerPosition(v,r,!0)}else{var y=t.get(r[0],n),b=t.get(r[1],n),x=[y,b];s.clampData&&s.clampData(x,x),l=s.dataToPoint(x,!0)}if(isCoordinateSystemType(s,`cartesian2d`)){var S=s.getAxis(`x`),C=s.getAxis(`y`),y=t.get(r[0],n),b=t.get(r[1],n);isInfinity(y)?l[0]=S.toGlobalCoord(S.getExtent()[r[0]===`x0`?0:1]):isInfinity(b)&&(l[1]=C.toGlobalCoord(C.getExtent()[r[1]===`y0`?0:1]))}isNaN(u)||(l[0]=u),isNaN(d)||(l[1]=d)}return l}var dimPermutations=[[`x0`,`y0`],[`x1`,`y0`],[`x1`,`y1`],[`x0`,`y1`]],MarkAreaView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(t,n,r){n.eachSeries(function(t){var n=MarkerModel_default.getMarkerModelFromSeries(t,`markArea`);if(n){var a=n.getData();a.each(function(n){var o=map$1(dimPermutations,function(o){return getSingleMarkerEndPoint(a,n,o,t,r)});a.setItemLayout(n,o),a.getItemGraphicEl(n).setShape(`points`,o)})}},this)},n.prototype.renderSeries=function(t,n,r,a){var o=t.coordinateSystem,s=t.id,c=t.getData(),l=this.markerGroupMap,u=l.get(s)||l.set(s,{group:new Group_default});this.group.add(u.group),this.markKeep(u);var d=createList(o,t,n);n.setData(d),d.each(function(n){var r=map$1(dimPermutations,function(r){return getSingleMarkerEndPoint(d,n,r,t,a)}),s=o.getAxis(`x`).scale,l=o.getAxis(`y`).scale,u=s.getExtent(),f=l.getExtent(),p=[s.parse(d.get(`x0`,n)),s.parse(d.get(`x1`,n))],g=[l.parse(d.get(`y0`,n)),l.parse(d.get(`y1`,n))];asc$2(p),asc$2(g);var _=u[0]>p[1]||u[1]<p[0]||f[0]>g[1]||f[1]<g[0];d.setItemLayout(n,{points:r,allClipped:_});var v=d.getItemModel(n).getModel(`itemStyle`).getItemStyle(),y=getVisualFromData(c,`color`);v.fill||(v.fill=y,isString(v.fill)&&(v.fill=modifyAlpha(v.fill,.4))),v.stroke||=y,d.setItemVisual(n,`style`,v)}),d.diff(inner$5(u).data).add(function(t){var n=d.getItemLayout(t);if(!n.allClipped){var r=new Polygon_default({shape:{points:n.points}});d.setItemGraphicEl(t,r),u.group.add(r)}}).update(function(t,r){var a=inner$5(u).data.getItemGraphicEl(r),o=d.getItemLayout(t);o.allClipped?a&&u.group.remove(a):(a?updateProps$1(a,{shape:{points:o.points}},n,t):a=new Polygon_default({shape:{points:o.points}}),d.setItemGraphicEl(t,a),u.group.add(a))}).remove(function(t){var n=inner$5(u).data.getItemGraphicEl(t);u.group.remove(n)}).execute(),d.eachItemGraphicEl(function(t,r){var a=d.getItemModel(r),o=d.getItemVisual(r,`style`);t.useStyle(d.getItemVisual(r,`style`)),setLabelStyle(t,getLabelStatesModels(a),{labelFetcher:n,labelDataIndex:r,defaultText:d.getName(r)||``,inheritColor:isString(o.fill)?modifyAlpha(o.fill,1):`#000`}),setStatesStylesFromModel(t,a),toggleHoverEmphasis(t,null,null,a.get([`emphasis`,`disabled`])),getECData(t).dataModel=n}),inner$5(u).data=d,u.group.silent=n.get(`silent`)||t.get(`silent`)},n.type=`markArea`,n}(MarkerView_default);function createList(t,n,r){var a,o,s=[`x0`,`y0`,`x1`,`y1`];if(t){var c=map$1(t&&t.dimensions,function(t){var r=n.getData();return extend(extend({},r.getDimensionInfo(r.mapDimension(t))||{}),{name:t,ordinalMeta:null})});o=map$1(s,function(t,n){return{name:t,type:c[n%2].type}}),a=new SeriesData_default(o,r)}else o=[{name:`value`,type:`float`}],a=new SeriesData_default(o,r);var l=map$1(r.get(`data`),curry$1(markAreaTransform,n,t,r));t&&(l=filter(l,curry$1(markAreaFilter,t)));var u=t?function(t,n,r,a){var s=t.coord[Math.floor(a/2)][a%2];return parseDataValue(s,o[a])}:function(t,n,r,a){return parseDataValue(t.value,o[a])};return a.initData(l,null,u),a.hasItemOption=!0,a}var MarkAreaView_default=MarkAreaView;function install$36(t){t.registerComponentModel(MarkAreaModel_default),t.registerComponentView(MarkAreaView_default),t.registerPreprocessor(function(t){checkMarkerInSeries(t.series,`markArea`)&&(t.markArea=t.markArea||{})})}var getDefaultSelectorOptions=function(t,n){if(n===`all`)return{type:`all`,title:t.getLocaleModel().get([`legend`,`selector`,`all`])};if(n===`inverse`)return{type:`inverse`,title:t.getLocaleModel().get([`legend`,`selector`,`inverse`])}},LegendModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:`box`,ignoreSize:!0},r}return n.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r),t.selected=t.selected||{},this._updateSelector(t)},n.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),this._updateSelector(n)},n.prototype._updateSelector=function(t){var n=t.selector,r=this.ecModel;n===!0&&(n=t.selector=[`all`,`inverse`]),isArray$1(n)&&each$15(n,function(t,a){isString(t)&&(t={type:t}),n[a]=merge(t,getDefaultSelectorOptions(r,t.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&this.get(`selectedMode`)===`single`){for(var n=!1,r=0;r<t.length;r++){var a=t[r].get(`name`);if(this.isSelected(a)){this.select(a),n=!0;break}}!n&&this.select(t[0].get(`name`))}},n.prototype._updateData=function(t){var n=[],r=[];t.eachRawSeries(function(a){var o=a.name;r.push(o);var s;if(a.legendVisualProvider){var c=a.legendVisualProvider.getAllNames();t.isSeriesFiltered(a)||(r=r.concat(c)),c.length?n=n.concat(c):s=!0}else s=!0;s&&isNameSpecified(a)&&n.push(a.name)}),this._availableNames=r;var a=this.get(`data`)||n,o=createHashMap();this._data=filter(map$1(a,function(t){return(isString(t)||isNumber(t))&&(t={name:t}),o.get(t.name)?null:(o.set(t.name,!0),new Model_default(t,this,this.ecModel))},this),function(t){return!!t})},n.prototype.getData=function(){return this._data},n.prototype.select=function(t){var n=this.option.selected;if(this.get(`selectedMode`)===`single`){var r=this._data;each$15(r,function(t){n[t.get(`name`)]=!1})}n[t]=!0},n.prototype.unSelect=function(t){this.get(`selectedMode`)!==`single`&&(this.option.selected[t]=!1)},n.prototype.toggleSelected=function(t){var n=this.option.selected;n.hasOwnProperty(t)||(n[t]=!0),this[n[t]?`unSelect`:`select`](t)},n.prototype.allSelect=function(){var t=this._data,n=this.option.selected;each$15(t,function(t){n[t.get(`name`,!0)]=!0})},n.prototype.inverseSelect=function(){var t=this._data,n=this.option.selected;each$15(t,function(t){var r=t.get(`name`,!0);n.hasOwnProperty(r)||(n[r]=!0),n[r]=!n[r]})},n.prototype.isSelected=function(t){var n=this.option.selected;return!(n.hasOwnProperty(t)&&!n[t])&&indexOf(this._availableNames,t)>=0},n.prototype.getOrient=function(){return this.get(`orient`)===`vertical`?{index:1,name:`vertical`}:{index:0,name:`horizontal`}},n.type=`legend.plain`,n.dependencies=[`series`],n.defaultOption={z:4,show:!0,orient:`horizontal`,left:`center`,top:0,align:`auto`,backgroundColor:`rgba(0,0,0,0)`,borderColor:`#ccc`,borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:`inherit`,symbolKeepAspect:!0,inactiveColor:`#ccc`,inactiveBorderColor:`#ccc`,inactiveBorderWidth:`auto`,itemStyle:{color:`inherit`,opacity:`inherit`,borderColor:`inherit`,borderWidth:`auto`,borderCap:`inherit`,borderJoin:`inherit`,borderDashOffset:`inherit`,borderMiterLimit:`inherit`},lineStyle:{width:`auto`,color:`inherit`,inactiveColor:`#ccc`,inactiveWidth:2,opacity:`inherit`,type:`inherit`,cap:`inherit`,join:`inherit`,dashOffset:`inherit`,miterLimit:`inherit`},textStyle:{color:`#333`},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:`sans-serif`,color:`#666`,borderWidth:1,borderColor:`#666`},emphasis:{selectorLabel:{show:!0,color:`#eee`,backgroundColor:`#666`}},selectorPosition:`auto`,selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(Component_default$1),curry=curry$1,each$5=each$15,Group$2=Group_default,LegendView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$2),this.group.add(this._selectorGroup=new Group$2),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(t,n,r){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get(`show`,!0)){var o=t.get(`align`),s=t.get(`orient`);(!o||o===`auto`)&&(o=t.get(`left`)===`right`&&s===`vertical`?`right`:`left`);var c=t.get(`selector`,!0),l=t.get(`selectorPosition`,!0);c&&(!l||l===`auto`)&&(l=s===`horizontal`?`end`:`start`),this.renderInner(o,t,n,r,c,s,l);var u=t.getBoxLayoutParams(),d={width:r.getWidth(),height:r.getHeight()},f=t.get(`padding`),p=getLayoutRect(u,d,f),g=this.layoutInner(t,o,p,a,c,l),_=getLayoutRect(defaults({width:g.width,height:g.height},u),d,f);this.group.x=_.x-g.x,this.group.y=_.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(g,t))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(t,n,r,a,o,s,c){var l=this.getContentGroup(),u=createHashMap(),d=n.get(`selectedMode`),f=[];r.eachRawSeries(function(t){!t.get(`legendHoverLink`)&&f.push(t.id)}),each$5(n.getData(),function(o,s){var c=o.get(`name`);if(!this.newlineDisabled&&(c===``||c===`
`)){var p=new Group$2;p.newline=!0,l.add(p);return}var g=r.getSeriesByName(c)[0];if(!u.get(c))if(g){var _=g.getData(),v=_.getVisual(`legendLineStyle`)||{},y=_.getVisual(`legendIcon`),b=_.getVisual(`style`),x=this._createItem(g,c,s,o,n,t,v,b,y,d,a);x.on(`click`,curry(dispatchSelectAction,c,null,a,f)).on(`mouseover`,curry(dispatchHighlightAction,g.name,null,a,f)).on(`mouseout`,curry(dispatchDownplayAction,g.name,null,a,f)),r.ssr&&x.eachChild(function(t){var n=getECData(t);n.seriesIndex=g.seriesIndex,n.dataIndex=s,n.ssrType=`legend`}),u.set(c,!0)}else r.eachRawSeries(function(l){if(!u.get(c)&&l.legendVisualProvider){var p=l.legendVisualProvider;if(!p.containName(c))return;var g=p.indexOfName(c),_=p.getItemVisual(g,`style`),v=p.getItemVisual(g,`legendIcon`),y=parse(_.fill);y&&y[3]===0&&(y[3]=.2,_=extend(extend({},_),{fill:stringify(y,`rgba`)}));var b=this._createItem(l,c,s,o,n,t,{},_,v,d,a);b.on(`click`,curry(dispatchSelectAction,null,c,a,f)).on(`mouseover`,curry(dispatchHighlightAction,null,c,a,f)).on(`mouseout`,curry(dispatchDownplayAction,null,c,a,f)),r.ssr&&b.eachChild(function(t){var n=getECData(t);n.seriesIndex=l.seriesIndex,n.dataIndex=s,n.ssrType=`legend`}),u.set(c,!0)}},this)},this),o&&this._createSelector(o,n,a,s,c)},n.prototype._createSelector=function(t,n,r,a,o){var s=this.getSelectorGroup();each$5(t,function(t){var a=t.type,o=new Text_default({style:{x:0,y:0,align:`center`,verticalAlign:`middle`},onclick:function(){r.dispatchAction({type:a===`all`?`legendAllSelect`:`legendInverseSelect`,legendId:n.id})}});s.add(o),setLabelStyle(o,{normal:n.getModel(`selectorLabel`),emphasis:n.getModel([`emphasis`,`selectorLabel`])},{defaultText:t.title}),enableHoverEmphasis(o)})},n.prototype._createItem=function(t,n,r,a,o,s,c,l,u,d,f){var p=t.visualDrawType,g=o.get(`itemWidth`),_=o.get(`itemHeight`),v=o.isSelected(n),y=a.get(`symbolRotate`),b=a.get(`symbolKeepAspect`),x=a.get(`icon`);u=x||u||`roundRect`;var S=getLegendStyle(u,a,c,l,p,v,f),C=new Group$2,w=a.getModel(`textStyle`);if(isFunction(t.getLegendIcon)&&(!x||x===`inherit`))C.add(t.getLegendIcon({itemWidth:g,itemHeight:_,icon:u,iconRotate:y,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:b}));else{var T=x===`inherit`&&t.getData().getVisual(`symbol`)?y===`inherit`?t.getData().getVisual(`symbolRotate`):y:0;C.add(getDefaultLegendIcon({itemWidth:g,itemHeight:_,icon:u,iconRotate:T,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:b}))}var E=s===`left`?g+5:-5,D=s,O=o.get(`formatter`),A=n;isString(O)&&O?A=O.replace(`{name}`,n??``):isFunction(O)&&(A=O(n));var j=v?w.getTextColor():a.get(`inactiveColor`);C.add(new Text_default({style:createTextStyle$1(w,{text:A,x:E,y:_/2,fill:j,align:D,verticalAlign:`middle`},{inheritColor:j})}));var M=new Rect_default({shape:C.getBoundingRect(),style:{fill:`transparent`}}),N=a.getModel(`tooltip`);return N.get(`show`)&&setTooltipConfig({el:M,componentModel:o,itemName:n,itemTooltipOption:N.option}),C.add(M),C.eachChild(function(t){t.silent=!0}),M.silent=!d,this.getContentGroup().add(C),enableHoverEmphasis(C),C.__legendDataIndex=r,C},n.prototype.layoutInner=function(t,n,r,a,o,s){var c=this.getContentGroup(),l=this.getSelectorGroup();box(t.get(`orient`),c,t.get(`itemGap`),r.width,r.height);var u=c.getBoundingRect(),d=[-u.x,-u.y];if(l.markRedraw(),c.markRedraw(),o){box(`horizontal`,l,t.get(`selectorItemGap`,!0));var f=l.getBoundingRect(),p=[-f.x,-f.y],g=t.get(`selectorButtonGap`,!0),_=t.getOrient().index,v=_===0?`width`:`height`,y=_===0?`height`:`width`,b=_===0?`y`:`x`;s===`end`?p[_]+=u[v]+g:d[_]+=f[v]+g,p[1-_]+=u[y]/2-f[y]/2,l.x=p[0],l.y=p[1],c.x=d[0],c.y=d[1];var x={x:0,y:0};return x[v]=u[v]+g+f[v],x[y]=Math.max(u[y],f[y]),x[b]=Math.min(0,f[b]+p[1-_]),x}else return c.x=d[0],c.y=d[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type=`legend.plain`,n}(Component_default);function getLegendStyle(t,n,r,a,o,s,c){function l(t,n){t.lineWidth===`auto`&&(t.lineWidth=n.lineWidth>0?2:0),each$5(t,function(r,a){t[a]===`inherit`&&(t[a]=n[a])})}var u=n.getModel(`itemStyle`),d=u.getItemStyle(),f=t.lastIndexOf(`empty`,0)===0?`fill`:`stroke`,p=u.getShallow(`decal`);d.decal=!p||p===`inherit`?a.decal:createOrUpdatePatternFromDecal(p,c),d.fill===`inherit`&&(d.fill=a[o]),d.stroke===`inherit`&&(d.stroke=a[f]),d.opacity===`inherit`&&(d.opacity=(o===`fill`?a:r).opacity),l(d,a);var g=n.getModel(`lineStyle`),_=g.getLineStyle();if(l(_,r),d.fill===`auto`&&(d.fill=a.fill),d.stroke===`auto`&&(d.stroke=a.fill),_.stroke===`auto`&&(_.stroke=a.fill),!s){var v=n.get(`inactiveBorderWidth`),y=d[f];d.lineWidth=v===`auto`?a.lineWidth>0&&y?2:0:d.lineWidth,d.fill=n.get(`inactiveColor`),d.stroke=n.get(`inactiveBorderColor`),_.stroke=g.get(`inactiveColor`),_.lineWidth=g.get(`inactiveWidth`)}return{itemStyle:d,lineStyle:_}}function getDefaultLegendIcon(t){var n=t.icon||`roundRect`,r=createSymbol$1(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),n.indexOf(`empty`)>-1&&(r.style.stroke=r.style.fill,r.style.fill=`#fff`,r.style.lineWidth=2),r}function dispatchSelectAction(t,n,r,a){dispatchDownplayAction(t,n,r,a),r.dispatchAction({type:`legendToggleSelect`,name:t??n}),dispatchHighlightAction(t,n,r,a)}function isUseHoverLayer(t){for(var n=t.getZr().storage.getDisplayList(),r,a=0,o=n.length;a<o&&!(r=n[a].states.emphasis);)a++;return r&&r.hoverLayer}function dispatchHighlightAction(t,n,r,a){isUseHoverLayer(r)||r.dispatchAction({type:`highlight`,seriesName:t,name:n,excludeSeriesId:a})}function dispatchDownplayAction(t,n,r,a){isUseHoverLayer(r)||r.dispatchAction({type:`downplay`,seriesName:t,name:n,excludeSeriesId:a})}var LegendView_default=LegendView;function legendFilter(t){var n=t.findComponents({mainType:`legend`});n&&n.length&&t.filterSeries(function(t){for(var r=0;r<n.length;r++)if(!n[r].isSelected(t.name))return!1;return!0})}function legendSelectActionHandler(t,n,r){var a=t===`allSelect`||t===`inverseSelect`,o={},s=[];r.eachComponent({mainType:`legend`,query:n},function(r){a?r[t]():r[t](n.name),makeSelectedMap(r,o),s.push(r.componentIndex)});var c={};return r.eachComponent(`legend`,function(t){each$15(o,function(n,r){t[n?`select`:`unSelect`](r)}),makeSelectedMap(t,c)}),a?{selected:c,legendIndex:s}:{name:n.name,selected:c}}function makeSelectedMap(t,n){var r=n||{};return each$15(t.getData(),function(n){var a=n.get(`name`);if(!(a===`
`||a===``)){var o=t.isSelected(a);hasOwn(r,a)?r[a]=r[a]&&o:r[a]=o}}),r}function installLegendAction(t){t.registerAction(`legendToggleSelect`,`legendselectchanged`,curry$1(legendSelectActionHandler,`toggleSelected`)),t.registerAction(`legendAllSelect`,`legendselectall`,curry$1(legendSelectActionHandler,`allSelect`)),t.registerAction(`legendInverseSelect`,`legendinverseselect`,curry$1(legendSelectActionHandler,`inverseSelect`)),t.registerAction(`legendSelect`,`legendselected`,curry$1(legendSelectActionHandler,`select`)),t.registerAction(`legendUnSelect`,`legendunselected`,curry$1(legendSelectActionHandler,`unSelect`))}function install$35(t){t.registerComponentModel(LegendModel_default),t.registerComponentView(LegendView_default),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),t.registerSubTypeDefaulter(`legend`,function(){return`plain`}),installLegendAction(t)}var ScrollableLegendModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},n.prototype.init=function(n,r,a){var o=getLayoutParams(n);t.prototype.init.call(this,n,r,a),mergeAndNormalizeLayoutParams(this,n,o)},n.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),mergeAndNormalizeLayoutParams(this,this.option,n)},n.type=`legend.scroll`,n.defaultOption=inheritDefaultOption(LegendModel_default.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:`end`,pageFormatter:`{current}/{total}`,pageIcons:{horizontal:[`M0,0L12,-10L12,10z`,`M0,0L-12,-10L-12,10z`],vertical:[`M0,0L20,0L10,-20z`,`M0,0L20,0L10,20z`]},pageIconColor:`#2f4554`,pageIconInactiveColor:`#aaa`,pageIconSize:15,pageTextStyle:{color:`#333`},animationDurationUpdate:800}),n}(LegendModel_default);function mergeAndNormalizeLayoutParams(t,n,r){var a=t.getOrient(),o=[1,1];o[a.index]=0,mergeLayoutParam(n,r,{type:`box`,ignoreSize:!!o})}var ScrollableLegendModel_default=ScrollableLegendModel,Group$1=Group_default,WH=[`width`,`height`],XY=[`x`,`y`],ScrollableLegendView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Group$1),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group$1)},n.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(n,r,a,o,s,c,l){var u=this;t.prototype.renderInner.call(this,n,r,a,o,s,c,l);var d=this._controllerGroup,f=r.get(`pageIconSize`,!0),p=isArray$1(f)?f:[f,f];_(`pagePrev`,0);var g=r.getModel(`pageTextStyle`);d.add(new Text_default({name:`pageText`,style:{text:`xx/xx`,fill:g.getTextColor(),font:g.getFont(),verticalAlign:`middle`,align:`center`},silent:!0})),_(`pageNext`,1);function _(t,n){var a=t+`DataIndex`,s=createIcon(r.get(`pageIcons`,!0)[r.getOrient().name][n],{onclick:bind$1(u._pageGo,u,a,r,o)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});s.name=t,d.add(s)}},n.prototype.layoutInner=function(t,n,r,a,o,s){var c=this.getSelectorGroup(),l=t.getOrient().index,u=WH[l],d=XY[l],f=WH[1-l],p=XY[1-l];o&&box(`horizontal`,c,t.get(`selectorItemGap`,!0));var g=t.get(`selectorButtonGap`,!0),_=c.getBoundingRect(),v=[-_.x,-_.y],y=clone$4(r);o&&(y[u]=r[u]-_[u]-g);var b=this._layoutContentAndController(t,a,y,l,u,f,p,d);if(o){if(s===`end`)v[l]+=b[u]+g;else{var x=_[u]+g;v[l]-=x,b[d]-=x}b[u]+=_[u]+g,v[1-l]+=b[p]+b[f]/2-_[f]/2,b[f]=Math.max(b[f],_[f]),b[p]=Math.min(b[p],_[p]+v[1-l]),c.x=v[0],c.y=v[1],c.markRedraw()}return b},n.prototype._layoutContentAndController=function(t,n,r,a,o,s,c,l){var u=this.getContentGroup(),d=this._containerGroup,f=this._controllerGroup;box(t.get(`orient`),u,t.get(`itemGap`),a?r.width:null,a?null:r.height),box(`horizontal`,f,t.get(`pageButtonItemGap`,!0));var p=u.getBoundingRect(),g=f.getBoundingRect(),_=this._showController=p[o]>r[o],v=[-p.x,-p.y];n||(v[a]=u[l]);var y=[0,0],b=[-g.x,-g.y],x=retrieve2(t.get(`pageButtonGap`,!0),t.get(`itemGap`,!0));_&&(t.get(`pageButtonPosition`,!0)===`end`?b[a]+=r[o]-g[o]:y[a]+=g[o]+x),b[1-a]+=p[s]/2-g[s]/2,u.setPosition(v),d.setPosition(y),f.setPosition(b);var S={x:0,y:0};if(S[o]=_?r[o]:p[o],S[s]=Math.max(p[s],g[s]),S[c]=Math.min(0,g[c]+b[1-a]),d.__rectSize=r[o],_){var C={x:0,y:0};C[o]=Math.max(r[o]-g[o]-x,0),C[s]=S[s],d.setClipPath(new Rect_default({shape:C})),d.__rectSize=C[o]}else f.eachChild(function(t){t.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(t);return w.pageIndex!=null&&updateProps$1(u,{x:w.contentPosition[0],y:w.contentPosition[1]},_?t:null),this._updatePageInfoView(t,w),S},n.prototype._pageGo=function(t,n,r){var a=this._getPageInfo(n)[t];a!=null&&r.dispatchAction({type:`legendScroll`,scrollDataIndex:a,legendId:n.id})},n.prototype._updatePageInfoView=function(t,n){var r=this._controllerGroup;each$15([`pagePrev`,`pageNext`],function(a){var o=n[a+`DataIndex`]!=null,s=r.childOfName(a);s&&(s.setStyle(`fill`,o?t.get(`pageIconColor`,!0):t.get(`pageIconInactiveColor`,!0)),s.cursor=o?`pointer`:`default`)});var a=r.childOfName(`pageText`),o=t.get(`pageFormatter`),s=n.pageIndex,c=s==null?0:s+1,l=n.pageCount;a&&o&&a.setStyle(`text`,isString(o)?o.replace(`{current}`,c==null?``:c+``).replace(`{total}`,l==null?``:l+``):o({current:c,total:l}))},n.prototype._getPageInfo=function(t){var n=t.get(`scrollDataIndex`,!0),r=this.getContentGroup(),a=this._containerGroup.__rectSize,o=t.getOrient().index,s=WH[o],c=XY[o],l=this._findTargetItemIndex(n),u=r.children(),d=u[l],f=u.length,p=f?1:0,g={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return g;var _=S(d);g.contentPosition[o]=-_.s;for(var v=l+1,y=_,b=_,x=null;v<=f;++v)x=S(u[v]),(!x&&b.e>y.s+a||x&&!C(x,y.s))&&(y=b.i>y.i?b:x,y&&(g.pageNextDataIndex??=y.i,++g.pageCount)),b=x;for(var v=l-1,y=_,b=_,x=null;v>=-1;--v)x=S(u[v]),(!x||!C(b,x.s))&&y.i<b.i&&(b=y,g.pagePrevDataIndex??=y.i,++g.pageCount,++g.pageIndex),y=x;return g;function S(t){if(t){var n=t.getBoundingRect(),r=n[c]+t[c];return{s:r,e:r+n[s],i:t.__legendDataIndex}}}function C(t,n){return t.e>=n&&t.s<=n+a}},n.prototype._findTargetItemIndex=function(t){if(!this._showController)return 0;var n,r=this.getContentGroup(),a;return r.eachChild(function(r,o){var s=r.__legendDataIndex;a==null&&s!=null&&(a=o),s===t&&(n=o)}),n??a},n.type=`legend.scroll`,n}(LegendView_default);function installScrollableLegendAction(t){t.registerAction(`legendScroll`,`legendscroll`,function(t,n){var r=t.scrollDataIndex;r!=null&&n.eachComponent({mainType:`legend`,subType:`scroll`,query:t},function(t){t.setScrollDataIndex(r)})})}function install$34(t){use(install$35),t.registerComponentModel(ScrollableLegendModel_default),t.registerComponentView(ScrollableLegendView_default),installScrollableLegendAction(t)}function install$33(t){use(install$35),use(install$34)}var InsideZoomModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`dataZoom.inside`,n.defaultOption=inheritDefaultOption(DataZoomModel_default.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel_default),inner$4=makeInner();function setViewInfoToCoordSysRecord(t,n,r){inner$4(t).coordSysRecordMap.each(function(t){var a=t.dataZoomInfoMap.get(n.uid);a&&(a.getRange=r)})}function disposeCoordSysRecordIfNeeded(t,n){for(var r=inner$4(t).coordSysRecordMap,a=r.keys(),o=0;o<a.length;o++){var s=a[o],c=r.get(s),l=c.dataZoomInfoMap;if(l){var u=n.uid;l.get(u)&&(l.removeKey(u),l.keys().length||disposeCoordSysRecord(r,c))}}}function disposeCoordSysRecord(t,n){if(n){t.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function createCoordSysRecord(t,n){var r={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,t),dataZoomInfoMap:null,controller:null},a=r.controller=new RoamController_default(t.getZr());return each$15([`pan`,`zoom`,`scrollMove`],function(t){a.on(t,function(n){var a=[];r.dataZoomInfoMap.each(function(o){if(n.isAvailableBehavior(o.model.option)){var s=(o.getRange||{})[t],c=s&&s(o.dzReferCoordSysInfo,r.model.mainType,r.controller,n);!o.model.get(`disabled`,!0)&&c&&a.push({dataZoomId:o.model.id,start:c[0],end:c[1]})}}),a.length&&r.dispatchAction(a)})}),r}function dispatchAction(t,n){t.isDisposed()||t.dispatchAction({type:`dataZoom`,animation:{easing:`cubicOut`,duration:100},batch:n})}function containsPoint(t,n,r,a){return t.coordinateSystem.containPoint([r,a])}function mergeControllerParams(t){var n,r=`type_`,a={type_true:2,type_move:1,type_false:0,type_undefined:-1},o=!0;return t.each(function(t){var s=t.model,c=s.get(`disabled`,!0)?!1:s.get(`zoomLock`,!0)?`move`:!0;a[r+c]>a[r+n]&&(n=c),o&&=s.get(`preventDefaultMouseMove`,!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!o}}}function installDataZoomRoamProcessor(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(t,n){var r=inner$4(n),a=r.coordSysRecordMap||=createHashMap();a.each(function(t){t.dataZoomInfoMap=null}),t.eachComponent({mainType:`dataZoom`,subType:`inside`},function(t){each$15(collectReferCoordSysModelInfo(t).infoList,function(r){var o=r.model.uid,s=a.get(o)||a.set(o,createCoordSysRecord(n,r.model));(s.dataZoomInfoMap||=createHashMap()).set(t.uid,{dzReferCoordSysInfo:r,model:t,getRange:null})})}),a.each(function(t){var n=t.controller,r,o=t.dataZoomInfoMap;if(o){var s=o.keys()[0];s!=null&&(r=o.get(s))}if(!r){disposeCoordSysRecord(a,t);return}var c=mergeControllerParams(o);n.enable(c.controlType,c.opt),n.setPointerChecker(t.containsPoint),createOrUpdate(t,`dispatchAction`,r.model.get(`throttle`,!0),`fixRate`)})})}var InsideZoomView=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`dataZoom.inside`,n}return n.prototype.render=function(n,r,a){if(t.prototype.render.apply(this,arguments),n.noTarget()){this._clear();return}this.range=n.getPercentRange(),setViewInfoToCoordSysRecord(a,n,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type=`dataZoom.inside`,n}(DataZoomView_default),getRangeHandlers={zoom:function(t,n,r,a){var o=this.range,s=o.slice(),c=t.axisModels[0];if(c){var l=getDirectionInfo[n](null,[a.originX,a.originY],c,r,t),u=(l.signal>0?l.pixelStart+l.pixelLength-l.pixel:l.pixel-l.pixelStart)/l.pixelLength*(s[1]-s[0])+s[0],d=Math.max(1/a.scale,0);s[0]=(s[0]-u)*d+u,s[1]=(s[1]-u)*d+u;var f=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,s,[0,100],0,f.minSpan,f.maxSpan),this.range=s,o[0]!==s[0]||o[1]!==s[1])return s}},pan:makeMover(function(t,n,r,a,o,s){var c=getDirectionInfo[a]([s.oldX,s.oldY],[s.newX,s.newY],n,o,r);return c.signal*(t[1]-t[0])*c.pixel/c.pixelLength}),scrollMove:makeMover(function(t,n,r,a,o,s){return getDirectionInfo[a]([0,0],[s.scrollDelta,s.scrollDelta],n,o,r).signal*(t[1]-t[0])*s.scrollDelta})};function makeMover(t){return function(n,r,a,o){var s=this.range,c=s.slice(),l=n.axisModels[0];if(l&&(sliderMove(t(c,l,n,r,a,o),c,[0,100],`all`),this.range=c,s[0]!==c[0]||s[1]!==c[1]))return c}}var getDirectionInfo={grid:function(t,n,r,a,o){var s=r.axis,c={},l=o.model.coordinateSystem.getRect();return t||=[0,0],s.dim===`x`?(c.pixel=n[0]-t[0],c.pixelLength=l.width,c.pixelStart=l.x,c.signal=s.inverse?1:-1):(c.pixel=n[1]-t[1],c.pixelLength=l.height,c.pixelStart=l.y,c.signal=s.inverse?-1:1),c},polar:function(t,n,r,a,o){var s=r.axis,c={},l=o.model.coordinateSystem,u=l.getRadiusAxis().getExtent(),d=l.getAngleAxis().getExtent();return t=t?l.pointToCoord(t):[0,0],n=l.pointToCoord(n),r.mainType===`radiusAxis`?(c.pixel=n[0]-t[0],c.pixelLength=u[1]-u[0],c.pixelStart=u[0],c.signal=s.inverse?1:-1):(c.pixel=n[1]-t[1],c.pixelLength=d[1]-d[0],c.pixelStart=d[0],c.signal=s.inverse?-1:1),c},singleAxis:function(t,n,r,a,o){var s=r.axis,c=o.model.coordinateSystem.getRect(),l={};return t||=[0,0],s.orient===`horizontal`?(l.pixel=n[0]-t[0],l.pixelLength=c.width,l.pixelStart=c.x,l.signal=s.inverse?1:-1):(l.pixel=n[1]-t[1],l.pixelLength=c.height,l.pixelStart=c.y,l.signal=s.inverse?-1:1),l}},InsideZoomView_default=InsideZoomView;function install$32(t){installCommon$1(t),t.registerComponentModel(InsideZoomModel_default),t.registerComponentView(InsideZoomView_default),installDataZoomRoamProcessor(t)}var SliderZoomModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type=`dataZoom.slider`,n.layoutMode=`box`,n.defaultOption=inheritDefaultOption(DataZoomModel_default.defaultOption,{show:!0,right:`ph`,top:`ph`,width:`ph`,height:`ph`,left:null,bottom:null,borderColor:`#d2dbee`,borderRadius:3,backgroundColor:`rgba(47,69,84,0)`,dataBackground:{lineStyle:{color:`#d2dbee`,width:.5},areaStyle:{color:`#d2dbee`,opacity:.2}},selectedDataBackground:{lineStyle:{color:`#8fb0f7`,width:.5},areaStyle:{color:`#8fb0f7`,opacity:.2}},fillerColor:`rgba(135,175,274,0.2)`,handleIcon:`path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z`,handleSize:`100%`,handleStyle:{color:`#fff`,borderColor:`#ACB8D1`},moveHandleSize:7,moveHandleIcon:`path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z`,moveHandleStyle:{color:`#D2DBEE`,opacity:.7},showDetail:!0,showDataShadow:`auto`,realtime:!0,zoomLock:!1,textStyle:{color:`#6E7079`},brushSelect:!0,brushStyle:{color:`rgba(135,175,274,0.15)`},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:`#8FB0F7`},moveHandleStyle:{color:`#8FB0F7`}}}),n}(DataZoomModel_default),Rect$1=Rect_default,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL=`horizontal`,VERTICAL=`vertical`,LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=[`line`,`bar`,`candlestick`,`scatter`],REALTIME_ANIMATION_CONFIG={easing:`cubicOut`,duration:100,delay:0},SliderZoomView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(t,n){this.api=n,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},n.prototype.render=function(n,r,a,o){if(t.prototype.render.apply(this,arguments),createOrUpdate(this,`_dispatchZoomAction`,n.get(`throttle`),`fixRate`),this._orient=n.getOrient(),n.get(`show`)===!1){this.group.removeAll();return}if(n.noTarget()){this._clear(),this.group.removeAll();return}(!o||o.type!==`dataZoom`||o.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,`_dispatchZoomAction`);var t=this.api.getZr();t.off(`mousemove`,this._onBrush),t.off(`mouseup`,this._onBrushEnd)},n.prototype._buildView=function(){var t=this.group;t.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var n=this._displayables.sliderGroup=new Group_default;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(n),this._positionGroup()},n.prototype._resetLocation=function(){var t=this.dataZoomModel,n=this.api,r=t.get(`brushSelect`)?DEFAULT_MOVE_HANDLE_SIZE:0,a=this._findCoordRect(),o={width:n.getWidth(),height:n.getHeight()},s=this._orient===HORIZONTAL?{right:o.width-a.x-a.width,top:o.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-r,width:a.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:a.y,width:DEFAULT_FILLER_SIZE,height:a.height},c=getLayoutParams(t.option);each$15([`right`,`top`,`width`,`height`],function(t){c[t]===`ph`&&(c[t]=s[t])});var l=getLayoutRect(c,o);this._location={x:l.x,y:l.y},this._size=[l.width,l.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var t=this.group,n=this._location,r=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),o=a&&a.get(`inverse`),s=this._displayables.sliderGroup,c=(this._dataShadowInfo||{}).otherAxisInverse;s.attr(r===HORIZONTAL&&!o?{scaleY:c?1:-1,scaleX:1}:r===HORIZONTAL&&o?{scaleY:c?1:-1,scaleX:-1}:r===VERTICAL&&!o?{scaleY:c?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:c?-1:1,scaleX:-1,rotation:Math.PI/2});var l=t.getBoundingRect([s]);t.x=n.x-l.x,t.y=n.y-l.y,t.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var t=this.dataZoomModel,n=this._size,r=this._displayables.sliderGroup,a=t.get(`brushSelect`);r.add(new Rect$1({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get(`backgroundColor`)},z2:-40}));var o=new Rect$1({shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:`transparent`},z2:0,onclick:bind$1(this._onClickPanel,this)}),s=this.api.getZr();a?(o.on(`mousedown`,this._onBrushStart,this),o.cursor=`crosshair`,s.on(`mousemove`,this._onBrush),s.on(`mouseup`,this._onBrushEnd)):(s.off(`mousemove`,this._onBrush),s.off(`mouseup`,this._onBrushEnd)),r.add(o)},n.prototype._renderDataShadow=function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!t)return;var n=this._size,r=this._shadowSize||[],a=t.series,o=a.getRawData(),s=a.getShadowDim&&a.getShadowDim(),c=s&&o.getDimensionInfo(s)?a.getShadowDim():t.otherDim;if(c==null)return;var l=this._shadowPolygonPts,u=this._shadowPolylinePts;if(o!==this._shadowData||c!==this._shadowDim||n[0]!==r[0]||n[1]!==r[1]){var d=o.getDataExtent(c),f=(d[1]-d[0])*.3;d=[d[0]-f,d[1]+f];var p=[0,n[1]],g=[0,n[0]],_=[[n[0],0],[0,0]],v=[],y=g[1]/(o.count()-1),b=0,x=Math.round(o.count()/n[0]),S;o.each([c],function(t,n){if(x>0&&n%x){b+=y;return}var r=t==null||isNaN(t)||t===``,a=r?0:linearMap$2(t,d,p,!0);r&&!S&&n?(_.push([_[_.length-1][0],0]),v.push([v[v.length-1][0],0])):!r&&S&&(_.push([b,0]),v.push([b,0])),_.push([b,a]),v.push([b,a]),b+=y,S=r}),l=this._shadowPolygonPts=_,u=this._shadowPolylinePts=v}this._shadowData=o,this._shadowDim=c,this._shadowSize=[n[0],n[1]];var C=this.dataZoomModel;function w(t){var n=C.getModel(t?`selectedDataBackground`:`dataBackground`),r=new Group_default,a=new Polygon_default({shape:{points:l},segmentIgnoreThreshold:1,style:n.getModel(`areaStyle`).getAreaStyle(),silent:!0,z2:-20}),o=new Polyline_default$1({shape:{points:u},segmentIgnoreThreshold:1,style:n.getModel(`lineStyle`).getLineStyle(),silent:!0,z2:-19});return r.add(a),r.add(o),r}for(var T=0;T<3;T++){var E=w(T===1);this._displayables.sliderGroup.add(E),this._displayables.dataShadowSegs.push(E)}},n.prototype._prepareDataShadowInfo=function(){var t=this.dataZoomModel,n=t.get(`showDataShadow`);if(n!==!1){var r,a=this.ecModel;return t.eachTargetAxis(function(o,s){each$15(t.getAxisProxy(o,s).getTargetSeriesModels(),function(t){if(!r&&!(n!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,t.get(`type`))<0)){var c=a.getComponent(getAxisMainType(o),s).axis,l=getOtherDim(o),u,d=t.coordinateSystem;l!=null&&d.getOtherAxis&&(u=d.getOtherAxis(c).inverse),l=t.getData().mapDimension(l),r={thisAxis:c,series:t,thisDim:o,otherDim:l,otherAxisInverse:u}}},this)},this),r}},n.prototype._renderHandle=function(){var t=this.group,n=this._displayables,r=n.handles=[null,null],a=n.handleLabels=[null,null],o=this._displayables.sliderGroup,s=this._size,c=this.dataZoomModel,l=this.api,u=c.get(`borderRadius`)||0,d=c.get(`brushSelect`),f=n.filler=new Rect$1({silent:d,style:{fill:c.get(`fillerColor`)},textConfig:{position:`inside`}});o.add(f),o.add(new Rect$1({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:s[0],height:s[1],r:u},style:{stroke:c.get(`dataBackgroundColor`)||c.get(`borderColor`),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:`rgba(0,0,0,0)`}})),each$15([0,1],function(n){var s=c.get(`handleIcon`);!symbolBuildProxies[s]&&s.indexOf(`path://`)<0&&s.indexOf(`image://`)<0&&(s=`path://`+s);var l=createSymbol$1(s,-1,0,2,2,null,!0);l.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,n),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var u=l.getBoundingRect();this._handleHeight=parsePercent(c.get(`handleSize`),this._size[1]),this._handleWidth=u.width/u.height*this._handleHeight,l.setStyle(c.getModel(`handleStyle`).getItemStyle()),l.style.strokeNoScale=!0,l.rectHover=!0,l.ensureState(`emphasis`).style=c.getModel([`emphasis`,`handleStyle`]).getItemStyle(),enableHoverEmphasis(l);var d=c.get(`handleColor`);d!=null&&(l.style.fill=d),o.add(r[n]=l);var f=c.getModel(`textStyle`),p=(c.get(`handleLabel`)||{}).show||!1;t.add(a[n]=new Text_default({silent:!0,invisible:!p,style:createTextStyle$1(f,{x:0,y:0,text:``,verticalAlign:`middle`,align:`center`,fill:f.getTextColor(),font:f.getFont()}),z2:10}))},this);var p=f;if(d){var g=parsePercent(c.get(`moveHandleSize`),s[1]),_=n.moveHandle=new Rect_default({style:c.getModel(`moveHandleStyle`).getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:s[1]-.5,height:g}}),v=g*.8,y=n.moveHandleIcon=createSymbol$1(c.get(`moveHandleIcon`),-v/2,-v/2,v,v,`#fff`,!0);y.silent=!0,y.y=s[1]+g/2-.5,_.ensureState(`emphasis`).style=c.getModel([`emphasis`,`moveHandleStyle`]).getItemStyle();var b=Math.min(s[1]/2,Math.max(g,10));p=n.moveZone=new Rect_default({invisible:!0,shape:{y:s[1]-b,height:g+b}}),p.on(`mouseover`,function(){l.enterEmphasis(_)}).on(`mouseout`,function(){l.leaveEmphasis(_)}),o.add(_),o.add(y),o.add(p)}p.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,`all`),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var t=this._range=this.dataZoomModel.getPercentRange(),n=this._getViewExtent();this._handleEnds=[linearMap$2(t[0],[0,100],n,!0),linearMap$2(t[1],[0,100],n,!0)]},n.prototype._updateInterval=function(t,n){var r=this.dataZoomModel,a=this._handleEnds,o=this._getViewExtent(),s=r.findRepresentativeAxisProxy().getMinMaxSpan(),c=[0,100];sliderMove(n,a,o,r.get(`zoomLock`)?`all`:t,s.minSpan==null?null:linearMap$2(s.minSpan,c,o,!0),s.maxSpan==null?null:linearMap$2(s.maxSpan,c,o,!0));var l=this._range,u=this._range=asc$2([linearMap$2(a[0],o,c,!0),linearMap$2(a[1],o,c,!0)]);return!l||l[0]!==u[0]||l[1]!==u[1]},n.prototype._updateView=function(t){var n=this._displayables,r=this._handleEnds,a=asc$2(r.slice()),o=this._size;each$15([0,1],function(t){var a=n.handles[t],s=this._handleHeight;a.attr({scaleX:s/2,scaleY:s/2,x:r[t]+(t?-1:1),y:o[1]/2-s/2})},this),n.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:o[1]});var s={x:a[0],width:a[1]-a[0]};n.moveHandle&&(n.moveHandle.setShape(s),n.moveZone.setShape(s),n.moveZone.getBoundingRect(),n.moveHandleIcon&&n.moveHandleIcon.attr(`x`,s.x+s.width/2));for(var c=n.dataShadowSegs,l=[0,a[0],a[1],o[0]],u=0;u<c.length;u++){var d=c[u],f=d.getClipPath();f||(f=new Rect_default,d.setClipPath(f)),f.setShape({x:l[u],y:0,width:l[u+1]-l[u],height:o[1]})}this._updateDataInfo(t)},n.prototype._updateDataInfo=function(t){var n=this.dataZoomModel,r=this._displayables,a=r.handleLabels,o=this._orient,s=[``,``];if(n.get(`showDetail`)){var c=n.findRepresentativeAxisProxy();if(c){var l=c.getAxisModel().axis,u=this._range,d=t?c.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:c.getDataValueWindow();s=[this._formatLabel(d[0],l),this._formatLabel(d[1],l)]}}var f=asc$2(this._handleEnds.slice());p.call(this,0),p.call(this,1);function p(t){var n=getTransform$1(r.handles[t].parent,this.group),c=transformDirection(t===0?`right`:`left`,n),l=this._handleWidth/2+LABEL_GAP,u=applyTransform([f[t]+(t===0?-l:l),this._size[1]/2],n);a[t].setStyle({x:u[0],y:u[1],verticalAlign:o===HORIZONTAL?`middle`:c,align:o===HORIZONTAL?c:`center`,text:s[t]})}},n.prototype._formatLabel=function(t,n){var r=this.dataZoomModel,a=r.get(`labelFormatter`),o=r.get(`labelPrecision`);(o==null||o===`auto`)&&(o=n.getPixelPrecision());var s=t==null||isNaN(t)?``:n.type===`category`||n.type===`time`?n.scale.getLabel({value:Math.round(t)}):t.toFixed(Math.min(o,20));return isFunction(a)?a(t,s):isString(a)?a.replace(`{value}`,s):s},n.prototype._showDataInfo=function(t){var n=(this.dataZoomModel.get(`handleLabel`)||{}).show||!1,r=this.dataZoomModel.getModel([`emphasis`,`handleLabel`]).get(`show`)||!1,a=t||this._dragging?r:n,o=this._displayables,s=o.handleLabels;s[0].attr(`invisible`,!a),s[1].attr(`invisible`,!a),o.moveHandle&&this.api[a?`enterEmphasis`:`leaveEmphasis`](o.moveHandle,1)},n.prototype._onDragMove=function(t,n,r,a){this._dragging=!0,stop(a.event);var o=this._displayables.sliderGroup.getLocalTransform(),s=applyTransform([n,r],o,!0),c=this._updateInterval(t,s[0]),l=this.dataZoomModel.get(`realtime`);this._updateView(!l),c&&l&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get(`realtime`)&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(t){var n=this._size,r=this._displayables.sliderGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(r[0]<0||r[0]>n[0]||r[1]<0||r[1]>n[1])){var a=this._handleEnds,o=(a[0]+a[1])/2,s=this._updateInterval(`all`,r[0]-o);this._updateView(),s&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(t){var n=t.offsetX,r=t.offsetY;this._brushStart=new Point_default(n,r),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(t){if(this._brushing){var n=this._displayables.brushRect;if(this._brushing=!1,n){n.attr(`ignore`,!0);var r=n.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(r.width)<5)){var a=this._getViewExtent(),o=[0,100];this._range=asc$2([linearMap$2(r.x,a,o,!0),linearMap$2(r.x+r.width,a,o,!0)]),this._handleEnds=[r.x,r.x+r.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(t){this._brushing&&(stop(t.event),this._updateBrushRect(t.offsetX,t.offsetY))},n.prototype._updateBrushRect=function(t,n){var r=this._displayables,a=this.dataZoomModel,o=r.brushRect;o||(o=r.brushRect=new Rect$1({silent:!0,style:a.getModel(`brushStyle`).getItemStyle()}),r.sliderGroup.add(o)),o.attr(`ignore`,!1);var s=this._brushStart,c=this._displayables.sliderGroup,l=c.transformCoordToLocal(t,n),u=c.transformCoordToLocal(s.x,s.y),d=this._size;l[0]=Math.max(Math.min(d[0],l[0]),0),o.setShape({x:u[0],y:0,width:l[0]-u[0],height:d[1]})},n.prototype._dispatchZoomAction=function(t){var n=this._range;this.api.dispatchAction({type:`dataZoom`,from:this.uid,dataZoomId:this.dataZoomModel.id,animation:t?REALTIME_ANIMATION_CONFIG:null,start:n[0],end:n[1]})},n.prototype._findCoordRect=function(){var t,n=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!t&&n.length){var r=n[0].model.coordinateSystem;t=r.getRect&&r.getRect()}if(!t){var a=this.api.getWidth(),o=this.api.getHeight();t={x:a*.2,y:o*.2,width:a*.6,height:o*.6}}return t},n.type=`dataZoom.slider`,n}(DataZoomView_default);function getOtherDim(t){return{x:`y`,y:`x`,radius:`angle`,angle:`radius`}[t]}function getCursor$1(t){return t===`vertical`?`ns-resize`:`ew-resize`}var SliderZoomView_default=SliderZoomView;function install$31(t){t.registerComponentModel(SliderZoomModel_default),t.registerComponentView(SliderZoomView_default),installCommon$1(t)}function install$30(t){use(install$32),use(install$31)}var visualDefault={get:function(t,n,r){var a=clone$4((defaultOption[t]||{})[n]);return r&&isArray$1(a)?a[a.length-1]:a}},defaultOption={color:{active:[`#006edd`,`#e0ffff`],inactive:[`rgba(0,0,0,0)`]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:[`circle`,`roundRect`,`diamond`],inactive:[`none`]},symbolSize:{active:[10,50],inactive:[0,0]}},visualDefault_default=visualDefault,mapVisual$1=VisualMapping_default.mapVisual,eachVisual=VisualMapping_default.eachVisual,isArray=isArray$1,each$4=each$15,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.stateList=[`inRange`,`outOfRange`],r.replacableOptionKeys=[`inRange`,`outOfRange`,`target`,`controller`,`color`],r.layoutMode={type:`box`,ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(t,n,r){this.mergeDefaultAndTheme(t,r)},n.prototype.optionUpdated=function(t,n){var r=this.option;!n&&replaceVisualOption(r,t,this.replacableOptionKeys),this.textStyleModel=this.getModel(`textStyle`),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(t){var n=this.stateList;t=bind$1(t,this),this.controllerVisuals=createVisualMappings(this.option.controller,n,t),this.targetVisuals=createVisualMappings(this.option.target,n,t)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,n=[];return t==null||t===`all`?this.ecModel.eachSeries(function(t,r){n.push(r)}):n=normalizeToArray(t),n},n.prototype.eachTargetSeries=function(t,n){each$15(this.getTargetSeriesIndices(),function(r){var a=this.ecModel.getSeriesByIndex(r);a&&t.call(n,a)},this)},n.prototype.isTargetSeries=function(t){var n=!1;return this.eachTargetSeries(function(r){r===t&&(n=!0)}),n},n.prototype.formatValueText=function(t,n,r){var a=this.option,o=a.precision,s=this.dataBound,c=a.formatter,l;r||=[`<`,`>`],isArray$1(t)&&(t=t.slice(),l=!0);var u=n?t:l?[d(t[0]),d(t[1])]:d(t);if(isString(c))return c.replace(`{value}`,l?u[0]:u).replace(`{value2}`,l?u[1]:u);if(isFunction(c))return l?c(t[0],t[1]):c(t);if(l)return t[0]===s[0]?r[0]+` `+u[1]:t[1]===s[1]?r[1]+` `+u[0]:u[0]+` - `+u[1];return u;function d(t){return t===s[0]?`min`:t===s[1]?`max`:(+t).toFixed(Math.min(o,20))}},n.prototype.resetExtent=function(){var t=this.option;this._dataExtent=asc([t.min,t.max])},n.prototype.getDataDimensionIndex=function(t){var n=this.option.dimension;if(n!=null)return t.getDimensionIndex(n);for(var r=t.dimensions,a=r.length-1;a>=0;a--){var o=r[a],s=t.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var t=this.ecModel,n=this.option,r={inRange:n.inRange,outOfRange:n.outOfRange},a=n.target||={},o=n.controller||={};merge(a,r),merge(o,r);var s=this.isCategory();c.call(this,a),c.call(this,o),l.call(this,a,`inRange`,`outOfRange`),u.call(this,o);function c(r){isArray(n.color)&&!r.inRange&&(r.inRange={color:n.color.slice().reverse()}),r.inRange=r.inRange||{color:t.get(`gradientColor`)}}function l(t,n,r){var a=t[n],o=t[r];a&&!o&&(o=t[r]={},each$4(a,function(t,n){if(VisualMapping_default.isValidType(n)){var r=visualDefault_default.get(n,`inactive`,s);r!=null&&(o[n]=r,n===`color`&&!o.hasOwnProperty(`opacity`)&&!o.hasOwnProperty(`colorAlpha`)&&(o.opacity=[0,0]))}}))}function u(t){var n=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,r=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,a=this.get(`inactiveColor`),o=this.getItemSymbol()||`roundRect`;each$4(this.stateList,function(c){var l=this.itemSize,u=t[c];u||=t[c]={color:s?a:[a]},u.symbol??=n&&clone$4(n)||(s?o:[o]),u.symbolSize??=r&&clone$4(r)||(s?l[0]:[l[0],l[0]]),u.symbol=mapVisual$1(u.symbol,function(t){return t===`none`?o:t});var d=u.symbolSize;if(d!=null){var f=-1/0;eachVisual(d,function(t){t>f&&(f=t)}),u.symbolSize=mapVisual$1(d,function(t){return linearMap$1(t,[0,f],[0,l[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get(`itemWidth`)),parseFloat(this.get(`itemHeight`))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(t){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(t){return null},n.prototype.getVisualMeta=function(t){return null},n.type=`visualMap`,n.dependencies=[`series`],n.defaultOption={show:!0,z:4,seriesIndex:`all`,min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:`vertical`,backgroundColor:`rgba(0,0,0,0)`,borderColor:`#ccc`,contentColor:`#5793f3`,inactiveColor:`#aaa`,borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:`#333`}},n}(Component_default$1),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(n,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod=`linear`,t.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;(n[0]==null||isNaN(n[0]))&&(n[0]=DEFAULT_BAR_BOUND[0]),(n[1]==null||isNaN(n[1]))&&(n[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var t=this.getExtent(),n=this.option.range;!n||n.auto?(t.auto=1,this.option.range=t):isArray$1(n)&&(n[0]>n[1]&&n.reverse(),n[0]=Math.max(n[0],t[0]),n[1]=Math.min(n[1],t[1]))},n.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),each$15(this.stateList,function(t){var n=this.option.controller[t].symbolSize;n&&n[0]!==n[1]&&(n[0]=n[1]/3)},this)},n.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},n.prototype.getSelected=function(){var t=this.getExtent(),n=asc$2((this.get(`range`)||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},n.prototype.getValueState=function(t){var n=this.option.range,r=this.getExtent();return(n[0]<=r[0]||n[0]<=t)&&(n[1]>=r[1]||t<=n[1])?`inRange`:`outOfRange`},n.prototype.findTargetDataIndices=function(t){var n=[];return this.eachTargetSeries(function(r){var a=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(n,r){t[0]<=n&&n<=t[1]&&a.push(r)},this),n.push({seriesId:r.id,dataIndex:a})},this),n},n.prototype.getVisualMeta=function(t){var n=getColorStopValues(this,`outOfRange`,this.getExtent()),r=getColorStopValues(this,`inRange`,this.option.range.slice()),a=[];function o(n,r){a.push({value:n,color:t(n,r)})}for(var s=0,c=0,l=r.length,u=n.length;c<u&&(!r.length||n[c]<=r[0]);c++)n[c]<r[s]&&o(n[c],`outOfRange`);for(var d=1;s<l;s++,d=0)d&&a.length&&o(r[s],`outOfRange`),o(r[s],`inRange`);for(var d=1;c<u;c++)(!r.length||r[r.length-1]<n[c])&&(d&&=(a.length&&o(a[a.length-1].value,`outOfRange`),0),o(n[c],`outOfRange`));var f=a.length;return{stops:a,outerColors:[f?a[0].color:`transparent`,f?a[f-1].color:`transparent`]}},n.type=`visualMap.continuous`,n.defaultOption=inheritDefaultOption(VisualMapModel_default.defaultOption,{align:`auto`,calculable:!1,hoverLink:!0,realtime:!0,handleIcon:`path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z`,handleSize:`120%`,handleStyle:{borderColor:`#fff`,borderWidth:1},indicatorIcon:`circle`,indicatorSize:`50%`,indicatorStyle:{borderColor:`#fff`,borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:`rgba(0,0,0,0.2)`}}),n}(VisualMapModel_default);function getColorStopValues(t,n,r){if(r[0]===r[1])return r.slice();for(var a=200,o=(r[1]-r[0])/a,s=r[0],c=[],l=0;l<=a&&s<r[1];l++)c.push(s),s+=o;return c.push(r[1]),c}var ContinuousModel_default=ContinuousModel,VisualMapView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(t,n){this.ecModel=t,this.api=n},n.prototype.render=function(t,n,r,a){if(this.visualMapModel=t,t.get(`show`)===!1){this.group.removeAll();return}this.doRender(t,n,r,a)},n.prototype.renderBackground=function(t){var n=this.visualMapModel,r=normalizeCssArray(n.get(`padding`)||0),a=t.getBoundingRect();t.add(new Rect_default({z2:-1,silent:!0,shape:{x:a.x-r[3],y:a.y-r[0],width:a.width+r[3]+r[1],height:a.height+r[0]+r[2]},style:{fill:n.get(`backgroundColor`),stroke:n.get(`borderColor`),lineWidth:n.get(`borderWidth`)}}))},n.prototype.getControllerVisual=function(t,n,r){r||={};var a=r.forceState,o=this.visualMapModel,s={};n===`color`&&(s.color=o.get(`contentColor`));function c(t){return s[t]}function l(t,n){s[t]=n}var u=o.controllerVisuals[a||o.getValueState(t)];return each$15(VisualMapping_default.prepareVisualTypes(u),function(a){var o=u[a];r.convertOpacityToAlpha&&a===`opacity`&&(a=`colorAlpha`,o=u.__alphaForOpacity),VisualMapping_default.dependsOn(a,n)&&o&&o.applyVisual(t,c,l)}),s[n]},n.prototype.positionGroup=function(t){var n=this.visualMapModel,r=this.api;positionElement(t,n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},n.prototype.doRender=function(t,n,r,a){},n.type=`visualMap`,n}(Component_default),paramsSet=[[`left`,`right`,`width`],[`top`,`bottom`,`height`]];function getItemAlign(t,n,r){var a=t.option,o=a.align;if(o!=null&&o!==`auto`)return o;for(var s={width:n.getWidth(),height:n.getHeight()},c=a.orient===`horizontal`?1:0,l=paramsSet[c],u=[0,null,10],d={},f=0;f<3;f++)d[paramsSet[1-c][f]]=u[f],d[l[f]]=f===2?r[0]:a[l[f]];var p=[[`x`,`width`,3],[`y`,`height`,0]][c],g=getLayoutRect(d,s,a.padding);return l[(g.margin[p[2]]||0)+g[p[0]]+g[p[1]]*.5<s[p[1]]*.5?0:1]}function makeHighDownBatch(t,n){return each$15(t||[],function(t){t.dataIndex!=null&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey=`visualMap`+(n?n.componentIndex:``)}),t}var linearMap=linearMap$2,each$3=each$15,mathMin$3=Math.min,mathMax$3=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.init=function(n,r){t.prototype.init.call(this,n,r),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},n.prototype.doRender=function(t,n,r,a){(!a||a.type!==`selectDataRange`||a.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,n=this.group;this._orient=t.get(`orient`),this._useHandle=t.get(`calculable`),this._resetInterval(),this._renderBar(n);var r=t.get(`text`);this._renderEndsText(n,r,0),this._renderEndsText(n,r,1),this._updateView(!0),this.renderBackground(n),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(n)},n.prototype._renderEndsText=function(t,n,r){if(n){var a=n[1-r];a=a==null?``:a+``;var o=this.visualMapModel,s=o.get(`textGap`),c=o.itemSize,l=this._shapes.mainGroup,u=this._applyTransform([c[0]/2,r===0?-s:c[1]+s],l),d=this._applyTransform(r===0?`bottom`:`top`,l),f=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new Text_default({style:createTextStyle$1(p,{x:u[0],y:u[1],verticalAlign:f===`horizontal`?`middle`:d,align:f===`horizontal`?d:`center`,text:a})}))}},n.prototype._renderBar=function(t){var n=this.visualMapModel,r=this._shapes,a=n.itemSize,o=this._orient,s=this._useHandle,c=getItemAlign(n,this.api,a),l=r.mainGroup=this._createBarGroup(c),u=new Group_default;l.add(u),u.add(r.outOfRange=createPolygon()),u.add(r.inRange=createPolygon(null,s?getCursor(this._orient):null,bind$1(this._dragHandle,this,`all`,!1),bind$1(this._dragHandle,this,`all`,!0))),u.setClipPath(new Rect_default({shape:{x:0,y:0,width:a[0],height:a[1],r:3}}));var d=n.textStyleModel.getTextRect(``),f=mathMax$3(d.width,d.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(n,l,0,a,f,o),this._createHandle(n,l,1,a,f,o)),this._createIndicator(n,l,a,f,o),t.add(l)},n.prototype._createHandle=function(t,n,r,a,o,s){var c=bind$1(this._dragHandle,this,r,!1),l=bind$1(this._dragHandle,this,r,!0),u=parsePercent$1(t.get(`handleSize`),a[0]),d=createSymbol$1(t.get(`handleIcon`),-u/2,-u/2,u,u,null,!0),f=getCursor(this._orient);d.attr({cursor:f,draggable:!0,drift:c,ondragend:l,onmousemove:function(t){stop(t.event)}}),d.x=a[0]/2,d.useStyle(t.getModel(`handleStyle`).getItemStyle()),d.setStyle({strokeNoScale:!0,strokeFirst:!0}),d.style.lineWidth*=2,d.ensureState(`emphasis`).style=t.getModel([`emphasis`,`handleStyle`]).getItemStyle(),setAsHighDownDispatcher(d,!0),n.add(d);var p=this.visualMapModel.textStyleModel,g=new Text_default({cursor:f,draggable:!0,drift:c,onmousemove:function(t){stop(t.event)},ondragend:l,style:createTextStyle$1(p,{x:0,y:0,text:``})});g.ensureState(`blur`).style={opacity:.1},g.stateTransition={duration:200},this.group.add(g);var _=[u,0],v=this._shapes;v.handleThumbs[r]=d,v.handleLabelPoints[r]=_,v.handleLabels[r]=g},n.prototype._createIndicator=function(t,n,r,a,o){var s=parsePercent$1(t.get(`indicatorSize`),r[0]),c=createSymbol$1(t.get(`indicatorIcon`),-s/2,-s/2,s,s,null,!0);c.attr({cursor:`move`,invisible:!0,silent:!0,x:r[0]/2});var l=t.getModel(`indicatorStyle`).getItemStyle();if(c instanceof Image_default){var u=c.style;c.useStyle(extend({image:u.image,x:u.x,y:u.y,width:u.width,height:u.height},l))}else c.useStyle(l);n.add(c);var d=this.visualMapModel.textStyleModel,f=new Text_default({silent:!0,invisible:!0,style:createTextStyle$1(d,{x:0,y:0,text:``})});this.group.add(f);var p=[(o===`horizontal`?a/2:HOVER_LINK_OUT)+r[0]/2,0],g=this._shapes;g.indicator=c,g.indicatorLabel=f,g.indicatorLabelPoint=p,this._firstShowIndicator=!0},n.prototype._dragHandle=function(t,n,r,a){if(this._useHandle){if(this._dragging=!n,!n){var o=this._applyTransform([r,a],this._shapes.mainGroup,!0);this._updateInterval(t,o[1]),this._hideIndicator(),this._updateView()}n===!this.visualMapModel.get(`realtime`)&&this.api.dispatchAction({type:`selectDataRange`,from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),n?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},n.prototype._resetInterval=function(){var t=this.visualMapModel,n=this._dataInterval=t.getSelected(),r=t.getExtent(),a=[0,t.itemSize[1]];this._handleEnds=[linearMap(n[0],r,a,!0),linearMap(n[1],r,a,!0)]},n.prototype._updateInterval=function(t,n){n||=0;var r=this.visualMapModel,a=this._handleEnds,o=[0,r.itemSize[1]];sliderMove(n,a,o,t,0);var s=r.getExtent();this._dataInterval=[linearMap(a[0],o,s,!0),linearMap(a[1],o,s,!0)]},n.prototype._updateView=function(t){var n=this.visualMapModel,r=n.getExtent(),a=this._shapes,o=[0,n.itemSize[1]],s=t?o:this._handleEnds,c=this._createBarVisual(this._dataInterval,r,s,`inRange`),l=this._createBarVisual(r,r,o,`outOfRange`);a.inRange.setStyle({fill:c.barColor}).setShape(`points`,c.barPoints),a.outOfRange.setStyle({fill:l.barColor}).setShape(`points`,l.barPoints),this._updateHandle(s,c)},n.prototype._createBarVisual=function(t,n,r,a){var o={forceState:a,convertOpacityToAlpha:!0},s=this._makeColorGradient(t,o),c=[this.getControllerVisual(t[0],`symbolSize`,o),this.getControllerVisual(t[1],`symbolSize`,o)],l=this._createBarPoints(r,c);return{barColor:new LinearGradient_default(0,0,0,1,s),barPoints:l,handlesColor:[s[0].color,s[s.length-1].color]}},n.prototype._makeColorGradient=function(t,n){var r=100,a=[],o=(t[1]-t[0])/r;a.push({color:this.getControllerVisual(t[0],`color`,n),offset:0});for(var s=1;s<r;s++){var c=t[0]+o*s;if(c>t[1])break;a.push({color:this.getControllerVisual(c,`color`,n),offset:s/r})}return a.push({color:this.getControllerVisual(t[1],`color`,n),offset:1}),a},n.prototype._createBarPoints=function(t,n){var r=this.visualMapModel.itemSize;return[[r[0]-n[0],t[0]],[r[0],t[0]],[r[0],t[1]],[r[0]-n[1],t[1]]]},n.prototype._createBarGroup=function(t){var n=this._orient,r=this.visualMapModel.get(`inverse`);return new Group_default(n===`horizontal`&&!r?{scaleX:t===`bottom`?1:-1,rotation:Math.PI/2}:n===`horizontal`&&r?{scaleX:t===`bottom`?-1:1,rotation:-Math.PI/2}:n===`vertical`&&!r?{scaleX:t===`left`?1:-1,scaleY:-1}:{scaleX:t===`left`?1:-1})},n.prototype._updateHandle=function(t,n){if(this._useHandle){var r=this._shapes,a=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,c=a.itemSize,l=a.getExtent(),u=this._applyTransform(`left`,r.mainGroup);each$3([0,1],function(d){var f=o[d];f.setStyle(`fill`,n.handlesColor[d]),f.y=t[d];var p=linearMap(t[d],[0,c[1]],l,!0),g=this.getControllerVisual(p,`symbolSize`);f.scaleX=f.scaleY=g/c[0],f.x=c[0]-g/2;var _=applyTransform(r.handleLabelPoints[d],getTransform$1(f,this.group));if(this._orient===`horizontal`){var v=u===`left`||u===`top`?(c[0]-g)/2:(c[0]-g)/-2;_[1]+=v}s[d].setStyle({x:_[0],y:_[1],text:a.formatValueText(this._dataInterval[d]),verticalAlign:`middle`,align:this._orient===`vertical`?this._applyTransform(`left`,r.mainGroup):`center`})},this)}},n.prototype._showIndicator=function(t,n,r,a){var o=this.visualMapModel,s=o.getExtent(),c=o.itemSize,l=[0,c[1]],u=this._shapes,d=u.indicator;if(d){d.attr(`invisible`,!1);var f=this.getControllerVisual(t,`color`,{convertOpacityToAlpha:!0}),p=this.getControllerVisual(t,`symbolSize`),g=linearMap(t,s,l,!0),_=c[0]-p/2,v={x:d.x,y:d.y};d.y=g,d.x=_;var y=applyTransform(u.indicatorLabelPoint,getTransform$1(d,this.group)),b=u.indicatorLabel;b.attr(`invisible`,!1);var x=this._applyTransform(`left`,u.mainGroup),S=this._orient===`horizontal`;b.setStyle({text:(r||``)+o.formatValueText(n),verticalAlign:S?x:`middle`,align:S?`center`:x});var C={x:_,y:g,style:{fill:f}},w={style:{x:y[0],y:y[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var T={duration:100,easing:`cubicInOut`,additive:!0};d.x=v.x,d.y=v.y,d.animateTo(C,T),b.animateTo(w,T)}else d.attr(C),b.attr(w);this._firstShowIndicator=!1;var E=this._shapes.handleLabels;if(E)for(var D=0;D<E.length;D++)this.api.enterBlur(E[D])}},n.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on(`mousemove`,function(n){if(t._hovering=!0,!t._dragging){var r=t.visualMapModel.itemSize,a=t._applyTransform([n.offsetX,n.offsetY],t._shapes.mainGroup,!0,!0);a[1]=mathMin$3(mathMax$3(0,a[1]),r[1]),t._doHoverLinkToSeries(a[1],0<=a[0]&&a[0]<=r[0])}}).on(`mouseout`,function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on(`mouseover`,this._hoverLinkFromSeriesMouseOver,this),t.on(`mouseout`,this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(t,n){var r=this.visualMapModel,a=r.itemSize;if(r.option.hoverLink){var o=[0,a[1]],s=r.getExtent();t=mathMin$3(mathMax$3(o[0],t),o[1]);var c=getHalfHoverLinkSize(r,s,o),l=[t-c,t+c],u=linearMap(t,o,s,!0),d=[linearMap(l[0],o,s,!0),linearMap(l[1],o,s,!0)];l[0]<o[0]&&(d[0]=-1/0),l[1]>o[1]&&(d[1]=1/0),n&&(d[0]===-1/0?this._showIndicator(u,d[1],`< `,c):d[1]===1/0?this._showIndicator(u,d[0],`> `,c):this._showIndicator(u,u,` `,c));var f=this._hoverLinkDataIndices,p=[];(n||useHoverLinkOnHandle(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(d));var g=compressBatches(f,p);this._dispatchHighDown(`downplay`,makeHighDownBatch(g[0],r)),this._dispatchHighDown(`highlight`,makeHighDownBatch(g[1],r))}},n.prototype._hoverLinkFromSeriesMouseOver=function(t){var n;if(findEventDispatcher(t.target,function(t){var r=getECData(t);if(r.dataIndex!=null)return n=r,!0},!0),n){var r=this.ecModel.getSeriesByIndex(n.seriesIndex),a=this.visualMapModel;if(a.isTargetSeries(r)){var o=r.getData(n.dataType),s=o.getStore().get(a.getDataDimensionIndex(o),n.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},n.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr(`invisible`,!0),t.indicatorLabel&&t.indicatorLabel.attr(`invisible`,!0);var n=this._shapes.handleLabels;if(n)for(var r=0;r<n.length;r++)this.api.leaveBlur(n[r])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown(`downplay`,makeHighDownBatch(t,this.visualMapModel)),t.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off(`mouseover`,this._hoverLinkFromSeriesMouseOver),t.off(`mouseout`,this._hideIndicator)},n.prototype._applyTransform=function(t,n,r,a){var o=getTransform$1(n,a?null:this.group);return isArray$1(t)?applyTransform(t,o,r):transformDirection(t,o,r)},n.prototype._dispatchHighDown=function(t,n){n&&n.length&&this.api.dispatchAction({type:t,batch:n})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type=`visualMap.continuous`,n}(VisualMapView_default);function createPolygon(t,n,r,a){return new Polygon_default({shape:{points:t},draggable:!!r,cursor:n,drift:r,onmousemove:function(t){stop(t.event)},ondragend:a})}function getHalfHoverLinkSize(t,n,r){var a=HOVER_LINK_SIZE/2,o=t.get(`hoverLinkDataSize`);return o&&(a=linearMap(o,n,r,!0)/2),a}function useHoverLinkOnHandle(t){return!!(t.get(`hoverLinkOnHandle`)??t.get(`realtime`))}function getCursor(t){return t===`vertical`?`ns-resize`:`ew-resize`}var ContinuousView_default=ContinuousView,visualMapActionInfo={type:`selectDataRange`,event:`dataRangeSelected`,update:`update`},visualMapActionHander=function(t,n){n.eachComponent({mainType:`visualMap`,query:t},function(n){n.setSelected(t.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(t,n){var r=[];return n.eachComponent(`visualMap`,function(n){var a=t.pipelineContext;!n.isTargetSeries(t)||a&&a.large||r.push(incrementalApplyVisual(n.stateList,n.targetVisuals,bind$1(n.getValueState,n),n.getDataDimensionIndex(t.getData())))}),r}},{createOnAllSeries:!0,reset:function(t,n){var r=t.getData(),a=[];n.eachComponent(`visualMap`,function(n){if(n.isTargetSeries(t)){var o=n.getVisualMeta(bind$1(getColorVisual,null,t,n))||{stops:[],outerColors:[]},s=n.getDataDimensionIndex(r);s>=0&&(o.dimension=s,a.push(o))}}),t.getData().setVisual(`visualMeta`,a)}}];function getColorVisual(t,n,r,a){for(var o=n.targetVisuals[a],s=VisualMapping_default.prepareVisualTypes(o),c={color:getVisualFromData(t.getData(),`color`)},l=0,u=s.length;l<u;l++){var d=s[l],f=o[d===`opacity`?`__alphaForOpacity`:d];f&&f.applyVisual(r,p,g)}return c.color;function p(t){return c[t]}function g(t,n){c[t]=n}}var each$2=each$15;function visualMapPreprocessor(t){var n=t&&t.visualMap;isArray$1(n)||(n=n?[n]:[]),each$2(n,function(t){if(t){has(t,`splitList`)&&!has(t,`pieces`)&&(t.pieces=t.splitList,delete t.splitList);var n=t.pieces;n&&isArray$1(n)&&each$2(n,function(t){isObject$3(t)&&(has(t,`start`)&&!has(t,`min`)&&(t.min=t.start),has(t,`end`)&&!has(t,`max`)&&(t.max=t.end))})}})}function has(t,n){return t&&t.hasOwnProperty&&t.hasOwnProperty(n)}var installed=!1;function installCommon(t){installed||(installed=!0,t.registerSubTypeDefaulter(`visualMap`,function(t){return!t.categories&&(!(t.pieces?t.pieces.length>0:t.splitNumber>0)||t.calculable)?`continuous`:`piecewise`}),t.registerAction(visualMapActionInfo,visualMapActionHander),each$15(visualMapEncodingHandlers,function(n){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,n)}),t.registerPreprocessor(visualMapPreprocessor))}function install$29(t){t.registerComponentModel(ContinuousModel_default),t.registerComponentView(ContinuousView_default),installCommon(t)}var PiecewiseModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(n,r){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(n,r);var o=this.option.categories;this.resetVisual(function(t,n){a===`categories`?(t.mappingMethod=`category`,t.categories=clone$4(o)):(t.dataExtent=this.getExtent(),t.mappingMethod=`piecewise`,t.pieceList=map$1(this._pieceList,function(t){return t=clone$4(t),n!==`inRange`&&(t.visual=null),t}))})},n.prototype.completeVisualOption=function(){var n=this.option,r={},a=VisualMapping_default.listVisualTypes(),o=this.isCategory();each$15(n.pieces,function(t){each$15(a,function(n){t.hasOwnProperty(n)&&(r[n]=1)})}),each$15(r,function(t,r){var a=!1;each$15(this.stateList,function(t){a=a||s(n,t,r)||s(n.target,t,r)},this),!a&&each$15(this.stateList,function(t){(n[t]||(n[t]={}))[r]=visualDefault_default.get(r,t===`inRange`?`active`:`inactive`,o)})},this);function s(t,n,r){return t&&t[n]&&t[n].hasOwnProperty(r)}t.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(t,n){var r=this.option,a=this._pieceList,o=(n?r:t).selected||{};if(r.selected=o,each$15(a,function(t,n){var r=this.getSelectedMapKey(t);o.hasOwnProperty(r)||(o[r]=!0)},this),r.selectedMode===`single`){var s=!1;each$15(a,function(t,n){var r=this.getSelectedMapKey(t);o[r]&&(s?o[r]=!1:s=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get(`itemSymbol`)},n.prototype.getSelectedMapKey=function(t){return this._mode===`categories`?t.value+``:t.index+``},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?`pieces`:this.option.categories?`categories`:`splitNumber`},n.prototype.setSelected=function(t){this.option.selected=clone$4(t)},n.prototype.getValueState=function(t){var n=VisualMapping_default.findPieceIndex(t,this._pieceList);return n==null?`outOfRange`:this.option.selected[this.getSelectedMapKey(this._pieceList[n])]?`inRange`:`outOfRange`},n.prototype.findTargetDataIndices=function(t){var n=[],r=this._pieceList;return this.eachTargetSeries(function(a){var o=[],s=a.getData();s.each(this.getDataDimensionIndex(s),function(n,a){VisualMapping_default.findPieceIndex(n,r)===t&&o.push(a)},this),n.push({seriesId:a.id,dataIndex:o})},this),n},n.prototype.getRepresentValue=function(t){var n;if(this.isCategory())n=t.value;else if(t.value!=null)n=t.value;else{var r=t.interval||[];n=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return n},n.prototype.getVisualMeta=function(t){if(this.isCategory())return;var n=[],r=[``,``],a=this;function o(o,s){var c=a.getRepresentValue({interval:o});s||=a.getValueState(c);var l=t(c,s);o[0]===-1/0?r[0]=l:o[1]===1/0?r[1]=l:n.push({value:o[0],color:l},{value:o[1],color:l})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var c=s[0].interval[0];c!==-1/0&&s.unshift({interval:[-1/0,c]}),c=s[s.length-1].interval[1],c!==1/0&&s.push({interval:[c,1/0]})}var l=-1/0;return each$15(s,function(t){var n=t.interval;n&&(n[0]>l&&o([l,n[0]],`outOfRange`),o(n.slice()),l=n[1])},this),{stops:n,outerColors:r}},n.type=`visualMap.piecewise`,n.defaultOption=inheritDefaultOption(VisualMapModel_default.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:`auto`,itemWidth:20,itemHeight:14,itemSymbol:`roundRect`,pieces:null,categories:null,splitNumber:5,selectedMode:`multiple`,itemGap:10,hoverLink:!0}),n}(VisualMapModel_default),resetMethods={splitNumber:function(t){var n=this.option,r=Math.min(n.precision,20),a=this.getExtent(),o=n.splitNumber;o=Math.max(parseInt(o,10),1),n.splitNumber=o;for(var s=(a[1]-a[0])/o;+s.toFixed(r)!==s&&r<5;)r++;n.precision=r,s=+s.toFixed(r),n.minOpen&&t.push({interval:[-1/0,a[0]],close:[0,0]});for(var c=0,l=a[0];c<o;l+=s,c++){var u=c===o-1?a[1]:l+s;t.push({interval:[l,u],close:[1,1]})}n.maxOpen&&t.push({interval:[a[1],1/0],close:[0,0]}),reformIntervals(t),each$15(t,function(t,n){t.index=n,t.text=this.formatValueText(t.interval)},this)},categories:function(t){var n=this.option;each$15(n.categories,function(n){t.push({text:this.formatValueText(n,!0),value:n})},this),normalizeReverse(n,t)},pieces:function(t){var n=this.option;each$15(n.pieces,function(n,r){isObject$3(n)||(n={value:n});var a={text:``,index:r};if(n.label!=null&&(a.text=n.label),n.hasOwnProperty(`value`)){var o=a.value=n.value;a.interval=[o,o],a.close=[1,1]}else{for(var s=a.interval=[],c=a.close=[0,0],l=[1,0,1],u=[-1/0,1/0],d=[],f=0;f<2;f++){for(var p=[[`gte`,`gt`,`min`],[`lte`,`lt`,`max`]][f],g=0;g<3&&s[f]==null;g++)s[f]=n[p[g]],c[f]=l[g],d[f]=g===2;s[f]??(s[f]=u[f])}d[0]&&s[1]===1/0&&(c[0]=0),d[1]&&s[0]===-1/0&&(c[1]=0),s[0]===s[1]&&c[0]&&c[1]&&(a.value=s[0])}a.visual=VisualMapping_default.retrieveVisuals(n),t.push(a)},this),normalizeReverse(n,t),reformIntervals(t),each$15(t,function(t){var n=t.close,r=[[`<`,``][n[1]],[`>`,``][n[0]]];t.text=t.text||this.formatValueText(t.value==null?t.interval:t.value,!1,r)},this)}};function normalizeReverse(t,n){var r=t.inverse;(t.orient===`vertical`?!r:r)&&n.reverse()}var PiecewiseModel_default=PiecewiseModel,PiecewiseView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var t=this.group;t.removeAll();var n=this.visualMapModel,r=n.get(`textGap`),a=n.textStyleModel,o=a.getFont(),s=a.getTextColor(),c=this._getItemAlign(),l=n.itemSize,u=this._getViewData(),d=u.endsText,f=retrieve(n.get(`showLabel`,!0),!d),p=!n.get(`selectedMode`);d&&this._renderEndsText(t,d[0],l,f,c),each$15(u.viewPieceList,function(a){var u=a.piece,d=new Group_default;d.onclick=bind$1(this._onItemClick,this,u),this._enableHoverLink(d,a.indexInModelPieceList);var g=n.getRepresentValue(u);if(this._createItemSymbol(d,g,[0,0,l[0],l[1]],p),f){var _=this.visualMapModel.getValueState(g);d.add(new Text_default({style:{x:c===`right`?-r:l[0]+r,y:l[1]/2,text:u.text,verticalAlign:`middle`,align:c,font:o,fill:s,opacity:_===`outOfRange`?.5:1},silent:p}))}t.add(d)},this),d&&this._renderEndsText(t,d[1],l,f,c),box(n.get(`orient`),t,n.get(`itemGap`)),this.renderBackground(t),this.positionGroup(t)},n.prototype._enableHoverLink=function(t,n){var r=this;t.on(`mouseover`,function(){return a(`highlight`)}).on(`mouseout`,function(){return a(`downplay`)});var a=function(t){var a=r.visualMapModel;a.option.hoverLink&&r.api.dispatchAction({type:t,batch:makeHighDownBatch(a.findTargetDataIndices(n),a)})}},n.prototype._getItemAlign=function(){var t=this.visualMapModel,n=t.option;if(n.orient===`vertical`)return getItemAlign(t,this.api,t.itemSize);var r=n.align;return(!r||r===`auto`)&&(r=`left`),r},n.prototype._renderEndsText=function(t,n,r,a,o){if(n){var s=new Group_default,c=this.visualMapModel.textStyleModel;s.add(new Text_default({style:createTextStyle$1(c,{x:a?o===`right`?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:`middle`,align:a?o:`center`,text:n})})),t.add(s)}},n.prototype._getViewData=function(){var t=this.visualMapModel,n=map$1(t.getPieceList(),function(t,n){return{piece:t,indexInModelPieceList:n}}),r=t.get(`text`),a=t.get(`orient`),o=t.get(`inverse`);return(a===`horizontal`?o:!o)?n.reverse():r&&=r.slice().reverse(),{viewPieceList:n,endsText:r}},n.prototype._createItemSymbol=function(t,n,r,a){var o=createSymbol$1(this.getControllerVisual(n,`symbol`),r[0],r[1],r[2],r[3],this.getControllerVisual(n,`color`));o.silent=a,t.add(o)},n.prototype._onItemClick=function(t){var n=this.visualMapModel,r=n.option,a=r.selectedMode;if(a){var o=clone$4(r.selected),s=n.getSelectedMapKey(t);a===`single`||a===!0?(o[s]=!0,each$15(o,function(t,n){o[n]=n===s})):o[s]=!o[s],this.api.dispatchAction({type:`selectDataRange`,from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},n.type=`visualMap.piecewise`,n}(VisualMapView_default);function install$28(t){t.registerComponentModel(PiecewiseModel_default),t.registerComponentView(PiecewiseView_default),installCommon(t)}function install$27(t){use(install$29),use(install$28)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner$3=makeInner(),decalPaletteScope={};function ariaVisual(t,n){var r=t.getModel(`aria`);if(!r.get(`enabled`))return;var a=clone$4(DEFAULT_OPTION);merge(a.label,t.getLocaleModel().get(`aria`),!1),merge(r.option,a,!1),o(),s();function o(){if(r.getModel(`decal`).get(`show`)){var n=createHashMap();t.eachSeries(function(t){if(!t.isColorBySeries()){var r=n.get(t.type);r||(r={},n.set(t.type,r)),inner$3(t).scope=r}}),t.eachRawSeries(function(n){if(t.isSeriesFiltered(n))return;if(isFunction(n.enableAriaDecal)){n.enableAriaDecal();return}var r=n.getData();if(n.isColorBySeries()){var a=getDecalFromPalette(n.ecModel,n.name,decalPaletteScope,t.getSeriesCount()),o=r.getVisual(`decal`);r.setVisual(`decal`,d(o,a))}else{var s=n.getRawData(),c={},l=inner$3(n).scope;r.each(function(t){var n=r.getRawIndex(t);c[n]=t});var u=s.count();s.each(function(t){var a=c[t],o=s.getName(t)||t+``,f=getDecalFromPalette(n.ecModel,o,l,u),p=r.getItemVisual(a,`decal`);r.setItemVisual(a,`decal`,d(p,f))})}function d(t,n){var r=t?extend(extend({},n),t):n;return r.dirty=!0,r}})}}function s(){var a=n.getZr().dom;if(a){var o=t.getLocaleModel().get(`aria`),s=r.getModel(`label`);if(s.option=defaults(s.option,o),s.get(`enabled`)){if(a.setAttribute(`role`,`img`),s.get(`description`)){a.setAttribute(`aria-label`,s.get(`description`));return}var d=t.getSeriesCount(),f=s.get([`data`,`maxCount`])||10,p=s.get([`series`,`maxCount`])||10,g=Math.min(d,p),_;if(!(d<1)){var v=l();_=v?c(s.get([`general`,`withTitle`]),{title:v}):s.get([`general`,`withoutTitle`]);var y=[],b=d>1?s.get([`series`,`multiple`,`prefix`]):s.get([`series`,`single`,`prefix`]);_+=c(b,{seriesCount:d}),t.eachSeries(function(t,n){if(n<g){var r=void 0,a=t.get(`name`)?`withName`:`withoutName`;r=d>1?s.get([`series`,`multiple`,a]):s.get([`series`,`single`,a]),r=c(r,{seriesId:t.seriesIndex,seriesName:t.get(`name`),seriesType:u(t.subType)});var o=t.getData();if(o.count()>f){var l=s.get([`data`,`partialData`]);r+=c(l,{displayCnt:f})}else r+=s.get([`data`,`allData`]);for(var p=s.get([`data`,`separator`,`middle`]),_=s.get([`data`,`separator`,`end`]),v=s.get([`data`,`excludeDimensionId`]),b=[],x=0;x<o.count();x++)if(x<f){var S=o.getName(x),C=v?filter(o.getValues(x),function(t,n){return indexOf(v,n)===-1}):o.getValues(x),w=s.get([`data`,S?`withName`:`withoutName`]);b.push(c(w,{name:S,value:C.join(p)}))}r+=b.join(p)+_,y.push(r)}});var x=s.getModel([`series`,`multiple`,`separator`]),S=x.get(`middle`),C=x.get(`end`);_+=y.join(S)+C,a.setAttribute(`aria-label`,_)}}}}function c(t,n){if(!isString(t))return t;var r=t;return each$15(n,function(t,n){r=r.replace(RegExp(`\\{\\s*`+n+`\\s*\\}`,`g`),t)}),r}function l(){var n=t.get(`title`);return n&&n.length&&(n=n[0]),n&&n.text}function u(n){var r=t.getLocaleModel().get([`series`,`typeNames`]);return r[n]||r.chart}}function ariaPreprocessor(t){if(!(!t||!t.aria)){var n=t.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$15([`description`,`general`,`series`,`data`],function(t){n[t]!=null&&(n.label[t]=n[t])})}}function install$26(t){t.registerPreprocessor(ariaPreprocessor),t.registerVisual(t.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:`eq`,"<":`lt`,"<=":`lte`,">":`gt`,">=":`gte`,"=":`eq`,"!=":`ne`,"<>":`ne`},RegExpEvaluator=function(){function t(t){(this._condVal=isString(t)?new RegExp(t):isRegExp(t)?t:null)??throwError(``)}return t.prototype.evaluate=function(t){var n=typeof t;return isString(n)?this._condVal.test(t):isNumber(n)?this._condVal.test(t+``):!1},t}(),ConstConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),AndConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(!t[n].evaluate())return!1;return!0},t}(),OrConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,n=0;n<t.length;n++)if(t[n].evaluate())return!0;return!1},t}(),NotConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),RelationalConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,n=this.getValue,r=n(this.valueGetterParam),a=t?this.valueParser(r):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?a:r))return!1;return!0},t}();function parseOption(t,n){if(t===!0||t===!1){var r=new ConstConditionInternal;return r.value=t,r}return isObjectNotArray(t)||throwError(``),t.and?parseAndOrOption(`and`,t,n):t.or?parseAndOrOption(`or`,t,n):t.not?parseNotOption(t,n):parseRelationalOption(t,n)}function parseAndOrOption(t,n,r){var a=n[t],o=``;isArray$1(a)||throwError(o),a.length||throwError(o);var s=t===`and`?new AndConditionInternal:new OrConditionInternal;return s.children=map$1(a,function(t){return parseOption(t,r)}),s.children.length||throwError(o),s}function parseNotOption(t,n){var r=t.not,a=``;isObjectNotArray(r)||throwError(a);var o=new NotConditionInternal;return o.child=parseOption(r,n),o.child||throwError(a),o}function parseRelationalOption(t,n){for(var r=``,a=n.prepareGetValue(t),o=[],s=keys(t),c=t.parser,l=c?getRawValueParser(c):null,u=0;u<s.length;u++){var d=s[u];if(!(d===`parser`||n.valueGetterAttrMap.get(d))){var f=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,d)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[d]:d,p=t[d],g=l?l(p):p,_=createFilterComparator(f,g)||f===`reg`&&new RegExpEvaluator(g);_||throwError(r),o.push(_)}}o.length||throwError(r);var v=new RelationalConditionInternal;return v.valueGetterParam=a,v.valueParser=l,v.getValue=n.getValue,v.subCondList=o,v}function isObjectNotArray(t){return isObject$3(t)&&!isArrayLike(t)}var ConditionalExpressionParsed=function(){function t(t,n){this._cond=parseOption(t,n)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function parseConditionalExpression(t,n){return new ConditionalExpressionParsed(t,n)}var filterTransform={type:`echarts:filter`,transform:function(t){for(var n=t.upstream,r,a=parseConditionalExpression(t.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(t){var r=``,a=t.dimension;hasOwn(t,`dimension`)||throwError(r);var o=n.getDimensionInfo(a);return o||throwError(r),{dimIdx:o.index}},getValue:function(t){return n.retrieveValueFromItem(r,t.dimIdx)}}),o=[],s=0,c=n.count();s<c;s++)r=n.getRawDataItem(s),a.evaluate()&&o.push(r);return{data:o}}},sortTransform={type:`echarts:sort`,transform:function(t){var n=t.upstream,r=t.config,a=``,o=normalizeToArray(r);o.length||throwError(a);var s=[];each$15(o,function(t){var r=t.dimension,o=t.order,c=t.parser,l=t.incomparable;r??throwError(a),o!==`asc`&&o!==`desc`&&throwError(a),l&&l!==`min`&&l!==`max`&&throwError(``),o!==`asc`&&o!==`desc`&&throwError(``);var u=n.getDimensionInfo(r);u||throwError(a);var d=c?getRawValueParser(c):null;c&&!d&&throwError(a),s.push({dimIdx:u.index,parser:d,comparator:new SortOrderComparator(o,l)})});var c=n.sourceFormat;c!==`arrayRows`&&c!==`objectRows`&&throwError(a);for(var l=[],u=0,d=n.count();u<d;u++)l.push(n.getRawDataItem(u));return l.sort(function(t,r){for(var a=0;a<s.length;a++){var o=s[a],c=n.retrieveValueFromItem(t,o.dimIdx),l=n.retrieveValueFromItem(r,o.dimIdx);o.parser&&(c=o.parser(c),l=o.parser(l));var u=o.comparator.evaluate(c,l);if(u!==0)return u}return 0}),{data:l}}};function install$25(t){t.registerTransform(filterTransform),t.registerTransform(sortTransform)}var DatasetModel=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`dataset`,n}return n.prototype.init=function(n,r,a){t.prototype.init.call(this,n,r,a),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(n,r){t.prototype.mergeOption.call(this,n,r),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type=`dataset`,n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(Component_default$1),DatasetView=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.type=`dataset`,n}return n.type=`dataset`,n}(Component_default);function install$24(t){t.registerComponentModel(DatasetModel),t.registerComponentView(DatasetView)}var LineSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(t){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(t){var n=new Group_default,r=createSymbol$1(`line`,0,t.itemHeight/2,t.itemWidth,0,t.lineStyle.stroke,!1);n.add(r),r.setStyle(t.lineStyle);var a=this.getData().getVisual(`symbol`),o=this.getData().getVisual(`symbolRotate`),s=a===`none`?`circle`:a,c=t.itemHeight*.8,l=createSymbol$1(s,(t.itemWidth-c)/2,(t.itemHeight-c)/2,c,c,t.itemStyle.fill);return n.add(l),l.setStyle(t.itemStyle),l.rotation=(t.iconRotate===`inherit`?o:t.iconRotate||0)*Math.PI/180,l.setOrigin([t.itemWidth/2,t.itemHeight/2]),s.indexOf(`empty`)>-1&&(l.style.stroke=l.style.fill,l.style.fill=`#fff`,l.style.lineWidth=2),n},n.type=`series.line`,n.dependencies=[`grid`,`polar`],n.defaultOption={z:3,coordinateSystem:`cartesian2d`,legendHoverLink:!0,clip:!0,label:{position:`top`},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:`solid`},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:`emptyCircle`,symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:`auto`,connectNulls:!1,sampling:`none`,animationEasing:`linear`,progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:`clone`},triggerLineEvent:!1},n}(Series_default);function prepareDataCoordInfo(t,n,r){var a=t.getBaseAxis(),o=t.getOtherAxis(a),s=getValueStart(o,r),c=a.dim,l=o.dim,u=n.mapDimension(l),d=n.mapDimension(c),f=l===`x`||l===`radius`?1:0,p=map$1(t.dimensions,function(t){return n.mapDimension(t)}),g=!1,_=n.getCalculationInfo(`stackResultDimension`);return isDimensionStacked(n,p[0])&&(g=!0,p[0]=_),isDimensionStacked(n,p[1])&&(g=!0,p[1]=_),{dataDimsForPoint:p,valueStart:s,valueAxisDim:l,baseAxisDim:c,stacked:!!g,valueDim:u,baseDim:d,baseDataOffset:f,stackedOverDimension:n.getCalculationInfo(`stackedOverDimension`)}}function getValueStart(t,n){var r=0,a=t.scale.getExtent();return n===`start`?r=a[0]:n===`end`?r=a[1]:isNumber(n)&&!isNaN(n)?r=n:a[0]>0?r=a[0]:a[1]<0&&(r=a[1]),r}function getStackedOnPoint(t,n,r,a){var o=NaN;t.stacked&&(o=r.get(r.getCalculationInfo(`stackedOverDimension`),a)),isNaN(o)&&(o=t.valueStart);var s=t.baseDataOffset,c=[];return c[s]=r.get(t.baseDim,a),c[1-s]=o,n.dataToPoint(c)}function diffData(t,n){var r=[];return n.diff(t).add(function(t){r.push({cmd:`+`,idx:t})}).update(function(t,n){r.push({cmd:`=`,idx:n,idx1:t})}).remove(function(t){r.push({cmd:`-`,idx:t})}).execute(),r}function lineAnimationDiff(t,n,r,a,o,s,c,l){for(var u=diffData(t,n),d=[],f=[],p=[],g=[],_=[],v=[],y=[],b=prepareDataCoordInfo(o,n,c),x=t.getLayout(`points`)||[],S=n.getLayout(`points`)||[],C=0;C<u.length;C++){var w=u[C],T=!0,E=void 0,D=void 0;switch(w.cmd){case`=`:E=w.idx*2,D=w.idx1*2;var O=x[E],A=x[E+1],j=S[D],M=S[D+1];(isNaN(O)||isNaN(A))&&(O=j,A=M),d.push(O,A),f.push(j,M),p.push(r[E],r[E+1]),g.push(a[D],a[D+1]),y.push(n.getRawIndex(w.idx1));break;case`+`:var N=w.idx,P=b.dataDimsForPoint,F=o.dataToPoint([n.get(P[0],N),n.get(P[1],N)]);D=N*2,d.push(F[0],F[1]),f.push(S[D],S[D+1]);var I=getStackedOnPoint(b,o,n,N);p.push(I[0],I[1]),g.push(a[D],a[D+1]),y.push(n.getRawIndex(N));break;case`-`:T=!1}T&&(_.push(w),v.push(v.length))}v.sort(function(t,n){return y[t]-y[n]});for(var L=d.length,R=createFloat32Array(L),z=createFloat32Array(L),B=createFloat32Array(L),V=createFloat32Array(L),H=[],C=0;C<v.length;C++){var U=v[C],W=C*2,G=U*2;R[W]=d[G],R[W+1]=d[G+1],z[W]=f[G],z[W+1]=f[G+1],B[W]=p[G],B[W+1]=p[G+1],V[W]=g[G],V[W+1]=g[G+1],H[C]=_[U]}return{current:R,next:z,stackedOnCurrent:B,stackedOnNext:V,status:H}}var mathMin$2=Math.min,mathMax$2=Math.max;function isPointNull$1(t,n){return isNaN(t)||isNaN(n)}function drawSegment(t,n,r,a,o,s,c,l,u){for(var d,f,p,g,_,v,y=r,b=0;b<a;b++){var x=n[y*2],S=n[y*2+1];if(y>=o||y<0)break;if(isPointNull$1(x,S)){if(u){y+=s;continue}break}if(y===r)t[s>0?`moveTo`:`lineTo`](x,S),p=x,g=S;else{var C=x-d,w=S-f;if(C*C+w*w<.5){y+=s;continue}if(c>0){for(var T=y+s,E=n[T*2],D=n[T*2+1];E===x&&D===S&&b<a;)b++,T+=s,y+=s,E=n[T*2],D=n[T*2+1],x=n[y*2],S=n[y*2+1],C=x-d,w=S-f;var O=b+1;if(u)for(;isPointNull$1(E,D)&&O<a;)O++,T+=s,E=n[T*2],D=n[T*2+1];var A=.5,j=0,M=0,N=void 0,P=void 0;if(O>=a||isPointNull$1(E,D))_=x,v=S;else{j=E-d,M=D-f;var F=x-d,I=E-x,L=S-f,R=D-S,z=void 0,B=void 0;if(l===`x`){z=Math.abs(F),B=Math.abs(I);var V=j>0?1:-1;_=x-V*z*c,v=S,N=x+V*B*c,P=S}else if(l===`y`){z=Math.abs(L),B=Math.abs(R);var H=M>0?1:-1;_=x,v=S-H*z*c,N=x,P=S+H*B*c}else z=Math.sqrt(F*F+L*L),B=Math.sqrt(I*I+R*R),A=B/(B+z),_=x-j*c*(1-A),v=S-M*c*(1-A),N=x+j*c*A,P=S+M*c*A,N=mathMin$2(N,mathMax$2(E,x)),P=mathMin$2(P,mathMax$2(D,S)),N=mathMax$2(N,mathMin$2(E,x)),P=mathMax$2(P,mathMin$2(D,S)),j=N-x,M=P-S,_=x-j*z/B,v=S-M*z/B,_=mathMin$2(_,mathMax$2(d,x)),v=mathMin$2(v,mathMax$2(f,S)),_=mathMax$2(_,mathMin$2(d,x)),v=mathMax$2(v,mathMin$2(f,S)),j=x-_,M=S-v,N=x+j*B/z,P=S+M*B/z}t.bezierCurveTo(p,g,_,v,x,S),p=N,g=P}else t.lineTo(x,S)}d=x,f=S,y+=s}return b}var ECPolylineShape=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),ECPolyline=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`ec-polyline`,r}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(t,n){var r=n.points,a=0,o=r.length/2;if(n.connectNulls){for(;o>0&&isPointNull$1(r[o*2-2],r[o*2-1]);o--);for(;a<o&&isPointNull$1(r[a*2],r[a*2+1]);a++);}for(;a<o;)a+=drawSegment(t,r,a,o,o,1,n.smooth,n.smoothMonotone,n.connectNulls)+1},n.prototype.getPointOn=function(t,n){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var r=this.path.data,a=PathProxy_default.CMD,o,s,c=n===`x`,l=[],u=0;u<r.length;){var d=r[u++],f=void 0,p=void 0,g=void 0,_=void 0,v=void 0,y=void 0,b=void 0;switch(d){case a.M:o=r[u++],s=r[u++];break;case a.L:if(f=r[u++],p=r[u++],b=c?(t-o)/(f-o):(t-s)/(p-s),b<=1&&b>=0){var x=c?(p-s)*b+s:(f-o)*b+o;return c?[t,x]:[x,t]}o=f,s=p;break;case a.C:f=r[u++],p=r[u++],g=r[u++],_=r[u++],v=r[u++],y=r[u++];var S=c?cubicRootAt(o,f,g,v,t,l):cubicRootAt(s,p,_,y,t,l);if(S>0)for(var C=0;C<S;C++){var w=l[C];if(w<=1&&w>=0){var x=c?cubicAt(s,p,_,y,w):cubicAt(o,f,g,v,w);return c?[t,x]:[x,t]}}o=v,s=y;break}}},n}(Path_default),ECPolygonShape=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`ec-polygon`,r}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(t,n){var r=n.points,a=n.stackedOnPoints,o=0,s=r.length/2,c=n.smoothMonotone;if(n.connectNulls){for(;s>0&&isPointNull$1(r[s*2-2],r[s*2-1]);s--);for(;o<s&&isPointNull$1(r[o*2],r[o*2+1]);o++);}for(;o<s;){var l=drawSegment(t,r,o,s,s,1,n.smooth,c,n.connectNulls);drawSegment(t,a,o+l-1,l,s,-1,n.stackedOnSmooth,c,n.connectNulls),o+=l+1,t.closePath()}},n}(Path_default);function createGridClipPath(t,n,r,a,o){var s=t.getArea(),c=s.x,l=s.y,u=s.width,d=s.height,f=r.get([`lineStyle`,`width`])||0;c-=f/2,l-=f/2,u+=f,d+=f,u=Math.ceil(u),c!==Math.floor(c)&&(c=Math.floor(c),u++);var p=new Rect_default({shape:{x:c,y:l,width:u,height:d}});if(n){var g=t.getBaseAxis(),_=g.isHorizontal(),v=g.inverse;_?(v&&(p.shape.x+=u),p.shape.width=0):(v||(p.shape.y+=d),p.shape.height=0);var y=isFunction(o)?function(t){o(t,p)}:null;initProps(p,{shape:{width:u,height:d,x:c,y:l}},r,null,a,y)}return p}function createPolarClipPath(t,n,r){var a=t.getArea(),o=round$3(a.r0,1),s=round$3(a.r,1),c=new Sector_default({shape:{cx:round$3(t.cx,1),cy:round$3(t.cy,1),r0:o,r:s,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});return n&&(t.getBaseAxis().dim===`angle`?c.shape.endAngle=a.startAngle:c.shape.r=o,initProps(c,{shape:{endAngle:a.endAngle,r:s}},r)),c}function createClipPath(t,n,r,a,o){if(t){if(t.type===`polar`)return createPolarClipPath(t,n,r);if(t.type===`cartesian2d`)return createGridClipPath(t,n,r,a,o)}else return null;return null}function isPointsSame(t,n){if(t.length===n.length){for(var r=0;r<t.length;r++)if(t[r]!==n[r])return;return!0}}function bboxFromPoints(t){for(var n=1/0,r=1/0,a=-1/0,o=-1/0,s=0;s<t.length;){var c=t[s++],l=t[s++];isNaN(c)||(n=Math.min(c,n),a=Math.max(c,a)),isNaN(l)||(r=Math.min(l,r),o=Math.max(l,o))}return[[n,r],[a,o]]}function getBoundingDiff(t,n){var r=bboxFromPoints(t),a=r[0],o=r[1],s=bboxFromPoints(n),c=s[0],l=s[1];return Math.max(Math.abs(a[0]-c[0]),Math.abs(a[1]-c[1]),Math.abs(o[0]-l[0]),Math.abs(o[1]-l[1]))}function getSmooth(t){return isNumber(t)?t:t?.5:0}function getStackedOnPoints(t,n,r){if(!r.valueDim)return[];for(var a=n.count(),o=createFloat32Array(a*2),s=0;s<a;s++){var c=getStackedOnPoint(r,t,n,s);o[s*2]=c[0],o[s*2+1]=c[1]}return o}function turnPointsIntoStep(t,n,r,a,o){var s=r.getBaseAxis(),c=s.dim===`x`||s.dim===`radius`?0:1,l=[],u=0,d=[],f=[],p=[],g=[];if(o){for(u=0;u<t.length;u+=2){var _=n||t;!isNaN(_[u])&&!isNaN(_[u+1])&&g.push(t[u],t[u+1])}t=g}for(u=0;u<t.length-2;u+=2)switch(p[0]=t[u+2],p[1]=t[u+3],f[0]=t[u],f[1]=t[u+1],l.push(f[0],f[1]),a){case`end`:d[c]=p[c],d[1-c]=f[1-c],l.push(d[0],d[1]);break;case`middle`:var v=(f[c]+p[c])/2,y=[];d[c]=y[c]=v,d[1-c]=f[1-c],y[1-c]=p[1-c],l.push(d[0],d[1]),l.push(y[0],y[1]);break;default:d[c]=f[c],d[1-c]=p[1-c],l.push(d[0],d[1])}return l.push(t[u++],t[u++]),l}function clipColorStops(t,n){var r=[],a=t.length,o,s;function c(t,n,r){var a=t.coord;return{coord:r,color:lerp((r-a)/(n.coord-a),[t.color,n.color])}}for(var l=0;l<a;l++){var u=t[l],d=u.coord;if(d<0)o=u;else if(d>n){s?r.push(c(s,u,n)):o&&r.push(c(o,u,0),c(o,u,n));break}else o&&=(r.push(c(o,u,0)),null),r.push(u),s=u}return r}function getVisualGradient(t,n,r){var a=t.getVisual(`visualMeta`);if(!(!a||!a.length||!t.count())&&n.type===`cartesian2d`){for(var o,s,c=a.length-1;c>=0;c--){var l=t.getDimensionInfo(a[c].dimension);if(o=l&&l.coordDim,o===`x`||o===`y`){s=a[c];break}}if(s){var u=n.getAxis(o),d=map$1(s.stops,function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}}),f=d.length,p=s.outerColors.slice();f&&d[0].coord>d[f-1].coord&&(d.reverse(),p.reverse());var g=clipColorStops(d,o===`x`?r.getWidth():r.getHeight()),_=g.length;if(!_&&f)return d[0].coord<0?p[1]?p[1]:d[f-1].color:p[0]?p[0]:d[0].color;var v=10,y=g[0].coord-v,b=g[_-1].coord+v,x=b-y;if(x<.001)return`transparent`;each$15(g,function(t){t.offset=(t.coord-y)/x}),g.push({offset:_?g[_-1].offset:.5,color:p[1]||`transparent`}),g.unshift({offset:_?g[0].offset:.5,color:p[0]||`transparent`});var S=new LinearGradient_default(0,0,0,0,g,!0);return S[o]=y,S[o+`2`]=b,S}}}function getIsIgnoreFunc(t,n,r){var a=t.get(`showAllSymbol`),o=a===`auto`;if(!(a&&!o)){var s=r.getAxesByScale(`ordinal`)[0];if(s&&!(o&&canShowAllSymbolForCategory(s,n))){var c=n.mapDimension(s.dim),l={};return each$15(s.getViewLabels(),function(t){var n=s.scale.getRawOrdinalNumber(t.tickValue);l[n]=1}),function(t){return!l.hasOwnProperty(n.get(c,t))}}}}function canShowAllSymbolForCategory(t,n){var r=t.getExtent(),a=Math.abs(r[1]-r[0])/t.scale.count();isNaN(a)&&(a=0);for(var o=n.count(),s=Math.max(1,Math.round(o/5)),c=0;c<o;c+=s)if(Symbol_default.getSymbolSize(n,c)[t.isHorizontal()?1:0]*1.5>a)return!1;return!0}function isPointNull(t,n){return isNaN(t)||isNaN(n)}function getLastIndexNotNull(t){for(var n=t.length/2;n>0&&isPointNull(t[n*2-2],t[n*2-1]);n--);return n-1}function getPointAtIndex(t,n){return[t[n*2],t[n*2+1]]}function getIndexRange(t,n,r){for(var a=t.length/2,o=r===`x`?0:1,s,c,l=0,u=-1,d=0;d<a;d++)if(c=t[d*2+o],!(isNaN(c)||isNaN(t[d*2+1-o]))){if(d===0){s=c;continue}if(s<=n&&c>=n||s>=n&&c<=n){u=d;break}l=d,s=c}return{range:[l,u],t:(n-s)/(c-s)}}function anyStateShowEndLabel(t){if(t.get([`endLabel`,`show`]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(t.get([SPECIAL_STATES[n],`endLabel`,`show`]))return!0;return!1}function createLineClipPath(t,n,r,a){if(isCoordinateSystemType(n,`cartesian2d`)){var o=a.getModel(`endLabel`),s=o.get(`valueAnimation`),c=a.getData(),l={lastFrameIndex:0},u=anyStateShowEndLabel(a)?function(r,a){t._endLabelOnDuring(r,a,c,l,s,o,n)}:null,d=n.getBaseAxis().isHorizontal(),f=createGridClipPath(n,r,a,function(){var n=t._endLabel;n&&r&&l.originalX!=null&&n.attr({x:l.originalX,y:l.originalY})},u);if(!a.get(`clip`,!0)){var p=f.shape,g=Math.max(p.width,p.height);d?(p.y-=g,p.height+=g*2):(p.x-=g,p.width+=g*2)}return u&&u(1,f),f}else return createPolarClipPath(n,r,a)}function getEndLabelStateSpecified(t,n){var r=n.getBaseAxis(),a=r.isHorizontal(),o=r.inverse,s=a?o?`right`:`left`:`center`,c=a?`middle`:o?`top`:`bottom`;return{normal:{align:t.get(`align`)||s,verticalAlign:t.get(`verticalAlign`)||c}}}var LineView_default=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(){var t=new Group_default,n=new SymbolDraw_default;this.group.add(n.group),this._symbolDraw=n,this._lineGroup=t,this._changePolyState=bind$1(this._changePolyState,this)},n.prototype.render=function(t,n,r){var a=t.coordinateSystem,o=this.group,s=t.getData(),c=t.getModel(`lineStyle`),l=t.getModel(`areaStyle`),u=s.getLayout(`points`)||[],d=a.type===`polar`,f=this._coordSys,p=this._symbolDraw,g=this._polyline,_=this._polygon,v=this._lineGroup,y=!n.ssr&&t.get(`animation`),b=!l.isEmpty(),x=l.get(`origin`),S=prepareDataCoordInfo(a,s,x),C=b&&getStackedOnPoints(a,s,S),w=t.get(`showSymbol`),T=t.get(`connectNulls`),E=w&&!d&&getIsIgnoreFunc(t,s,a),D=this._data;D&&D.eachItemGraphicEl(function(t,n){t.__temp&&(o.remove(t),D.setItemGraphicEl(n,null))}),w||p.remove(),o.add(v);var O=d?!1:t.get(`step`),A;a&&a.getArea&&t.get(`clip`,!0)&&(A=a.getArea(),A.width==null?A.r0&&(A.r0-=.5,A.r+=.5):(A.x-=.1,A.y-=.1,A.width+=.2,A.height+=.2)),this._clipShapeForSymbol=A;var j=getVisualGradient(s,a,r)||s.getVisual(`style`)[s.getVisual(`drawType`)];if(!(g&&f.type===a.type&&O===this._step))w&&p.updateData(s,{isIgnore:E,clipShape:A,disableAnimation:!0,getSymbolPoint:function(t){return[u[t*2],u[t*2+1]]}}),y&&this._initSymbolLabelAnimation(s,a,A),O&&(C&&=turnPointsIntoStep(C,u,a,O,T),u=turnPointsIntoStep(u,null,a,O,T)),g=this._newPolyline(u),b?_=this._newPolygon(u,C):_&&=(v.remove(_),this._polygon=null),d||this._initOrUpdateEndLabel(t,a,convertToColorString(j)),v.setClipPath(createLineClipPath(this,a,!0,t));else{b&&!_?_=this._newPolygon(u,C):_&&!b&&(v.remove(_),_=this._polygon=null),d||this._initOrUpdateEndLabel(t,a,convertToColorString(j));var M=v.getClipPath();M?initProps(M,{shape:createLineClipPath(this,a,!1,t).shape},t):v.setClipPath(createLineClipPath(this,a,!0,t)),w&&p.updateData(s,{isIgnore:E,clipShape:A,disableAnimation:!0,getSymbolPoint:function(t){return[u[t*2],u[t*2+1]]}}),(!isPointsSame(this._stackedOnPoints,C)||!isPointsSame(this._points,u))&&(y?this._doUpdateAnimation(s,C,a,r,O,x,T):(O&&(C&&=turnPointsIntoStep(C,u,a,O,T),u=turnPointsIntoStep(u,null,a,O,T)),g.setShape({points:u}),_&&_.setShape({points:u,stackedOnPoints:C})))}var N=t.getModel(`emphasis`),P=N.get(`focus`),F=N.get(`blurScope`),I=N.get(`disabled`);if(g.useStyle(defaults(c.getLineStyle(),{fill:`none`,stroke:j,lineJoin:`bevel`})),setStatesStylesFromModel(g,t,`lineStyle`),g.style.lineWidth>0&&t.get([`emphasis`,`lineStyle`,`width`])===`bolder`){var L=g.getState(`emphasis`).style;L.lineWidth=+g.style.lineWidth+1}getECData(g).seriesIndex=t.seriesIndex,toggleHoverEmphasis(g,P,F,I);var R=getSmooth(t.get(`smooth`)),z=t.get(`smoothMonotone`);if(g.setShape({smooth:R,smoothMonotone:z,connectNulls:T}),_){var B=s.getCalculationInfo(`stackedOnSeries`),V=0;_.useStyle(defaults(l.getAreaStyle(),{fill:j,opacity:.7,lineJoin:`bevel`,decal:s.getVisual(`style`).decal})),B&&(V=getSmooth(B.get(`smooth`))),_.setShape({smooth:R,stackedOnSmooth:V,smoothMonotone:z,connectNulls:T}),setStatesStylesFromModel(_,t,`areaStyle`),getECData(_).seriesIndex=t.seriesIndex,toggleHoverEmphasis(_,P,F,I)}var H=this._changePolyState;s.eachItemGraphicEl(function(t){t&&(t.onHoverStateChange=H)}),this._polyline.onHoverStateChange=H,this._data=s,this._coordSys=a,this._stackedOnPoints=C,this._points=u,this._step=O,this._valueOrigin=x,t.get(`triggerLineEvent`)&&(this.packEventData(t,g),_&&this.packEventData(t,_))},n.prototype.packEventData=function(t,n){getECData(n).eventData={componentType:`series`,componentSubType:`line`,componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:`line`}},n.prototype.highlight=function(t,n,r,a){var o=t.getData(),s=queryDataIndex(o,a);if(this._changePolyState(`emphasis`),!(s instanceof Array)&&s!=null&&s>=0){var c=o.getLayout(`points`),l=o.getItemGraphicEl(s);if(!l){var u=c[s*2],d=c[s*2+1];if(isNaN(u)||isNaN(d)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(u,d))return;var f=t.get(`zlevel`)||0,p=t.get(`z`)||0;l=new Symbol_default(o,s),l.x=u,l.y=d,l.setZ(f,p);var g=l.getSymbolPath().getTextContent();g&&(g.zlevel=f,g.z=p,g.z2=this._polyline.z2+1),l.__temp=!0,o.setItemGraphicEl(s,l),l.stopSymbolAnimation(!0),this.group.add(l)}l.highlight()}else Chart_default.prototype.highlight.call(this,t,n,r,a)},n.prototype.downplay=function(t,n,r,a){var o=t.getData(),s=queryDataIndex(o,a);if(this._changePolyState(`normal`),s!=null&&s>=0){var c=o.getItemGraphicEl(s);c&&(c.__temp?(o.setItemGraphicEl(s,null),this.group.remove(c)):c.downplay())}else Chart_default.prototype.downplay.call(this,t,n,r,a)},n.prototype._changePolyState=function(t){var n=this._polygon;setStatesFlag(this._polyline,t),n&&setStatesFlag(n,t)},n.prototype._newPolyline=function(t){var n=this._polyline;return n&&this._lineGroup.remove(n),n=new ECPolyline({shape:{points:t},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(n),this._polyline=n,n},n.prototype._newPolygon=function(t,n){var r=this._polygon;return r&&this._lineGroup.remove(r),r=new ECPolygon({shape:{points:t,stackedOnPoints:n},segmentIgnoreThreshold:2}),this._lineGroup.add(r),this._polygon=r,r},n.prototype._initSymbolLabelAnimation=function(t,n,r){var a,o,s=n.getBaseAxis(),c=s.inverse;n.type===`cartesian2d`?(a=s.isHorizontal(),o=!1):n.type===`polar`&&(a=s.dim===`angle`,o=!0);var l=t.hostModel,u=l.get(`animationDuration`);isFunction(u)&&(u=u(null));var d=l.get(`animationDelay`)||0,f=isFunction(d)?d(null):d;t.eachItemGraphicEl(function(t,s){var l=t;if(l){var p=[t.x,t.y],g=void 0,_=void 0,v=void 0;if(r)if(o){var y=r,b=n.pointToCoord(p);a?(g=y.startAngle,_=y.endAngle,v=-b[1]/180*Math.PI):(g=y.r0,_=y.r,v=b[0])}else{var x=r;a?(g=x.x,_=x.x+x.width,v=t.x):(g=x.y+x.height,_=x.y,v=t.y)}var S=_===g?0:(v-g)/(_-g);c&&(S=1-S);var C=isFunction(d)?d(s):u*S+f,w=l.getSymbolPath(),T=w.getTextContent();l.attr({scaleX:0,scaleY:0}),l.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:C}),T&&T.animateFrom({style:{opacity:0}},{duration:300,delay:C}),w.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(t,n,r){var a=t.getModel(`endLabel`);if(anyStateShowEndLabel(t)){var o=t.getData(),s=this._polyline,c=o.getLayout(`points`);if(!c){s.removeTextContent(),this._endLabel=null;return}var l=this._endLabel;l||(l=this._endLabel=new Text_default({z2:200}),l.ignoreClip=!0,s.setTextContent(this._endLabel),s.disableLabelAnimation=!0);var u=getLastIndexNotNull(c);u>=0&&(setLabelStyle(s,getLabelStatesModels(t,`endLabel`),{inheritColor:r,labelFetcher:t,labelDataIndex:u,defaultText:function(t,n,r){return r==null?getDefaultLabel(o,t):getDefaultInterpolatedLabel(o,r)},enableTextSetter:!0},getEndLabelStateSpecified(a,n)),s.textConfig.position=null)}else this._endLabel&&=(this._polyline.removeTextContent(),null)},n.prototype._endLabelOnDuring=function(t,n,r,a,o,s,c){var l=this._endLabel,u=this._polyline;if(l){t<1&&a.originalX==null&&(a.originalX=l.x,a.originalY=l.y);var d=r.getLayout(`points`),f=r.hostModel,p=f.get(`connectNulls`),g=s.get(`precision`),_=s.get(`distance`)||0,v=c.getBaseAxis(),y=v.isHorizontal(),b=v.inverse,x=n.shape,S=b?y?x.x:x.y+x.height:y?x.x+x.width:x.y,C=(y?_:0)*(b?-1:1),w=(y?0:-_)*(b?-1:1),T=y?`x`:`y`,E=getIndexRange(d,S,T),D=E.range,O=D[1]-D[0],A=void 0;if(O>=1){if(O>1&&!p){var j=getPointAtIndex(d,D[0]);l.attr({x:j[0]+C,y:j[1]+w}),o&&(A=f.getRawValue(D[0]))}else{var j=u.getPointOn(S,T);j&&l.attr({x:j[0]+C,y:j[1]+w});var M=f.getRawValue(D[0]),N=f.getRawValue(D[1]);o&&(A=interpolateRawValues(r,g,M,N,E.t))}a.lastFrameIndex=D[0]}else{var P=t===1||a.lastFrameIndex>0?D[0]:0,j=getPointAtIndex(d,P);o&&(A=f.getRawValue(P)),l.attr({x:j[0]+C,y:j[1]+w})}if(o){var F=labelInner(l);typeof F.setLabelText==`function`&&F.setLabelText(A)}}},n.prototype._doUpdateAnimation=function(t,n,r,a,o,s,c){var l=this._polyline,u=this._polygon,d=t.hostModel,f=lineAnimationDiff(this._data,t,this._stackedOnPoints,n,this._coordSys,r,this._valueOrigin,s),p=f.current,g=f.stackedOnCurrent,_=f.next,v=f.stackedOnNext;if(o&&(g=turnPointsIntoStep(f.stackedOnCurrent,f.current,r,o,c),p=turnPointsIntoStep(f.current,null,r,o,c),v=turnPointsIntoStep(f.stackedOnNext,f.next,r,o,c),_=turnPointsIntoStep(f.next,null,r,o,c)),getBoundingDiff(p,_)>3e3||u&&getBoundingDiff(g,v)>3e3){l.stopAnimation(),l.setShape({points:_}),u&&(u.stopAnimation(),u.setShape({points:_,stackedOnPoints:v}));return}l.shape.__points=f.current,l.shape.points=p;var y={shape:{points:_}};f.current!==p&&(y.shape.__points=f.next),l.stopAnimation(),updateProps$1(l,y,d),u&&(u.setShape({points:p,stackedOnPoints:g}),u.stopAnimation(),updateProps$1(u,{shape:{stackedOnPoints:v}},d),l.shape.points!==u.shape.points&&(u.shape.points=l.shape.points));for(var b=[],x=f.status,S=0;S<x.length;S++)if(x[S].cmd===`=`){var C=t.getItemGraphicEl(x[S].idx1);C&&b.push({el:C,ptIdx:S})}l.animators&&l.animators.length&&l.animators[0].during(function(){u&&u.dirtyShape();for(var t=l.shape.__points,n=0;n<b.length;n++){var r=b[n].el,a=b[n].ptIdx*2;r.x=t[a],r.y=t[a+1],r.markRedraw()}})},n.prototype.remove=function(t){var n=this.group,r=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),r&&r.eachItemGraphicEl(function(t,a){t.__temp&&(n.remove(t),r.setItemGraphicEl(a,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type=`line`,n}(Chart_default);function pointsLayout(t,n){return{seriesType:t,plan:createRenderPlanner(),reset:function(t){var r=t.getData(),a=t.coordinateSystem,o=t.pipelineContext,s=n||o.large;if(a){var c=map$1(a.dimensions,function(t){return r.mapDimension(t)}).slice(0,2),l=c.length,u=r.getCalculationInfo(`stackResultDimension`);isDimensionStacked(r,c[0])&&(c[0]=u),isDimensionStacked(r,c[1])&&(c[1]=u);var d=r.getStore(),f=r.getDimensionIndex(c[0]),p=r.getDimensionIndex(c[1]);return l&&{progress:function(t,n){for(var r=t.end-t.start,o=s&&createFloat32Array(r*l),c=[],u=[],g=t.start,_=0;g<t.end;g++){var v=void 0;if(l===1){var y=d.get(f,g);v=a.dataToPoint(y,null,u)}else c[0]=d.get(f,g),c[1]=d.get(p,g),v=a.dataToPoint(c,null,u);s?(o[_++]=v[0],o[_++]=v[1]):n.setItemLayout(g,v.slice())}s&&n.setLayout(`points`,o)}}}}}}var samplers={average:function(t){for(var n=0,r=0,a=0;a<t.length;a++)isNaN(t[a])||(n+=t[a],r++);return r===0?NaN:n/r},sum:function(t){for(var n=0,r=0;r<t.length;r++)n+=t[r]||0;return n},max:function(t){for(var n=-1/0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);return isFinite(n)?n:NaN},min:function(t){for(var n=1/0,r=0;r<t.length;r++)t[r]<n&&(n=t[r]);return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},indexSampler=function(t){return Math.round(t.length/2)};function dataSample(t){return{seriesType:t,reset:function(t,n,r){var a=t.getData(),o=t.get(`sampling`),s=t.coordinateSystem,c=a.count();if(c>10&&s.type===`cartesian2d`&&o){var l=s.getBaseAxis(),u=s.getOtherAxis(l),d=l.getExtent(),f=r.getDevicePixelRatio(),p=Math.abs(d[1]-d[0])*(f||1),g=Math.round(c/p);if(isFinite(g)&&g>1){o===`lttb`?t.setData(a.lttbDownSample(a.mapDimension(u.dim),1/g)):o===`minmax`&&t.setData(a.minmaxDownSample(a.mapDimension(u.dim),1/g));var _=void 0;isString(o)?_=samplers[o]:isFunction(o)&&(_=o),_&&t.setData(a.downSample(a.mapDimension(u.dim),1/g,_,indexSampler))}}}}}function install$23(t){t.registerChartView(LineView_default),t.registerSeriesModel(LineSeries_default),t.registerLayout(pointsLayout(`line`,!0)),t.registerVisual({seriesType:`line`,reset:function(t){var n=t.getData(),r=t.getModel(`lineStyle`).getLineStyle();r&&!r.stroke&&(r.stroke=n.getVisual(`style`).fill),n.setVisual(`legendLineStyle`,r)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,dataSample(`line`))}var BaseBarSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(t,n){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(t,n,r){var a=this.coordinateSystem;if(a&&a.clampData){var o=a.clampData(t),s=a.dataToPoint(o);if(r)each$15(a.getAxes(),function(t,r){if(t.type===`category`&&n!=null){var a=t.getTicksCoords(),c=t.getTickModel().get(`alignWithLabel`),l=o[r],u=n[r]===`x1`||n[r]===`y1`;if(u&&!c&&(l+=1),a.length<2)return;if(a.length===2){s[r]=t.toGlobalCoord(t.getExtent()[u?1:0]);return}for(var d=void 0,f=void 0,p=1,g=0;g<a.length;g++){var _=a[g].coord,v=g===a.length-1?a[g-1].tickValue+p:a[g].tickValue;if(v===l){f=_;break}else if(v<l)d=_;else if(d!=null&&v>l){f=(_+d)/2;break}g===1&&(p=v-a[0].tickValue)}f??(d?d&&(f=a[a.length-1].coord):f=a[0].coord),s[r]=t.toGlobalCoord(f)}});else{var c=this.getData(),l=c.getLayout(`offset`),u=c.getLayout(`size`),d=a.getBaseAxis().isHorizontal()?0:1;s[d]+=l+u/2}return s}return[NaN,NaN]},n.type=`series.__base_bar__`,n.defaultOption={z:2,coordinateSystem:`cartesian2d`,legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:`mod`},n}(Series_default);Series_default.registerClass(BaseBarSeriesModel);var BaseBarSeries_default=BaseBarSeriesModel,BarSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return createSeriesData_default(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get(`realtimeSort`,!0)||null})},n.prototype.getProgressive=function(){return this.get(`large`)?this.get(`progressive`):!1},n.prototype.getProgressiveThreshold=function(){var t=this.get(`progressiveThreshold`),n=this.get(`largeThreshold`);return n>t&&(t=n),t},n.prototype.brushSelector=function(t,n,r){return r.rect(n.getItemLayout(t))},n.type=`series.bar`,n.dependencies=[`grid`,`polar`],n.defaultOption=inheritDefaultOption(BaseBarSeries_default.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:`rgba(180, 180, 180, 0.2)`,borderColor:null,borderWidth:0,borderType:`solid`,borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:`#212121`}},realtimeSort:!1}),n}(BaseBarSeries_default),SausageShape=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),sausage_default=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`sausage`,r}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(t,n){var r=n.cx,a=n.cy,o=Math.max(n.r0||0,0),s=Math.max(n.r,0),c=(s-o)*.5,l=o+c,u=n.startAngle,d=n.endAngle,f=n.clockwise,p=Math.PI*2,g=f?d-u<p:u-d<p;g||(u=d-(f?p:-p));var _=Math.cos(u),v=Math.sin(u),y=Math.cos(d),b=Math.sin(d);g?(t.moveTo(_*o+r,v*o+a),t.arc(_*l+r,v*l+a,c,-Math.PI+u,u,!f)):t.moveTo(_*s+r,v*s+a),t.arc(r,a,s,u,d,!f),t.arc(y*l+r,b*l+a,c,d-Math.PI*2,d-Math.PI,!f),o!==0&&t.arc(r,a,o,d,u,f)},n}(Path_default);function createSectorCalculateTextPosition(t,n){n||={};var r=n.isRoundCap;return function(n,a,o){var s=a.position;if(!s||s instanceof Array)return calculateTextPosition(n,a,o);var c=t(s),l=a.distance==null?5:a.distance,u=this.shape,d=u.cx,f=u.cy,p=u.r,g=u.r0,_=(p+g)/2,v=u.startAngle,y=u.endAngle,b=(v+y)/2,x=r?Math.abs(p-g)/2:0,S=Math.cos,C=Math.sin,w=d+p*S(v),T=f+p*C(v),E=`left`,D=`top`;switch(c){case`startArc`:w=d+(g-l)*S(b),T=f+(g-l)*C(b),E=`center`,D=`top`;break;case`insideStartArc`:w=d+(g+l)*S(b),T=f+(g+l)*C(b),E=`center`,D=`bottom`;break;case`startAngle`:w=d+_*S(v)+adjustAngleDistanceX(v,l+x,!1),T=f+_*C(v)+adjustAngleDistanceY(v,l+x,!1),E=`right`,D=`middle`;break;case`insideStartAngle`:w=d+_*S(v)+adjustAngleDistanceX(v,-l+x,!1),T=f+_*C(v)+adjustAngleDistanceY(v,-l+x,!1),E=`left`,D=`middle`;break;case`middle`:w=d+_*S(b),T=f+_*C(b),E=`center`,D=`middle`;break;case`endArc`:w=d+(p+l)*S(b),T=f+(p+l)*C(b),E=`center`,D=`bottom`;break;case`insideEndArc`:w=d+(p-l)*S(b),T=f+(p-l)*C(b),E=`center`,D=`top`;break;case`endAngle`:w=d+_*S(y)+adjustAngleDistanceX(y,l+x,!0),T=f+_*C(y)+adjustAngleDistanceY(y,l+x,!0),E=`left`,D=`middle`;break;case`insideEndAngle`:w=d+_*S(y)+adjustAngleDistanceX(y,-l+x,!0),T=f+_*C(y)+adjustAngleDistanceY(y,-l+x,!0),E=`right`,D=`middle`;break;default:return calculateTextPosition(n,a,o)}return n||={},n.x=w,n.y=T,n.align=E,n.verticalAlign=D,n}}function setSectorTextRotation(t,n,r,a){if(isNumber(a)){t.setTextConfig({rotation:a});return}else if(isArray$1(n)){t.setTextConfig({rotation:0});return}var o=t.shape,s=o.clockwise?o.startAngle:o.endAngle,c=o.clockwise?o.endAngle:o.startAngle,l=(s+c)/2,u,d=r(n);switch(d){case`startArc`:case`insideStartArc`:case`middle`:case`insideEndArc`:case`endArc`:u=l;break;case`startAngle`:case`insideStartAngle`:u=s;break;case`endAngle`:case`insideEndAngle`:u=c;break;default:t.setTextConfig({rotation:0});return}var f=Math.PI*1.5-u;d===`middle`&&f>Math.PI/2&&f<Math.PI*1.5&&(f-=Math.PI),t.setTextConfig({rotation:f})}function adjustAngleDistanceX(t,n,r){return n*Math.sin(t)*(r?-1:1)}function adjustAngleDistanceY(t,n,r){return n*Math.cos(t)*(r?1:-1)}function getSectorCornerRadius(t,n,r){var a=t.get(`borderRadius`);if(a==null)return r?{cornerRadius:0}:null;isArray$1(a)||(a=[a,a,a,a]);var o=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(a,function(t){return parsePercent$1(t,o)})}}var mathMax$1=Math.max,mathMin$1=Math.min;function getClipArea(t,n){var r=t.getArea&&t.getArea();if(isCoordinateSystemType(t,`cartesian2d`)){var a=t.getBaseAxis();if(a.type!==`category`||!a.onBand){var o=n.getLayout(`bandWidth`);a.isHorizontal()?(r.x-=o,r.width+=o*2):(r.y-=o,r.height+=o*2)}}return r}var BarView=function(t){__extends(n,t);function n(){var r=t.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(t,n,r,a){this._model=t,this._removeOnRenderedListener(r),this._updateDrawMode(t);var o=t.get(`coordinateSystem`);(o===`cartesian2d`||o===`polar`)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,n,r):this._renderNormal(t,n,r,a))},n.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},n.prototype.incrementalRender=function(t,n){this._progressiveEls=[],this._incrementalRenderLarge(t,n)},n.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},n.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},n.prototype._renderNormal=function(t,n,r,a){var o=this.group,s=t.getData(),c=this._data,l=t.coordinateSystem,u=l.getBaseAxis(),d;l.type===`cartesian2d`?d=u.isHorizontal():l.type===`polar`&&(d=u.dim===`angle`);var f=t.isAnimationEnabled()?t:null,p=shouldRealtimeSort(t,l);p&&this._enableRealtimeSort(p,s,r);var g=t.get(`clip`,!0)||p,_=getClipArea(l,s);o.removeClipPath();var v=t.get(`roundCap`,!0),y=t.get(`showBackground`,!0),b=t.getModel(`backgroundStyle`),x=b.get(`borderRadius`)||0,S=[],C=this._backgroundEls,w=a&&a.isInitSort,T=a&&a.type===`changeAxisOrder`;function E(t){var n=getLayout[l.type](s,t),r=createBackgroundEl(l,d,n);return r.useStyle(b.getItemStyle()),l.type===`cartesian2d`?r.setShape(`r`,x):r.setShape(`cornerRadius`,x),S[t]=r,r}s.diff(c).add(function(n){var r=s.getItemModel(n),a=getLayout[l.type](s,n,r);if(y&&E(n),!(!s.hasValue(n)||!isValidLayout[l.type](a))){var c=!1;g&&(c=clip[l.type](_,a));var b=elementCreator[l.type](t,s,n,a,d,f,u.model,!1,v);p&&(b.forceLabelAnimation=!0),updateStyle(b,s,n,r,a,t,d,l.type===`polar`),w?b.attr({shape:a}):p?updateRealtimeAnimation(p,f,b,a,n,d,!1,!1):initProps(b,{shape:a},t,n),s.setItemGraphicEl(n,b),o.add(b),b.ignore=c}}).update(function(n,r){var a=s.getItemModel(n),D=getLayout[l.type](s,n,a);if(y){var O=void 0;C.length===0?O=E(r):(O=C[r],O.useStyle(b.getItemStyle()),l.type===`cartesian2d`?O.setShape(`r`,x):O.setShape(`cornerRadius`,x),S[n]=O);var A=getLayout[l.type](s,n),j=createBackgroundShape(d,A,l);updateProps$1(O,{shape:j},f,n)}var M=c.getItemGraphicEl(r);if(!s.hasValue(n)||!isValidLayout[l.type](D)){o.remove(M);return}var N=!1;if(g&&(N=clip[l.type](_,D),N&&o.remove(M)),M?saveOldStyle(M):M=elementCreator[l.type](t,s,n,D,d,f,u.model,!!M,v),p&&(M.forceLabelAnimation=!0),T){var P=M.getTextContent();if(P){var F=labelInner(P);F.prevValue!=null&&(F.prevValue=F.value)}}else updateStyle(M,s,n,a,D,t,d,l.type===`polar`);w?M.attr({shape:D}):p?updateRealtimeAnimation(p,f,M,D,n,d,!0,T):updateProps$1(M,{shape:D},t,n,null),s.setItemGraphicEl(n,M),M.ignore=N,o.add(M)}).remove(function(n){var r=c.getItemGraphicEl(n);r&&removeElementWithFadeOut(r,t,n)}).execute();var D=this._backgroundGroup||=new Group_default;D.removeAll();for(var O=0;O<S.length;++O)D.add(S[O]);o.add(D),this._backgroundEls=S,this._data=s},n.prototype._renderLarge=function(t,n,r){this._clear(),createLarge$1(t,this.group),this._updateLargeClip(t)},n.prototype._incrementalRenderLarge=function(t,n){this._removeBackground(),createLarge$1(n,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(t){var n=t.get(`clip`,!0)&&createClipPath(t.coordinateSystem,!1,t),r=this.group;n?r.setClipPath(n):r.removeClipPath()},n.prototype._enableRealtimeSort=function(t,n,r){var a=this;if(n.count()){var o=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(n,t,r),this._isFirstFrame=!1;else{var s=function(t){var r=n.getItemGraphicEl(t),a=r&&r.shape;return a&&Math.abs(o.isHorizontal()?a.height:a.width)||0};this._onRendered=function(){a._updateSortWithinSameData(n,s,o,r)},r.getZr().on(`rendered`,this._onRendered)}}},n.prototype._dataSort=function(t,n,r){var a=[];return t.each(t.mapDimension(n.dim),function(t,n){var o=r(n);o??=NaN,a.push({dataIndex:n,mappedValue:o,ordinalNumber:t})}),a.sort(function(t,n){return n.mappedValue-t.mappedValue}),{ordinalNumbers:map$1(a,function(t){return t.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(t,n,r){for(var a=r.scale,o=t.mapDimension(r.dim),s=Number.MAX_VALUE,c=0,l=a.getOrdinalMeta().categories.length;c<l;++c){var u=t.rawIndexOf(o,a.getRawOrdinalNumber(c)),d=u<0?Number.MIN_VALUE:n(t.indexOfRawIndex(u));if(d>s)return!0;s=d}return!1},n.prototype._isOrderDifferentInView=function(t,n){for(var r=n.scale,a=r.getExtent(),o=Math.max(0,a[0]),s=Math.min(a[1],r.getOrdinalMeta().categories.length-1);o<=s;++o)if(t.ordinalNumbers[o]!==r.getRawOrdinalNumber(o))return!0},n.prototype._updateSortWithinSameData=function(t,n,r,a){if(this._isOrderChangedWithinSameData(t,n,r)){var o=this._dataSort(t,r,n);this._isOrderDifferentInView(o,r)&&(this._removeOnRenderedListener(a),a.dispatchAction({type:`changeAxisOrder`,componentType:r.dim+`Axis`,axisId:r.index,sortInfo:o}))}},n.prototype._dispatchInitSort=function(t,n,r){var a=n.baseAxis,o=this._dataSort(t,a,function(r){return t.get(t.mapDimension(n.otherAxis.dim),r)});r.dispatchAction({type:`changeAxisOrder`,componentType:a.dim+`Axis`,isInitSort:!0,axisId:a.index,sortInfo:o})},n.prototype.remove=function(t,n){this._clear(this._model),this._removeOnRenderedListener(n)},n.prototype.dispose=function(t,n){this._removeOnRenderedListener(n)},n.prototype._removeOnRenderedListener=function(t){this._onRendered&&=(t.getZr().off(`rendered`,this._onRendered),null)},n.prototype._clear=function(t){var n=this.group,r=this._data;t&&t.isAnimationEnabled()&&r&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],r.eachItemGraphicEl(function(n){removeElementWithFadeOut(n,t,getECData(n).dataIndex)})):n.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type=`bar`,n}(Chart_default),clip={cartesian2d:function(t,n){var r=n.width<0?-1:1,a=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),a<0&&(n.y+=n.height,n.height=-n.height);var o=t.x+t.width,s=t.y+t.height,c=mathMax$1(n.x,t.x),l=mathMin$1(n.x+n.width,o),u=mathMax$1(n.y,t.y),d=mathMin$1(n.y+n.height,s),f=l<c,p=d<u;return n.x=f&&c>o?l:c,n.y=p&&u>s?d:u,n.width=f?0:l-c,n.height=p?0:d-u,r<0&&(n.x+=n.width,n.width=-n.width),a<0&&(n.y+=n.height,n.height=-n.height),f||p},polar:function(t,n){var r=n.r0<=n.r?1:-1;if(r<0){var a=n.r;n.r=n.r0,n.r0=a}var o=mathMin$1(n.r,t.r),s=mathMax$1(n.r0,t.r0);n.r=o,n.r0=s;var c=o-s<0;if(r<0){var a=n.r;n.r=n.r0,n.r0=a}return c}},elementCreator={cartesian2d:function(t,n,r,a,o,s,c,l,u){var d=new Rect_default({shape:extend({},a),z2:1});if(d.__dataIndex=r,d.name=`item`,s){var f=d.shape,p=o?`height`:`width`;f[p]=0}return d},polar:function(t,n,r,a,o,s,c,l,u){var d=!o&&u?sausage_default:Sector_default,f=new d({shape:a,z2:1});if(f.name=`item`,f.calculateTextPosition=createSectorCalculateTextPosition(createPolarPositionMapping(o),{isRoundCap:d===sausage_default}),s){var p=f.shape,g=o?`r`:`endAngle`,_={};p[g]=o?a.r0:a.startAngle,_[g]=a[g],(l?updateProps$1:initProps)(f,{shape:_},s)}return f}};function shouldRealtimeSort(t,n){var r=t.get(`realtimeSort`,!0),a=n.getBaseAxis();if(r&&a.type===`category`&&n.type===`cartesian2d`)return{baseAxis:a,otherAxis:n.getOtherAxis(a)}}function updateRealtimeAnimation(t,n,r,a,o,s,c,l){var u,d;s?(d={x:a.x,width:a.width},u={y:a.y,height:a.height}):(d={y:a.y,height:a.height},u={x:a.x,width:a.width}),l||(c?updateProps$1:initProps)(r,{shape:u},n,o,null);var f=n?t.baseAxis.model:null;(c?updateProps$1:initProps)(r,{shape:d},f,o)}function checkPropertiesNotValid(t,n){for(var r=0;r<n.length;r++)if(!isFinite(t[n[r]]))return!0;return!1}var rectPropties=[`x`,`y`,`width`,`height`],polarPropties=[`cx`,`cy`,`r`,`startAngle`,`endAngle`],isValidLayout={cartesian2d:function(t){return!checkPropertiesNotValid(t,rectPropties)},polar:function(t){return!checkPropertiesNotValid(t,polarPropties)}},getLayout={cartesian2d:function(t,n,r){var a=t.getItemLayout(n),o=r?getLineWidth(r,a):0,s=a.width>0?1:-1,c=a.height>0?1:-1;return{x:a.x+s*o/2,y:a.y+c*o/2,width:a.width-s*o,height:a.height-c*o}},polar:function(t,n,r){var a=t.getItemLayout(n);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}}};function isZeroOnPolar(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function createPolarPositionMapping(t){return function(t){var n=t?`Arc`:`Angle`;return function(t){switch(t){case`start`:case`insideStart`:case`end`:case`insideEnd`:return t+n;default:return t}}}(t)}function updateStyle(t,n,r,a,o,s,c,l){var u=n.getItemVisual(r,`style`);if(l){if(!s.get(`roundCap`)){var d=t.shape;extend(d,getSectorCornerRadius(a.getModel(`itemStyle`),d,!0)),t.setShape(d)}}else{var f=a.get([`itemStyle`,`borderRadius`])||0;t.setShape(`r`,f)}t.useStyle(u);var p=a.getShallow(`cursor`);p&&t.attr(`cursor`,p);var g=l?c?o.r>=o.r0?`endArc`:`startArc`:o.endAngle>=o.startAngle?`endAngle`:`startAngle`:c?o.height>=0?`bottom`:`top`:o.width>=0?`right`:`left`,_=getLabelStatesModels(a);setLabelStyle(t,_,{labelFetcher:s,labelDataIndex:r,defaultText:getDefaultLabel(s.getData(),r),inheritColor:u.fill,defaultOpacity:u.opacity,defaultOutsidePosition:g});var v=t.getTextContent();if(l&&v){var y=a.get([`label`,`position`]);t.textConfig.inside=y===`middle`?!0:null,setSectorTextRotation(t,y===`outside`?g:y,createPolarPositionMapping(c),a.get([`label`,`rotate`]))}setLabelValueAnimation(v,_,s.getRawValue(r),function(t){return getDefaultInterpolatedLabel(n,t)});var b=a.getModel([`emphasis`]);toggleHoverEmphasis(t,b.get(`focus`),b.get(`blurScope`),b.get(`disabled`)),setStatesStylesFromModel(t,a),isZeroOnPolar(o)&&(t.style.fill=`none`,t.style.stroke=`none`,each$15(t.states,function(t){t.style&&(t.style.fill=t.style.stroke=`none`)}))}function getLineWidth(t,n){var r=t.get([`itemStyle`,`borderColor`]);if(!r||r===`none`)return 0;var a=t.get([`itemStyle`,`borderWidth`])||0,o=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),s=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(a,o,s)}var LagePathShape=function(){function t(){}return t}(),LargePath=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`largeBar`,r}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(t,n){for(var r=n.points,a=this.baseDimIdx,o=1-this.baseDimIdx,s=[],c=[],l=this.barWidth,u=0;u<r.length;u+=3)c[a]=l,c[o]=r[u+2],s[a]=r[u+a],s[o]=r[u+o],t.rect(s[0],s[1],c[0],c[1])},n}(Path_default);function createLarge$1(t,n,r,a){var o=t.getData(),s=o.getLayout(`valueAxisHorizontal`)?1:0,c=o.getLayout(`largeDataIndices`),l=o.getLayout(`size`),u=t.getModel(`backgroundStyle`),d=o.getLayout(`largeBackgroundPoints`);if(d){var f=new LargePath({shape:{points:d},incremental:!!a,silent:!0,z2:0});f.baseDimIdx=s,f.largeDataIndices=c,f.barWidth=l,f.useStyle(u.getItemStyle()),n.add(f),r&&r.push(f)}var p=new LargePath({shape:{points:o.getLayout(`largePoints`)},incremental:!!a,ignoreCoarsePointer:!0,z2:1});p.baseDimIdx=s,p.largeDataIndices=c,p.barWidth=l,n.add(p),p.useStyle(o.getVisual(`style`)),p.style.stroke=null,getECData(p).seriesIndex=t.seriesIndex,t.get(`silent`)||(p.on(`mousedown`,largePathUpdateDataIndex),p.on(`mousemove`,largePathUpdateDataIndex)),r&&r.push(p)}var largePathUpdateDataIndex=throttle(function(t){var n=this,r=largePathFindDataIndex(n,t.offsetX,t.offsetY);getECData(n).dataIndex=r>=0?r:null},30,!1);function largePathFindDataIndex(t,n,r){for(var a=t.baseDimIdx,o=1-a,s=t.shape.points,c=t.largeDataIndices,l=[],u=[],d=t.barWidth,f=0,p=s.length/3;f<p;f++){var g=f*3;if(u[a]=d,u[o]=s[g+2],l[a]=s[g+a],l[o]=s[g+o],u[o]<0&&(l[o]+=u[o],u[o]=-u[o]),n>=l[0]&&n<=l[0]+u[0]&&r>=l[1]&&r<=l[1]+u[1])return c[f]}return-1}function createBackgroundShape(t,n,r){if(isCoordinateSystemType(r,`cartesian2d`)){var a=n,o=r.getArea();return{x:t?a.x:o.x,y:t?o.y:a.y,width:t?a.width:o.width,height:t?o.height:a.height}}else{var o=r.getArea(),s=n;return{cx:o.cx,cy:o.cy,r0:t?o.r0:s.r0,r:t?o.r:s.r,startAngle:t?s.startAngle:0,endAngle:t?s.endAngle:Math.PI*2}}}function createBackgroundEl(t,n,r){return new(t.type===`polar`?Sector_default:Rect_default)({shape:createBackgroundShape(n,r,t),silent:!0,z2:0})}var BarView_default=BarView;function install$22(t){t.registerChartView(BarView_default),t.registerSeriesModel(BarSeries_default),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,`bar`)),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout(`bar`)),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,dataSample(`bar`)),t.registerAction({type:`changeAxisOrder`,event:`changeAxisOrder`,update:`update`},function(t,n){var r=t.componentType||`series`;n.eachComponent({mainType:r,query:t},function(n){t.sortInfo&&n.axis.setCategorySortInfo(t.sortInfo)})})}var PI2$1=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$4(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(t,n){var r=getViewRect$4(t,n),a=t.get(`center`),o=t.get(`radius`);isArray$1(o)||(o=[0,o]);var s=parsePercent(r.width,n.getWidth()),c=parsePercent(r.height,n.getHeight()),l=Math.min(s,c),u=parsePercent(o[0],l/2),d=parsePercent(o[1],l/2),f,p,g=t.coordinateSystem;if(g){var _=g.dataToPoint(a);f=_[0]||0,p=_[1]||0}else isArray$1(a)||(a=[a,a]),f=parsePercent(a[0],s)+r.x,p=parsePercent(a[1],c)+r.y;return{cx:f,cy:p,r0:u,r:d}}function pieLayout(t,n,r){n.eachSeriesByType(t,function(t){var n=t.getData(),a=n.mapDimension(`value`),o=getViewRect$4(t,r),s=getBasicPieLayout(t,r),c=s.cx,l=s.cy,u=s.r,d=s.r0,f=-t.get(`startAngle`)*RADIAN$2,p=t.get(`endAngle`),g=t.get(`padAngle`)*RADIAN$2;p=p===`auto`?f-PI2$1:-p*RADIAN$2;var _=t.get(`minAngle`)*RADIAN$2+g,v=0;n.each(a,function(t){!isNaN(t)&&v++});var y=n.getSum(a),b=Math.PI/(y||v)*2,x=t.get(`clockwise`),S=t.get(`roseType`),C=t.get(`stillShowZeroSum`),w=n.getDataExtent(a);w[0]=0;var T=x?1:-1,E=[f,p],D=T*g/2;normalizeArcAngles(E,!x),f=E[0],p=E[1];var O=getSeriesLayoutData(t);O.startAngle=f,O.endAngle=p,O.clockwise=x;var A=Math.abs(p-f),j=A,M=0,N=f;if(n.setLayout({viewRect:o,r:u}),n.each(a,function(t,r){var a;if(isNaN(t)){n.setItemLayout(r,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:c,cy:l,r0:d,r:S?NaN:u});return}a=S===`area`?A/v:y===0&&C?b:t*b,a<_?(a=_,j-=_):M+=t;var o=N+T*a,s=0,f=0;g>a?(s=N+T*a/2,f=s):(s=N+D,f=o-D),n.setItemLayout(r,{angle:a,startAngle:s,endAngle:f,clockwise:x,cx:c,cy:l,r0:d,r:S?linearMap$2(t,w,[d,u]):u}),N=o}),j<PI2$1&&v)if(j<=.001){var P=A/v;n.each(a,function(t,r){if(!isNaN(t)){var a=n.getItemLayout(r);a.angle=P;var o=0,s=0;P<g?(o=f+T*(r+1/2)*P,s=o):(o=f+T*r*P+D,s=f+T*(r+1)*P-D),a.startAngle=o,a.endAngle=s}})}else b=j/M,N=f,n.each(a,function(t,r){if(!isNaN(t)){var a=n.getItemLayout(r),o=a.angle===_?_:t*b,s=0,c=0;o<g?(s=N+T*o/2,c=s):(s=N+D,c=N+T*o-D),a.startAngle=s,a.endAngle=c,N+=T*o}})})}var getSeriesLayoutData=makeInner();function dataFilter(t){return{seriesType:t,reset:function(t,n){var r=n.findComponents({mainType:`legend`});if(!(!r||!r.length)){var a=t.getData();a.filterSelf(function(t){for(var n=a.getName(t),o=0;o<r.length;o++)if(!r[o].isSelected(n))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(t,n,r,a,o,s,c,l,u,d){if(t.length<2)return;function f(t){for(var s=t.rB,c=s*s,l=0;l<t.list.length;l++){var u=t.list[l],d=Math.abs(u.label.y-r),f=a+u.len,p=f*f,g=n+(Math.sqrt(Math.abs((1-d*d/c)*p))+u.len2)*o,_=g-u.label.x;constrainTextWidth(u,u.targetTextWidth-_*o,!0),u.label.x=g}}function p(t){for(var s={list:[],maxY:0},c={list:[],maxY:0},l=0;l<t.length;l++)if(t[l].labelAlignTo===`none`){var u=t[l],d=u.label.y>r?c:s,p=Math.abs(u.label.y-r);if(p>=d.maxY){var g=u.label.x-n-u.len2*o,_=a+u.len;d.rB=Math.abs(g)<_?Math.sqrt(p*p/(1-g*g/_/_)):_,d.maxY=p}d.list.push(u)}f(s),f(c)}for(var g=t.length,_=0;_<g;_++)if(t[_].position===`outer`&&t[_].labelAlignTo===`labelLine`){var v=t[_].label.x-d;t[_].linePoints[1][0]+=v,t[_].label.x=d}shiftLayoutOnY(t,u,u+c)&&p(t)}function avoidOverlap(t,n,r,a,o,s,c,l){for(var u=[],d=[],f=Number.MAX_VALUE,p=-Number.MAX_VALUE,g=0;g<t.length;g++){var _=t[g].label;isPositionCenter(t[g])||(_.x<n?(f=Math.min(f,_.x),u.push(t[g])):(p=Math.max(p,_.x),d.push(t[g])))}for(var g=0;g<t.length;g++){var v=t[g];if(!isPositionCenter(v)&&v.linePoints){if(v.labelStyleWidth!=null)continue;var _=v.label,y=v.linePoints,b=void 0;b=v.labelAlignTo===`edge`?_.x<n?y[2][0]-v.labelDistance-c-v.edgeDistance:c+o-v.edgeDistance-y[2][0]-v.labelDistance:v.labelAlignTo===`labelLine`?_.x<n?f-c-v.bleedMargin:c+o-p-v.bleedMargin:_.x<n?_.x-c-v.bleedMargin:c+o-_.x-v.bleedMargin,v.targetTextWidth=b,constrainTextWidth(v,b)}}adjustSingleSide(d,n,r,a,1,o,s,c,l,p),adjustSingleSide(u,n,r,a,-1,o,s,c,l,f);for(var g=0;g<t.length;g++){var v=t[g];if(!isPositionCenter(v)&&v.linePoints){var _=v.label,y=v.linePoints,x=v.labelAlignTo===`edge`,S=_.style.padding,C=S?S[1]+S[3]:0,w=_.style.backgroundColor?0:C,T=v.rect.width+w,E=y[1][0]-y[2][0];x?_.x<n?y[2][0]=c+v.edgeDistance+T+v.labelDistance:y[2][0]=c+o-v.edgeDistance-T-v.labelDistance:(_.x<n?y[2][0]=_.x+v.labelDistance:y[2][0]=_.x-v.labelDistance,y[1][0]=y[2][0]+E),y[1][1]=y[2][1]=_.y}}}function constrainTextWidth(t,n,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var a=t.label,o=a.style,s=t.rect,c=o.backgroundColor,l=o.padding,u=l?l[1]+l[3]:0,d=o.overflow,f=s.width+(c?0:u);if(n<f||r){var p=s.height;if(d&&d.match(`break`)){a.setStyle(`backgroundColor`,null),a.setStyle(`width`,n-u);var g=a.getBoundingRect();a.setStyle(`width`,Math.ceil(g.width)),a.setStyle(`backgroundColor`,c)}else{var _=n-u,v=n<f?_:r?_>t.unconstrainedWidth?null:_:null;a.setStyle(`width`,v)}var y=a.getBoundingRect();s.width=y.width;var b=(a.style.margin||0)+2.1;s.height=y.height+b,s.y-=(s.height-p)/2}}}function isPositionCenter(t){return t.position===`center`}function pieLabelLayout(t){var n=t.getData(),r=[],a,o,s=!1,c=(t.get(`minShowLabelAngle`)||0)*RADIAN$1,l=n.getLayout(`viewRect`),u=n.getLayout(`r`),d=l.width,f=l.x,p=l.y,g=l.height;function _(t){t.ignore=!0}function v(t){if(!t.ignore)return!0;for(var n in t.states)if(t.states[n].ignore===!1)return!0;return!1}n.each(function(t){var l=n.getItemGraphicEl(t),p=l.shape,g=l.getTextContent(),y=l.getTextGuideLine(),b=n.getItemModel(t),x=b.getModel(`label`),S=x.get(`position`)||b.get([`emphasis`,`label`,`position`]),C=x.get(`distanceToLabelLine`),w=x.get(`alignTo`),T=parsePercent(x.get(`edgeDistance`),d),E=x.get(`bleedMargin`),D=b.getModel(`labelLine`),O=D.get(`length`);O=parsePercent(O,d);var A=D.get(`length2`);if(A=parsePercent(A,d),Math.abs(p.endAngle-p.startAngle)<c){each$15(g.states,_),g.ignore=!0,y&&(each$15(y.states,_),y.ignore=!0);return}if(v(g)){var j=(p.startAngle+p.endAngle)/2,M=Math.cos(j),N=Math.sin(j),P,F,I,L;a=p.cx,o=p.cy;var R=S===`inside`||S===`inner`;if(S===`center`)P=p.cx,F=p.cy,L=`center`;else{var z=(R?(p.r+p.r0)/2*M:p.r*M)+a,B=(R?(p.r+p.r0)/2*N:p.r*N)+o;if(P=z+M*3,F=B+N*3,!R){var V=z+M*(O+u-p.r),H=B+N*(O+u-p.r),U=V+(M<0?-1:1)*A,W=H;P=w===`edge`?M<0?f+T:f+d-T:U+(M<0?-C:C),F=W,I=[[z,B],[V,H],[U,W]]}L=R?`center`:w===`edge`?M>0?`right`:`left`:M>0?`left`:`right`}var G=Math.PI,K=0,q=x.get(`rotate`);if(isNumber(q))K=G/180*q;else if(S===`center`)K=0;else if(q===`radial`||q===!0)K=M<0?-j+G:-j;else if(q===`tangential`&&S!==`outside`&&S!==`outer`){var J=Math.atan2(M,N);J<0&&(J=G*2+J),N>0&&(J=G+J),K=J-G}if(s=!!K,g.x=P,g.y=F,g.rotation=K,g.setStyle({verticalAlign:`middle`}),R){g.setStyle({align:L});var Y=g.states.select;Y&&(Y.x+=g.x,Y.y+=g.y)}else{var X=g.getBoundingRect().clone();X.applyTransform(g.getComputedTransform());var Z=(g.style.margin||0)+2.1;X.y-=Z/2,X.height+=Z,r.push({label:g,labelLine:y,position:S,len:O,len2:A,minTurnAngle:D.get(`minTurnAngle`),maxSurfaceAngle:D.get(`maxSurfaceAngle`),surfaceNormal:new Point_default(M,N),linePoints:I,textAlign:L,labelDistance:C,labelAlignTo:w,edgeDistance:T,bleedMargin:E,rect:X,unconstrainedWidth:X.width,labelStyleWidth:g.style.width})}l.setTextConfig({inside:R})}}),!s&&t.get(`avoidLabelOverlap`)&&avoidOverlap(r,a,o,u,d,g,f,p);for(var y=0;y<r.length;y++){var b=r[y],x=b.label,S=b.labelLine,C=isNaN(x.x)||isNaN(x.y);if(x){x.setStyle({align:b.textAlign}),C&&(each$15(x.states,_),x.ignore=!0);var w=x.states.select;w&&(w.x+=x.x,w.y+=x.y)}if(S){var T=b.linePoints;C||!T?(each$15(S.states,_),S.ignore=!0):(limitTurnAngle(T,b.minTurnAngle),limitSurfaceAngle(T,b.surfaceNormal,b.maxSurfaceAngle),S.setShape({points:T}),x.__hostTarget.textGuideLineConfig={anchor:new Point_default(T[0][0],T[0][1])})}}}var PiePiece=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this)||this;o.z2=2;var s=new Text_default;return o.setTextContent(s),o.updateData(n,r,a,!0),o}return n.prototype.updateData=function(t,n,r,a){var o=this,s=t.hostModel,c=t.getItemModel(n),l=c.getModel(`emphasis`),u=t.getItemLayout(n),d=extend(getSectorCornerRadius(c.getModel(`itemStyle`),u,!0),u);if(isNaN(d.startAngle)){o.setShape(d);return}if(a){o.setShape(d);var f=s.getShallow(`animationType`);s.ecModel.ssr?(initProps(o,{scaleX:0,scaleY:0},s,{dataIndex:n,isFrom:!0}),o.originX=d.cx,o.originY=d.cy):f===`scale`?(o.shape.r=u.r0,initProps(o,{shape:{r:u.r}},s,n)):r==null?(o.shape.endAngle=u.startAngle,updateProps$1(o,{shape:{endAngle:u.endAngle}},s,n)):(o.setShape({startAngle:r,endAngle:r}),initProps(o,{shape:{startAngle:u.startAngle,endAngle:u.endAngle}},s,n))}else saveOldStyle(o),updateProps$1(o,{shape:d},s,n);o.useStyle(t.getItemVisual(n,`style`)),setStatesStylesFromModel(o,c);var p=(u.startAngle+u.endAngle)/2,g=s.get(`selectedOffset`),_=Math.cos(p)*g,v=Math.sin(p)*g,y=c.getShallow(`cursor`);y&&o.attr(`cursor`,y),this._updateLabel(s,t,n),o.ensureState(`emphasis`).shape=extend({r:u.r+(l.get(`scale`)&&l.get(`scaleSize`)||0)},getSectorCornerRadius(l.getModel(`itemStyle`),u)),extend(o.ensureState(`select`),{x:_,y:v,shape:getSectorCornerRadius(c.getModel([`select`,`itemStyle`]),u)}),extend(o.ensureState(`blur`),{shape:getSectorCornerRadius(c.getModel([`blur`,`itemStyle`]),u)});var b=o.getTextGuideLine(),x=o.getTextContent();b&&extend(b.ensureState(`select`),{x:_,y:v}),extend(x.ensureState(`select`),{x:_,y:v}),toggleHoverEmphasis(this,l.get(`focus`),l.get(`blurScope`),l.get(`disabled`))},n.prototype._updateLabel=function(t,n,r){var a=this,o=n.getItemModel(r),s=o.getModel(`labelLine`),c=n.getItemVisual(r,`style`),l=c&&c.fill,u=c&&c.opacity;setLabelStyle(a,getLabelStatesModels(o),{labelFetcher:n.hostModel,labelDataIndex:r,inheritColor:l,defaultOpacity:u,defaultText:t.getFormattedLabel(r,`normal`)||n.getName(r)});var d=a.getTextContent();a.setTextConfig({position:null,rotation:null}),d.attr({z2:10});var f=t.get([`label`,`position`]);if(f!==`outside`&&f!==`outer`)a.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Polyline_default$1,this.setTextGuideLine(p)),setLabelLineStyle(this,getLabelLineStatesModels(o),{stroke:l,opacity:retrieve3(s.get([`lineStyle`,`opacity`]),u,1)})}},n}(Sector_default),PieView_default=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return n.prototype.render=function(t,n,r,a){var o=t.getData(),s=this._data,c=this.group,l;if(!s&&o.count()>0){for(var u=o.getItemLayout(0),d=1;isNaN(u&&u.startAngle)&&d<o.count();++d)u=o.getItemLayout(d);u&&(l=u.startAngle)}if(this._emptyCircleSector&&c.remove(this._emptyCircleSector),o.count()===0&&t.get(`showEmptyCircle`)){var f=getSeriesLayoutData(t),p=new Sector_default({shape:extend(getBasicPieLayout(t,r),f)});p.useStyle(t.getModel(`emptyCircleStyle`).getItemStyle()),this._emptyCircleSector=p,c.add(p)}o.diff(s).add(function(t){var n=new PiePiece(o,t,l);o.setItemGraphicEl(t,n),c.add(n)}).update(function(t,n){var r=s.getItemGraphicEl(n);r.updateData(o,t,l),r.off(`click`),c.add(r),o.setItemGraphicEl(t,r)}).remove(function(n){removeElementWithFadeOut(s.getItemGraphicEl(n),t,n)}).execute(),pieLabelLayout(t),t.get(`animationTypeUpdate`)!==`expansion`&&(this._data=o)},n.prototype.dispose=function(){},n.prototype.containPoint=function(t,n){var r=n.getData().getItemLayout(0);if(r){var a=t[0]-r.cx,o=t[1]-r.cy,s=Math.sqrt(a*a+o*o);return s<=r.r&&s>=r.r0}},n.type=`pie`,n}(Chart_default);function createSeriesDataSimply(t,n,r){n=isArray$1(n)&&{coordDimensions:n}||extend({encodeDefine:t.getEncode()},n);var a=t.getSource(),o=prepareSeriesDataSchema(a,n).dimensions,s=new SeriesData_default(o,t);return s.initData(a,r),s}var LegendVisualProvider_default=function(){function t(t,n){this._getDataWithEncodedVisual=t,this._getRawData=n}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,n){return this._getDataWithEncodedVisual().getItemVisual(t,n)},t}(),innerData=makeInner(),PieSeries_default=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},n.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:[`value`],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(n){var r=this.getData(),a=innerData(r),o=a.seats;if(!o){var s=[];r.each(r.mapDimension(`value`),function(t){s.push(t)}),o=a.seats=getPercentSeats(s,r.hostModel.get(`percentPrecision`))}var c=t.prototype.getDataParams.call(this,n);return c.percent=o[n]||0,c.$vars.push(`percent`),c},n.prototype._defaultLabelLine=function(t){defaultEmphasis(t,`labelLine`,[`show`]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},n.type=`series.pie`,n.defaultOption={z:2,legendHoverLink:!0,colorBy:`data`,center:[`50%`,`50%`],radius:[0,`75%`],clockwise:!0,startAngle:90,endAngle:`auto`,padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:`truncate`,position:`outer`,alignTo:`none`,edgeDistance:`25%`,bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:`solid`}},itemStyle:{borderWidth:1,borderJoin:`round`},showEmptyCircle:!0,emptyCircleStyle:{color:`lightgray`,opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:`expansion`,animationDuration:1e3,animationTypeUpdate:`transition`,animationEasingUpdate:`cubicInOut`,animationDurationUpdate:500,animationEasing:`cubicInOut`},n}(Series_default);function negativeDataFilter(t){return{seriesType:t,reset:function(t,n){var r=t.getData();r.filterSelf(function(t){var n=r.mapDimension(`value`),a=r.get(n,t);return!(isNumber(a)&&!isNaN(a)&&a<0)})}}}function install$21(t){t.registerChartView(PieView_default),t.registerSeriesModel(PieSeries_default),createLegacyDataSelectAction(`pie`,t.registerAction),t.registerLayout(curry$1(pieLayout,`pie`)),t.registerProcessor(dataFilter(`pie`)),t.registerProcessor(negativeDataFilter(`pie`))}var ScatterSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(t,n){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get(`progressive`))},n.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get(`progressiveThreshold`))},n.prototype.brushSelector=function(t,n,r){return r.point(n.getItemLayout(t))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:``},n.type=`series.scatter`,n.dependencies=[`grid`,`polar`,`geo`,`singleAxis`,`calendar`],n.defaultOption={coordinateSystem:`cartesian2d`,z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:`#212121`}},universalTransition:{divideShape:`clone`}},n}(Series_default),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function t(){}return t}(),LargeSymbolPath=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(t,n){var r=n.points,a=n.size,o=this.symbolProxy,s=o.shape,c=t.getContext?t.getContext():t,l=c&&a[0]<BOOST_SIZE_THRESHOLD,u=this.softClipShape,d;if(l){this._ctx=c;return}for(this._ctx=null,d=this._off;d<r.length;){var f=r[d++],p=r[d++];isNaN(f)||isNaN(p)||u&&!u.contain(f,p)||(s.x=f-a[0]/2,s.y=p-a[1]/2,s.width=a[0],s.height=a[1],o.buildPath(t,s,!0))}this.incremental&&(this._off=d,this.notClear=!0)},n.prototype.afterBrush=function(){var t=this.shape,n=t.points,r=t.size,a=this._ctx,o=this.softClipShape,s;if(a){for(s=this._off;s<n.length;){var c=n[s++],l=n[s++];isNaN(c)||isNaN(l)||o&&!o.contain(c,l)||a.fillRect(c-r[0]/2,l-r[1]/2,r[0],r[1])}this.incremental&&(this._off=s,this.notClear=!0)}},n.prototype.findDataIndex=function(t,n){for(var r=this.shape,a=r.points,o=r.size,s=Math.max(o[0],4),c=Math.max(o[1],4),l=a.length/2-1;l>=0;l--){var u=l*2,d=a[u]-s/2,f=a[u+1]-c/2;if(t>=d&&n>=f&&t<=d+s&&n<=f+c)return l}return-1},n.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return t=r[0],n=r[1],a.contain(t,n)?(this.hoverDataIdx=this.findDataIndex(t,n))>=0:(this.hoverDataIdx=-1,!1)},n.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape,r=n.points,a=n.size,o=a[0],s=a[1],c=1/0,l=1/0,u=-1/0,d=-1/0,f=0;f<r.length;){var p=r[f++],g=r[f++];c=Math.min(p,c),u=Math.max(p,u),l=Math.min(g,l),d=Math.max(g,d)}t=this._rect=new BoundingRect_default(c-o/2,l-s/2,u-c+o,d-l+s)}return t},n}(Path_default),LargeSymbolDraw_default=function(){function t(){this.group=new Group_default}return t.prototype.updateData=function(t,n){this._clear();var r=this._create();r.setShape({points:t.getLayout(`points`)}),this._setCommon(r,t,n)},t.prototype.updateLayout=function(t){var n=t.getLayout(`points`);this.group.eachChild(function(t){if(t.startIndex!=null){var r=(t.endIndex-t.startIndex)*2,a=t.startIndex*4*2;n=new Float32Array(n.buffer,a,r)}t.setShape(`points`,n),t.reset()})},t.prototype.incrementalPrepareUpdate=function(t){this._clear()},t.prototype.incrementalUpdate=function(t,n,r){var a=this._newAdded[0],o=n.getLayout(`points`),s=a&&a.shape.points;if(s&&s.length<2e4){var c=s.length,l=new Float32Array(c+o.length);l.set(s),l.set(o,c),a.endIndex=t.end,a.setShape({points:l})}else{this._newAdded=[];var u=this._create();u.startIndex=t.start,u.endIndex=t.end,u.incremental=!0,u.setShape({points:o}),this._setCommon(u,n,r)}},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new LargeSymbolPath({cursor:`default`});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},t.prototype._setCommon=function(t,n,r){var a=n.hostModel;r||={};var o=n.getVisual(`symbolSize`);t.setShape(`size`,o instanceof Array?o:[o,o]),t.softClipShape=r.clipShape||null,t.symbolProxy=createSymbol$1(n.getVisual(`symbol`),0,0,0,0),t.setColor=t.symbolProxy.setColor;var s=t.shape.size[0]<BOOST_SIZE_THRESHOLD;t.useStyle(a.getModel(`itemStyle`).getItemStyle(s?[`color`,`shadowBlur`,`shadowColor`]:[`color`]));var c=n.getVisual(`style`),l=c&&c.fill;l&&t.setColor(l);var u=getECData(t);u.seriesIndex=a.seriesIndex,t.on(`mousemove`,function(n){u.dataIndex=null;var r=t.hoverDataIdx;r>=0&&(u.dataIndex=r+(t.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),ScatterView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=t.getData();this._updateSymbolDraw(a,t).updateData(a,{clipShape:this._getClipShape(t)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(t,n,r){var a=t.getData();this._updateSymbolDraw(a,t).incrementalPrepareUpdate(a),this._finished=!1},n.prototype.incrementalRender=function(t,n,r){this._symbolDraw.incrementalUpdate(t,n.getData(),{clipShape:this._getClipShape(n)}),this._finished=t.end===n.getData().count()},n.prototype.updateTransform=function(t,n,r){var a=t.getData();if(this.group.dirty(),!this._finished||a.count()>1e4)return{update:!0};var o=pointsLayout(``).reset(t,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout(a)},n.prototype.eachRendered=function(t){this._symbolDraw&&this._symbolDraw.eachRendered(t)},n.prototype._getClipShape=function(t){if(t.get(`clip`,!0)){var n=t.coordinateSystem;return n&&n.getArea&&n.getArea(.1)}},n.prototype._updateSymbolDraw=function(t,n){var r=this._symbolDraw,a=n.pipelineContext.large;return(!r||a!==this._isLargeDraw)&&(r&&r.remove(),r=this._symbolDraw=a?new LargeSymbolDraw_default:new SymbolDraw_default,this._isLargeDraw=a,this.group.removeAll()),this.group.add(r.group),r},n.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type=`scatter`,n}(Chart_default);function install$20(t){use(install$54),t.registerSeriesModel(ScatterSeries_default),t.registerChartView(ScatterView_default),t.registerLayout(pointsLayout(`scatter`))}function radarLayout(t){t.eachSeriesByType(`radar`,function(t){var n=t.getData(),r=[],a=t.coordinateSystem;if(a){var o=a.getIndicatorAxes();each$15(o,function(t,s){n.each(n.mapDimension(o[s].dim),function(t,n){r[n]=r[n]||[];var o=a.dataToPoint(t,s);r[n][s]=isValidPoint(o)?o:getValueMissingPoint(a)})}),n.each(function(t){var o=find(r[t],function(t){return isValidPoint(t)})||getValueMissingPoint(a);r[t].push(o.slice()),n.setItemLayout(t,r[t])})}})}function isValidPoint(t){return!isNaN(t[0])&&!isNaN(t[1])}function getValueMissingPoint(t){return[t.cx,t.cy]}function radarBackwardCompat(t){var n=t.polar;if(n){isArray$1(n)||(n=[n]);var r=[];each$15(n,function(n,a){n.indicator?(n.type&&!n.shape&&(n.shape=n.type),t.radar=t.radar||[],isArray$1(t.radar)||(t.radar=[t.radar]),t.radar.push(n)):r.push(n)}),t.polar=r}each$15(t.series,function(t){t&&t.type===`radar`&&t.polarIndex&&(t.radarIndex=t.polarIndex)})}var RadarView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=t.coordinateSystem,o=this.group,s=t.getData(),c=this._data;function l(t,n){var r=t.getItemVisual(n,`symbol`)||`circle`;if(r!==`none`){var a=normalizeSymbolSize(t.getItemVisual(n,`symbolSize`)),o=createSymbol$1(r,-1,-1,2,2),s=t.getItemVisual(n,`symbolRotate`)||0;return o.attr({style:{strokeNoScale:!0},z2:100,scaleX:a[0]/2,scaleY:a[1]/2,rotation:s*Math.PI/180||0}),o}}function u(n,r,a,o,s,c){a.removeAll();for(var u=0;u<r.length-1;u++){var d=l(o,s);d&&(d.__dimIdx=u,n[u]?(d.setPosition(n[u]),graphic_exports[c?`initProps`:`updateProps`](d,{x:r[u][0],y:r[u][1]},t,s)):d.setPosition(r[u]),a.add(d))}}function d(t){return map$1(t,function(t){return[a.cx,a.cy]})}s.diff(c).add(function(n){var r=s.getItemLayout(n);if(r){var a=new Polygon_default,o=new Polyline_default$1,c={shape:{points:r}};a.shape.points=d(r),o.shape.points=d(r),initProps(a,c,t,n),initProps(o,c,t,n);var l=new Group_default,f=new Group_default;l.add(o),l.add(a),l.add(f),u(o.shape.points,r,f,s,n,!0),s.setItemGraphicEl(n,l)}}).update(function(n,r){var a=c.getItemGraphicEl(r),o=a.childAt(0),l=a.childAt(1),d=a.childAt(2),f={shape:{points:s.getItemLayout(n)}};f.shape.points&&(u(o.shape.points,f.shape.points,d,s,n,!1),saveOldStyle(l),saveOldStyle(o),updateProps$1(o,f,t),updateProps$1(l,f,t),s.setItemGraphicEl(n,a))}).remove(function(t){o.remove(c.getItemGraphicEl(t))}).execute(),s.eachItemGraphicEl(function(t,n){var r=s.getItemModel(n),a=t.childAt(0),c=t.childAt(1),l=t.childAt(2),u=s.getItemVisual(n,`style`),d=u.fill;o.add(t),a.useStyle(defaults(r.getModel(`lineStyle`).getLineStyle(),{fill:`none`,stroke:d})),setStatesStylesFromModel(a,r,`lineStyle`),setStatesStylesFromModel(c,r,`areaStyle`);var f=r.getModel(`areaStyle`),p=f.isEmpty()&&f.parentModel.isEmpty();c.ignore=p,each$15([`emphasis`,`select`,`blur`],function(t){var n=r.getModel([t,`areaStyle`]),a=n.isEmpty()&&n.parentModel.isEmpty();c.ensureState(t).ignore=a&&p}),c.useStyle(defaults(f.getAreaStyle(),{fill:d,opacity:.7,decal:u.decal}));var g=r.getModel(`emphasis`),_=g.getModel(`itemStyle`).getItemStyle();l.eachChild(function(t){if(t instanceof Image_default){var a=t.style;t.useStyle(extend({image:a.image,x:a.x,y:a.y,width:a.width,height:a.height},u))}else t.useStyle(u),t.setColor(d),t.style.strokeNoScale=!0;var o=t.ensureState(`emphasis`);o.style=clone$4(_);var c=s.getStore().get(s.getDimensionIndex(t.__dimIdx),n);(c==null||isNaN(c))&&(c=``),setLabelStyle(t,getLabelStatesModels(r),{labelFetcher:s.hostModel,labelDataIndex:n,labelDimIndex:t.__dimIdx,defaultText:c,inheritColor:d,defaultOpacity:u.opacity})}),toggleHoverEmphasis(t,g.get(`focus`),g.get(`blurScope`),g.get(`disabled`))}),this._data=s},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type=`radar`,n}(Chart_default),RadarSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.getInitialData=function(t,n){return createSeriesDataSimply(this,{generateCoord:`indicator_`,generateCoordCount:1/0})},n.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),s=this.getData().getName(t),c=s===``?this.name:s,l=retrieveVisualColorForTooltipMarker(this,t);return createTooltipMarkup(`section`,{header:c,sortBlocks:!0,blocks:map$1(o,function(n){var r=a.get(a.mapDimension(n.dim),t);return createTooltipMarkup(`nameValue`,{markerType:`subItem`,markerColor:l,name:n.name,value:r,sortParam:r})})})},n.prototype.getTooltipPosition=function(t){if(t!=null){for(var n=this.getData(),r=this.coordinateSystem,a=n.getValues(map$1(r.dimensions,function(t){return n.mapDimension(t)}),t),o=0,s=a.length;o<s;o++)if(!isNaN(a[o])){var c=r.getIndicatorAxes();return r.coordToPoint(c[o].dataToCoord(a[o]),o)}}},n.type=`series.radar`,n.dependencies=[`radar`],n.defaultOption={z:2,colorBy:`data`,coordinateSystem:`radar`,legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:`solid`,join:`round`},label:{position:`top`},symbolSize:8},n}(Series_default);function install$19(t){use(install$50),t.registerChartView(RadarView_default),t.registerSeriesModel(RadarSeries_default),t.registerLayout(radarLayout),t.registerProcessor(dataFilter(`radar`)),t.registerPreprocessor(radarBackwardCompat)}var MapView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r,a){if(!(a&&a.type===`mapToggleSelect`&&a.from===this.uid)){var o=this.group;if(o.removeAll(),!t.getHostGeoModel()){if(this._mapDraw&&a&&a.type===`geoRoam`&&this._mapDraw.resetForLabelLayout(),a&&a.type===`geoRoam`&&a.componentType===`series`&&a.seriesId===t.id){var s=this._mapDraw;s&&o.add(s.group)}else if(t.needsDrawMap){var s=this._mapDraw||new MapDraw_default(r);o.add(s.group),s.draw(t,n,r,this,a),this._mapDraw=s}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;t.get(`showLegendSymbol`)&&n.getComponent(`legend`)&&this._renderSymbols(t,n,r)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(t,n,r){var a=t.originalData,o=this.group;a.each(a.mapDimension(`value`),function(n,r){if(!isNaN(n)){var s=a.getItemLayout(r);if(!(!s||!s.point)){var c=s.point,l=s.offset,u=new Circle_default({style:{fill:t.getData().getVisual(`style`).fill},shape:{cx:c[0]+l*9,cy:c[1],r:3},silent:!0,z2:8+(l?0:11)});if(!l){var d=t.mainSeries.getData(),f=a.getName(r),p=d.indexOfName(f),g=a.getItemModel(r),_=g.getModel(`label`),v=d.getItemGraphicEl(p);setLabelStyle(u,getLabelStatesModels(g),{labelFetcher:{getFormattedLabel:function(n,r){return t.getFormattedLabel(p,r)}},defaultText:f}),u.disableLabelAnimation=!0,_.get(`position`)||u.setTextConfig({position:`bottom`}),v.onHoverStateChange=function(t){setStatesFlag(u,t)}}o.add(u)}}})},n.type=`map`,n}(Chart_default),MapSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(t){if(t!=null){var n=this.getData().getName(t),r=this.coordinateSystem,a=r.getRegion(n);return a&&r.dataToPoint(a.getCenter())}},r}return n.prototype.getInitialData=function(t){for(var n=createSeriesDataSimply(this,{coordDimensions:[`value`],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),r=createHashMap(),a=[],o=0,s=n.count();o<s;o++){var c=n.getName(o);r.set(c,o)}return each$15(geoSourceManager_default.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(t){var o=t.name,s=r.get(o),c=t.properties&&t.properties.echartsStyle,l;s==null?(l={name:o},a.push(l)):l=n.getRawDataItem(s),c&&merge(l,c)}),n.appendData(a),n},n.prototype.getHostGeoModel=function(){var t=this.option.geoIndex;return t==null?null:this.ecModel.getComponent(`geo`,t)},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(t){var n=this.getData();return n.get(n.mapDimension(`value`),t)},n.prototype.getRegionModel=function(t){var n=this.getData();return n.getItemModel(n.indexOfName(t))},n.prototype.formatTooltip=function(t,n,r){for(var a=this.getData(),o=this.getRawValue(t),s=a.getName(t),c=this.seriesGroup,l=[],u=0;u<c.length;u++){var d=c[u].originalData.indexOfName(s),f=a.mapDimension(`value`);isNaN(c[u].originalData.get(f,d))||l.push(c[u].name)}return createTooltipMarkup(`section`,{header:l.join(`, `),noHeader:!l.length,blocks:[createTooltipMarkup(`nameValue`,{name:s,value:o})]})},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.getLegendIcon=function(t){var n=t.icon||`roundRect`,r=createSymbol$1(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill);return r.setStyle(t.itemStyle),r.style.stroke=`none`,n.indexOf(`empty`)>-1&&(r.style.stroke=r.style.fill,r.style.fill=`#fff`,r.style.lineWidth=2),r},n.type=`series.map`,n.dependencies=[`geo`],n.layoutMode=`box`,n.defaultOption={z:2,coordinateSystem:`geo`,map:``,left:`center`,top:`center`,aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:`#000`},itemStyle:{borderWidth:.5,borderColor:`#444`,areaColor:`#eee`},emphasis:{label:{show:!0,color:`rgb(100,0,0)`},itemStyle:{areaColor:`rgba(255,215,0,0.8)`}},select:{label:{show:!0,color:`rgb(100,0,0)`},itemStyle:{color:`rgba(255,215,0,0.8)`}},nameProperty:`name`},n}(Series_default);function dataStatistics(t,n){var r={};return each$15(t,function(t){t.each(t.mapDimension(`value`),function(n,a){var o=`ec-`+t.getName(a);r[o]=r[o]||[],isNaN(n)||r[o].push(n)})}),t[0].map(t[0].mapDimension(`value`),function(a,o){for(var s=`ec-`+t[0].getName(o),c=0,l=1/0,u=-1/0,d=r[s].length,f=0;f<d;f++)l=Math.min(l,r[s][f]),u=Math.max(u,r[s][f]),c+=r[s][f];var p=n===`min`?l:n===`max`?u:n===`average`?c/d:c;return d===0?NaN:p})}function mapDataStatistic(t){var n={};t.eachSeriesByType(`map`,function(t){var r=t.getHostGeoModel(),a=r?`o`+r.id:`i`+t.getMapType();(n[a]=n[a]||[]).push(t)}),each$15(n,function(t,n){for(var r=dataStatistics(map$1(t,function(t){return t.getData()}),t[0].get(`mapValueCalculation`)),a=0;a<t.length;a++)t[a].originalData=t[a].getData();for(var a=0;a<t.length;a++)t[a].seriesGroup=t,t[a].needsDrawMap=a===0&&!t[a].getHostGeoModel(),t[a].setData(r.cloneShallow()),t[a].mainSeries=t[0]})}function mapSymbolLayout(t){var n={};t.eachSeriesByType(`map`,function(r){var a=r.getMapType();if(!(r.getHostGeoModel()||n[a])){var o={};each$15(r.seriesGroup,function(n){var r=n.coordinateSystem,a=n.originalData;n.get(`showLegendSymbol`)&&t.getComponent(`legend`)&&a.each(a.mapDimension(`value`),function(t,n){var s=a.getName(n),c=r.getRegion(s);if(!(!c||isNaN(t))){var l=o[s]||0,u=r.dataToPoint(c.getCenter());o[s]=l+1,a.setItemLayout(n,{point:u,offset:l})}})});var s=r.getData();s.each(function(t){var n=s.getName(t),r=s.getItemLayout(t)||{};r.showLabel=!o[n],s.setItemLayout(t,r)}),n[a]=!0}})}function install$18(t){use(install$49),t.registerChartView(MapView_default),t.registerSeriesModel(MapSeries_default),t.registerLayout(mapSymbolLayout),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction(`map`,t.registerAction)}function init(t){var n=t;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],a,o;a=r.pop();)if(o=a.children,a.isExpand&&o.length)for(var s=o.length-1;s>=0;s--){var c=o[s];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:s,thread:null},r.push(c)}}function firstWalk(t,n){var r=t.isExpand?t.children:[],a=t.parentNode.children,o=t.hierNode.i?a[t.hierNode.i-1]:null;if(r.length){executeShifts(t);var s=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;o?(t.hierNode.prelim=o.hierNode.prelim+n(t,o),t.hierNode.modifier=t.hierNode.prelim-s):t.hierNode.prelim=s}else o&&(t.hierNode.prelim=o.hierNode.prelim+n(t,o));t.parentNode.hierNode.defaultAncestor=apportion(t,o,t.parentNode.hierNode.defaultAncestor||a[0],n)}function secondWalk(t){var n=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:n},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function separation(t){return arguments.length?t:defaultSeparation}function radialCoordinate(t,n){return t-=Math.PI/2,{x:n*Math.cos(t),y:n*Math.sin(t)}}function getViewRect$3(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(t){for(var n=t.children,r=n.length,a=0,o=0;--r>=0;){var s=n[r];s.hierNode.prelim+=a,s.hierNode.modifier+=a,o+=s.hierNode.change,a+=s.hierNode.shift+o}}function apportion(t,n,r,a){if(n){for(var o=t,s=t,c=s.parentNode.children[0],l=n,u=o.hierNode.modifier,d=s.hierNode.modifier,f=c.hierNode.modifier,p=l.hierNode.modifier;l=nextRight(l),s=nextLeft(s),l&&s;){o=nextRight(o),c=nextLeft(c),o.hierNode.ancestor=t;var g=l.hierNode.prelim+p-s.hierNode.prelim-d+a(l,s);g>0&&(moveSubtree(nextAncestor(l,t,r),t,g),d+=g,u+=g),p+=l.hierNode.modifier,d+=s.hierNode.modifier,u+=o.hierNode.modifier,f+=c.hierNode.modifier}l&&!nextRight(o)&&(o.hierNode.thread=l,o.hierNode.modifier+=p-u),s&&!nextLeft(c)&&(c.hierNode.thread=s,c.hierNode.modifier+=d-f,r=t)}return r}function nextRight(t){var n=t.children;return n.length&&t.isExpand?n[n.length-1]:t.hierNode.thread}function nextLeft(t){var n=t.children;return n.length&&t.isExpand?n[0]:t.hierNode.thread}function nextAncestor(t,n,r){return t.hierNode.ancestor.parentNode===n.parentNode?t.hierNode.ancestor:r}function moveSubtree(t,n,r){var a=r/(n.hierNode.i-t.hierNode.i);n.hierNode.change-=a,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,t.hierNode.change+=a}function defaultSeparation(t,n){return t.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),TreePath=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(t,n){var r=n.childPoints,a=r.length,o=n.parentPoint,s=r[0],c=r[a-1];if(a===1){t.moveTo(o[0],o[1]),t.lineTo(s[0],s[1]);return}var l=n.orient,u=l===`TB`||l===`BT`?0:1,d=1-u,f=parsePercent(n.forkPosition,1),p=[];p[u]=o[u],p[d]=o[d]+(c[d]-o[d])*f,t.moveTo(o[0],o[1]),t.lineTo(p[0],p[1]),t.moveTo(s[0],s[1]),p[u]=s[u],t.lineTo(p[0],p[1]),p[u]=c[u],t.lineTo(p[0],p[1]),t.lineTo(c[0],c[1]);for(var g=1;g<a-1;g++){var _=r[g];t.moveTo(_[0],_[1]),p[u]=_[u],t.lineTo(p[0],p[1])}},n}(Path_default),TreeView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new Group_default,r}return n.prototype.init=function(t,n){this._controller=new RoamController_default(n.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(t,n,r){var a=t.getData(),o=t.layoutInfo,s=this._mainGroup;t.get(`layout`)===`radial`?(s.x=o.x+o.width/2,s.y=o.y+o.height/2):(s.x=o.x,s.y=o.y),this._updateViewCoordSys(t,r),this._updateController(t,n,r);var c=this._data;a.diff(c).add(function(n){symbolNeedsDraw(a,n)&&updateNode(a,n,null,s,t)}).update(function(n,r){var o=c.getItemGraphicEl(r);if(!symbolNeedsDraw(a,n)){o&&removeNode(c,r,o,s,t);return}updateNode(a,n,o,s,t)}).remove(function(n){var r=c.getItemGraphicEl(n);r&&removeNode(c,n,r,s,t)}).execute(),this._nodeScaleRatio=t.get(`nodeScaleRatio`),this._updateNodeAndLinkScale(t),t.get(`expandAndCollapse`)===!0&&a.eachItemGraphicEl(function(n,a){n.off(`click`).on(`click`,function(){r.dispatchAction({type:`treeExpandAndCollapse`,seriesId:t.id,dataIndex:a})})}),this._data=a},n.prototype._updateViewCoordSys=function(t,n){var r=t.getData(),a=[];r.each(function(t){var n=r.getItemLayout(t);n&&!isNaN(n.x)&&!isNaN(n.y)&&a.push([+n.x,+n.y])});var o=[],s=[];fromPoints(a,o,s);var c=this._min,l=this._max;s[0]-o[0]===0&&(o[0]=c?c[0]:o[0]-1,s[0]=l?l[0]:s[0]+1),s[1]-o[1]===0&&(o[1]=c?c[1]:o[1]-1,s[1]=l?l[1]:s[1]+1);var u=t.coordinateSystem=new View_default;u.zoomLimit=t.get(`scaleLimit`),u.setBoundingRect(o[0],o[1],s[0]-o[0],s[1]-o[1]),u.setCenter(t.get(`center`),n),u.setZoom(t.get(`zoom`)),this.group.attr({x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY}),this._min=o,this._max=s},n.prototype._updateController=function(t,n,r){var a=this,o=this._controller,s=this._controllerHost,c=this.group;o.setPointerChecker(function(n,a,o){var s=c.getBoundingRect();return s.applyTransform(c.transform),s.contain(a,o)&&!onIrrelevantElement(n,r,t)}),o.enable(t.get(`roam`)),s.zoomLimit=t.get(`scaleLimit`),s.zoom=t.coordinateSystem.getZoom(),o.off(`pan`).off(`zoom`).on(`pan`,function(n){updateViewOnPan(s,n.dx,n.dy),r.dispatchAction({seriesId:t.id,type:`treeRoam`,dx:n.dx,dy:n.dy})}).on(`zoom`,function(n){updateViewOnZoom(s,n.scale,n.originX,n.originY),r.dispatchAction({seriesId:t.id,type:`treeRoam`,zoom:n.scale,originX:n.originX,originY:n.originY}),a._updateNodeAndLinkScale(t),r.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(t){var n=t.getData(),r=this._getNodeGlobalScale(t);n.eachItemGraphicEl(function(t,n){t.setSymbolScale(r)})},n.prototype._getNodeGlobalScale=function(t){var n=t.coordinateSystem;if(n.type!==`view`)return 1;var r=this._nodeScaleRatio,a=n.scaleX||1;return((n.getZoom()-1)*r+1)/a},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type=`tree`,n}(Chart_default);function symbolNeedsDraw(t,n){var r=t.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function updateNode(t,n,r,a,o){var s=!r,c=t.tree.getNodeByDataIndex(n),l=c.getModel(),u=c.getVisual(`style`).fill,d=c.isExpand===!1&&c.children.length!==0?u:`#fff`,f=t.tree.root,p=c.parentNode===f?c:c.parentNode||c,g=t.getItemGraphicEl(p.dataIndex),_=p.getLayout(),v=g?{x:g.__oldX,y:g.__oldY,rawX:g.__radialOldRawX,rawY:g.__radialOldRawY}:_,y=c.getLayout();s?(r=new Symbol_default(t,n,null,{symbolInnerColor:d,useNameLabel:!0}),r.x=v.x,r.y=v.y):r.updateData(t,n,null,{symbolInnerColor:d,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=y.rawX,r.__radialRawY=y.rawY,a.add(r),t.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,updateProps$1(r,{x:y.x,y:y.y},o);var b=r.getSymbolPath();if(o.get(`layout`)===`radial`){var x=f.children[0],S=x.getLayout(),C=x.children.length,w=void 0,T=void 0;if(y.x===S.x&&c.isExpand===!0&&x.children.length){var E={x:(x.children[0].getLayout().x+x.children[C-1].getLayout().x)/2,y:(x.children[0].getLayout().y+x.children[C-1].getLayout().y)/2};w=Math.atan2(E.y-S.y,E.x-S.x),w<0&&(w=Math.PI*2+w),T=E.x<S.x,T&&(w-=Math.PI)}else w=Math.atan2(y.y-S.y,y.x-S.x),w<0&&(w=Math.PI*2+w),c.children.length===0||c.children.length!==0&&c.isExpand===!1?(T=y.x<S.x,T&&(w-=Math.PI)):(T=y.x>S.x,T||(w-=Math.PI));var D=T?`left`:`right`,O=l.getModel(`label`),A=O.get(`rotate`),j=A*(Math.PI/180),M=b.getTextContent();M&&(b.setTextConfig({position:O.get(`position`)||D,rotation:A==null?-w:j,origin:`center`}),M.setStyle(`verticalAlign`,`middle`))}var N=l.get([`emphasis`,`focus`]),P=N===`relative`?concatArray(c.getAncestorsIndices(),c.getDescendantIndices()):N===`ancestor`?c.getAncestorsIndices():N===`descendant`?c.getDescendantIndices():null;P&&(getECData(r).focus=P),drawEdge(o,c,f,r,v,_,y,a),r.__edge&&(r.onHoverStateChange=function(n){if(n!==`blur`){var a=c.parentNode&&t.getItemGraphicEl(c.parentNode.dataIndex);a&&a.hoverState===1||setStatesFlag(r.__edge,n)}})}function drawEdge(t,n,r,a,o,s,c,l){var u=n.getModel(),d=t.get(`edgeShape`),f=t.get(`layout`),p=t.getOrient(),g=t.get([`lineStyle`,`curveness`]),_=t.get(`edgeForkPosition`),v=u.getModel(`lineStyle`).getLineStyle(),y=a.__edge;if(d===`curve`)n.parentNode&&n.parentNode!==r&&(y||=a.__edge=new BezierCurve_default({shape:getEdgeShape(f,p,g,o,o)}),updateProps$1(y,{shape:getEdgeShape(f,p,g,s,c)},t));else if(d===`polyline`&&f===`orthogonal`&&n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var b=n.children,x=[],S=0;S<b.length;S++){var C=b[S].getLayout();x.push([C.x,C.y])}y||=a.__edge=new TreePath({shape:{parentPoint:[c.x,c.y],childPoints:[[c.x,c.y]],orient:p,forkPosition:_}}),updateProps$1(y,{shape:{parentPoint:[c.x,c.y],childPoints:x}},t)}y&&!(d===`polyline`&&!n.isExpand)&&(y.useStyle(defaults({strokeNoScale:!0,fill:null},v)),setStatesStylesFromModel(y,u,`lineStyle`),setDefaultStateProxy(y),l.add(y))}function removeNodeEdge(t,n,r,a,o){var s=n.tree.root,c=getSourceNode(s,t),l=c.source,u=c.sourceLayout,d=n.getItemGraphicEl(t.dataIndex);if(d){var f=n.getItemGraphicEl(l.dataIndex).__edge,p=d.__edge||(l.isExpand===!1||l.children.length===1?f:void 0),g=a.get(`edgeShape`),_=a.get(`layout`),v=a.get(`orient`),y=a.get([`lineStyle`,`curveness`]);p&&(g===`curve`?removeElement(p,{shape:getEdgeShape(_,v,y,u,u),style:{opacity:0}},a,{cb:function(){r.remove(p)},removeOpt:o}):g===`polyline`&&a.get(`layout`)===`orthogonal`&&removeElement(p,{shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]]},style:{opacity:0}},a,{cb:function(){r.remove(p)},removeOpt:o}))}}function getSourceNode(t,n){for(var r=n.parentNode===t?n:n.parentNode||n,a;a=r.getLayout(),a==null;)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:a}}function removeNode(t,n,r,a,o){var s=t.tree.getNodeByDataIndex(n),c=t.tree.root,l=getSourceNode(c,s).sourceLayout,u={duration:o.get(`animationDurationUpdate`),easing:o.get(`animationEasingUpdate`)};removeElement(r,{x:l.x+1,y:l.y+1},o,{cb:function(){a.remove(r),t.setItemGraphicEl(n,null)},removeOpt:u}),r.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:u}),s.children.forEach(function(n){removeNodeEdge(n,t,a,o,u)}),removeNodeEdge(s,t,a,o,u)}function getEdgeShape(t,n,r,a,o){var s,c,l,u,d,f,p,g;if(t===`radial`){d=a.rawX,p=a.rawY,f=o.rawX,g=o.rawY;var _=radialCoordinate(d,p),v=radialCoordinate(d,p+(g-p)*r),y=radialCoordinate(f,g+(p-g)*r),b=radialCoordinate(f,g);return{x1:_.x||0,y1:_.y||0,x2:b.x||0,y2:b.y||0,cpx1:v.x||0,cpy1:v.y||0,cpx2:y.x||0,cpy2:y.y||0}}else d=a.x,p=a.y,f=o.x,g=o.y,(n===`LR`||n===`RL`)&&(s=d+(f-d)*r,c=p,l=f+(d-f)*r,u=g),(n===`TB`||n===`BT`)&&(s=d,c=p+(g-p)*r,l=f,u=g+(p-g)*r);return{x1:d,y1:p,x2:f,y2:g,cpx1:s,cpy1:c,cpx2:l,cpy2:u}}var TreeView_default=TreeView,inner$2=makeInner();function linkSeriesData(t){var n=t.mainData,r=t.datas;r||(r={main:n},t.datasAttr={main:`data`}),t.datas=t.mainData=null,linkAll(n,r,t),each$15(r,function(r){each$15(n.TRANSFERABLE_METHODS,function(n){r.wrapMethod(n,curry$1(transferInjection,t))})}),n.wrapMethod(`cloneShallow`,curry$1(cloneShallowInjection,t)),each$15(n.CHANGABLE_METHODS,function(r){n.wrapMethod(r,curry$1(changeInjection,t))}),assert(r[n.dataType]===n)}function transferInjection(t,n){if(isMainData(this)){var r=extend({},inner$2(this).datas);r[this.dataType]=n,linkAll(n,r,t)}else linkSingle(n,this.dataType,inner$2(this).mainData,t);return n}function changeInjection(t,n){return t.struct&&t.struct.update(),n}function cloneShallowInjection(t,n){return each$15(inner$2(n).datas,function(r,a){r!==n&&linkSingle(r.cloneShallow(),a,n,t)}),n}function getLinkedData(t){var n=inner$2(this).mainData;return t==null||n==null?n:inner$2(n).datas[t]}function getLinkedDataAll(){var t=inner$2(this).mainData;return t==null?[{data:t}]:map$1(keys(inner$2(t).datas),function(n){return{type:n,data:inner$2(t).datas[n]}})}function isMainData(t){return inner$2(t).mainData===t}function linkAll(t,n,r){inner$2(t).datas={},each$15(n,function(n,a){linkSingle(n,a,t,r)})}function linkSingle(t,n,r,a){inner$2(r).datas[n]=t,inner$2(t).mainData=r,t.dataType=n,a.struct&&(t[a.structAttr]=a.struct,a.struct[a.datasAttr[n]]=t),t.getLinkedData=getLinkedData,t.getLinkedDataAll=getLinkedDataAll}var linkSeriesData_default=linkSeriesData,TreeNode=function(){function t(t,n){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||``,this.hostTree=n}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(t,n,r){isFunction(t)&&(r=n,n=t,t=null),t||={},isString(t)&&(t={order:t});var a=t.order||`preorder`,o=this[t.attr||`children`],s;a===`preorder`&&(s=n.call(r,this));for(var c=0;!s&&c<o.length;c++)o[c].eachNode(t,n,r);a===`postorder`&&n.call(r,this)},t.prototype.updateDepthAndHeight=function(t){var n=0;this.depth=t;for(var r=0;r<this.children.length;r++){var a=this.children[r];a.updateDepthAndHeight(t+1),a.height>n&&(n=a.height)}this.height=n+1},t.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var n=0,r=this.children,a=r.length;n<a;n++){var o=r[n].getNodeById(t);if(o)return o}},t.prototype.contains=function(t){if(t===this)return!0;for(var n=0,r=this.children,a=r.length;n<a;n++){var o=r[n].contains(t);if(o)return o}},t.prototype.getAncestors=function(t){for(var n=[],r=t?this:this.parentNode;r;)n.push(r),r=r.parentNode;return n.reverse(),n},t.prototype.getAncestorsIndices=function(){for(var t=[],n=this;n;)t.push(n.dataIndex),n=n.parentNode;return t.reverse(),t},t.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(n){t.push(n.dataIndex)}),t},t.prototype.getValue=function(t){var n=this.hostTree.data;return n.getStore().get(n.getDimensionIndex(t||`value`),this.dataIndex)},t.prototype.setLayout=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,n)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(t,n){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,n)},t.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,n=0;n<t.length;++n)if(t[n]===this)return n;return-1}return-1},t.prototype.isAncestorOf=function(t){for(var n=t.parentNode;n;){if(n===this)return!0;n=n.parentNode}return!1},t.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},t}(),Tree=function(){function t(t){this.type=`tree`,this._nodes=[],this.hostModel=t}return t.prototype.eachNode=function(t,n,r){this.root.eachNode(t,n,r)},t.prototype.getNodeByDataIndex=function(t){var n=this.data.getRawIndex(t);return this._nodes[n]},t.prototype.getNodeById=function(t){return this.root.getNodeById(t)},t.prototype.update=function(){for(var t=this.data,n=this._nodes,r=0,a=n.length;r<a;r++)n[r].dataIndex=-1;for(var r=0,a=t.count();r<a;r++)n[t.getRawIndex(r)].dataIndex=r},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(n,r,a){var o=new t(r),s=[],c=1;l(n);function l(t,n){var r=t.value;c=Math.max(c,isArray$1(r)?r.length:1),s.push(t);var a=new TreeNode(convertOptionIdName(t.name,``),o);n?addChild(a,n):o.root=a,o._nodes.push(a);var u=t.children;if(u)for(var d=0;d<u.length;d++)l(u[d],a)}o.root.updateDepthAndHeight(0);var u=prepareSeriesDataSchema(s,{coordDimensions:[`value`],dimensionsCount:c}).dimensions,d=new SeriesData_default(u,r);return d.initData(s),a&&a(d),linkSeriesData_default({mainData:d,struct:o,structAttr:`tree`}),o.update(),o},t}();function addChild(t,n){var r=n.children;t.parentNode!==n&&(r.push(t),t.parentNode=n)}var Tree_default=Tree;function retrieveTargetInfo(t,n,r){if(t&&indexOf(n,t.type)>=0){var a=r.getData().tree.root,o=t.targetNode;if(isString(o)&&(o=a.getNodeById(o)),o&&a.contains(o))return{node:o};var s=t.targetNodeId;if(s!=null&&(o=a.getNodeById(s)))return{node:o}}}function getPathToRoot(t){for(var n=[];t;)t=t.parentNode,t&&n.push(t);return n.reverse()}function aboveViewRoot(t,n){return indexOf(getPathToRoot(t),n)>=0}function wrapTreePathInfo(t,n){for(var r=[];t;){var a=t.dataIndex;r.push({name:t.name,dataIndex:a,value:n.getRawValue(a)}),t=t.parentNode}return r.reverse(),r}var TreeSeries_default=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n.hasSymbolVisual=!0,n.ignoreStyleOnData=!0,n}return n.prototype.getInitialData=function(t){var n={name:t.name,children:t.data},r=new Model_default(t.leaves||{},this,this.ecModel),a=Tree_default.createTree(n,this,o);function o(t){t.wrapMethod(`getItemModel`,function(t,n){var o=a.getNodeByDataIndex(n);return o&&o.children.length&&o.isExpand||(t.parentModel=r),t})}var s=0;a.eachNode(`preorder`,function(t){t.depth>s&&(s=t.depth)});var c=t.expandAndCollapse&&t.initialTreeDepth>=0?t.initialTreeDepth:s;return a.root.eachNode(`preorder`,function(t){var n=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=n&&n.collapsed!=null?!n.collapsed:t.depth<=c}),a.data},n.prototype.getOrient=function(){var t=this.get(`orient`);return t===`horizontal`?t=`LR`:t===`vertical`&&(t=`TB`),t},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.formatTooltip=function(t,n,r){for(var a=this.getData().tree,o=a.root.children[0],s=a.getNodeByDataIndex(t),c=s.getValue(),l=s.name;s&&s!==o;)l=s.parentNode.name+`.`+l,s=s.parentNode;return createTooltipMarkup(`nameValue`,{name:l,value:c,noValue:isNaN(c)||c==null})},n.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments),a=this.getData().tree.getNodeByDataIndex(n);return r.treeAncestors=wrapTreePathInfo(a,this),r.collapsed=!a.isExpand,r},n.type=`series.tree`,n.layoutMode=`box`,n.defaultOption={z:2,coordinateSystem:`view`,left:`12%`,top:`12%`,right:`12%`,bottom:`12%`,layout:`orthogonal`,edgeShape:`curve`,edgeForkPosition:`50%`,roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:`LR`,symbol:`emptyCircle`,symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:`#ccc`,width:1.5,curveness:.5},itemStyle:{color:`lightsteelblue`,borderWidth:1.5},label:{show:!0},animationEasing:`linear`,animationDuration:700,animationDurationUpdate:500},n}(Series_default);function eachAfter(t,n,r){for(var a=[t],o=[],s;s=a.pop();)if(o.push(s),s.isExpand){var c=s.children;if(c.length)for(var l=0;l<c.length;l++)a.push(c[l])}for(;s=o.pop();)n(s,r)}function eachBefore(t,n){for(var r=[t],a;a=r.pop();)if(n(a),a.isExpand){var o=a.children;if(o.length)for(var s=o.length-1;s>=0;s--)r.push(o[s])}}function treeLayout(t,n){t.eachSeriesByType(`tree`,function(t){commonLayout(t,n)})}function commonLayout(t,n){var r=getViewRect$3(t,n);t.layoutInfo=r;var a=t.get(`layout`),o=0,s=0,c=null;a===`radial`?(o=2*Math.PI,s=Math.min(r.height,r.width)/2,c=separation(function(t,n){return(t.parentNode===n.parentNode?1:2)/t.depth})):(o=r.width,s=r.height,c=separation());var l=t.getData().tree.root,u=l.children[0];if(u){init(l),eachAfter(u,firstWalk,c),l.hierNode.modifier=-u.hierNode.prelim,eachBefore(u,secondWalk);var d=u,f=u,p=u;eachBefore(u,function(t){var n=t.getLayout().x;n<d.getLayout().x&&(d=t),n>f.getLayout().x&&(f=t),t.depth>p.depth&&(p=t)});var g=d===f?1:c(d,f)/2,_=g-d.getLayout().x,v=0,y=0,b=0,x=0;if(a===`radial`)v=o/(f.getLayout().x+g+_),y=s/(p.depth-1||1),eachBefore(u,function(t){b=(t.getLayout().x+_)*v,x=(t.depth-1)*y;var n=radialCoordinate(b,x);t.setLayout({x:n.x,y:n.y,rawX:b,rawY:x},!0)});else{var S=t.getOrient();S===`RL`||S===`LR`?(y=s/(f.getLayout().x+g+_),v=o/(p.depth-1||1),eachBefore(u,function(t){x=(t.getLayout().x+_)*y,b=S===`LR`?(t.depth-1)*v:o-(t.depth-1)*v,t.setLayout({x:b,y:x},!0)})):(S===`TB`||S===`BT`)&&(v=o/(f.getLayout().x+g+_),y=s/(p.depth-1||1),eachBefore(u,function(t){b=(t.getLayout().x+_)*v,x=S===`TB`?(t.depth-1)*y:s-(t.depth-1)*y,t.setLayout({x:b,y:x},!0)}))}}}function treeVisual(t){t.eachSeriesByType(`tree`,function(t){var n=t.getData();n.tree.eachNode(function(t){var r=t.getModel().getModel(`itemStyle`).getItemStyle();extend(n.ensureUniqueItemVisual(t.dataIndex,`style`),r)})})}function installTreeAction(t){t.registerAction({type:`treeExpandAndCollapse`,event:`treeExpandAndCollapse`,update:`update`},function(t,n){n.eachComponent({mainType:`series`,subType:`tree`,query:t},function(n){var r=t.dataIndex,a=n.getData().tree.getNodeByDataIndex(r);a.isExpand=!a.isExpand})}),t.registerAction({type:`treeRoam`,event:`treeRoam`,update:`none`},function(t,n,r){n.eachComponent({mainType:`series`,subType:`tree`,query:t},function(n){var a=n.coordinateSystem,o=updateCenterAndZoom(a,t,void 0,r);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}function install$17(t){t.registerChartView(TreeView_default),t.registerSeriesModel(TreeSeries_default),t.registerLayout(treeLayout),t.registerVisual(treeVisual),installTreeAction(t)}var actionTypes=[`treemapZoomToNode`,`treemapRender`,`treemapMove`];function installTreemapAction(t){for(var n=0;n<actionTypes.length;n++)t.registerAction({type:actionTypes[n],update:`updateView`},noop);t.registerAction({type:`treemapRootToNode`,update:`updateView`},function(t,n){n.eachComponent({mainType:`series`,subType:`treemap`,query:t},r);function r(n,r){var a=retrieveTargetInfo(t,[`treemapZoomToNode`,`treemapRootToNode`],n);if(a){var o=n.getViewRoot();o&&(t.direction=aboveViewRoot(o,a.node)?`rollUp`:`drillDown`),n.resetViewRoot(a.node)}}})}function enableAriaDecalForTree(t){var n=t.getData().tree,r={};n.eachNode(function(n){for(var a=n;a&&a.depth>1;)a=a.parentNode;var o=getDecalFromPalette(t.ecModel,a.name||a.dataIndex+``,r);n.setVisual(`decal`,o)})}var TreemapSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(t,n){var r={name:t.name,children:t.data};completeTreeValue$1(r);var a=t.levels||[],o=new Model_default({itemStyle:this.designatedVisualItemStyle={}},this,n);a=t.levels=setDefault(a,n);var s=map$1(a||[],function(t){return new Model_default(t,o,n)},this),c=Tree_default.createTree(r,this,l);function l(t){t.wrapMethod(`getItemModel`,function(t,n){var r=c.getNodeByDataIndex(n);return t.parentModel=(r?s[r.depth]:null)||o,t})}return c.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(t,n,r){var a=this.getData(),o=this.getRawValue(t);return createTooltipMarkup(`nameValue`,{name:a.getName(t),value:o})},n.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments);return r.treeAncestors=wrapTreePathInfo(this.getData().tree.getNodeByDataIndex(n),this),r.treePathInfo=r.treeAncestors,r},n.prototype.setLayoutInfo=function(t){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,t)},n.prototype.mapIdToIndex=function(t){var n=this._idIndexMap;n||(n=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var r=n.get(t);return r??n.set(t,r=this._idIndexMapCount++),r},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type=`series.treemap`,n.layoutMode=`box`,n.defaultOption={progressive:0,left:`center`,top:`middle`,width:`80%`,height:`80%`,sort:!0,clipWindow:`origin`,squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:``,zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:`zoomToNode`,animation:!0,animationDurationUpdate:900,animationEasing:`quinticInOut`,breadcrumb:{show:!0,height:22,left:`center`,top:`bottom`,emptyItemWidth:25,itemStyle:{color:`rgba(0,0,0,0.7)`,textStyle:{color:`#fff`}},emphasis:{itemStyle:{color:`rgba(0,0,0,0.9)`}}},label:{show:!0,distance:0,padding:5,position:`inside`,color:`#fff`,overflow:`truncate`},upperLabel:{show:!1,position:[0,`50%`],height:20,overflow:`truncate`,verticalAlign:`middle`},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:`#fff`,borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,`50%`],overflow:`truncate`,verticalAlign:`middle`}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:`index`,visibleMin:10,childrenVisibleMin:null,levels:[]},n}(Series_default);function completeTreeValue$1(t){var n=0;each$15(t.children,function(t){completeTreeValue$1(t);var r=t.value;isArray$1(r)&&(r=r[0]),n+=r});var r=t.value;isArray$1(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$1(t.value)?t.value[0]=r:t.value=r}function setDefault(t,n){var r=normalizeToArray(n.get(`color`)),a=normalizeToArray(n.get([`aria`,`decal`,`decals`]));if(r){t||=[];var o,s;each$15(t,function(t){var n=new Model_default(t),r=n.get(`color`),a=n.get(`decal`);(n.get([`itemStyle`,`color`])||r&&r!==`none`)&&(o=!0),(n.get([`itemStyle`,`decal`])||a&&a!==`none`)&&(s=!0)});var c=t[0]||={};return o||(c.color=r.slice()),!s&&a&&(c.decal=a.slice()),t}}var TreemapSeries_default=TreemapSeriesModel,TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function t(t){this.group=new Group_default,t.add(this.group)}return t.prototype.render=function(t,n,r,a){var o=t.getModel(`breadcrumb`),s=this.group;if(s.removeAll(),!(!o.get(`show`)||!r)){var c=o.getModel(`itemStyle`),l=o.getModel(`emphasis`),u=c.getModel(`textStyle`),d=l.getModel([`itemStyle`,`textStyle`]),f={pos:{left:o.get(`left`),right:o.get(`right`),top:o.get(`top`),bottom:o.get(`bottom`)},box:{width:n.getWidth(),height:n.getHeight()},emptyItemWidth:o.get(`emptyItemWidth`),totalWidth:0,renderList:[]};this._prepare(r,f,u),this._renderContent(t,f,c,l,u,d,a),positionElement(s,f.pos,f.box)}},t.prototype._prepare=function(t,n,r){for(var a=t;a;a=a.parentNode){var o=convertOptionIdName(a.getModel().get(`name`),``),s=r.getTextRect(o),c=Math.max(s.width+TEXT_PADDING*2,n.emptyItemWidth);n.totalWidth+=c+ITEM_GAP,n.renderList.push({node:a,text:o,width:c})}},t.prototype._renderContent=function(t,n,r,a,o,s,c){for(var l=0,u=n.emptyItemWidth,d=t.get([`breadcrumb`,`height`]),f=getAvailableSize(n.pos,n.box),p=n.totalWidth,g=n.renderList,_=a.getModel(`itemStyle`).getItemStyle(),v=g.length-1;v>=0;v--){var y=g[v],b=y.node,x=y.width,S=y.text;p>f.width&&(p-=x-u,x=u,S=null);var C=new Polygon_default({shape:{points:makeItemPoints(l,0,x,d,v===g.length-1,v===0)},style:defaults(r.getItemStyle(),{lineJoin:`bevel`}),textContent:new Text_default({style:createTextStyle$1(o,{text:S})}),textConfig:{position:`inside`},z2:10*1e4,onclick:curry$1(c,b)});C.disableLabelAnimation=!0,C.getTextContent().ensureState(`emphasis`).style=createTextStyle$1(s,{text:S}),C.ensureState(`emphasis`).style=_,toggleHoverEmphasis(C,a.get(`focus`),a.get(`blurScope`),a.get(`disabled`)),this.group.add(C),packEventData(C,t,b),l+=x+ITEM_GAP}},t.prototype.remove=function(){this.group.removeAll()},t}();function makeItemPoints(t,n,r,a,o,s){var c=[[o?t:t-ARRAY_LENGTH,n],[t+r,n],[t+r,n+a],[o?t:t-ARRAY_LENGTH,n+a]];return!s&&c.splice(2,0,[t+r+ARRAY_LENGTH,n+a/2]),!o&&c.push([t,n+a/2]),c}function packEventData(t,n,r){getECData(t).eventData={componentType:`series`,componentSubType:`treemap`,componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:`treemap`,selfType:`breadcrumb`,nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,n)}}var Breadcrumb_default=Breadcrumb,AnimationWrap=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(t,n,r,a,o){return this._elExistsMap[t.id]?!1:(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:n,duration:r,delay:a,easing:o}),!0)},t.prototype.finished=function(t){return this._finishedCallback=t,this},t.prototype.start=function(){for(var t=this,n=this._storage.length,r=function(){n--,n<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},a=0,o=this._storage.length;a<o;a++){var s=this._storage[a];s.el.animateTo(s.target,{duration:s.duration,delay:s.delay,easing:s.easing,setToFinal:!0,done:r,aborted:r})}return this},t}();function createWrap(){return new AnimationWrap}var Group=Group_default,Rect=Rect_default,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL=`label`,PATH_UPPERLABEL_NORMAL=`upperLabel`,Z2_BASE=100,Z2_BG=20,Z2_CONTENT=30,getStateItemStyle=makeStyleMapper([[`fill`,`color`],[`stroke`,`strokeColor`],[`lineWidth`,`strokeWidth`],[`shadowBlur`],[`shadowOffsetX`],[`shadowOffsetY`],[`shadowColor`]]),getItemStyleNormal=function(t){var n=getStateItemStyle(t);return n.stroke=n.fill=n.lineWidth=null,n},inner$1=makeInner(),TreemapView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._state=`ready`,r._storage=createStorage(),r}return n.prototype.render=function(t,n,r,a){if(!(indexOf(n.findComponents({mainType:`series`,subType:`treemap`,query:a}),t)<0)){this.seriesModel=t,this.api=r,this.ecModel=n;var o=retrieveTargetInfo(a,[`treemapZoomToNode`,`treemapRootToNode`],t),s=a&&a.type,c=t.layoutInfo,l=!this._oldTree,u=this._storage,d=s===`treemapRootToNode`&&o&&u?{rootNodeGroup:u.nodeGroup[o.node.getRawIndex()],direction:a.direction}:null,f=this._giveContainerGroup(c),p=t.get(`animation`),g=this._doRender(f,t,d);p&&!l&&(!s||s===`treemapZoomToNode`||s===`treemapRootToNode`)?this._doAnimation(f,g,t,d):g.renderFinally(),this._resetController(r),this._renderBreadcrumb(t,r,o)}},n.prototype._giveContainerGroup=function(t){var n=this._containerGroup;return n||(n=this._containerGroup=new Group,this._initEvents(n),this.group.add(n)),n.x=t.x,n.y=t.y,n},n.prototype._doRender=function(t,n,r){var a=n.getData().tree,o=this._oldTree,s=createStorage(),c=createStorage(),l=this._storage,u=[];function d(t,a,o,d){return renderNode(n,c,l,r,s,u,t,a,o,d)}_(a.root?[a.root]:[],o&&o.root?[o.root]:[],t,a===o||!o,0);var f=v(l);if(this._oldTree=a,this._storage=c,this._controllerHost){var p=this.seriesModel.layoutInfo,g=a.root.getLayout();g.width===p.width&&g.height===p.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:s,willDeleteEls:f,renderFinally:y};function _(t,n,r,a,o){a?(n=t,each$15(t,function(t,n){!t.isRemoved()&&c(n,n)})):new DataDiffer_default(n,t,s,s).add(c).update(c).remove(curry$1(c,null)).execute();function s(t){return t.getId()}function c(s,c){var l=s==null?null:t[s],u=c==null?null:n[c],f=d(l,u,r,o);f&&_(l&&l.viewChildren||[],u&&u.viewChildren||[],f,a,o+1)}}function v(t){var n=createStorage();return t&&each$15(t,function(t,r){var a=n[r];each$15(t,function(t){t&&(a.push(t),inner$1(t).willDelete=!0)})}),n}function y(){each$15(f,function(t){each$15(t,function(t){t.parent&&t.parent.remove(t)})}),each$15(u,function(t){t.invisible=!0,t.dirty()})}},n.prototype._doAnimation=function(t,n,r,a){var o=r.get(`animationDurationUpdate`),s=r.get(`animationEasing`),c=(isFunction(o)?0:o)||0,l=(isFunction(s)?null:s)||`cubicOut`,u=createWrap();each$15(n.willDeleteEls,function(t,n){each$15(t,function(t,r){if(!t.invisible){var o=t.parent,s,d=inner$1(o);if(a&&a.direction===`drillDown`)s=o===a.rootNodeGroup?{shape:{x:0,y:0,width:d.nodeWidth,height:d.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var f=0,p=0;d.willDelete||(f=d.nodeWidth/2,p=d.nodeHeight/2),s=n===`nodeGroup`?{x:f,y:p,style:{opacity:0}}:{shape:{x:f,y:p,width:0,height:0},style:{opacity:0}}}s&&u.add(t,s,c,0,l)}})}),each$15(this._storage,function(t,r){each$15(t,function(t,a){var o=n.lastsForAnimation[r][a],s={};o&&(t instanceof Group_default?o.oldX!=null&&(s.x=t.x,s.y=t.y,t.x=o.oldX,t.y=o.oldY):(o.oldShape&&(s.shape=extend({},t.shape),t.setShape(o.oldShape)),o.fadein?(t.setStyle(`opacity`,0),s.style={opacity:1}):t.style.opacity!==1&&(s.style={opacity:1})),u.add(t,s,c,0,l))})},this),this._state=`animating`,u.finished(bind$1(function(){this._state=`ready`,n.renderFinally()},this)).start()},n.prototype._resetController=function(t){var n=this._controller,r=this._controllerHost;r||=(this._controllerHost={target:this.group},this._controllerHost),n||(n=this._controller=new RoamController_default(t.getZr()),n.enable(this.seriesModel.get(`roam`)),r.zoomLimit=this.seriesModel.get(`scaleLimit`),r.zoom=this.seriesModel.get(`zoom`),n.on(`pan`,bind$1(this._onPan,this)),n.on(`zoom`,bind$1(this._onZoom,this)));var a=new BoundingRect_default(0,0,t.getWidth(),t.getHeight());n.setPointerChecker(function(t,n,r){return a.contain(n,r)})},n.prototype._clearController=function(){var t=this._controller;this._controllerHost=null,t&&=(t.dispose(),null)},n.prototype._onPan=function(t){if(this._state!==`animating`&&(Math.abs(t.dx)>DRAG_THRESHOLD||Math.abs(t.dy)>DRAG_THRESHOLD)){var n=this.seriesModel.getData().tree.root;if(!n)return;var r=n.getLayout();if(!r)return;this.api.dispatchAction({type:`treemapMove`,from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:r.x+t.dx,y:r.y+t.dy,width:r.width,height:r.height}})}},n.prototype._onZoom=function(t){var n=t.originX,r=t.originY,a=t.scale;if(this._state!==`animating`){var o=this.seriesModel.getData().tree.root;if(!o)return;var s=o.getLayout();if(!s)return;var c=new BoundingRect_default(s.x,s.y,s.width,s.height),l=null,u=this._controllerHost;l=u.zoomLimit;var d=u.zoom=u.zoom||1;if(d*=a,l){var f=l.min||0,p=l.max||1/0;d=Math.max(Math.min(p,d),f)}var g=d/u.zoom;u.zoom=d;var _=this.seriesModel.layoutInfo;n-=_.x,r-=_.y;var v=create$1();translate(v,v,[-n,-r]),scale$1(v,v,[g,g]),translate(v,v,[n,r]),c.applyTransform(v),this.api.dispatchAction({type:`treemapRender`,from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}},n.prototype._initEvents=function(t){var n=this;t.on(`click`,function(t){if(n._state===`ready`){var r=n.seriesModel.get(`nodeClick`,!0);if(r){var a=n.findTarget(t.offsetX,t.offsetY);if(a){var o=a.node;if(o.getLayout().isLeafRoot)n._rootToNode(a);else if(r===`zoomToNode`)n._zoomToNode(a);else if(r===`link`){var s=o.hostTree.data.getItemModel(o.dataIndex),c=s.get(`link`,!0),l=s.get(`target`,!0)||`blank`;c&&windowOpen(c,l)}}}}},this)},n.prototype._renderBreadcrumb=function(t,n,r){var a=this;r||(r=t.get(`leafDepth`,!0)==null?this.findTarget(n.getWidth()/2,n.getHeight()/2):{node:t.getViewRoot()},r||={node:t.getData().tree.root}),(this._breadcrumb||=new Breadcrumb_default(this.group)).render(t,n,r.node,function(n){a._state!==`animating`&&(aboveViewRoot(t.getViewRoot(),n)?a._rootToNode({node:n}):a._zoomToNode({node:n}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state=`ready`,this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(t){this.api.dispatchAction({type:`treemapZoomToNode`,from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},n.prototype._rootToNode=function(t){this.api.dispatchAction({type:`treemapRootToNode`,from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},n.prototype.findTarget=function(t,n){var r;return this.seriesModel.getViewRoot().eachNode({attr:`viewChildren`,order:`preorder`},function(a){var o=this._storage.background[a.getRawIndex()];if(o){var s=o.transformCoordToLocal(t,n),c=o.shape;if(c.x<=s[0]&&s[0]<=c.x+c.width&&c.y<=s[1]&&s[1]<=c.y+c.height)r={node:a,offsetX:s[0],offsetY:s[1]};else return!1}},this),r},n.type=`treemap`,n}(Chart_default);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(t,n,r,a,o,s,c,l,u,d){if(!c)return;var f=c.getLayout(),p=t.getData(),g=c.getModel();if(p.setItemGraphicEl(c.dataIndex,null),!f||!f.isInView)return;var _=f.width,v=f.height,y=f.borderWidth,b=f.invisible,x=c.getRawIndex(),S=l&&l.getRawIndex(),C=c.viewChildren,w=f.upperHeight,T=C&&C.length,E=g.getModel(`itemStyle`),D=g.getModel([`emphasis`,`itemStyle`]),O=g.getModel([`blur`,`itemStyle`]),A=g.getModel([`select`,`itemStyle`]),j=E.get(`borderRadius`)||0,M=K(`nodeGroup`,Group);if(!M)return;if(u.add(M),M.x=f.x||0,M.y=f.y||0,M.markRedraw(),inner$1(M).nodeWidth=_,inner$1(M).nodeHeight=v,f.isAboveViewRoot)return M;var N=K(`background`,Rect,d,Z2_BG);N&&V(M,N,T&&f.upperLabelHeight);var P=g.getModel(`emphasis`),F=P.get(`focus`),I=P.get(`blurScope`),L=P.get(`disabled`),R=F===`ancestor`?c.getAncestorsIndices():F===`descendant`?c.getDescendantIndices():F;if(T)isHighDownDispatcher(M)&&setAsHighDownDispatcher(M,!1),N&&(setAsHighDownDispatcher(N,!L),p.setItemGraphicEl(c.dataIndex,N),enableHoverFocus(N,R,I));else{var z=K(`content`,Rect,d,Z2_CONTENT);z&&H(M,z),N.disableMorphing=!0,N&&isHighDownDispatcher(N)&&setAsHighDownDispatcher(N,!1),setAsHighDownDispatcher(M,!L),p.setItemGraphicEl(c.dataIndex,M);var B=g.getShallow(`cursor`);B&&z.attr(`cursor`,B),enableHoverFocus(M,R,I)}return M;function V(n,r,a){var o=getECData(r);if(o.dataIndex=c.dataIndex,o.seriesIndex=t.seriesIndex,r.setShape({x:0,y:0,width:_,height:v,r:j}),b)U(r);else{r.invisible=!1;var s=c.getVisual(`style`),l=s.stroke,u=getItemStyleNormal(E);u.fill=l;var d=getStateItemStyle(D);d.fill=D.get(`borderColor`);var f=getStateItemStyle(O);f.fill=O.get(`borderColor`);var p=getStateItemStyle(A);if(p.fill=A.get(`borderColor`),a){var g=_-2*y;W(r,l,s.opacity,{x:y,y:0,width:g,height:w})}else r.removeTextContent();r.setStyle(u),r.ensureState(`emphasis`).style=d,r.ensureState(`blur`).style=f,r.ensureState(`select`).style=p,setDefaultStateProxy(r)}n.add(r)}function H(n,r){var a=getECData(r);a.dataIndex=c.dataIndex,a.seriesIndex=t.seriesIndex;var o=Math.max(_-2*y,0),s=Math.max(v-2*y,0);if(r.culling=!0,r.setShape({x:y,y,width:o,height:s,r:j}),b)U(r);else{r.invisible=!1;var l=c.getVisual(`style`),u=l.fill,d=getItemStyleNormal(E);d.fill=u,d.decal=l.decal;var f=getStateItemStyle(D),p=getStateItemStyle(O),g=getStateItemStyle(A);W(r,u,l.opacity,null),r.setStyle(d),r.ensureState(`emphasis`).style=f,r.ensureState(`blur`).style=p,r.ensureState(`select`).style=g,setDefaultStateProxy(r)}n.add(r)}function U(t){!t.invisible&&s.push(t)}function W(n,r,a,o){var s=g.getModel(o?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),l=convertOptionIdName(g.get(`name`),null),u=s.getShallow(`show`);setLabelStyle(n,getLabelStatesModels(g,o?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:u?l:null,inheritColor:r,defaultOpacity:a,labelFetcher:t,labelDataIndex:c.dataIndex});var d=n.getTextContent();if(d){var p=d.style,_=normalizeCssArray$1(p.padding||0);o&&(n.setTextConfig({layoutRect:o}),d.disableLabelLayout=!0),d.beforeUpdate=function(){var t=Math.max((o?o.width:n.shape.width)-_[1]-_[3],0),r=Math.max((o?o.height:n.shape.height)-_[0]-_[2],0);(p.width!==t||p.height!==r)&&d.setStyle({width:t,height:r})},p.truncateMinChar=2,p.lineOverflow=`truncate`,G(p,o,f);var v=d.getState(`emphasis`);G(v?v.style:null,o,f)}}function G(n,r,a){var o=n?n.text:null;if(!r&&a.isLeafRoot&&o!=null){var s=t.get(`drillDownIcon`,!0);n.text=s?s+` `+o:o}}function K(t,a,s,c){var l=S!=null&&r[t][S],u=o[t];return l?(r[t][S]=null,q(u,l)):b||(l=new a,l instanceof Displayable_default&&(l.z2=calculateZ2(s,c)),J(u,l)),n[t][x]=l}function q(t,n){var r=t[x]={};n instanceof Group?(r.oldX=n.x,r.oldY=n.y):r.oldShape=extend({},n.shape)}function J(t,n){var r=t[x]={},s=c.parentNode,l=n instanceof Group_default;if(s&&(!a||a.direction===`drillDown`)){var u=0,d=0,f=o.background[s.getRawIndex()];!a&&f&&f.oldShape&&(u=f.oldShape.width,d=f.oldShape.height),l?(r.oldX=0,r.oldY=d):r.oldShape={x:u,y:d,width:0,height:0}}r.fadein=!l}}function calculateZ2(t,n){return t*Z2_BASE+n}var TreemapView_default=TreemapView,ITEM_STYLE_NORMAL=`itemStyle`,inner=makeInner(),treemapVisual_default={seriesType:`treemap`,reset:function(t){var n=t.getData().tree.root;n.isRemoved()||travelTree(n,{},t.getViewRoot().getAncestors(),t)}};function travelTree(t,n,r,a){var o=t.getModel(),s=t.getLayout(),c=t.hostTree.data;if(!(!s||s.invisible||!s.isInView)){var l=o.getModel(ITEM_STYLE_NORMAL),u=buildVisuals(l,n,a),d=c.ensureUniqueItemVisual(t.dataIndex,`style`),f=l.get(`borderColor`),p=l.get(`borderColorSaturation`),g;p!=null&&(g=calculateColor(u),f=calculateBorderColor(p,g)),d.stroke=f;var _=t.viewChildren;if(!_||!_.length)g=calculateColor(u),d.fill=g;else{var v=buildVisualMapping(t,o,s,l,u,_);each$15(_,function(t,n){(t.depth>=r.length||t===r[t.depth])&&travelTree(t,mapVisual(o,u,t,n,v,a),r,a)})}}}function buildVisuals(t,n,r){var a=extend({},n),o=r.designatedVisualItemStyle;return each$15([`color`,`colorAlpha`,`colorSaturation`],function(r){o[r]=n[r];var s=t.get(r);o[r]=null,s!=null&&(a[r]=s)}),a}function calculateColor(t){var n=getValueVisualDefine(t,`color`);if(n){var r=getValueVisualDefine(t,`colorAlpha`),a=getValueVisualDefine(t,`colorSaturation`);return a&&(n=modifyHSL(n,null,null,a)),r&&(n=modifyAlpha(n,r)),n}}function calculateBorderColor(t,n){return n==null?null:modifyHSL(n,null,null,t)}function getValueVisualDefine(t,n){var r=t[n];if(r!=null&&r!==`none`)return r}function buildVisualMapping(t,n,r,a,o,s){if(!(!s||!s.length)){var c=getRangeVisual(n,`color`)||o.color!=null&&o.color!==`none`&&(getRangeVisual(n,`colorAlpha`)||getRangeVisual(n,`colorSaturation`));if(c){var l=n.get(`visualMin`),u=n.get(`visualMax`),d=r.dataExtent.slice();l!=null&&l<d[0]&&(d[0]=l),u!=null&&u>d[1]&&(d[1]=u);var f=n.get(`colorMappingBy`),p={type:c.name,dataExtent:d,visual:c.range};p.type===`color`&&(f===`index`||f===`id`)?(p.mappingMethod=`category`,p.loop=!0):p.mappingMethod=`linear`;var g=new VisualMapping_default(p);return inner(g).drColorMappingBy=f,g}}}function getRangeVisual(t,n){var r=t.get(n);return isArray$1(r)&&r.length?{name:n,range:r}:null}function mapVisual(t,n,r,a,o,s){var c=extend({},n);if(o){var l=o.type,u=l===`color`&&inner(o).drColorMappingBy,d=u===`index`?a:u===`id`?s.mapIdToIndex(r.getId()):r.getValue(t.get(`visualDimension`));c[l]=o.mapValueToVisual(d)}return c}var mathMax=Math.max,mathMin=Math.min,retrieveValue=retrieve,each$1=each$15,PATH_BORDER_WIDTH=[`itemStyle`,`borderWidth`],PATH_GAP_WIDTH=[`itemStyle`,`gapWidth`],PATH_UPPER_LABEL_SHOW=[`upperLabel`,`show`],PATH_UPPER_LABEL_HEIGHT=[`upperLabel`,`height`],treemapLayout_default={seriesType:`treemap`,reset:function(t,n,r,a){var o=r.getWidth(),s=r.getHeight(),c=t.option,l=getLayoutRect(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),u=c.size||[],d=parsePercent(retrieveValue(l.width,u[0]),o),f=parsePercent(retrieveValue(l.height,u[1]),s),p=a&&a.type,g=retrieveTargetInfo(a,[`treemapZoomToNode`,`treemapRootToNode`],t),_=p===`treemapRender`||p===`treemapMove`?a.rootRect:null,v=t.getViewRoot(),y=getPathToRoot(v);if(p!==`treemapMove`){var b=p===`treemapZoomToNode`?estimateRootSize(t,g,v,d,f):_?[_.width,_.height]:[d,f],x=c.sort;x&&x!==`asc`&&x!==`desc`&&(x=`desc`);var S={squareRatio:c.squareRatio,sort:x,leafDepth:c.leafDepth};v.hostTree.clearLayouts();var C={x:0,y:0,width:b[0],height:b[1],area:b[0]*b[1]};v.setLayout(C),squarify(v,S,!1,0),C=v.getLayout(),each$1(y,function(t,n){var r=(y[n+1]||v).getValue();t.setLayout(extend({dataExtent:[r,r],borderWidth:0,upperHeight:0},C))})}var w=t.getData().tree.root;w.setLayout(calculateRootPosition(l,_,g),!0),t.setLayoutInfo(l),prunning(w,new BoundingRect_default(-l.x,-l.y,o,s),y,v,0)}};function squarify(t,n,r,a){var o,s;if(!t.isRemoved()){var c=t.getLayout();o=c.width,s=c.height;var l=t.getModel(),u=l.get(PATH_BORDER_WIDTH),d=l.get(PATH_GAP_WIDTH)/2,f=getUpperLabelHeight(l),p=Math.max(u,f),g=u-d,_=p-d;t.setLayout({borderWidth:u,upperHeight:p,upperLabelHeight:f},!0),o=mathMax(o-2*g,0),s=mathMax(s-g-_,0);var v=o*s,y=initChildren$1(t,l,v,n,r,a);if(y.length){var b={x:g,y:_,width:o,height:s},x=mathMin(o,s),S=1/0,C=[];C.area=0;for(var w=0,T=y.length;w<T;){var E=y[w];C.push(E),C.area+=E.getLayout().area;var D=worst(C,x,n.squareRatio);D<=S?(w++,S=D):(C.area-=C.pop().getLayout().area,position(C,x,b,d,!1),x=mathMin(b.width,b.height),C.length=C.area=0,S=1/0)}if(C.length&&position(C,x,b,d,!0),!r){var O=l.get(`childrenVisibleMin`);O!=null&&v<O&&(r=!0)}for(var w=0,T=y.length;w<T;w++)squarify(y[w],n,r,a+1)}}}function initChildren$1(t,n,r,a,o,s){var c=t.children||[],l=a.sort;l!==`asc`&&l!==`desc`&&(l=null);var u=a.leafDepth!=null&&a.leafDepth<=s;if(o&&!u)return t.viewChildren=[];c=filter(c,function(t){return!t.isRemoved()}),sort$1(c,l);var d=statistic(n,c,l);if(d.sum===0||(d.sum=filterByThreshold(n,r,d.sum,l,c),d.sum===0))return t.viewChildren=[];for(var f=0,p=c.length;f<p;f++){var g=c[f].getValue()/d.sum*r;c[f].setLayout({area:g})}return u&&(c.length&&t.setLayout({isLeafRoot:!0},!0),c.length=0),t.viewChildren=c,t.setLayout({dataExtent:d.dataExtent},!0),c}function filterByThreshold(t,n,r,a,o){if(!a)return r;for(var s=t.get(`visibleMin`),c=o.length,l=c,u=c-1;u>=0;u--){var d=o[a===`asc`?c-u-1:u].getValue();d/r*n<s&&(l=u,r-=d)}return a===`asc`?o.splice(0,c-l):o.splice(l,c-l),r}function sort$1(t,n){return n&&t.sort(function(t,r){var a=n===`asc`?t.getValue()-r.getValue():r.getValue()-t.getValue();return a===0?n===`asc`?t.dataIndex-r.dataIndex:r.dataIndex-t.dataIndex:a}),t}function statistic(t,n,r){for(var a=0,o=0,s=n.length;o<s;o++)a+=n[o].getValue();var c=t.get(`visualDimension`),l;return!n||!n.length?l=[NaN,NaN]:c===`value`&&r?(l=[n[n.length-1].getValue(),n[0].getValue()],r===`asc`&&l.reverse()):(l=[1/0,-1/0],each$1(n,function(t){var n=t.getValue(c);n<l[0]&&(l[0]=n),n>l[1]&&(l[1]=n)})),{sum:a,dataExtent:l}}function worst(t,n,r){for(var a=0,o=1/0,s=0,c=void 0,l=t.length;s<l;s++)c=t[s].getLayout().area,c&&(c<o&&(o=c),c>a&&(a=c));var u=t.area*t.area,d=n*n*r;return u?mathMax(d*a/u,u/(d*o)):1/0}function position(t,n,r,a,o){var s=n===r.width?0:1,c=1-s,l=[`x`,`y`],u=[`width`,`height`],d=r[l[s]],f=n?t.area/n:0;(o||f>r[u[c]])&&(f=r[u[c]]);for(var p=0,g=t.length;p<g;p++){var _=t[p],v={},y=f?_.getLayout().area/f:0,b=v[u[c]]=mathMax(f-2*a,0),x=r[l[s]]+r[u[s]]-d,S=p===g-1||x<y?x:y,C=v[u[s]]=mathMax(S-2*a,0);v[l[c]]=r[l[c]]+mathMin(a,b/2),v[l[s]]=d+mathMin(a,C/2),d+=S,_.setLayout(v,!0)}r[l[c]]+=f,r[u[c]]-=f}function estimateRootSize(t,n,r,a,o){var s=(n||{}).node,c=[a,o];if(!s||s===r)return c;for(var l,u=a*o,d=u*t.option.zoomToNodeRatio;l=s.parentNode;){for(var f=0,p=l.children,g=0,_=p.length;g<_;g++)f+=p[g].getValue();var v=s.getValue();if(v===0)return c;d*=f/v;var y=l.getModel(),b=y.get(PATH_BORDER_WIDTH),x=Math.max(b,getUpperLabelHeight(y));d+=4*b*b+(3*b+x)*d**.5,d>9007199254740991&&(d=9007199254740991),s=l}d<u&&(d=u);var S=(d/u)**.5;return[a*S,o*S]}function calculateRootPosition(t,n,r){if(n)return{x:n.x,y:n.y};var a={x:0,y:0};if(!r)return a;var o=r.node,s=o.getLayout();if(!s)return a;for(var c=[s.width/2,s.height/2],l=o;l;){var u=l.getLayout();c[0]+=u.x,c[1]+=u.y,l=l.parentNode}return{x:t.width/2-c[0],y:t.height/2-c[1]}}function prunning(t,n,r,a,o){var s=t.getLayout(),c=r[o],l=c&&c===t;if(!(c&&!l||o===r.length&&t!==a)){t.setLayout({isInView:!0,invisible:!l&&!n.intersect(s),isAboveViewRoot:l},!0);var u=new BoundingRect_default(n.x-s.x,n.y-s.y,n.width,n.height);each$1(t.viewChildren||[],function(t){prunning(t,u,r,a,o+1)})}}function getUpperLabelHeight(t){return t.get(PATH_UPPER_LABEL_SHOW)?t.get(PATH_UPPER_LABEL_HEIGHT):0}function install$16(t){t.registerSeriesModel(TreemapSeries_default),t.registerChartView(TreemapView_default),t.registerVisual(treemapVisual_default),t.registerLayout(treemapLayout_default),installTreemapAction(t)}function categoryFilter(t){var n=t.findComponents({mainType:`legend`});!n||!n.length||t.eachSeriesByType(`graph`,function(t){var r=t.getCategoriesData(),a=t.getGraph().data,o=r.mapArray(r.getName);a.filterSelf(function(t){var r=a.getItemModel(t).getShallow(`category`);if(r!=null){isNumber(r)&&(r=o[r]);for(var s=0;s<n.length;s++)if(!n[s].isSelected(r))return!1}return!0})})}function categoryVisual(t){var n={};t.eachSeriesByType(`graph`,function(t){var r=t.getCategoriesData(),a=t.getData(),o={};r.each(function(a){var s=r.getName(a);o[`ec-`+s]=a;var c=r.getItemModel(a),l=c.getModel(`itemStyle`).getItemStyle();l.fill||=t.getColorFromPalette(s,n),r.setItemVisual(a,`style`,l);for(var u=[`symbol`,`symbolSize`,`symbolKeepAspect`],d=0;d<u.length;d++){var f=c.getShallow(u[d],!0);f!=null&&r.setItemVisual(a,u[d],f)}}),r.count()&&a.each(function(t){var n=a.getItemModel(t).getShallow(`category`);if(n!=null){isString(n)&&(n=o[`ec-`+n]);var s=r.getItemVisual(n,`style`);extend(a.ensureUniqueItemVisual(t,`style`),s);for(var c=[`symbol`,`symbolSize`,`symbolKeepAspect`],l=0;l<c.length;l++)a.setItemVisual(t,c[l],r.getItemVisual(n,c[l]))}})})}function normalize$1(t){return t instanceof Array||(t=[t,t]),t}function graphEdgeVisual(t){t.eachSeriesByType(`graph`,function(t){var n=t.getGraph(),r=t.getEdgeData(),a=normalize$1(t.get(`edgeSymbol`)),o=normalize$1(t.get(`edgeSymbolSize`));r.setVisual(`fromSymbol`,a&&a[0]),r.setVisual(`toSymbol`,a&&a[1]),r.setVisual(`fromSymbolSize`,o&&o[0]),r.setVisual(`toSymbolSize`,o&&o[1]),r.setVisual(`style`,t.getModel(`lineStyle`).getLineStyle()),r.each(function(t){var a=r.getItemModel(t),o=n.getEdgeByIndex(t),s=normalize$1(a.getShallow(`symbol`,!0)),c=normalize$1(a.getShallow(`symbolSize`,!0)),l=a.getModel(`lineStyle`).getLineStyle(),u=r.ensureUniqueItemVisual(t,`style`);switch(extend(u,l),u.stroke){case`source`:var d=o.node1.getVisual(`style`);u.stroke=d&&d.fill;break;case`target`:var d=o.node2.getVisual(`style`);u.stroke=d&&d.fill;break}s[0]&&o.setVisual(`fromSymbol`,s[0]),s[1]&&o.setVisual(`toSymbol`,s[1]),c[0]&&o.setVisual(`fromSymbolSize`,c[0]),c[1]&&o.setVisual(`toSymbolSize`,c[1])})})}var KEY_DELIMITER=`-->`,getAutoCurvenessParams=function(t){return t.get(`autoCurveness`)||null},createCurveness=function(t,n){var r=getAutoCurvenessParams(t),a=20,o=[];if(isNumber(r))a=r;else if(isArray$1(r)){t.__curvenessList=r;return}n>a&&(a=n);var s=a%2?a+2:a+3;o=[];for(var c=0;c<s;c++)o.push((c%2?c+1:c)/10*(c%2?-1:1));t.__curvenessList=o},getKeyOfEdges=function(t,n,r){var a=[t.id,t.dataIndex].join(`.`),o=[n.id,n.dataIndex].join(`.`);return[r.uid,a,o].join(KEY_DELIMITER)},getOppositeKey=function(t){var n=t.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(t,n){var r=getKeyOfEdges(t.node1,t.node2,n);return n.__edgeMap[r]},getTotalLengthBetweenNodes=function(t,n){return getEdgeMapLengthWithKey(getKeyOfEdges(t.node1,t.node2,n),n)+getEdgeMapLengthWithKey(getKeyOfEdges(t.node2,t.node1,n),n)},getEdgeMapLengthWithKey=function(t,n){var r=n.__edgeMap;return r[t]?r[t].length:0};function initCurvenessList(t){getAutoCurvenessParams(t)&&(t.__curvenessList=[],t.__edgeMap={},createCurveness(t))}function createEdgeMapForCurveness(t,n,r,a){if(getAutoCurvenessParams(r)){var o=getKeyOfEdges(t,n,r),s=r.__edgeMap,c=s[getOppositeKey(o)];s[o]&&!c?s[o].isForward=!0:c&&s[o]&&(c.isForward=!0,s[o].isForward=!1),s[o]=s[o]||[],s[o].push(a)}}function getCurvenessForEdge(t,n,r,a){var o=getAutoCurvenessParams(n),s=isArray$1(o);if(!o)return null;var c=getEdgeFromMap(t,n);if(!c)return null;for(var l=-1,u=0;u<c.length;u++)if(c[u]===r){l=u;break}var d=getTotalLengthBetweenNodes(t,n);createCurveness(n,d),t.lineStyle=t.lineStyle||{};var f=getKeyOfEdges(t.node1,t.node2,n),p=n.__curvenessList,g=s||d%2?0:1;if(c.isForward)return p[g+l];var _=getEdgeMapLengthWithKey(getOppositeKey(f),n),v=p[l+_+g];return a?s?o&&o[0]===0?(_+g)%2?v:-v:((_%2?0:1)+g)%2?v:-v:(_+g)%2?v:-v:p[l+_+g]}function simpleLayout(t){var n=t.coordinateSystem;if(!(n&&n.type!==`view`)){var r=t.getGraph();r.eachNode(function(t){var n=t.getModel();t.setLayout([+n.get(`x`),+n.get(`y`)])}),simpleLayoutEdge(r,t)}}function simpleLayoutEdge(t,n){t.eachEdge(function(t,r){var a=retrieve3(t.getModel().get([`lineStyle`,`curveness`]),-getCurvenessForEdge(t,n,r,!0),0),o=clone$3(t.node1.getLayout()),s=clone$3(t.node2.getLayout()),c=[o,s];+a&&c.push([(o[0]+s[0])/2-(o[1]-s[1])*a,(o[1]+s[1])/2-(s[0]-o[0])*a]),t.setLayout(c)})}function graphSimpleLayout(t,n){t.eachSeriesByType(`graph`,function(t){var n=t.get(`layout`),r=t.coordinateSystem;if(r&&r.type!==`view`){var a=t.getData(),o=[];each$15(r.dimensions,function(t){o=o.concat(a.mapDimensionsAll(t))});for(var s=0;s<a.count();s++){for(var c=[],l=!1,u=0;u<o.length;u++){var d=a.get(o[u],s);isNaN(d)||(l=!0),c.push(d)}l?a.setItemLayout(s,r.dataToPoint(c)):a.setItemLayout(s,[NaN,NaN])}simpleLayoutEdge(a.graph,t)}else (!n||n===`none`)&&simpleLayout(t)})}function getNodeGlobalScale(t){var n=t.coordinateSystem;if(n.type!==`view`)return 1;var r=t.option.nodeScaleRatio,a=n.scaleX;return((n.getZoom()-1)*r+1)/a}function getSymbolSize(t){var n=t.getVisual(`symbolSize`);return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$1=Math.PI,_symbolRadiansHalf=[];function circularLayout(t,n,r,a){var o=t.coordinateSystem;if(!(o&&o.type!==`view`)){var s=o.getBoundingRect(),c=t.getData(),l=c.graph,u=s.width/2+s.x,d=s.height/2+s.y,f=Math.min(s.width,s.height)/2,p=c.count();if(c.setLayout({cx:u,cy:d}),p){if(r){var g=o.pointToData(a),_=g[0],v=g[1],y=[_-u,v-d];normalize$3(y,y),scale$2(y,y,f),r.setLayout([u+y[0],d+y[1]],!0),rotateNodeLabel(r,t.get([`circular`,`rotateLabel`]),u,d)}_layoutNodesBasedOn[n](t,l,c,f,u,d,p),l.eachEdge(function(n,r){var a=retrieve3(n.getModel().get([`lineStyle`,`curveness`]),getCurvenessForEdge(n,t,r),0),o=clone$3(n.node1.getLayout()),s=clone$3(n.node2.getLayout()),c,l=(o[0]+s[0])/2,f=(o[1]+s[1])/2;+a&&(a*=3,c=[u*a+l*(1-a),d*a+f*(1-a)]),n.setLayout([o,s,c])})}}}var _layoutNodesBasedOn={value:function(t,n,r,a,o,s,c){var l=0,u=r.getSum(`value`),d=Math.PI*2/(u||c);n.eachNode(function(t){var n=t.getValue(`value`),r=d*(u?n:1)/2;l+=r,t.setLayout([a*Math.cos(l)+o,a*Math.sin(l)+s]),l+=r})},symbolSize:function(t,n,r,a,o,s,c){var l=0;_symbolRadiansHalf.length=c;var u=getNodeGlobalScale(t);n.eachNode(function(t){var n=getSymbolSize(t);isNaN(n)&&(n=2),n<0&&(n=0),n*=u;var r=Math.asin(n/2/a);isNaN(r)&&(r=PI$1/2),_symbolRadiansHalf[t.dataIndex]=r,l+=r*2});var d=(2*PI$1-l)/c/2,f=0;n.eachNode(function(t){var n=d+_symbolRadiansHalf[t.dataIndex];f+=n,(!t.getLayout()||!t.getLayout().fixed)&&t.setLayout([a*Math.cos(f)+o,a*Math.sin(f)+s]),f+=n})}};function rotateNodeLabel(t,n,r,a){var o=t.getGraphicEl();if(o){var s=t.getModel().get([`label`,`rotate`])||0,c=o.getSymbolPath();if(n){var l=t.getLayout(),u=Math.atan2(l[1]-a,l[0]-r);u<0&&(u=Math.PI*2+u);var d=l[0]<r;d&&(u-=Math.PI);var f=d?`left`:`right`;c.setTextConfig({rotation:-u,position:f,origin:`center`});var p=c.ensureState(`emphasis`);extend(p.textConfig||={},{position:f})}else c.setTextConfig({rotation:s*=Math.PI/180})}}function graphCircularLayout(t){t.eachSeriesByType(`graph`,function(t){t.get(`layout`)===`circular`&&circularLayout(t,`symbolSize`)})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(t,n,r){for(var a=t,o=n,s=r.rect,c=s.width,l=s.height,u=[s.x+c/2,s.y+l/2],d=r.gravity==null?.1:r.gravity,f=0;f<a.length;f++){var p=a[f];p.p||=create$2(c*(Math.random()-.5)+u[0],l*(Math.random()-.5)+u[1]),p.pp=clone$3(p.p),p.edges=null}var g=r.friction==null?.6:r.friction,_=g,v,y;return{warmUp:function(){_=g*.8},setFixed:function(t){a[t].fixed=!0},setUnfixed:function(t){a[t].fixed=!1},beforeStep:function(t){v=t},afterStep:function(t){y=t},step:function(t){v&&v(a,o);for(var n=[],r=a.length,s=0;s<o.length;s++){var c=o[s];if(!c.ignoreForceLayout){var l=c.n1,f=c.n2;sub(n,f.p,l.p);var p=len(n)-c.d,g=f.w/(l.w+f.w);isNaN(g)&&(g=0),normalize$3(n,n),!l.fixed&&scaleAndAdd(l.p,l.p,n,g*p*_),!f.fixed&&scaleAndAdd(f.p,f.p,n,-(1-g)*p*_)}}for(var s=0;s<r;s++){var b=a[s];b.fixed||(sub(n,u,b.p),scaleAndAdd(b.p,b.p,n,d*_))}for(var s=0;s<r;s++)for(var l=a[s],x=s+1;x<r;x++){var f=a[x];sub(n,f.p,l.p);var p=len(n);p===0&&(set$1(n,Math.random()-.5,Math.random()-.5),p=1);var S=(l.rep+f.rep)/p/p;!l.fixed&&scaleAndAdd(l.pp,l.pp,n,S),!f.fixed&&scaleAndAdd(f.pp,f.pp,n,-S)}for(var C=[],s=0;s<r;s++){var b=a[s];b.fixed||(sub(C,b.p,b.pp),scaleAndAdd(b.p,b.p,C,_),copy$1(b.pp,b.p))}_*=.992;var w=_<.01;y&&y(a,o,w),t&&t(w)}}}function graphForceLayout(t){t.eachSeriesByType(`graph`,function(t){var n=t.coordinateSystem;if(!(n&&n.type!==`view`))if(t.get(`layout`)===`force`){var r=t.preservedPoints||{},a=t.getGraph(),o=a.data,s=a.edgeData,c=t.getModel(`force`),l=c.get(`initLayout`);t.preservedPoints?o.each(function(t){var n=o.getId(t);o.setItemLayout(t,r[n]||[NaN,NaN])}):!l||l===`none`?simpleLayout(t):l===`circular`&&circularLayout(t,`value`);var u=o.getDataExtent(`value`),d=s.getDataExtent(`value`),f=c.get(`repulsion`),p=c.get(`edgeLength`),g=isArray$1(f)?f:[f,f],_=isArray$1(p)?p:[p,p];_=[_[1],_[0]];var v=o.mapArray(`value`,function(t,n){var r=o.getItemLayout(n),a=linearMap$2(t,u,g);return isNaN(a)&&(a=(g[0]+g[1])/2),{w:a,rep:a,fixed:o.getItemModel(n).get(`fixed`),p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}),y=forceLayout(v,s.mapArray(`value`,function(n,r){var o=a.getEdgeByIndex(r),s=linearMap$2(n,d,_);isNaN(s)&&(s=(_[0]+_[1])/2);var c=o.getModel(),l=retrieve3(o.getModel().get([`lineStyle`,`curveness`]),-getCurvenessForEdge(o,t,r,!0),0);return{n1:v[o.node1.dataIndex],n2:v[o.node2.dataIndex],d:s,curveness:l,ignoreForceLayout:c.get(`ignoreForceLayout`)}}),{rect:n.getBoundingRect(),gravity:c.get(`gravity`),friction:c.get(`friction`)});y.beforeStep(function(t,n){for(var r=0,o=t.length;r<o;r++)t[r].fixed&&copy$1(t[r].p,a.getNodeByIndex(r).getLayout())}),y.afterStep(function(t,n,s){for(var c=0,l=t.length;c<l;c++)t[c].fixed||a.getNodeByIndex(c).setLayout(t[c].p),r[o.getId(c)]=t[c].p;for(var c=0,l=n.length;c<l;c++){var u=n[c],d=a.getEdgeByIndex(c),f=u.n1.p,p=u.n2.p,g=d.getLayout();g=g?g.slice():[],g[0]=g[0]||[],g[1]=g[1]||[],copy$1(g[0],f),copy$1(g[1],p),+u.curveness&&(g[2]=[(f[0]+p[0])/2-(f[1]-p[1])*u.curveness,(f[1]+p[1])/2-(p[0]-f[0])*u.curveness]),d.setLayout(g)}}),t.forceLayout=y,t.preservedPoints=r,y.step()}else t.forceLayout=null})}function getViewRect$2(t,n,r){return getLayoutRect(extend(t.getBoxLayoutParams(),{aspect:r}),{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(t,n){var r=[];return t.eachSeriesByType(`graph`,function(t){var a=t.get(`coordinateSystem`);if(!a||a===`view`){var o=t.getData(),s=o.mapArray(function(t){var n=o.getItemModel(t);return[+n.get(`x`),+n.get(`y`)]}),c=[],l=[];fromPoints(s,c,l),l[0]-c[0]===0&&(l[0]+=1,--c[0]),l[1]-c[1]===0&&(l[1]+=1,--c[1]);var u=(l[0]-c[0])/(l[1]-c[1]),d=getViewRect$2(t,n,u);isNaN(u)&&(c=[d.x,d.y],l=[d.x+d.width,d.y+d.height]);var f=l[0]-c[0],p=l[1]-c[1],g=d.width,_=d.height,v=t.coordinateSystem=new View_default;v.zoomLimit=t.get(`scaleLimit`),v.setBoundingRect(c[0],c[1],f,p),v.setViewRect(d.x,d.y,g,_),v.setCenter(t.get(`center`),n),v.setZoom(t.get(`zoom`)),r.push(v)}}),r}var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(t,n,r){for(var a=t[0],o=t[1],s=t[2],c=1/0,l,u=r*r,d=.1,f=.1;f<=.9;f+=.1){v1[0]=quadraticAt(a[0],o[0],s[0],f),v1[1]=quadraticAt(a[1],o[1],s[1],f);var p=mathAbs(v2DistSquare(v1,n)-u);p<c&&(c=p,l=f)}for(var g=0;g<32;g++){var _=l+d;v2[0]=quadraticAt(a[0],o[0],s[0],l),v2[1]=quadraticAt(a[1],o[1],s[1],l),v3[0]=quadraticAt(a[0],o[0],s[0],_),v3[1]=quadraticAt(a[1],o[1],s[1],_);var p=v2DistSquare(v2,n)-u;if(mathAbs(p)<.01)break;var v=v2DistSquare(v3,n)-u;d/=2,p<0?v>=0?l+=d:l-=d:v>=0?l-=d:l+=d}return l}function adjustEdge(t,n){var r=[],a=quadraticSubdivide,o=[[],[],[]],s=[[],[]],c=[];n/=2,t.eachEdge(function(t,l){var u=t.getLayout(),d=t.getVisual(`fromSymbol`),f=t.getVisual(`toSymbol`);u.__original||(u.__original=[clone$3(u[0]),clone$3(u[1])],u[2]&&u.__original.push(clone$3(u[2])));var p=u.__original;if(u[2]!=null){if(copy$1(o[0],p[0]),copy$1(o[1],p[2]),copy$1(o[2],p[1]),d&&d!==`none`){var g=getSymbolSize(t.node1),_=intersectCurveCircle(o,p[0],g*n);a(o[0][0],o[1][0],o[2][0],_,r),o[0][0]=r[3],o[1][0]=r[4],a(o[0][1],o[1][1],o[2][1],_,r),o[0][1]=r[3],o[1][1]=r[4]}if(f&&f!==`none`){var g=getSymbolSize(t.node2),_=intersectCurveCircle(o,p[1],g*n);a(o[0][0],o[1][0],o[2][0],_,r),o[1][0]=r[1],o[2][0]=r[2],a(o[0][1],o[1][1],o[2][1],_,r),o[1][1]=r[1],o[2][1]=r[2]}copy$1(u[0],o[0]),copy$1(u[1],o[2]),copy$1(u[2],o[1])}else{if(copy$1(s[0],p[0]),copy$1(s[1],p[1]),sub(c,s[1],s[0]),normalize$3(c,c),d&&d!==`none`){var g=getSymbolSize(t.node1);scaleAndAdd$1(s[0],s[0],c,g*n)}if(f&&f!==`none`){var g=getSymbolSize(t.node2);scaleAndAdd$1(s[1],s[1],c,-g*n)}copy$1(u[0],s[0]),copy$1(u[1],s[1])}})}function isViewCoordSys(t){return t.type===`view`}var GraphView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(t,n){var r=new SymbolDraw_default,a=new LineDraw_default,o=this.group;this._controller=new RoamController_default(n.getZr()),this._controllerHost={target:o},o.add(r.group),o.add(a.group),this._symbolDraw=r,this._lineDraw=a,this._firstRender=!0},n.prototype.render=function(t,n,r){var a=this,o=t.coordinateSystem;this._model=t;var s=this._symbolDraw,c=this._lineDraw,l=this.group;if(isViewCoordSys(o)){var u={x:o.x,y:o.y,scaleX:o.scaleX,scaleY:o.scaleY};this._firstRender?l.attr(u):updateProps$1(l,u,t)}adjustEdge(t.getGraph(),getNodeGlobalScale(t));var d=t.getData();s.updateData(d);var f=t.getEdgeData();c.updateData(f),this._updateNodeAndLinkScale(),this._updateController(t,n,r),clearTimeout(this._layoutTimeout);var p=t.forceLayout,g=t.get([`force`,`layoutAnimation`]);p&&this._startForceLayoutIteration(p,g);var _=t.get(`layout`);d.graph.eachNode(function(n){var r=n.dataIndex,o=n.getGraphicEl(),s=n.getModel();if(o){o.off(`drag`).off(`dragend`);var c=s.get(`draggable`);c&&o.on(`drag`,function(s){switch(_){case`force`:p.warmUp(),!a._layouting&&a._startForceLayoutIteration(p,g),p.setFixed(r),d.setItemLayout(r,[o.x,o.y]);break;case`circular`:d.setItemLayout(r,[o.x,o.y]),n.setLayout({fixed:!0},!0),circularLayout(t,`symbolSize`,n,[s.offsetX,s.offsetY]),a.updateLayout(t);break;case`none`:default:d.setItemLayout(r,[o.x,o.y]),simpleLayoutEdge(t.getGraph(),t),a.updateLayout(t);break}}).on(`dragend`,function(){p&&p.setUnfixed(r)}),o.setDraggable(c,!!s.get(`cursor`)),s.get([`emphasis`,`focus`])===`adjacency`&&(getECData(o).focus=n.getAdjacentDataIndices())}}),d.graph.eachEdge(function(t){var n=t.getGraphicEl(),r=t.getModel().get([`emphasis`,`focus`]);n&&r===`adjacency`&&(getECData(n).focus={edge:[t.dataIndex],node:[t.node1.dataIndex,t.node2.dataIndex]})});var v=t.get(`layout`)===`circular`&&t.get([`circular`,`rotateLabel`]),y=d.getLayout(`cx`),b=d.getLayout(`cy`);d.graph.eachNode(function(t){rotateNodeLabel(t,v,y,b)}),this._firstRender=!1},n.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(t,n){var r=this;(function a(){t.step(function(t){r.updateLayout(r._model),(r._layouting=!t)&&(n?r._layoutTimeout=setTimeout(a,16):a())})})()},n.prototype._updateController=function(t,n,r){var a=this,o=this._controller,s=this._controllerHost,c=this.group;if(o.setPointerChecker(function(n,a,o){var s=c.getBoundingRect();return s.applyTransform(c.transform),s.contain(a,o)&&!onIrrelevantElement(n,r,t)}),!isViewCoordSys(t.coordinateSystem)){o.disable();return}o.enable(t.get(`roam`)),s.zoomLimit=t.get(`scaleLimit`),s.zoom=t.coordinateSystem.getZoom(),o.off(`pan`).off(`zoom`).on(`pan`,function(n){updateViewOnPan(s,n.dx,n.dy),r.dispatchAction({seriesId:t.id,type:`graphRoam`,dx:n.dx,dy:n.dy})}).on(`zoom`,function(n){updateViewOnZoom(s,n.scale,n.originX,n.originY),r.dispatchAction({seriesId:t.id,type:`graphRoam`,zoom:n.scale,originX:n.originX,originY:n.originY}),a._updateNodeAndLinkScale(),adjustEdge(t.getGraph(),getNodeGlobalScale(t)),a._lineDraw.updateLayout(),r.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var t=this._model,n=t.getData(),r=getNodeGlobalScale(t);n.eachItemGraphicEl(function(t,n){t&&t.setSymbolScale(r)})},n.prototype.updateLayout=function(t){adjustEdge(t.getGraph(),getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type=`graph`,n}(Chart_default);function generateNodeKey(t){return`_EC_`+t}var Graph=function(){function t(t){this.type=`graph`,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(t,n){t=t==null?``+n:``+t;var r=this._nodesMap;if(!r[generateNodeKey(t)]){var a=new GraphNode(t,n);return a.hostGraph=this,this.nodes.push(a),r[generateNodeKey(t)]=a,a}},t.prototype.getNodeByIndex=function(t){var n=this.data.getRawIndex(t);return this.nodes[n]},t.prototype.getNodeById=function(t){return this._nodesMap[generateNodeKey(t)]},t.prototype.addEdge=function(t,n,r){var a=this._nodesMap,o=this._edgesMap;if(isNumber(t)&&(t=this.nodes[t]),isNumber(n)&&(n=this.nodes[n]),t instanceof GraphNode||(t=a[generateNodeKey(t)]),n instanceof GraphNode||(n=a[generateNodeKey(n)]),!(!t||!n)){var s=t.id+`-`+n.id,c=new GraphEdge(t,n,r);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),n.inEdges.push(c)),t.edges.push(c),t!==n&&n.edges.push(c),this.edges.push(c),o[s]=c,c}},t.prototype.getEdgeByIndex=function(t){var n=this.edgeData.getRawIndex(t);return this.edges[n]},t.prototype.getEdge=function(t,n){t instanceof GraphNode&&(t=t.id),n instanceof GraphNode&&(n=n.id);var r=this._edgesMap;return this._directed?r[t+`-`+n]:r[t+`-`+n]||r[n+`-`+t]},t.prototype.eachNode=function(t,n){for(var r=this.nodes,a=r.length,o=0;o<a;o++)r[o].dataIndex>=0&&t.call(n,r[o],o)},t.prototype.eachEdge=function(t,n){for(var r=this.edges,a=r.length,o=0;o<a;o++)r[o].dataIndex>=0&&r[o].node1.dataIndex>=0&&r[o].node2.dataIndex>=0&&t.call(n,r[o],o)},t.prototype.breadthFirstTraverse=function(t,n,r,a){if(n instanceof GraphNode||(n=this._nodesMap[generateNodeKey(n)]),n){for(var o=r===`out`?`outEdges`:r===`in`?`inEdges`:`edges`,s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!t.call(a,n,null))for(var c=[n];c.length;)for(var l=c.shift(),u=l[o],s=0;s<u.length;s++){var d=u[s],f=d.node1===l?d.node2:d.node1;if(!f.__visited){if(t.call(a,f,l))return;c.push(f),f.__visited=!0}}}},t.prototype.update=function(){for(var t=this.data,n=this.edgeData,r=this.nodes,a=this.edges,o=0,s=r.length;o<s;o++)r[o].dataIndex=-1;for(var o=0,s=t.count();o<s;o++)r[t.getRawIndex(o)].dataIndex=o;n.filterSelf(function(t){var r=a[n.getRawIndex(t)];return r.node1.dataIndex>=0&&r.node2.dataIndex>=0});for(var o=0,s=a.length;o<s;o++)a[o].dataIndex=-1;for(var o=0,s=n.count();o<s;o++)a[n.getRawIndex(o)].dataIndex=o},t.prototype.clone=function(){for(var n=new t(this._directed),r=this.nodes,a=this.edges,o=0;o<r.length;o++)n.addNode(r[o].id,r[o].dataIndex);for(var o=0;o<a.length;o++){var s=a[o];n.addEdge(s.node1.id,s.node2.id,s.dataIndex)}return n},t}(),GraphNode=function(){function t(t,n){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??``,this.dataIndex=n??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},n=0;n<this.edges.length;n++){var r=this.edges[n];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},t.prototype.getTrajectoryDataIndices=function(){for(var t=createHashMap(),n=createHashMap(),r=0;r<this.edges.length;r++){var a=this.edges[r];if(!(a.dataIndex<0)){t.set(a.dataIndex,!0);for(var o=[a.node1],s=[a.node2],c=0;c<o.length;){var l=o[c];c++,n.set(l.dataIndex,!0);for(var u=0;u<l.inEdges.length;u++)t.set(l.inEdges[u].dataIndex,!0),o.push(l.inEdges[u].node1)}for(c=0;c<s.length;){var d=s[c];c++,n.set(d.dataIndex,!0);for(var u=0;u<d.outEdges.length;u++)t.set(d.outEdges[u].dataIndex,!0),s.push(d.outEdges[u].node2)}}}return{edge:t.keys(),node:n.keys()}},t}(),GraphEdge=function(){function t(t,n,r){this.dataIndex=-1,this.node1=t,this.node2=n,this.dataIndex=r??-1}return t.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var t=createHashMap(),n=createHashMap();t.set(this.dataIndex,!0);for(var r=[this.node1],a=[this.node2],o=0;o<r.length;){var s=r[o];o++,n.set(s.dataIndex,!0);for(var c=0;c<s.inEdges.length;c++)t.set(s.inEdges[c].dataIndex,!0),r.push(s.inEdges[c].node1)}for(o=0;o<a.length;){var l=a[o];o++,n.set(l.dataIndex,!0);for(var c=0;c<l.outEdges.length;c++)t.set(l.outEdges[c].dataIndex,!0),a.push(l.outEdges[c].node2)}return{edge:t.keys(),node:n.keys()}},t}();function createGraphDataProxyMixin(t,n){return{getValue:function(r){var a=this[t][n];return a.getStore().get(a.getDimensionIndex(r||`value`),this.dataIndex)},setVisual:function(r,a){this.dataIndex>=0&&this[t][n].setItemVisual(this.dataIndex,r,a)},getVisual:function(r){return this[t][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,a){this.dataIndex>=0&&this[t][n].setItemLayout(this.dataIndex,r,a)},getLayout:function(){return this[t][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin(`hostGraph`,`data`)),mixin(GraphEdge,createGraphDataProxyMixin(`hostGraph`,`edgeData`));var Graph_default=Graph;function createGraphFromNodeEdge(t,n,r,a,o){for(var s=new Graph_default(a),c=0;c<t.length;c++)s.addNode(retrieve(t[c].id,t[c].name,c),c);for(var l=[],u=[],d=0,c=0;c<n.length;c++){var f=n[c],p=f.source,g=f.target;s.addEdge(p,g,d)&&(u.push(f),l.push(retrieve(convertOptionIdName(f.id,null),p+` > `+g)),d++)}var _=r.get(`coordinateSystem`),v;if(_===`cartesian2d`||_===`polar`)v=createSeriesData_default(t,r);else{var y=CoordinateSystem_default.get(_),b=y&&y.dimensions||[];indexOf(b,`value`)<0&&b.concat([`value`]);var x=prepareSeriesDataSchema(t,{coordDimensions:b,encodeDefine:r.getEncode()}).dimensions;v=new SeriesData_default(x,r),v.initData(t)}var S=new SeriesData_default([`value`],r);return S.initData(u,l),o&&o(v,S),linkSeriesData_default({mainData:v,struct:s,structAttr:`graph`,datas:{node:v,edge:S},datasAttr:{node:`data`,edge:`edgeData`}}),s.update(),s}var GraphSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(n){t.prototype.init.apply(this,arguments);var r=this;function a(){return r._categoriesData}this.legendVisualProvider=new LegendVisualProvider_default(a,a),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},n.prototype.mergeOption=function(n){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(n.edges||n.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(n){t.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(n,`edgeLabel`,[`show`])},n.prototype.getInitialData=function(t,n){var r=t.edges||t.links||[],a=t.data||t.nodes||[],o=this;if(a&&r){initCurvenessList(this);var s=createGraphFromNodeEdge(a,r,this,!0,c);return each$15(s.edges,function(t){createEdgeMapForCurveness(t.node1,t.node2,this,t.dataIndex)},this),s.data}function c(t,n){t.wrapMethod(`getItemModel`,function(t){var n=o._categoriesModels[t.getShallow(`category`)];return n&&(n.parentModel=t.parentModel,t.parentModel=n),t});var r=Model_default.prototype.getModel;function a(t,n){var a=r.call(this,t,n);return a.resolveParentPath=s,a}n.wrapMethod(`getItemModel`,function(t){return t.resolveParentPath=s,t.getModel=a,t});function s(t){if(t&&(t[0]===`label`||t[1]===`label`)){var n=t.slice();return t[0]===`label`?n[0]=`edgeLabel`:t[1]===`label`&&(n[1]=`edgeLabel`),n}return t}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(t,n,r){if(r===`edge`){var a=this.getData(),o=this.getDataParams(t,r),s=a.graph.getEdgeByIndex(t),c=a.getName(s.node1.dataIndex),l=a.getName(s.node2.dataIndex),u=[];return c!=null&&u.push(c),l!=null&&u.push(l),createTooltipMarkup(`nameValue`,{name:u.join(` > `),value:o.value,noValue:o.value==null})}return defaultSeriesFormatTooltip({series:this,dataIndex:t,multipleSeries:n})},n.prototype._updateCategoriesData=function(){var t=map$1(this.option.categories||[],function(t){return t.value==null?extend({value:0},t):t}),n=new SeriesData_default([`value`],this);n.initData(t),this._categoriesData=n,this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t)})},n.prototype.setZoom=function(t){this.option.zoom=t},n.prototype.setCenter=function(t){this.option.center=t},n.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get(`layout`)===`force`&&this.get([`force`,`layoutAnimation`]))},n.type=`series.graph`,n.dependencies=[`grid`,`polar`,`geo`,`singleAxis`,`calendar`],n.defaultOption={z:2,coordinateSystem:`view`,legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:`center`,top:`center`,symbol:`circle`,symbolSize:10,edgeSymbol:[`none`,`none`],edgeSymbolSize:10,edgeLabel:{position:`middle`,distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:`{b}`},itemStyle:{},lineStyle:{color:`#aaa`,width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:`#212121`}}},n}(Series_default),actionInfo={type:`graphRoam`,event:`graphRoam`,update:`none`};function install$15(t){t.registerChartView(GraphView_default),t.registerSeriesModel(GraphSeries_default),t.registerProcessor(categoryFilter),t.registerVisual(categoryVisual),t.registerVisual(graphEdgeVisual),t.registerLayout(graphSimpleLayout),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),t.registerLayout(graphForceLayout),t.registerCoordinateSystem(`graphView`,{dimensions:View_default.dimensions,create:createViewCoordSys}),t.registerAction({type:`focusNodeAdjacency`,event:`focusNodeAdjacency`,update:`series:focusNodeAdjacency`},noop),t.registerAction({type:`unfocusNodeAdjacency`,event:`unfocusNodeAdjacency`,update:`series:unfocusNodeAdjacency`},noop),t.registerAction(actionInfo,function(t,n,r){n.eachComponent({mainType:`series`,query:t},function(n){var a=n.coordinateSystem,o=updateCenterAndZoom(a,t,void 0,r);n.setCenter&&n.setCenter(o.center),n.setZoom&&n.setZoom(o.zoom)})})}var PointerShape=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),PointerPath_default=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`pointer`,r}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(t,n){var r=Math.cos,a=Math.sin,o=n.r,s=n.width,c=n.angle,l=n.x-r(c)*s*(s>=o/3?1:2),u=n.y-a(c)*s*(s>=o/3?1:2);c=n.angle-Math.PI/2,t.moveTo(l,u),t.lineTo(n.x+r(c)*s,n.y+a(c)*s),t.lineTo(n.x+r(n.angle)*o,n.y+a(n.angle)*o),t.lineTo(n.x-r(c)*s,n.y-a(c)*s),t.lineTo(l,u)},n}(Path_default);function parsePosition(t,n){var r=t.get(`center`),a=n.getWidth(),o=n.getHeight(),s=Math.min(a,o);return{cx:parsePercent(r[0],n.getWidth()),cy:parsePercent(r[1],n.getHeight()),r:parsePercent(t.get(`radius`),s/2)}}function formatLabel(t,n){var r=t==null?``:t+``;return n&&(isString(n)?r=n.replace(`{value}`,r):isFunction(n)&&(r=n(t))),r}var GaugeView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){this.group.removeAll();var a=t.get([`axisLine`,`lineStyle`,`color`]),o=parsePosition(t,r);this._renderMain(t,n,r,a,o),this._data=t.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(t,n,r,a,o){var s=this.group,c=t.get(`clockwise`),l=-t.get(`startAngle`)/180*Math.PI,u=-t.get(`endAngle`)/180*Math.PI,d=t.getModel(`axisLine`),f=d.get(`roundCap`)?sausage_default:Sector_default,p=d.get(`show`),g=d.getModel(`lineStyle`),_=g.get(`width`),v=[l,u];normalizeArcAngles(v,!c),l=v[0],u=v[1];for(var y=u-l,b=l,x=[],S=0;p&&S<a.length;S++){var C=Math.min(Math.max(a[S][0],0),1);u=l+y*C;var w=new f({shape:{startAngle:b,endAngle:u,cx:o.cx,cy:o.cy,clockwise:c,r0:o.r-_,r:o.r},silent:!0});w.setStyle({fill:a[S][1]}),w.setStyle(g.getLineStyle([`color`,`width`])),x.push(w),b=u}x.reverse(),each$15(x,function(t){return s.add(t)});var T=function(t){if(t<=0)return a[0][1];var n;for(n=0;n<a.length;n++)if(a[n][0]>=t&&(n===0?0:a[n-1][0])<t)return a[n][1];return a[n-1][1]};this._renderTicks(t,n,r,T,o,l,u,c,_),this._renderTitleAndDetail(t,n,r,T,o),this._renderAnchor(t,o),this._renderPointer(t,n,r,T,o,l,u,c,_)},n.prototype._renderTicks=function(t,n,r,a,o,s,c,l,u){for(var d=this.group,f=o.cx,p=o.cy,g=o.r,_=+t.get(`min`),v=+t.get(`max`),y=t.getModel(`splitLine`),b=t.getModel(`axisTick`),x=t.getModel(`axisLabel`),S=t.get(`splitNumber`),C=b.get(`splitNumber`),w=parsePercent(y.get(`length`),g),T=parsePercent(b.get(`length`),g),E=s,D=(c-s)/S,O=D/C,A=y.getModel(`lineStyle`).getLineStyle(),j=b.getModel(`lineStyle`).getLineStyle(),M=y.get(`distance`),N,P,F=0;F<=S;F++){if(N=Math.cos(E),P=Math.sin(E),y.get(`show`)){var I=M?M+u:u,L=new Line_default$1({shape:{x1:N*(g-I)+f,y1:P*(g-I)+p,x2:N*(g-w-I)+f,y2:P*(g-w-I)+p},style:A,silent:!0});A.stroke===`auto`&&L.setStyle({stroke:a(F/S)}),d.add(L)}if(x.get(`show`)){var I=x.get(`distance`)+M,R=formatLabel(round$3(F/S*(v-_)+_),x.get(`formatter`)),z=a(F/S),B=N*(g-w-I)+f,V=P*(g-w-I)+p,H=x.get(`rotate`),U=0;H===`radial`?(U=-E+2*Math.PI,U>Math.PI/2&&(U+=Math.PI)):H===`tangential`?U=-E-Math.PI/2:isNumber(H)&&(U=H*Math.PI/180),U===0?d.add(new Text_default({style:createTextStyle$1(x,{text:R,x:B,y:V,verticalAlign:P<-.8?`top`:P>.8?`bottom`:`middle`,align:N<-.4?`left`:N>.4?`right`:`center`},{inheritColor:z}),silent:!0})):d.add(new Text_default({style:createTextStyle$1(x,{text:R,x:B,y:V,verticalAlign:`middle`,align:`center`},{inheritColor:z}),silent:!0,originX:B,originY:V,rotation:U}))}if(b.get(`show`)&&F!==S){var I=b.get(`distance`);I=I?I+u:u;for(var W=0;W<=C;W++){N=Math.cos(E),P=Math.sin(E);var G=new Line_default$1({shape:{x1:N*(g-I)+f,y1:P*(g-I)+p,x2:N*(g-T-I)+f,y2:P*(g-T-I)+p},silent:!0,style:j});j.stroke===`auto`&&G.setStyle({stroke:a((F+W/C)/S)}),d.add(G),E+=O}E-=O}else E+=D}},n.prototype._renderPointer=function(t,n,r,a,o,s,c,l,u){var d=this.group,f=this._data,p=this._progressEls,g=[],_=t.get([`pointer`,`show`]),v=t.getModel(`progress`),y=v.get(`show`),b=t.getData(),x=b.mapDimension(`value`),S=+t.get(`min`),C=+t.get(`max`),w=[S,C],T=[s,c];function E(n,r){var a=b.getItemModel(n).getModel(`pointer`),s=parsePercent(a.get(`width`),o.r),c=parsePercent(a.get(`length`),o.r),l=t.get([`pointer`,`icon`]),u=a.get(`offsetCenter`),d=parsePercent(u[0],o.r),f=parsePercent(u[1],o.r),p=a.get(`keepAspect`),g=l?createSymbol$1(l,d-s/2,f-c,s,c,null,p):new PointerPath_default({shape:{angle:-Math.PI/2,width:s,r:c,x:d,y:f}});return g.rotation=-(r+Math.PI/2),g.x=o.cx,g.y=o.cy,g}function D(t,n){var r=v.get(`roundCap`)?sausage_default:Sector_default,a=v.get(`overlap`),c=a?v.get(`width`):u/b.count(),d=a?o.r-c:o.r-(t+1)*c,f=a?o.r:o.r-t*c,p=new r({shape:{startAngle:s,endAngle:n,cx:o.cx,cy:o.cy,clockwise:l,r0:d,r:f}});return a&&(p.z2=linearMap$2(b.get(x,t),[S,C],[100,0],!0)),p}(y||_)&&(b.diff(f).add(function(n){var r=b.get(x,n);if(_){var a=E(n,s);initProps(a,{rotation:-((isNaN(+r)?T[0]:linearMap$2(r,w,T,!0))+Math.PI/2)},t),d.add(a),b.setItemGraphicEl(n,a)}if(y){var o=D(n,s);initProps(o,{shape:{endAngle:linearMap$2(r,w,T,v.get(`clip`))}},t),d.add(o),setCommonECData(t.seriesIndex,b.dataType,n,o),g[n]=o}}).update(function(n,r){var a=b.get(x,n);if(_){var o=f.getItemGraphicEl(r),c=o?o.rotation:s,l=E(n,c);l.rotation=c,updateProps$1(l,{rotation:-((isNaN(+a)?T[0]:linearMap$2(a,w,T,!0))+Math.PI/2)},t),d.add(l),b.setItemGraphicEl(n,l)}if(y){var u=p[r],S=D(n,u?u.shape.endAngle:s);updateProps$1(S,{shape:{endAngle:linearMap$2(a,w,T,v.get(`clip`))}},t),d.add(S),setCommonECData(t.seriesIndex,b.dataType,n,S),g[n]=S}}).execute(),b.each(function(t){var n=b.getItemModel(t),r=n.getModel(`emphasis`),o=r.get(`focus`),s=r.get(`blurScope`),c=r.get(`disabled`);if(_){var l=b.getItemGraphicEl(t),u=b.getItemVisual(t,`style`),d=u.fill;if(l instanceof Image_default){var f=l.style;l.useStyle(extend({image:f.image,x:f.x,y:f.y,width:f.width,height:f.height},u))}else l.useStyle(u),l.type!==`pointer`&&l.setColor(d);l.setStyle(n.getModel([`pointer`,`itemStyle`]).getItemStyle()),l.style.fill===`auto`&&l.setStyle(`fill`,a(linearMap$2(b.get(x,t),w,[0,1],!0))),l.z2EmphasisLift=0,setStatesStylesFromModel(l,n),toggleHoverEmphasis(l,o,s,c)}if(y){var p=g[t];p.useStyle(b.getItemVisual(t,`style`)),p.setStyle(n.getModel([`progress`,`itemStyle`]).getItemStyle()),p.z2EmphasisLift=0,setStatesStylesFromModel(p,n),toggleHoverEmphasis(p,o,s,c)}}),this._progressEls=g)},n.prototype._renderAnchor=function(t,n){var r=t.getModel(`anchor`);if(r.get(`show`)){var a=r.get(`size`),o=r.get(`icon`),s=r.get(`offsetCenter`),c=r.get(`keepAspect`),l=createSymbol$1(o,n.cx-a/2+parsePercent(s[0],n.r),n.cy-a/2+parsePercent(s[1],n.r),a,a,null,c);l.z2=r.get(`showAbove`)?1:0,l.setStyle(r.getModel(`itemStyle`).getItemStyle()),this.group.add(l)}},n.prototype._renderTitleAndDetail=function(t,n,r,a,o){var s=this,c=t.getData(),l=c.mapDimension(`value`),u=+t.get(`min`),d=+t.get(`max`),f=new Group_default,p=[],g=[],_=t.isAnimationEnabled(),v=t.get([`pointer`,`showAbove`]);c.diff(this._data).add(function(t){p[t]=new Text_default({silent:!0}),g[t]=new Text_default({silent:!0})}).update(function(t,n){p[t]=s._titleEls[n],g[t]=s._detailEls[n]}).execute(),c.each(function(n){var r=c.getItemModel(n),s=c.get(l,n),y=new Group_default,b=a(linearMap$2(s,[u,d],[0,1],!0)),x=r.getModel(`title`);if(x.get(`show`)){var S=x.get(`offsetCenter`),C=o.cx+parsePercent(S[0],o.r),w=o.cy+parsePercent(S[1],o.r),T=p[n];T.attr({z2:v?0:2,style:createTextStyle$1(x,{x:C,y:w,text:c.getName(n),align:`center`,verticalAlign:`middle`},{inheritColor:b})}),y.add(T)}var E=r.getModel(`detail`);if(E.get(`show`)){var D=E.get(`offsetCenter`),O=o.cx+parsePercent(D[0],o.r),A=o.cy+parsePercent(D[1],o.r),j=parsePercent(E.get(`width`),o.r),M=parsePercent(E.get(`height`),o.r),N=t.get([`progress`,`show`])?c.getItemVisual(n,`style`).fill:b,T=g[n],P=E.get(`formatter`);T.attr({z2:v?0:2,style:createTextStyle$1(E,{x:O,y:A,text:formatLabel(s,P),width:isNaN(j)?null:j,height:isNaN(M)?null:M,align:`center`,verticalAlign:`middle`},{inheritColor:N})}),setLabelValueAnimation(T,{normal:E},s,function(t){return formatLabel(t,P)}),_&&animateLabelValue(T,n,c,t,{getFormattedLabel:function(t,n,r,a,o,c){return formatLabel(c?c.interpolatedValue:s,P)}}),y.add(T)}f.add(y)}),this.group.add(f),this._titleEls=p,this._detailEls=g},n.type=`gauge`,n}(Chart_default),GaugeSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath=`itemStyle`,r}return n.prototype.getInitialData=function(t,n){return createSeriesDataSimply(this,[`value`])},n.type=`series.gauge`,n.defaultOption={z:2,colorBy:`data`,center:[`50%`,`50%`],legendHoverLink:!0,radius:`75%`,startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,`#E6EBF8`]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:`#63677A`,width:3,type:`solid`}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:`#63677A`,width:1,type:`solid`}},axisLabel:{show:!0,distance:15,color:`#464646`,fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:`60%`,width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:`circle`,offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:`#fff`,borderWidth:0,borderColor:`#5470c6`}},title:{show:!0,offsetCenter:[0,`20%`],color:`#464646`,fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:`rgba(0,0,0,0)`,borderWidth:0,borderColor:`#ccc`,width:100,height:null,padding:[5,10],offsetCenter:[0,`40%`],color:`#464646`,fontSize:30,fontWeight:`bold`,lineHeight:30,valueAnimation:!1}},n}(Series_default);function install$14(t){t.registerChartView(GaugeView_default),t.registerSeriesModel(GaugeSeries_default)}var opacityAccessPath$1=[`itemStyle`,`opacity`],FunnelPiece=function(t){__extends(n,t);function n(n,r){var a=t.call(this)||this,o=a,s=new Polyline_default$1,c=new Text_default;return o.setTextContent(c),a.setTextGuideLine(s),a.updateData(n,r,!0),a}return n.prototype.updateData=function(t,n,r){var a=this,o=t.hostModel,s=t.getItemModel(n),c=t.getItemLayout(n),l=s.getModel(`emphasis`),u=s.get(opacityAccessPath$1);u??=1,r||saveOldStyle(a),a.useStyle(t.getItemVisual(n,`style`)),a.style.lineJoin=`round`,r?(a.setShape({points:c.points}),a.style.opacity=0,initProps(a,{style:{opacity:u}},o,n)):updateProps$1(a,{style:{opacity:u},shape:{points:c.points}},o,n),setStatesStylesFromModel(a,s),this._updateLabel(t,n),toggleHoverEmphasis(this,l.get(`focus`),l.get(`blurScope`),l.get(`disabled`))},n.prototype._updateLabel=function(t,n){var r=this,a=this.getTextGuideLine(),o=r.getTextContent(),s=t.hostModel,c=t.getItemModel(n),l=t.getItemLayout(n).label,u=t.getItemVisual(n,`style`),d=u.fill;setLabelStyle(o,getLabelStatesModels(c),{labelFetcher:t.hostModel,labelDataIndex:n,defaultOpacity:u.opacity,defaultText:t.getName(n)},{normal:{align:l.textAlign,verticalAlign:l.verticalAlign}}),r.setTextConfig({local:!0,inside:!!l.inside,insideStroke:d,outsideFill:d});var f=l.linePoints;a.setShape({points:f}),r.textGuideLineConfig={anchor:f?new Point_default(f[0][0],f[0][1]):null},updateProps$1(o,{style:{x:l.x,y:l.y}},s,n),o.attr({rotation:l.rotation,originX:l.x,originY:l.y,z2:10}),setLabelLineStyle(r,getLabelLineStatesModels(c),{stroke:d})},n}(Polygon_default),FunnelView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(t,n,r){var a=t.getData(),o=this._data,s=this.group;a.diff(o).add(function(t){var n=new FunnelPiece(a,t);a.setItemGraphicEl(t,n),s.add(n)}).update(function(t,n){var r=o.getItemGraphicEl(n);r.updateData(a,t),s.add(r),a.setItemGraphicEl(t,r)}).remove(function(n){removeElementWithFadeOut(o.getItemGraphicEl(n),t,n)}).execute(),this._data=a},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type=`funnel`,n}(Chart_default),FunnelSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},n.prototype.getInitialData=function(t,n){return createSeriesDataSimply(this,{coordDimensions:[`value`],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(t){defaultEmphasis(t,`labelLine`,[`show`]);var n=t.labelLine,r=t.emphasis.labelLine;n.show=n.show&&t.label.show,r.show=r.show&&t.emphasis.label.show},n.prototype.getDataParams=function(n){var r=this.getData(),a=t.prototype.getDataParams.call(this,n),o=r.mapDimension(`value`),s=r.getSum(o);return a.percent=s?+(r.get(o,n)/s*100).toFixed(2):0,a.$vars.push(`percent`),a},n.type=`series.funnel`,n.defaultOption={z:2,legendHoverLink:!0,colorBy:`data`,left:80,top:60,right:80,bottom:60,minSize:`0%`,maxSize:`100%`,sort:`descending`,orient:`vertical`,gap:0,funnelAlign:`center`,label:{show:!0,position:`outer`},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:`#fff`,borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:`#212121`}}},n}(Series_default);function getViewRect$1(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(t,n){for(var r=t.mapDimension(`value`),a=t.mapArray(r,function(t){return t}),o=[],s=n===`ascending`,c=0,l=t.count();c<l;c++)o[c]=c;return isFunction(n)?o.sort(n):n!==`none`&&o.sort(function(t,n){return s?a[t]-a[n]:a[n]-a[t]}),o}function labelLayout(t){var n=t.hostModel.get(`orient`);t.each(function(r){var a=t.getItemModel(r),o=a.getModel(`label`).get(`position`),s=a.getModel(`labelLine`),c=t.getItemLayout(r),l=c.points,u=o===`inner`||o===`inside`||o===`center`||o===`insideLeft`||o===`insideRight`,d,f,p,g;if(u)o===`insideLeft`?(f=(l[0][0]+l[3][0])/2+5,p=(l[0][1]+l[3][1])/2,d=`left`):o===`insideRight`?(f=(l[1][0]+l[2][0])/2-5,p=(l[1][1]+l[2][1])/2,d=`right`):(f=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,p=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4,d=`center`),g=[[f,p],[f,p]];else{var _=void 0,v=void 0,y=void 0,b=void 0,x=s.get(`length`);o===`left`?(_=(l[3][0]+l[0][0])/2,v=(l[3][1]+l[0][1])/2,y=_-x,f=y-5,d=`right`):o===`right`?(_=(l[1][0]+l[2][0])/2,v=(l[1][1]+l[2][1])/2,y=_+x,f=y+5,d=`left`):o===`top`?(_=(l[3][0]+l[0][0])/2,v=(l[3][1]+l[0][1])/2,b=v-x,p=b-5,d=`center`):o===`bottom`?(_=(l[1][0]+l[2][0])/2,v=(l[1][1]+l[2][1])/2,b=v+x,p=b+5,d=`center`):o===`rightTop`?(_=n===`horizontal`?l[3][0]:l[1][0],v=n===`horizontal`?l[3][1]:l[1][1],n===`horizontal`?(b=v-x,p=b-5,d=`center`):(y=_+x,f=y+5,d=`top`)):o===`rightBottom`?(_=l[2][0],v=l[2][1],n===`horizontal`?(b=v+x,p=b+5,d=`center`):(y=_+x,f=y+5,d=`bottom`)):o===`leftTop`?(_=l[0][0],v=n===`horizontal`?l[0][1]:l[1][1],n===`horizontal`?(b=v-x,p=b-5,d=`center`):(y=_-x,f=y-5,d=`right`)):o===`leftBottom`?(_=n===`horizontal`?l[1][0]:l[3][0],v=n===`horizontal`?l[1][1]:l[2][1],n===`horizontal`?(b=v+x,p=b+5,d=`center`):(y=_-x,f=y-5,d=`right`)):(_=(l[1][0]+l[2][0])/2,v=(l[1][1]+l[2][1])/2,n===`horizontal`?(b=v+x,p=b+5,d=`center`):(y=_+x,f=y+5,d=`left`)),n===`horizontal`?(y=_,f=y):(b=v,p=b),g=[[_,v],[y,b]]}c.label={linePoints:g,x:f,y:p,verticalAlign:`middle`,textAlign:d,inside:u}})}function funnelLayout(t,n){t.eachSeriesByType(`funnel`,function(t){var r=t.getData(),a=r.mapDimension(`value`),o=t.get(`sort`),s=getViewRect$1(t,n),c=t.get(`orient`),l=s.width,u=s.height,d=getSortedIndices(r,o),f=s.x,p=s.y,g=c===`horizontal`?[parsePercent(t.get(`minSize`),u),parsePercent(t.get(`maxSize`),u)]:[parsePercent(t.get(`minSize`),l),parsePercent(t.get(`maxSize`),l)],_=r.getDataExtent(a),v=t.get(`min`),y=t.get(`max`);v??=Math.min(_[0],0),y??=_[1];var b=t.get(`funnelAlign`),x=t.get(`gap`),S=((c===`horizontal`?l:u)-x*(r.count()-1))/r.count(),C=function(t,n){if(c===`horizontal`){var o=linearMap$2(r.get(a,t)||0,[v,y],g,!0),s=void 0;switch(b){case`top`:s=p;break;case`center`:s=p+(u-o)/2;break;case`bottom`:s=p+(u-o);break}return[[n,s],[n,s+o]]}var d=linearMap$2(r.get(a,t)||0,[v,y],g,!0),_;switch(b){case`left`:_=f;break;case`center`:_=f+(l-d)/2;break;case`right`:_=f+l-d;break}return[[_,n],[_+d,n]]};o===`ascending`&&(S=-S,x=-x,c===`horizontal`?f+=l:p+=u,d=d.reverse());for(var w=0;w<d.length;w++){var T=d[w],E=d[w+1],D=r.getItemModel(T);if(c===`horizontal`){var O=D.get([`itemStyle`,`width`]);O==null?O=S:(O=parsePercent(O,l),o===`ascending`&&(O=-O));var A=C(T,f),j=C(E,f+O);f+=O+x,r.setItemLayout(T,{points:A.concat(j.slice().reverse())})}else{var M=D.get([`itemStyle`,`height`]);M==null?M=S:(M=parsePercent(M,u),o===`ascending`&&(M=-M));var A=C(T,p),j=C(E,p+M);p+=M+x,r.setItemLayout(T,{points:A.concat(j.slice().reverse())})}}labelLayout(r)})}function install$13(t){t.registerChartView(FunnelView_default),t.registerSeriesModel(FunnelSeries_default),t.registerLayout(funnelLayout),t.registerProcessor(dataFilter(`funnel`))}var DEFAULT_SMOOTH=.3,ParallelView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new Group_default,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(t,n,r,a){this._progressiveEls=null;var o=this._dataGroup,s=t.getData(),c=this._data,l=t.coordinateSystem,u=l.dimensions,d=makeSeriesScope(t);s.diff(c).add(f).update(p).remove(g).execute();function f(t){updateElCommon(addEl(s,o,t,u,l),s,t,d)}function p(n,r){var a=c.getItemGraphicEl(r),o=createLinePoints(s,n,u,l);s.setItemGraphicEl(n,a),updateProps$1(a,{shape:{points:o}},t,n),saveOldStyle(a),updateElCommon(a,s,n,d)}function g(t){var n=c.getItemGraphicEl(t);o.remove(n)}if(!this._initialized){this._initialized=!0;var _=createGridClipShape$2(l,t,function(){setTimeout(function(){o.removeClipPath()})});o.setClipPath(_)}this._data=s},n.prototype.incrementalPrepareRender=function(t,n,r){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(t,n,r){for(var a=n.getData(),o=n.coordinateSystem,s=o.dimensions,c=makeSeriesScope(n),l=this._progressiveEls=[],u=t.start;u<t.end;u++){var d=addEl(a,this._dataGroup,u,s,o);d.incremental=!0,updateElCommon(d,a,u,c),l.push(d)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type=`parallel`,n}(Chart_default);function createGridClipShape$2(t,n,r){var a=t.model,o=t.getRect(),s=new Rect_default({shape:{x:o.x,y:o.y,width:o.width,height:o.height}}),c=a.get(`layout`)===`horizontal`?`width`:`height`;return s.setShape(c,0),initProps(s,{shape:{width:o.width,height:o.height}},n,r),s}function createLinePoints(t,n,r,a){for(var o=[],s=0;s<r.length;s++){var c=r[s],l=t.get(t.mapDimension(c),n);isEmptyValue(l,a.getAxis(c).type)||o.push(a.dataToPoint(l,c))}return o}function addEl(t,n,r,a,o){var s=new Polyline_default$1({shape:{points:createLinePoints(t,r,a,o)},z2:10});return n.add(s),t.setItemGraphicEl(r,s),s}function makeSeriesScope(t){var n=t.get(`smooth`,!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(t,n,r,a){t.useStyle(n.getItemVisual(r,`style`)),t.style.fill=null,t.setShape(`smooth`,a.smooth);var o=n.getItemModel(r),s=o.getModel(`emphasis`);setStatesStylesFromModel(t,o,`lineStyle`),toggleHoverEmphasis(t,s.get(`focus`),s.get(`blurScope`),s.get(`disabled`))}function isEmptyValue(t,n){return n===`category`?t==null:t==null||isNaN(t)}var ParallelView_default=ParallelView,ParallelSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath=`lineStyle`,r.visualDrawType=`stroke`,r}return n.prototype.getInitialData=function(t,n){return createSeriesData_default(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(t){var n=this.coordinateSystem,r=this.getData(),a=[];return n.eachActiveState(r,function(n,o){t===n&&a.push(r.getRawIndex(o))}),a},n.type=`series.parallel`,n.dependencies=[`parallel`],n.defaultOption={z:2,coordinateSystem:`parallel`,parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:`solid`},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:`linear`},n}(Series_default);function makeDefaultEncode(t){var n=t.ecModel.getComponent(`parallel`,t.get(`parallelIndex`));if(n){var r={};return each$15(n.dimensions,function(t){r[t]=convertDimNameToNumber(t)}),r}}function convertDimNameToNumber(t){return+t.replace(`dim`,``)}var ParallelSeries_default=ParallelSeriesModel,opacityAccessPath=[`lineStyle`,`opacity`],parallelVisual_default={seriesType:`parallel`,reset:function(t,n){var r=t.coordinateSystem,a={normal:t.get([`lineStyle`,`opacity`]),active:t.get(`activeOpacity`),inactive:t.get(`inactiveOpacity`)};return{progress:function(t,n){r.eachActiveState(n,function(t,r){var o=a[t];if(t===`normal`&&n.hasItemOption){var s=n.getItemModel(r).get(opacityAccessPath,!0);s!=null&&(o=s)}var c=n.ensureUniqueItemVisual(r,`style`);c.opacity=o},t.start,t.end)}}}};function install$12(t){use(install$47),t.registerChartView(ParallelView_default),t.registerSeriesModel(ParallelSeries_default),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,parallelVisual_default)}var SankeyPathShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),SankeyPath=function(t){__extends(n,t);function n(n){return t.call(this,n)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(t,n){var r=n.extent;t.moveTo(n.x1,n.y1),t.bezierCurveTo(n.cpx1,n.cpy1,n.cpx2,n.cpy2,n.x2,n.y2),n.orient===`vertical`?(t.lineTo(n.x2+r,n.y2),t.bezierCurveTo(n.cpx2+r,n.cpy2,n.cpx1+r,n.cpy1,n.x1+r,n.y1)):(t.lineTo(n.x2,n.y2+r),t.bezierCurveTo(n.cpx2,n.cpy2+r,n.cpx1,n.cpy1+r,n.x1,n.y1+r)),t.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path_default),SankeyView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._focusAdjacencyDisabled=!1,r}return n.prototype.render=function(t,n,r){var a=this,o=t.getGraph(),s=this.group,c=t.layoutInfo,l=c.width,u=c.height,d=t.getData(),f=t.getData(`edge`),p=t.get(`orient`);this._model=t,s.removeAll(),s.x=c.x,s.y=c.y,o.eachEdge(function(n){var r=new SankeyPath,a=getECData(r);a.dataIndex=n.dataIndex,a.seriesIndex=t.seriesIndex,a.dataType=`edge`;var o=n.getModel(),c=o.getModel(`lineStyle`),d=c.get(`curveness`),g=n.node1.getLayout(),_=n.node1.getModel(),v=_.get(`localX`),y=_.get(`localY`),b=n.node2.getLayout(),x=n.node2.getModel(),S=x.get(`localX`),C=x.get(`localY`),w=n.getLayout(),T,E,D,O,A,j,M,N;r.shape.extent=Math.max(1,w.dy),r.shape.orient=p,p===`vertical`?(T=(v==null?g.x:v*l)+w.sy,E=(y==null?g.y:y*u)+g.dy,D=(S==null?b.x:S*l)+w.ty,O=C==null?b.y:C*u,A=T,j=E*(1-d)+O*d,M=D,N=E*d+O*(1-d)):(T=(v==null?g.x:v*l)+g.dx,E=(y==null?g.y:y*u)+w.sy,D=S==null?b.x:S*l,O=(C==null?b.y:C*u)+w.ty,A=T*(1-d)+D*d,j=E,M=T*d+D*(1-d),N=O),r.setShape({x1:T,y1:E,x2:D,y2:O,cpx1:A,cpy1:j,cpx2:M,cpy2:N}),r.useStyle(c.getItemStyle()),applyCurveStyle(r.style,p,n);var P=``+o.get(`value`),F=getLabelStatesModels(o,`edgeLabel`);setLabelStyle(r,F,{labelFetcher:{getFormattedLabel:function(n,r,a,o,s,c){return t.getFormattedLabel(n,r,`edge`,o,retrieve3(s,F.normal&&F.normal.get(`formatter`),P),c)}},labelDataIndex:n.dataIndex,defaultText:P}),r.setTextConfig({position:`inside`});var I=o.getModel(`emphasis`);setStatesStylesFromModel(r,o,`lineStyle`,function(t){var r=t.getItemStyle();return applyCurveStyle(r,p,n),r}),s.add(r),f.setItemGraphicEl(n.dataIndex,r);var L=I.get(`focus`);toggleHoverEmphasis(r,L===`adjacency`?n.getAdjacentDataIndices():L===`trajectory`?n.getTrajectoryDataIndices():L,I.get(`blurScope`),I.get(`disabled`))}),o.eachNode(function(n){var r=n.getLayout(),a=n.getModel(),o=a.get(`localX`),c=a.get(`localY`),f=a.getModel(`emphasis`),p=a.get([`itemStyle`,`borderRadius`])||0,g=new Rect_default({shape:{x:o==null?r.x:o*l,y:c==null?r.y:c*u,width:r.dx,height:r.dy,r:p},style:a.getModel(`itemStyle`).getItemStyle(),z2:10});setLabelStyle(g,getLabelStatesModels(a),{labelFetcher:{getFormattedLabel:function(n,r){return t.getFormattedLabel(n,r,`node`)}},labelDataIndex:n.dataIndex,defaultText:n.id}),g.disableLabelAnimation=!0,g.setStyle(`fill`,n.getVisual(`color`)),g.setStyle(`decal`,n.getVisual(`style`).decal),setStatesStylesFromModel(g,a),s.add(g),d.setItemGraphicEl(n.dataIndex,g),getECData(g).dataType=`node`;var _=f.get(`focus`);toggleHoverEmphasis(g,_===`adjacency`?n.getAdjacentDataIndices():_===`trajectory`?n.getTrajectoryDataIndices():_,f.get(`blurScope`),f.get(`disabled`))}),d.eachItemGraphicEl(function(n,o){d.getItemModel(o).get(`draggable`)&&(n.drift=function(n,s){a._focusAdjacencyDisabled=!0,this.shape.x+=n,this.shape.y+=s,this.dirty(),r.dispatchAction({type:`dragNode`,seriesId:t.id,dataIndex:d.getRawIndex(o),localX:this.shape.x/l,localY:this.shape.y/u})},n.ondragend=function(){a._focusAdjacencyDisabled=!1},n.draggable=!0,n.cursor=`move`)}),!this._data&&t.isAnimationEnabled()&&s.setClipPath(createGridClipShape$1(s.getBoundingRect(),t,function(){s.removeClipPath()})),this._data=t.getData()},n.prototype.dispose=function(){},n.type=`sankey`,n}(Chart_default);function applyCurveStyle(t,n,r){switch(t.fill){case`source`:t.fill=r.node1.getVisual(`color`),t.decal=r.node1.getVisual(`style`).decal;break;case`target`:t.fill=r.node2.getVisual(`color`),t.decal=r.node2.getVisual(`style`).decal;break;case`gradient`:var a=r.node1.getVisual(`color`),o=r.node2.getVisual(`color`);isString(a)&&isString(o)&&(t.fill=new LinearGradient_default(0,0,+(n===`horizontal`),+(n===`vertical`),[{color:a,offset:0},{color:o,offset:1}]))}}function createGridClipShape$1(t,n,r){var a=new Rect_default({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return initProps(a,{shape:{width:t.width+20}},n,r),a}var SankeyView_default=SankeyView,SankeySeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(t,n){var r=t.edges||t.links||[],a=t.data||t.nodes||[],o=t.levels||[];this.levelModels=[];for(var s=this.levelModels,c=0;c<o.length;c++)o[c].depth!=null&&o[c].depth>=0&&(s[o[c].depth]=new Model_default(o[c],this,n));return createGraphFromNodeEdge(a,r,this,!0,l).data;function l(t,n){t.wrapMethod(`getItemModel`,function(t,n){var r=t.parentModel,a=r.getData().getItemLayout(n);if(a){var o=a.depth,s=r.levelModels[o];s&&(t.parentModel=s)}return t}),n.wrapMethod(`getItemModel`,function(t,n){var r=t.parentModel,a=r.getGraph().getEdgeByIndex(n).node1.getLayout();if(a){var o=a.depth,s=r.levelModels[o];s&&(t.parentModel=s)}return t})}},n.prototype.setNodePosition=function(t,n){var r=(this.option.data||this.option.nodes)[t];r.localX=n[0],r.localY=n[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(t,n,r){function a(t){return isNaN(t)||t==null}if(r===`edge`){var o=this.getDataParams(t,r),s=o.data,c=o.value;return createTooltipMarkup(`nameValue`,{name:s.source+` -- `+s.target,value:c,noValue:a(c)})}else{var l=this.getGraph().getNodeByIndex(t).getLayout().value,u=this.getDataParams(t,r).data.name;return createTooltipMarkup(`nameValue`,{name:u==null?null:u+``,value:l,noValue:a(l)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(n,r){var a=t.prototype.getDataParams.call(this,n,r);return a.value==null&&r===`node`&&(a.value=this.getGraph().getNodeByIndex(n).getLayout().value),a},n.type=`series.sankey`,n.defaultOption={z:2,coordinateSystem:`view`,left:`5%`,top:`5%`,right:`20%`,bottom:`5%`,orient:`horizontal`,nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:`right`,fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:`justify`,lineStyle:{color:`#314656`,opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:`#212121`}},animationEasing:`linear`,animationDuration:1e3},n}(Series_default);function sankeyLayout(t,n){t.eachSeriesByType(`sankey`,function(t){var r=t.get(`nodeWidth`),a=t.get(`nodeGap`),o=getViewRect(t,n);t.layoutInfo=o;var s=o.width,c=o.height,l=t.getGraph(),u=l.nodes,d=l.edges;computeNodeValues(u),layoutSankey(u,d,r,a,s,c,filter(u,function(t){return t.getLayout().value===0}).length===0?t.get(`layoutIterations`):0,t.get(`orient`),t.get(`nodeAlign`))})}function getViewRect(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(t,n,r,a,o,s,c,l,u){computeNodeBreadths(t,n,r,o,s,l,u),computeNodeDepths(t,n,s,o,a,c,l),computeEdgeDepths(t,l)}function computeNodeValues(t){each$15(t,function(t){var n=sum(t.outEdges,getEdgeValue),r=sum(t.inEdges,getEdgeValue),a=t.getValue()||0,o=Math.max(n,r,a);t.setLayout({value:o},!0)})}function computeNodeBreadths(t,n,r,a,o,s,c){for(var l=[],u=[],d=[],f=[],p=0,g=0;g<n.length;g++)l[g]=1;for(var g=0;g<t.length;g++)u[g]=t[g].inEdges.length,u[g]===0&&d.push(t[g]);for(var _=-1;d.length;){for(var v=0;v<d.length;v++){var y=d[v],b=y.hostGraph.data.getRawDataItem(y.dataIndex),x=b.depth!=null&&b.depth>=0;x&&b.depth>_&&(_=b.depth),y.setLayout({depth:x?b.depth:p},!0),s===`vertical`?y.setLayout({dy:r},!0):y.setLayout({dx:r},!0);for(var S=0;S<y.outEdges.length;S++){var C=y.outEdges[S],w=n.indexOf(C);l[w]=0;var T=C.node2,E=t.indexOf(T);--u[E]===0&&f.indexOf(T)<0&&f.push(T)}}++p,d=f,f=[]}for(var g=0;g<l.length;g++)if(l[g]===1)throw Error(`Sankey is a DAG, the original data has cycle!`);var D=_>p-1?_:p-1;c&&c!==`left`&&adjustNodeWithNodeAlign(t,c,s,D),scaleNodeBreadths(t,s===`vertical`?(o-r)/D:(a-r)/D,s)}function isNodeDepth(t){var n=t.hostGraph.data.getRawDataItem(t.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(t,n,r,a){if(n===`right`){for(var o=[],s=t,c=0;s.length;){for(var l=0;l<s.length;l++){var u=s[l];u.setLayout({skNodeHeight:c},!0);for(var d=0;d<u.inEdges.length;d++){var f=u.inEdges[d];o.indexOf(f.node1)<0&&o.push(f.node1)}}s=o,o=[],++c}each$15(t,function(t){isNodeDepth(t)||t.setLayout({depth:Math.max(0,a-t.getLayout().skNodeHeight)},!0)})}else n===`justify`&&moveSinksRight(t,a)}function moveSinksRight(t,n){each$15(t,function(t){!isNodeDepth(t)&&!t.outEdges.length&&t.setLayout({depth:n},!0)})}function scaleNodeBreadths(t,n,r){each$15(t,function(t){var a=t.getLayout().depth*n;r===`vertical`?t.setLayout({y:a},!0):t.setLayout({x:a},!0)})}function computeNodeDepths(t,n,r,a,o,s,c){var l=prepareNodesByBreadth(t,c);initializeNodeDepth(l,n,r,a,o,c),resolveCollisions(l,o,r,a,c);for(var u=1;s>0;s--)u*=.99,relaxRightToLeft(l,u,c),resolveCollisions(l,o,r,a,c),relaxLeftToRight(l,u,c),resolveCollisions(l,o,r,a,c)}function prepareNodesByBreadth(t,n){var r=[],a=n===`vertical`?`y`:`x`,o=groupData(t,function(t){return t.getLayout()[a]});return o.keys.sort(function(t,n){return t-n}),each$15(o.keys,function(t){r.push(o.buckets.get(t))}),r}function initializeNodeDepth(t,n,r,a,o,s){var c=1/0;each$15(t,function(t){var n=t.length,l=0;each$15(t,function(t){l+=t.getLayout().value});var u=s===`vertical`?(a-(n-1)*o)/l:(r-(n-1)*o)/l;u<c&&(c=u)}),each$15(t,function(t){each$15(t,function(t,n){var r=t.getLayout().value*c;s===`vertical`?(t.setLayout({x:n},!0),t.setLayout({dx:r},!0)):(t.setLayout({y:n},!0),t.setLayout({dy:r},!0))})}),each$15(n,function(t){var n=+t.getValue()*c;t.setLayout({dy:n},!0)})}function resolveCollisions(t,n,r,a,o){var s=o===`vertical`?`x`:`y`;each$15(t,function(t){t.sort(function(t,n){return t.getLayout()[s]-n.getLayout()[s]});for(var c,l,u,d=0,f=t.length,p=o===`vertical`?`dx`:`dy`,g=0;g<f;g++)l=t[g],u=d-l.getLayout()[s],u>0&&(c=l.getLayout()[s]+u,o===`vertical`?l.setLayout({x:c},!0):l.setLayout({y:c},!0)),d=l.getLayout()[s]+l.getLayout()[p]+n;var _=o===`vertical`?a:r;if(u=d-n-_,u>0){c=l.getLayout()[s]-u,o===`vertical`?l.setLayout({x:c},!0):l.setLayout({y:c},!0),d=c;for(var g=f-2;g>=0;--g)l=t[g],u=l.getLayout()[s]+l.getLayout()[p]+n-d,u>0&&(c=l.getLayout()[s]-u,o===`vertical`?l.setLayout({x:c},!0):l.setLayout({y:c},!0)),d=l.getLayout()[s]}})}function relaxRightToLeft(t,n,r){each$15(t.slice().reverse(),function(t){each$15(t,function(t){if(t.outEdges.length){var a=sum(t.outEdges,weightedTarget,r)/sum(t.outEdges,getEdgeValue);if(isNaN(a)){var o=t.outEdges.length;a=o?sum(t.outEdges,centerTarget,r)/o:0}if(r===`vertical`){var s=t.getLayout().x+(a-center(t,r))*n;t.setLayout({x:s},!0)}else{var c=t.getLayout().y+(a-center(t,r))*n;t.setLayout({y:c},!0)}}})})}function weightedTarget(t,n){return center(t.node2,n)*t.getValue()}function centerTarget(t,n){return center(t.node2,n)}function weightedSource(t,n){return center(t.node1,n)*t.getValue()}function centerSource(t,n){return center(t.node1,n)}function center(t,n){return n===`vertical`?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function getEdgeValue(t){return t.getValue()}function sum(t,n,r){for(var a=0,o=t.length,s=-1;++s<o;){var c=+n(t[s],r);isNaN(c)||(a+=c)}return a}function relaxLeftToRight(t,n,r){each$15(t,function(t){each$15(t,function(t){if(t.inEdges.length){var a=sum(t.inEdges,weightedSource,r)/sum(t.inEdges,getEdgeValue);if(isNaN(a)){var o=t.inEdges.length;a=o?sum(t.inEdges,centerSource,r)/o:0}if(r===`vertical`){var s=t.getLayout().x+(a-center(t,r))*n;t.setLayout({x:s},!0)}else{var c=t.getLayout().y+(a-center(t,r))*n;t.setLayout({y:c},!0)}}})})}function computeEdgeDepths(t,n){var r=n===`vertical`?`x`:`y`;each$15(t,function(t){t.outEdges.sort(function(t,n){return t.node2.getLayout()[r]-n.node2.getLayout()[r]}),t.inEdges.sort(function(t,n){return t.node1.getLayout()[r]-n.node1.getLayout()[r]})}),each$15(t,function(t){var n=0,r=0;each$15(t.outEdges,function(t){t.setLayout({sy:n},!0),n+=t.getLayout().dy}),each$15(t.inEdges,function(t){t.setLayout({ty:r},!0),r+=t.getLayout().dy})})}function sankeyVisual(t){t.eachSeriesByType(`sankey`,function(t){var n=t.getGraph(),r=n.nodes,a=n.edges;if(r.length){var o=1/0,s=-1/0;each$15(r,function(t){var n=t.getLayout().value;n<o&&(o=n),n>s&&(s=n)}),each$15(r,function(n){var r=new VisualMapping_default({type:`color`,mappingMethod:`linear`,dataExtent:[o,s],visual:t.get(`color`)}).mapValueToVisual(n.getLayout().value),a=n.getModel().get([`itemStyle`,`color`]);a==null?(n.setVisual(`color`,r),n.setVisual(`style`,{fill:r})):(n.setVisual(`color`,a),n.setVisual(`style`,{fill:a}))})}a.length&&each$15(a,function(t){var n=t.getModel().get(`lineStyle`);t.setVisual(`style`,n)})})}function install$11(t){t.registerChartView(SankeyView_default),t.registerSeriesModel(SankeySeries_default),t.registerLayout(sankeyLayout),t.registerVisual(sankeyVisual),t.registerAction({type:`dragNode`,event:`dragnode`,update:`update`},function(t,n){n.eachComponent({mainType:`series`,subType:`sankey`,query:t},function(n){n.setNodePosition(t.dataIndex,[t.localX,t.localY])})})}var WhiskerBoxCommonMixin=function(){function t(){}return t.prototype._hasEncodeRule=function(t){var n=this.getEncode();return n&&n.get(t)!=null},t.prototype.getInitialData=function(t,n){var r,a=n.getComponent(`xAxis`,this.get(`xAxisIndex`)),o=n.getComponent(`yAxis`,this.get(`yAxisIndex`)),s=a.get(`type`),c=o.get(`type`),l;s===`category`?(t.layout=`horizontal`,r=a.getOrdinalMeta(),l=!this._hasEncodeRule(`x`)):c===`category`?(t.layout=`vertical`,r=o.getOrdinalMeta(),l=!this._hasEncodeRule(`y`)):t.layout=t.layout||`horizontal`;var u=[`x`,`y`],d=t.layout===`horizontal`?0:1,f=this._baseAxisDim=u[d],p=u[1-d],g=[a,o],_=g[d].get(`type`),v=g[1-d].get(`type`),y=t.data;if(y&&l){var b=[];each$15(y,function(t,n){var r;isArray$1(t)?(r=t.slice(),t.unshift(n)):isArray$1(t.value)?(r=extend({},t),r.value=r.value.slice(),t.value.unshift(n)):r=t,b.push(r)}),t.data=b}var x=this.defaultValueDimensions,S=[{name:f,type:getDimensionTypeByAxis(_),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:[`base`]},{name:p,type:getDimensionTypeByAxis(v),dimsDef:x.slice()}];return createSeriesDataSimply(this,{coordDimensions:S,dimensionsCount:x.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,S,this)})},t.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+`Axis`,this.get(t+`AxisIndex`)).axis},t}(),BoxplotSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:`min`,defaultTooltip:!0},{name:`Q1`,defaultTooltip:!0},{name:`median`,defaultTooltip:!0},{name:`Q3`,defaultTooltip:!0},{name:`max`,defaultTooltip:!0}],r.visualDrawType=`stroke`,r}return n.type=`series.boxplot`,n.dependencies=[`xAxis`,`yAxis`,`grid`],n.defaultOption={z:2,coordinateSystem:`cartesian2d`,legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:`#fff`,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:`rgba(0,0,0,0.2)`}},animationDuration:800},n}(Series_default);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotSeries_default=BoxplotSeriesModel,BoxplotView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=t.getData(),o=this.group,s=this._data;this._data||o.removeAll();var c=t.get(`layout`)===`horizontal`?1:0;a.diff(s).add(function(t){if(a.hasValue(t)){var n=createNormalBox$1(a.getItemLayout(t),a,t,c,!0);a.setItemGraphicEl(t,n),o.add(n)}}).update(function(t,n){var r=s.getItemGraphicEl(n);if(!a.hasValue(t)){o.remove(r);return}var l=a.getItemLayout(t);r?(saveOldStyle(r),updateNormalBoxData(l,r,a,t)):r=createNormalBox$1(l,a,t,c),o.add(r),a.setItemGraphicEl(t,r)}).remove(function(t){var n=s.getItemGraphicEl(t);n&&o.remove(n)}).execute(),this._data=a},n.prototype.remove=function(t){var n=this.group,r=this._data;this._data=null,r&&r.eachItemGraphicEl(function(t){t&&n.remove(t)})},n.type=`boxplot`,n}(Chart_default),BoxPathShape=function(){function t(){}return t}(),BoxPath=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`boxplotBoxPath`,r}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(t,n){var r=n.points,a=0;for(t.moveTo(r[a][0],r[a][1]),a++;a<4;a++)t.lineTo(r[a][0],r[a][1]);for(t.closePath();a<r.length;a++)t.moveTo(r[a][0],r[a][1]),a++,t.lineTo(r[a][0],r[a][1])},n}(Path_default);function createNormalBox$1(t,n,r,a,o){var s=t.ends,c=new BoxPath({shape:{points:o?transInit$1(s,a,t):s}});return updateNormalBoxData(t,c,n,r,o),c}function updateNormalBoxData(t,n,r,a,o){var s=r.hostModel,c=graphic_exports[o?`initProps`:`updateProps`];c(n,{shape:{points:t.ends}},s,a),n.useStyle(r.getItemVisual(a,`style`)),n.style.strokeNoScale=!0,n.z2=100;var l=r.getItemModel(a),u=l.getModel(`emphasis`);setStatesStylesFromModel(n,l),toggleHoverEmphasis(n,u.get(`focus`),u.get(`blurScope`),u.get(`disabled`))}function transInit$1(t,n,r){return map$1(t,function(t){return t=t.slice(),t[n]=r.initBaseline,t})}var BoxplotView_default=BoxplotView,each=each$15;function boxplotLayout(t){each(groupSeriesByAxis(t),function(t){var n=t.seriesModels;n.length&&(calculateBase(t),each(n,function(n,r){layoutSingleSeries(n,t.boxOffsetList[r],t.boxWidthList[r])}))})}function groupSeriesByAxis(t){var n=[],r=[];return t.eachSeriesByType(`boxplot`,function(t){var a=t.getBaseAxis(),o=indexOf(r,a);o<0&&(o=r.length,r[o]=a,n[o]={axis:a,seriesModels:[]}),n[o].seriesModels.push(t)}),n}function calculateBase(t){var n=t.axis,r=t.seriesModels,a=r.length,o=t.boxWidthList=[],s=t.boxOffsetList=[],c=[],l;if(n.type===`category`)l=n.getBandWidth();else{var u=0;each(r,function(t){u=Math.max(u,t.getData().count())});var d=n.getExtent();l=Math.abs(d[1]-d[0])/u}each(r,function(t){var n=t.get(`boxWidth`);isArray$1(n)||(n=[n,n]),c.push([parsePercent(n[0],l)||0,parsePercent(n[1],l)||0])});var f=l*.8-2,p=f/a*.3,g=(f-p*(a-1))/a,_=g/2-f/2;each(r,function(t,n){s.push(_),_+=p+g,o.push(Math.min(Math.max(g,c[n][0]),c[n][1]))})}function layoutSingleSeries(t,n,r){var a=t.coordinateSystem,o=t.getData(),s=r/2,c=t.get(`layout`)===`horizontal`?0:1,l=1-c,u=[`x`,`y`],d=o.mapDimension(u[c]),f=o.mapDimensionsAll(u[l]);if(d==null||f.length<5)return;for(var p=0;p<o.count();p++){var g=o.get(d,p),_=C(g,f[2],p),v=C(g,f[0],p),y=C(g,f[1],p),b=C(g,f[3],p),x=C(g,f[4],p),S=[];w(S,y,!1),w(S,b,!0),S.push(v,y,x,b),T(S,v),T(S,x),T(S,_),o.setItemLayout(p,{initBaseline:_[l],ends:S})}function C(t,r,s){var u=o.get(r,s),d=[];d[c]=t,d[l]=u;var f;return isNaN(t)||isNaN(u)?f=[NaN,NaN]:(f=a.dataToPoint(d),f[c]+=n),f}function w(t,n,r){var a=n.slice(),o=n.slice();a[c]+=s,o[c]-=s,r?t.push(a,o):t.push(o,a)}function T(t,n){var r=n.slice(),a=n.slice();r[c]-=s,a[c]+=s,t.push(r,a)}}function prepareBoxplotData(t,n){n||={};for(var r=[],a=[],o=n.boundIQR,s=o===`none`||o===0,c=0;c<t.length;c++){var l=asc$2(t[c].slice()),u=quantile(l,.25),d=quantile(l,.5),f=quantile(l,.75),p=l[0],g=l[l.length-1],_=(o??1.5)*(f-u),v=s?p:Math.max(p,u-_),y=s?g:Math.min(g,f+_),b=n.itemNameFormatter,x=isFunction(b)?b({value:c}):isString(b)?b.replace(`{value}`,c+``):c+``;r.push([x,v,u,d,f,y]);for(var S=0;S<l.length;S++){var C=l[S];if(C<v||C>y){var w=[x,C];a.push(w)}}}return{boxData:r,outliers:a}}var boxplotTransform={type:`echarts:boxplot`,transform:function(t){var n=t.upstream;n.sourceFormat!==`arrayRows`&&throwError(``);var r=prepareBoxplotData(n.getRawData(),t.config);return[{dimensions:[`ItemName`,`Low`,`Q1`,`Q2`,`Q3`,`High`],data:r.boxData},{data:r.outliers}]}};function install$10(t){t.registerSeriesModel(BoxplotSeries_default),t.registerChartView(BoxplotView_default),t.registerLayout(boxplotLayout),t.registerTransform(boxplotTransform)}var positiveBorderColorQuery=[`itemStyle`,`borderColor`],negativeBorderColorQuery=[`itemStyle`,`borderColor0`],dojiBorderColorQuery=[`itemStyle`,`borderColorDoji`],positiveColorQuery=[`itemStyle`,`color`],negativeColorQuery=[`itemStyle`,`color0`];function getColor(t,n){return n.get(t>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(t,n){return n.get(t===0?dojiBorderColorQuery:t>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual_default={seriesType:`candlestick`,plan:createRenderPlanner(),performRawSeries:!0,reset:function(t,n){if(!n.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,n){for(var r;(r=t.next())!=null;){var a=n.getItemModel(r),o=n.getItemLayout(r).sign,s=a.getItemStyle();s.fill=getColor(o,a),s.stroke=getBorderColor(o,a)||s.fill,extend(n.ensureUniqueItemVisual(r,`style`),s)}}}}},SKIP_PROPS=[`color`,`borderColor`],CandlestickView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},n.prototype.incrementalPrepareRender=function(t,n,r){this._clear(),this._updateDrawMode(t)},n.prototype.incrementalRender=function(t,n,r,a){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(t,n):this._incrementalRenderNormal(t,n)},n.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},n.prototype._updateDrawMode=function(t){var n=t.pipelineContext.large;(this._isLargeDraw==null||n!==this._isLargeDraw)&&(this._isLargeDraw=n,this._clear())},n.prototype._renderNormal=function(t){var n=t.getData(),r=this._data,a=this.group,o=n.getLayout(`isSimpleBox`),s=t.get(`clip`,!0),c=t.coordinateSystem,l=c.getArea&&c.getArea();this._data||a.removeAll(),n.diff(r).add(function(r){if(n.hasValue(r)){var c=n.getItemLayout(r);if(s&&isNormalBoxClipped(l,c))return;var u=createNormalBox(c,r,!0);initProps(u,{shape:{points:c.ends}},t,r),setBoxCommon(u,n,r,o),a.add(u),n.setItemGraphicEl(r,u)}}).update(function(c,u){var d=r.getItemGraphicEl(u);if(!n.hasValue(c)){a.remove(d);return}var f=n.getItemLayout(c);if(s&&isNormalBoxClipped(l,f)){a.remove(d);return}d?(updateProps$1(d,{shape:{points:f.ends}},t,c),saveOldStyle(d)):d=createNormalBox(f,c),setBoxCommon(d,n,c,o),a.add(d),n.setItemGraphicEl(c,d)}).remove(function(t){var n=r.getItemGraphicEl(t);n&&a.remove(n)}).execute(),this._data=n},n.prototype._renderLarge=function(t){this._clear(),createLarge(t,this.group);var n=t.get(`clip`,!0)?createClipPath(t.coordinateSystem,!1,t):null;n?this.group.setClipPath(n):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(t,n){for(var r=n.getData(),a=r.getLayout(`isSimpleBox`),o;(o=t.next())!=null;){var s=createNormalBox(r.getItemLayout(o),o);setBoxCommon(s,r,o,a),s.incremental=!0,this.group.add(s),this._progressiveEls.push(s)}},n.prototype._incrementalRenderLarge=function(t,n){createLarge(n,this.group,this._progressiveEls,!0)},n.prototype.remove=function(t){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type=`candlestick`,n}(Chart_default),NormalBoxPathShape=function(){function t(){}return t}(),NormalBoxPath=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`normalCandlestickBox`,r}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(t,n){var r=n.points;this.__simpleBox?(t.moveTo(r[4][0],r[4][1]),t.lineTo(r[6][0],r[6][1])):(t.moveTo(r[0][0],r[0][1]),t.lineTo(r[1][0],r[1][1]),t.lineTo(r[2][0],r[2][1]),t.lineTo(r[3][0],r[3][1]),t.closePath(),t.moveTo(r[4][0],r[4][1]),t.lineTo(r[5][0],r[5][1]),t.moveTo(r[6][0],r[6][1]),t.lineTo(r[7][0],r[7][1]))},n}(Path_default);function createNormalBox(t,n,r){var a=t.ends;return new NormalBoxPath({shape:{points:r?transInit(a,t):a},z2:100})}function isNormalBoxClipped(t,n){for(var r=!0,a=0;a<n.ends.length;a++)if(t.contain(n.ends[a][0],n.ends[a][1])){r=!1;break}return r}function setBoxCommon(t,n,r,a){var o=n.getItemModel(r);t.useStyle(n.getItemVisual(r,`style`)),t.style.strokeNoScale=!0,t.__simpleBox=a,setStatesStylesFromModel(t,o);var s=n.getItemLayout(r).sign;each$15(t.states,function(t,n){var r=o.getModel(n),a=getColor(s,r),c=getBorderColor(s,r)||a,l=t.style||={};a&&(l.fill=a),c&&(l.stroke=c)});var c=o.getModel(`emphasis`);toggleHoverEmphasis(t,c.get(`focus`),c.get(`blurScope`),c.get(`disabled`))}function transInit(t,n){return map$1(t,function(t){return t=t.slice(),t[1]=n.initBaseline,t})}var LargeBoxPathShape=function(){function t(){}return t}(),LargeBoxPath=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r.type=`largeCandlestickBox`,r}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(t,n){for(var r=n.points,a=0;a<r.length;)if(this.__sign===r[a++]){var o=r[a++];t.moveTo(o,r[a++]),t.lineTo(o,r[a++])}else a+=3},n}(Path_default);function createLarge(t,n,r,a){var o=t.getData(),s=o.getLayout(`largePoints`),c=new LargeBoxPath({shape:{points:s},__sign:1,ignoreCoarsePointer:!0});n.add(c);var l=new LargeBoxPath({shape:{points:s},__sign:-1,ignoreCoarsePointer:!0});n.add(l);var u=new LargeBoxPath({shape:{points:s},__sign:0,ignoreCoarsePointer:!0});n.add(u),setLargeStyle(1,c,t,o),setLargeStyle(-1,l,t,o),setLargeStyle(0,u,t,o),a&&(c.incremental=!0,l.incremental=!0),r&&r.push(c,l)}function setLargeStyle(t,n,r,a){var o=getBorderColor(t,r)||getColor(t,r),s=r.getModel(`itemStyle`).getItemStyle(SKIP_PROPS);n.useStyle(s),n.style.fill=null,n.style.stroke=o}var CandlestickView_default=CandlestickView,CandlestickSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:`open`,defaultTooltip:!0},{name:`close`,defaultTooltip:!0},{name:`lowest`,defaultTooltip:!0},{name:`highest`,defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return`open`},n.prototype.brushSelector=function(t,n,r){var a=n.getItemLayout(t);return a&&r.rect(a.brushRect)},n.type=`series.candlestick`,n.dependencies=[`xAxis`,`yAxis`,`grid`],n.defaultOption={z:2,coordinateSystem:`cartesian2d`,legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:`#eb5454`,color0:`#47b262`,borderColor:`#eb5454`,borderColor0:`#47b262`,borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:`mod`,animationEasing:`linear`,animationDuration:300},n}(Series_default);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);var CandlestickSeries_default=CandlestickSeriesModel;function candlestickPreprocessor(t){!t||!isArray$1(t.series)||each$15(t.series,function(t){isObject$3(t)&&t.type===`k`&&(t.type=`candlestick`)})}var candlestickLayout={seriesType:`candlestick`,plan:createRenderPlanner(),reset:function(t){var n=t.coordinateSystem,r=t.getData(),a=calculateCandleWidth(t,r),o=0,s=1,c=[`x`,`y`],l=r.getDimensionIndex(r.mapDimension(c[o])),u=map$1(r.mapDimensionsAll(c[s]),r.getDimensionIndex,r),d=u[0],f=u[1],p=u[2],g=u[3];if(r.setLayout({candleWidth:a,isSimpleBox:a<=1.3}),l<0||u.length<4)return;return{progress:t.pipelineContext.large?v:_};function _(t,r){for(var c,u=r.getStore();(c=t.next())!=null;){var _=u.get(l,c),v=u.get(d,c),y=u.get(f,c),b=u.get(p,c),x=u.get(g,c),S=Math.min(v,y),C=Math.max(v,y),w=j(S,_),T=j(C,_),E=j(b,_),D=j(x,_),O=[];M(O,T,0),M(O,w,1),O.push(P(D),P(T),P(E),P(w));var A=!!r.getItemModel(c).get([`itemStyle`,`borderColorDoji`]);r.setItemLayout(c,{sign:getSign(u,c,v,y,f,A),initBaseline:v>y?T[s]:w[s],ends:O,brushRect:N(b,x,_)})}function j(t,r){var a=[];return a[o]=r,a[s]=t,isNaN(r)||isNaN(t)?[NaN,NaN]:n.dataToPoint(a)}function M(t,n,r){var s=n.slice(),c=n.slice();s[o]=subPixelOptimize(s[o]+a/2,1,!1),c[o]=subPixelOptimize(c[o]-a/2,1,!0),r?t.push(s,c):t.push(c,s)}function N(t,n,r){var c=j(t,r),l=j(n,r);return c[o]-=a/2,l[o]-=a/2,{x:c[0],y:c[1],width:s?a:l[0]-c[0],height:s?l[1]-c[1]:a}}function P(t){return t[o]=subPixelOptimize(t[o],1),t}}function v(r,a){for(var c=createFloat32Array(r.count*4),u=0,_,v=[],y=[],b,x=a.getStore(),S=!!t.get([`itemStyle`,`borderColorDoji`]);(b=r.next())!=null;){var C=x.get(l,b),w=x.get(d,b),T=x.get(f,b),E=x.get(p,b),D=x.get(g,b);if(isNaN(C)||isNaN(E)||isNaN(D)){c[u++]=NaN,u+=3;continue}c[u++]=getSign(x,b,w,T,f,S),v[o]=C,v[s]=E,_=n.dataToPoint(v,null,y),c[u++]=_?_[0]:NaN,c[u++]=_?_[1]:NaN,v[s]=D,_=n.dataToPoint(v,null,y),c[u++]=_?_[1]:NaN}a.setLayout(`largePoints`,c)}}};function getSign(t,n,r,a,o,s){return r>a?-1:r<a?1:s?0:n>0?t.get(o,n-1)<=a?1:-1:1}function calculateCandleWidth(t,n){var r=t.getBaseAxis(),a,o=r.type===`category`?r.getBandWidth():(a=r.getExtent(),Math.abs(a[1]-a[0])/n.count()),s=parsePercent(retrieve2(t.get(`barMaxWidth`),o),o),c=parsePercent(retrieve2(t.get(`barMinWidth`),1),o),l=t.get(`barWidth`);return l==null?Math.max(Math.min(o/2,s),c):parsePercent(l,o)}var candlestickLayout_default=candlestickLayout;function install$9(t){t.registerChartView(CandlestickView_default),t.registerSeriesModel(CandlestickSeries_default),t.registerPreprocessor(candlestickPreprocessor),t.registerVisual(candlestickVisual_default),t.registerLayout(candlestickLayout_default)}function updateRipplePath(t,n){var r=n.rippleEffectColor||n.color;t.eachChild(function(t){t.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType===`stroke`?r:null,fill:n.brushType===`fill`?r:null}})})}var EffectSymbol_default=function(t){__extends(n,t);function n(n,r){var a=t.call(this)||this,o=new Symbol_default(n,r),s=new Group_default;return a.add(o),a.add(s),a.updateData(n,r),a}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(t){for(var n=t.symbolType,r=t.color,a=t.rippleNumber,o=this.childAt(1),s=0;s<a;s++){var c=createSymbol$1(n,-1,-1,2,2,r);c.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var l=-s/a*t.period+t.effectOffset;c.animate(``,!0).when(t.period,{scaleX:t.rippleScale/2,scaleY:t.rippleScale/2}).delay(l).start(),c.animateStyle(!0).when(t.period,{opacity:0}).delay(l).start(),o.add(c)}updateRipplePath(o,t)},n.prototype.updateEffectAnimation=function(t){for(var n=this._effectCfg,r=this.childAt(1),a=[`symbolType`,`period`,`rippleScale`,`rippleNumber`],o=0;o<a.length;o++){var s=a[o];if(n[s]!==t[s]){this.stopEffectAnimation(),this.startEffectAnimation(t);return}}updateRipplePath(r,t)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var t=this.childAt(0);return t&&t.getSymbolType()},n.prototype.updateData=function(t,n){var r=this,a=t.hostModel;this.childAt(0).updateData(t,n);var o=this.childAt(1),s=t.getItemModel(n),c=t.getItemVisual(n,`symbol`),l=normalizeSymbolSize(t.getItemVisual(n,`symbolSize`)),u=t.getItemVisual(n,`style`),d=u&&u.fill,f=s.getModel(`emphasis`);o.setScale(l),o.traverse(function(t){t.setStyle(`fill`,d)});var p=normalizeSymbolOffset(t.getItemVisual(n,`symbolOffset`),l);p&&(o.x=p[0],o.y=p[1]),o.rotation=(t.getItemVisual(n,`symbolRotate`)||0)*Math.PI/180||0;var g={};g.showEffectOn=a.get(`showEffectOn`),g.rippleScale=s.get([`rippleEffect`,`scale`]),g.brushType=s.get([`rippleEffect`,`brushType`]),g.period=s.get([`rippleEffect`,`period`])*1e3,g.effectOffset=n/t.count(),g.z=a.getShallow(`z`)||0,g.zlevel=a.getShallow(`zlevel`)||0,g.symbolType=c,g.color=d,g.rippleEffectColor=s.get([`rippleEffect`,`color`]),g.rippleNumber=s.get([`rippleEffect`,`number`]),g.showEffectOn===`render`?(this._effectCfg?this.updateEffectAnimation(g):this.startEffectAnimation(g),this._effectCfg=g):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(t){t===`emphasis`?g.showEffectOn!==`render`&&r.startEffectAnimation(g):t===`normal`&&g.showEffectOn!==`render`&&r.stopEffectAnimation()}),this._effectCfg=g,toggleHoverEmphasis(this,f.get(`focus`),f.get(`blurScope`),f.get(`disabled`))},n.prototype.fadeOut=function(t){t&&t()},n}(Group_default),EffectScatterView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw_default(EffectSymbol_default)},n.prototype.render=function(t,n,r){var a=t.getData(),o=this._symbolDraw;o.updateData(a,{clipShape:this._getClipShape(t)}),this.group.add(o.group)},n.prototype._getClipShape=function(t){var n=t.coordinateSystem,r=n&&n.getArea&&n.getArea();return t.get(`clip`,!0)?r:null},n.prototype.updateTransform=function(t,n,r){var a=t.getData();this.group.dirty();var o=pointsLayout(``).reset(t,n,r);o.progress&&o.progress({start:0,end:a.count(),count:a.count()},a),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(t){var n=t.coordinateSystem;n&&n.getRoamTransform&&(this.group.transform=clone$2(n.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(t,n){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type=`effectScatter`,n}(Chart_default),EffectScatterSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(t,n){return createSeriesData_default(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(t,n,r){return r.point(n.getItemLayout(t))},n.type=`series.effectScatter`,n.dependencies=[`grid`,`polar`],n.defaultOption={coordinateSystem:`cartesian2d`,z:2,legendHoverLink:!0,effectType:`ripple`,progressive:0,showEffectOn:`render`,clip:!0,rippleEffect:{period:4,scale:2.5,brushType:`fill`,number:3},universalTransition:{divideShape:`clone`},symbolSize:10},n}(Series_default);function install$8(t){t.registerChartView(EffectScatterView_default),t.registerSeriesModel(EffectScatterSeries_default),t.registerLayout(pointsLayout(`effectScatter`))}var EffectLine_default=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this)||this;return o.add(o.createLine(n,r,a)),o._updateEffectSymbol(n,r),o}return n.prototype.createLine=function(t,n,r){return new Line_default(t,n,r)},n.prototype._updateEffectSymbol=function(t,n){var r=t.getItemModel(n).getModel(`effect`),a=r.get(`symbolSize`),o=r.get(`symbol`);isArray$1(a)||(a=[a,a]);var s=t.getItemVisual(n,`style`),c=r.get(`color`)||s&&s.stroke,l=this.childAt(1);this._symbolType!==o&&(this.remove(l),l=createSymbol$1(o,-.5,-.5,1,1,c),l.z2=100,l.culling=!0,this.add(l)),l&&(l.setStyle(`shadowColor`,c),l.setStyle(r.getItemStyle([`color`])),l.scaleX=a[0],l.scaleY=a[1],l.setColor(c),this._symbolType=o,this._symbolScale=a,this._updateEffectAnimation(t,r,n))},n.prototype._updateEffectAnimation=function(t,n,r){var a=this.childAt(1);if(a){var o=t.getItemLayout(r),s=n.get(`period`)*1e3,c=n.get(`loop`),l=n.get(`roundTrip`),u=n.get(`constantSpeed`),d=retrieve(n.get(`delay`),function(n){return n/t.count()*s/3});if(a.ignore=!0,this._updateAnimationPoints(a,o),u>0&&(s=this._getLineLength(a)/u*1e3),s!==this._period||c!==this._loop||l!==this._roundTrip){a.stopAnimation();var f=void 0;f=isFunction(d)?d(r):d,a.__t>0&&(f=-s*a.__t),this._animateSymbol(a,s,f,c,l)}this._period=s,this._loop=c,this._roundTrip=l}},n.prototype._animateSymbol=function(t,n,r,a,o){if(n>0){t.__t=0;var s=this,c=t.animate(``,a).when(o?n*2:n,{__t:o?2:1}).delay(r).during(function(){s._updateSymbolPosition(t)});a||c.done(function(){s.remove(t)}),c.start()}},n.prototype._getLineLength=function(t){return dist$1(t.__p1,t.__cp1)+dist$1(t.__cp1,t.__p2)},n.prototype._updateAnimationPoints=function(t,n){t.__p1=n[0],t.__p2=n[1],t.__cp1=n[2]||[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]},n.prototype.updateData=function(t,n,r){this.childAt(0).updateData(t,n,r),this._updateEffectSymbol(t,n)},n.prototype._updateSymbolPosition=function(t){var n=t.__p1,r=t.__p2,a=t.__cp1,o=t.__t<1?t.__t:2-t.__t,s=[t.x,t.y],c=s.slice(),l=quadraticAt$1,u=quadraticDerivativeAt;s[0]=l(n[0],a[0],r[0],o),s[1]=l(n[1],a[1],r[1],o);var d=t.__t<1?u(n[0],a[0],r[0],o):u(r[0],a[0],n[0],1-o),f=t.__t<1?u(n[1],a[1],r[1],o):u(r[1],a[1],n[1],1-o);t.rotation=-Math.atan2(f,d)-Math.PI/2,(this._symbolType===`line`||this._symbolType===`rect`||this._symbolType===`roundRect`)&&(t.__lastT!==void 0&&t.__lastT<t.__t?(t.scaleY=dist$1(c,s)*1.05,o===1&&(s[0]=c[0]+(s[0]-c[0])/2,s[1]=c[1]+(s[1]-c[1])/2)):t.__lastT===1?t.scaleY=2*dist$1(n,s):t.scaleY=this._symbolScale[1]),t.__lastT=t.__t,t.ignore=!1,t.x=s[0],t.y=s[1]},n.prototype.updateLayout=function(t,n){this.childAt(0).updateLayout(t,n);var r=t.getItemModel(n).getModel(`effect`);this._updateEffectAnimation(t,r,n)},n}(Group_default),Polyline_default=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this)||this;return o._createPolyline(n,r,a),o}return n.prototype._createPolyline=function(t,n,r){var a=new Polyline_default$1({shape:{points:t.getItemLayout(n)}});this.add(a),this._updateCommonStl(t,n,r)},n.prototype.updateData=function(t,n,r){var a=t.hostModel;updateProps$1(this.childAt(0),{shape:{points:t.getItemLayout(n)}},a,n),this._updateCommonStl(t,n,r)},n.prototype._updateCommonStl=function(t,n,r){var a=this.childAt(0),o=t.getItemModel(n),s=r&&r.emphasisLineStyle,c=r&&r.focus,l=r&&r.blurScope,u=r&&r.emphasisDisabled;if(!r||t.hasItemOption){var d=o.getModel(`emphasis`);s=d.getModel(`lineStyle`).getLineStyle(),u=d.get(`disabled`),c=d.get(`focus`),l=d.get(`blurScope`)}a.useStyle(t.getItemVisual(n,`style`)),a.style.fill=null,a.style.strokeNoScale=!0;var f=a.ensureState(`emphasis`);f.style=s,toggleHoverEmphasis(this,c,l,u)},n.prototype.updateLayout=function(t,n){this.childAt(0).setShape(`points`,t.getItemLayout(n))},n}(Group_default),EffectPolyline_default=function(t){__extends(n,t);function n(){var n=t!==null&&t.apply(this,arguments)||this;return n._lastFrame=0,n._lastFramePercent=0,n}return n.prototype.createLine=function(t,n,r){return new Polyline_default(t,n,r)},n.prototype._updateAnimationPoints=function(t,n){this._points=n;for(var r=[0],a=0,o=1;o<n.length;o++){var s=n[o-1],c=n[o];a+=dist$1(s,c),r.push(a)}if(a===0){this._length=0;return}for(var o=0;o<r.length;o++)r[o]/=a;this._offsets=r,this._length=a},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(t){var n=t.__t<1?t.__t:2-t.__t,r=this._points,a=this._offsets,o=r.length;if(a){var s=this._lastFrame,c;if(n<this._lastFramePercent){for(c=Math.min(s+1,o-1);c>=0&&!(a[c]<=n);c--);c=Math.min(c,o-2)}else{for(c=s;c<o&&!(a[c]>n);c++);c=Math.min(c-1,o-2)}var l=(n-a[c])/(a[c+1]-a[c]),u=r[c],d=r[c+1];t.x=u[0]*(1-l)+l*d[0],t.y=u[1]*(1-l)+l*d[1];var f=t.__t<1?d[0]-u[0]:u[0]-d[0],p=t.__t<1?d[1]-u[1]:u[1]-d[1];t.rotation=-Math.atan2(p,f)-Math.PI/2,this._lastFrame=c,this._lastFramePercent=n,t.ignore=!1}},n}(EffectLine_default),LargeLinesPathShape=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),LargeLinesPath=function(t){__extends(n,t);function n(n){var r=t.call(this,n)||this;return r._off=0,r.hoverDataIdx=-1,r}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:`#000`,fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(t,n){var r=n.segs,a=n.curveness,o;if(n.polyline)for(o=this._off;o<r.length;){var s=r[o++];if(s>0){t.moveTo(r[o++],r[o++]);for(var c=1;c<s;c++)t.lineTo(r[o++],r[o++])}}else for(o=this._off;o<r.length;){var l=r[o++],u=r[o++],d=r[o++],f=r[o++];if(t.moveTo(l,u),a>0){var p=(l+d)/2-(u-f)*a,g=(u+f)/2-(d-l)*a;t.quadraticCurveTo(p,g,d,f)}else t.lineTo(d,f)}this.incremental&&(this._off=o,this.notClear=!0)},n.prototype.findDataIndex=function(t,n){var r=this.shape,a=r.segs,o=r.curveness,s=this.style.lineWidth;if(r.polyline)for(var c=0,l=0;l<a.length;){var u=a[l++];if(u>0)for(var d=a[l++],f=a[l++],p=1;p<u;p++){var g=a[l++],_=a[l++];if(containStroke$4(d,f,g,_,s,t,n))return c}c++}else for(var c=0,l=0;l<a.length;){var d=a[l++],f=a[l++],g=a[l++],_=a[l++];if(o>0){if(containStroke$2(d,f,(d+g)/2-(f-_)*o,(f+_)/2-(g-d)*o,g,_,s,t,n))return c}else if(containStroke$4(d,f,g,_,s,t,n))return c;c++}return-1},n.prototype.contain=function(t,n){var r=this.transformCoordToLocal(t,n),a=this.getBoundingRect();return t=r[0],n=r[1],a.contain(t,n)?(this.hoverDataIdx=this.findDataIndex(t,n))>=0:(this.hoverDataIdx=-1,!1)},n.prototype.getBoundingRect=function(){var t=this._rect;if(!t){for(var n=this.shape.segs,r=1/0,a=1/0,o=-1/0,s=-1/0,c=0;c<n.length;){var l=n[c++],u=n[c++];r=Math.min(l,r),o=Math.max(l,o),a=Math.min(u,a),s=Math.max(u,s)}t=this._rect=new BoundingRect_default(r,a,o,s)}return t},n}(Path_default),LargeLineDraw_default=function(){function t(){this.group=new Group_default}return t.prototype.updateData=function(t){this._clear();var n=this._create();n.setShape({segs:t.getLayout(`linesPoints`)}),this._setCommon(n,t)},t.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(t,n){var r=this._newAdded[0],a=n.getLayout(`linesPoints`),o=r&&r.shape.segs;if(o&&o.length<2e4){var s=o.length,c=new Float32Array(s+a.length);c.set(o),c.set(a,s),r.setShape({segs:c})}else{this._newAdded=[];var l=this._create();l.incremental=!0,l.setShape({segs:a}),this._setCommon(l,n),l.__startIndex=t.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},t.prototype._create=function(){var t=new LargeLinesPath({cursor:`default`,ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},t.prototype._setCommon=function(t,n,r){var a=n.hostModel;t.setShape({polyline:a.get(`polyline`),curveness:a.get([`lineStyle`,`curveness`])}),t.useStyle(a.getModel(`lineStyle`).getLineStyle()),t.style.strokeNoScale=!0;var o=n.getVisual(`style`);o&&o.stroke&&t.setStyle(`stroke`,o.stroke),t.setStyle(`fill`,null);var s=getECData(t);s.seriesIndex=a.seriesIndex,t.on(`mousemove`,function(n){s.dataIndex=null;var r=t.hoverDataIdx;r>0&&(s.dataIndex=r+t.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),linesLayout_default={seriesType:`lines`,plan:createRenderPlanner(),reset:function(t){var n=t.coordinateSystem;if(n){var r=t.get(`polyline`),a=t.pipelineContext.large;return{progress:function(o,s){var c=[];if(a){var l=void 0,u=o.end-o.start;if(r){for(var d=0,f=o.start;f<o.end;f++)d+=t.getLineCoordsCount(f);l=new Float32Array(u+d*2)}else l=new Float32Array(u*4);for(var p=0,g=[],f=o.start;f<o.end;f++){var _=t.getLineCoords(f,c);r&&(l[p++]=_);for(var v=0;v<_;v++)g=n.dataToPoint(c[v],!1,g),l[p++]=g[0],l[p++]=g[1]}s.setLayout(`linesPoints`,l)}else for(var f=o.start;f<o.end;f++){var y=s.getItemModel(f),_=t.getLineCoords(f,c),b=[];if(r)for(var x=0;x<_;x++)b.push(n.dataToPoint(c[x]));else{b[0]=n.dataToPoint(c[0]),b[1]=n.dataToPoint(c[1]);var S=y.get([`lineStyle`,`curveness`]);+S&&(b[2]=[(b[0][0]+b[1][0])/2-(b[0][1]-b[1][1])*S,(b[0][1]+b[1][1])/2-(b[1][0]-b[0][0])*S])}s.setItemLayout(f,b)}}}}}},LinesView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=t.getData(),o=this._updateLineDraw(a,t),s=t.get(`zlevel`),c=t.get([`effect`,`trailLength`]),l=r.getZr(),u=l.painter.getType()===`svg`;u||l.painter.getLayer(s).clear(!0),this._lastZlevel!=null&&!u&&l.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&c>0&&(u||l.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(c/10+.9,1),0)})),o.updateData(a);var d=t.get(`clip`,!0)&&createClipPath(t.coordinateSystem,!1,t);d?this.group.setClipPath(d):this.group.removeClipPath(),this._lastZlevel=s,this._finished=!0},n.prototype.incrementalPrepareRender=function(t,n,r){var a=t.getData();this._updateLineDraw(a,t).incrementalPrepareUpdate(a),this._clearLayer(r),this._finished=!1},n.prototype.incrementalRender=function(t,n,r){this._lineDraw.incrementalUpdate(t,n.getData()),this._finished=t.end===n.getData().count()},n.prototype.eachRendered=function(t){this._lineDraw&&this._lineDraw.eachRendered(t)},n.prototype.updateTransform=function(t,n,r){var a=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};var s=linesLayout_default.reset(t,n,r);s.progress&&s.progress({start:0,end:a.count(),count:a.count()},a),this._lineDraw.updateLayout(),this._clearLayer(r)},n.prototype._updateLineDraw=function(t,n){var r=this._lineDraw,a=this._showEffect(n),o=!!n.get(`polyline`),s=n.pipelineContext.large;return(!r||a!==this._hasEffet||o!==this._isPolyline||s!==this._isLargeDraw)&&(r&&r.remove(),r=this._lineDraw=s?new LargeLineDraw_default:new LineDraw_default(o?a?EffectPolyline_default:Polyline_default:a?EffectLine_default:Line_default),this._hasEffet=a,this._isPolyline=o,this._isLargeDraw=s),this.group.add(r.group),r},n.prototype._showEffect=function(t){return!!t.get([`effect`,`show`])},n.prototype._clearLayer=function(t){var n=t.getZr();n.painter.getType()!==`svg`&&this._lastZlevel!=null&&n.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(t,n){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(n)},n.prototype.dispose=function(t,n){this.remove(t,n)},n.type=`lines`,n}(Chart_default),Uint32Arr=typeof Uint32Array>`u`?Array:Uint32Array,Float64Arr=typeof Float64Array>`u`?Array:Float64Array;function compatEc2(t){var n=t.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(t.data=map$1(n,function(t){var n={coords:[t[0].coord,t[1].coord]};return t[0].name&&(n.fromName=t[0].name),t[1].name&&(n.toName=t[1].name),mergeAll([n,t[0],t[1]])}))}var LinesSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath=`lineStyle`,r.visualDrawType=`stroke`,r}return n.prototype.init=function(n){n.data=n.data||[],compatEc2(n);var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count)),t.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(n){if(compatEc2(n),n.data){var r=this._processFlatCoordsArray(n.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(n.data=new Float32Array(r.count))}t.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(t){var n=this._processFlatCoordsArray(t.data);n.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,n.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,n.flatCoordsOffset)):(this._flatCoords=n.flatCoords,this._flatCoordsOffset=n.flatCoordsOffset),t.data=new Float32Array(n.count)),this.getRawData().appendData(t.data)},n.prototype._getCoordsFromItemModel=function(t){var n=this.getData().getItemModel(t);return n.option instanceof Array?n.option:n.getShallow(`coords`)},n.prototype.getLineCoordsCount=function(t){return this._flatCoordsOffset?this._flatCoordsOffset[t*2+1]:this._getCoordsFromItemModel(t).length},n.prototype.getLineCoords=function(t,n){if(this._flatCoordsOffset){for(var r=this._flatCoordsOffset[t*2],a=this._flatCoordsOffset[t*2+1],o=0;o<a;o++)n[o]=n[o]||[],n[o][0]=this._flatCoords[r+o*2],n[o][1]=this._flatCoords[r+o*2+1];return a}else{for(var s=this._getCoordsFromItemModel(t),o=0;o<s.length;o++)n[o]=n[o]||[],n[o][0]=s[o][0],n[o][1]=s[o][1];return s.length}},n.prototype._processFlatCoordsArray=function(t){var n=0;if(this._flatCoords&&(n=this._flatCoords.length),isNumber(t[0])){for(var r=t.length,a=new Uint32Arr(r),o=new Float64Arr(r),s=0,c=0,l=0,u=0;u<r;){l++;var d=t[u++];a[c++]=s+n,a[c++]=d;for(var f=0;f<d;f++){var p=t[u++],g=t[u++];o[s++]=p,o[s++]=g}}return{flatCoordsOffset:new Uint32Array(a.buffer,0,c),flatCoords:o,count:l}}return{flatCoordsOffset:null,flatCoords:null,count:t.length}},n.prototype.getInitialData=function(t,n){var r=new SeriesData_default([`value`],this);return r.hasItemOption=!1,r.initData(t.data,[],function(t,n,a,o){if(t instanceof Array)return NaN;r.hasItemOption=!0;var s=t.value;if(s!=null)return s instanceof Array?s[o]:s}),r},n.prototype.formatTooltip=function(t,n,r){var a=this.getData().getItemModel(t),o=a.get(`name`);if(o)return o;var s=a.get(`fromName`),c=a.get(`toName`),l=[];return s!=null&&l.push(s),c!=null&&l.push(c),createTooltipMarkup(`nameValue`,{name:l.join(` > `)})},n.prototype.preventIncremental=function(){return!!this.get([`effect`,`show`])},n.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get(`progressive`))},n.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get(`progressiveThreshold`))},n.prototype.getZLevelKey=function(){var t=this.getModel(`effect`),n=t.get(`trailLength`);return this.getData().count()>this.getProgressiveThreshold()?this.id:t.get(`show`)&&n>0?n+``:``},n.type=`series.lines`,n.dependencies=[`grid`,`polar`,`geo`,`calendar`],n.defaultOption={coordinateSystem:`geo`,z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:[`none`,`none`],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:`circle`,symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:`end`},lineStyle:{opacity:.5}},n}(Series_default);function normalize(t){return t instanceof Array||(t=[t,t]),t}var linesVisual_default={seriesType:`lines`,reset:function(t){var n=normalize(t.get(`symbol`)),r=normalize(t.get(`symbolSize`)),a=t.getData();a.setVisual(`fromSymbol`,n&&n[0]),a.setVisual(`toSymbol`,n&&n[1]),a.setVisual(`fromSymbolSize`,r&&r[0]),a.setVisual(`toSymbolSize`,r&&r[1]);function o(t,n){var r=t.getItemModel(n),a=normalize(r.getShallow(`symbol`,!0)),o=normalize(r.getShallow(`symbolSize`,!0));a[0]&&t.setItemVisual(n,`fromSymbol`,a[0]),a[1]&&t.setItemVisual(n,`toSymbol`,a[1]),o[0]&&t.setItemVisual(n,`fromSymbolSize`,o[0]),o[1]&&t.setItemVisual(n,`toSymbolSize`,o[1])}return{dataEach:a.hasItemOption?o:null}}};function install$7(t){t.registerChartView(LinesView_default),t.registerSeriesModel(LinesSeries_default),t.registerLayout(linesLayout_default),t.registerVisual(linesVisual_default)}var GRADIENT_LEVELS=256,HeatmapLayer_default=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null},this.canvas=platformApi.createCanvas()}return t.prototype.update=function(t,n,r,a,o,s){var c=this._getBrush(),l=this._getGradient(o,`inRange`),u=this._getGradient(o,`outOfRange`),d=this.pointSize+this.blurSize,f=this.canvas,p=f.getContext(`2d`),g=t.length;f.width=n,f.height=r;for(var _=0;_<g;++_){var v=t[_],y=v[0],b=v[1],x=v[2],S=a(x);p.globalAlpha=S,p.drawImage(c,y-d,b-d)}if(!f.width||!f.height)return f;for(var C=p.getImageData(0,0,f.width,f.height),w=C.data,T=0,E=w.length,D=this.minOpacity,O=this.maxOpacity-D;T<E;){var S=w[T+3]/256,A=Math.floor(S*(GRADIENT_LEVELS-1))*4;if(S>0){var j=s(S)?l:u;S>0&&(S=S*O+D),w[T++]=j[A],w[T++]=j[A+1],w[T++]=j[A+2],w[T++]=j[A+3]*S*256}else T+=4}return p.putImageData(C,0,0),f},t.prototype._getBrush=function(){var t=this._brushCanvas||=platformApi.createCanvas(),n=this.pointSize+this.blurSize,r=n*2;t.width=r,t.height=r;var a=t.getContext(`2d`);return a.clearRect(0,0,r,r),a.shadowOffsetX=r,a.shadowBlur=this.blurSize,a.shadowColor=`#000`,a.beginPath(),a.arc(-n,n,this.pointSize,0,Math.PI*2,!0),a.closePath(),a.fill(),t},t.prototype._getGradient=function(t,n){for(var r=this._gradientPixels,a=r[n]||(r[n]=new Uint8ClampedArray(256*4)),o=[0,0,0,0],s=0,c=0;c<256;c++)t[n](c/255,!0,o),a[s++]=o[0],a[s++]=o[1],a[s++]=o[2],a[s++]=o[3];return a},t}();function getIsInPiecewiseRange(t,n,r){var a=t[1]-t[0];n=map$1(n,function(n){return{interval:[(n.interval[0]-t[0])/a,(n.interval[1]-t[0])/a]}});var o=n.length,s=0;return function(t){var a;for(a=s;a<o;a++){var c=n[a].interval;if(c[0]<=t&&t<=c[1]){s=a;break}}if(a===o)for(a=s-1;a>=0;a--){var c=n[a].interval;if(c[0]<=t&&t<=c[1]){s=a;break}}return a>=0&&a<o&&r[a]}}function getIsInContinuousRange(t,n){var r=t[1]-t[0];return n=[(n[0]-t[0])/r,(n[1]-t[0])/r],function(t){return t>=n[0]&&t<=n[1]}}function isGeoCoordSys(t){var n=t.dimensions;return n[0]===`lng`&&n[1]===`lat`}var HeatmapView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a;n.eachComponent(`visualMap`,function(n){n.eachTargetSeries(function(r){r===t&&(a=n)})}),this._progressiveEls=null,this.group.removeAll();var o=t.coordinateSystem;o.type===`cartesian2d`||o.type===`calendar`?this._renderOnCartesianAndCalendar(t,r,0,t.getData().count()):isGeoCoordSys(o)&&this._renderOnGeo(o,t,a,r)},n.prototype.incrementalPrepareRender=function(t,n,r){this.group.removeAll()},n.prototype.incrementalRender=function(t,n,r,a){var o=n.coordinateSystem;o&&(isGeoCoordSys(o)?this.render(n,r,a):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(n,a,t.start,t.end,!0)))},n.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},n.prototype._renderOnCartesianAndCalendar=function(t,n,r,a,o){var s=t.coordinateSystem,c=isCoordinateSystemType(s,`cartesian2d`),l,u,d,f;if(c){var p=s.getAxis(`x`),g=s.getAxis(`y`);l=p.getBandWidth()+.5,u=g.getBandWidth()+.5,d=p.scale.getExtent(),f=g.scale.getExtent()}for(var _=this.group,v=t.getData(),y=t.getModel([`emphasis`,`itemStyle`]).getItemStyle(),b=t.getModel([`blur`,`itemStyle`]).getItemStyle(),x=t.getModel([`select`,`itemStyle`]).getItemStyle(),S=t.get([`itemStyle`,`borderRadius`]),C=getLabelStatesModels(t),w=t.getModel(`emphasis`),T=w.get(`focus`),E=w.get(`blurScope`),D=w.get(`disabled`),O=c?[v.mapDimension(`x`),v.mapDimension(`y`),v.mapDimension(`value`)]:[v.mapDimension(`time`),v.mapDimension(`value`)],A=r;A<a;A++){var j=void 0,M=v.getItemVisual(A,`style`);if(c){var N=v.get(O[0],A),P=v.get(O[1],A);if(isNaN(v.get(O[2],A))||isNaN(N)||isNaN(P)||N<d[0]||N>d[1]||P<f[0]||P>f[1])continue;var F=s.dataToPoint([N,P]);j=new Rect_default({shape:{x:F[0]-l/2,y:F[1]-u/2,width:l,height:u},style:M})}else{if(isNaN(v.get(O[1],A)))continue;j=new Rect_default({z2:1,shape:s.dataToRect([v.get(O[0],A)]).contentShape,style:M})}if(v.hasItemOption){var I=v.getItemModel(A),L=I.getModel(`emphasis`);y=L.getModel(`itemStyle`).getItemStyle(),b=I.getModel([`blur`,`itemStyle`]).getItemStyle(),x=I.getModel([`select`,`itemStyle`]).getItemStyle(),S=I.get([`itemStyle`,`borderRadius`]),T=L.get(`focus`),E=L.get(`blurScope`),D=L.get(`disabled`),C=getLabelStatesModels(I)}j.shape.r=S;var R=t.getRawValue(A),z=`-`;R&&R[2]!=null&&(z=R[2]+``),setLabelStyle(j,C,{labelFetcher:t,labelDataIndex:A,defaultOpacity:M.opacity,defaultText:z}),j.ensureState(`emphasis`).style=y,j.ensureState(`blur`).style=b,j.ensureState(`select`).style=x,toggleHoverEmphasis(j,T,E,D),j.incremental=o,o&&(j.states.emphasis.hoverLayer=!0),_.add(j),v.setItemGraphicEl(A,j),this._progressiveEls&&this._progressiveEls.push(j)}},n.prototype._renderOnGeo=function(t,n,r,a){var o=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,c=n.getData(),l=this._hmLayer||this._hmLayer||new HeatmapLayer_default;l.blurSize=n.get(`blurSize`),l.pointSize=n.get(`pointSize`),l.minOpacity=n.get(`minOpacity`),l.maxOpacity=n.get(`maxOpacity`);var u=t.getViewRect().clone(),d=t.getRoamTransform();u.applyTransform(d);var f=Math.max(u.x,0),p=Math.max(u.y,0),g=Math.min(u.width+u.x,a.getWidth()),_=Math.min(u.height+u.y,a.getHeight()),v=g-f,y=_-p,b=[c.mapDimension(`lng`),c.mapDimension(`lat`),c.mapDimension(`value`)],x=c.mapArray(b,function(n,r,a){var o=t.dataToPoint([n,r]);return o[0]-=f,o[1]-=p,o.push(a),o}),S=r.getExtent(),C=r.type===`visualMap.continuous`?getIsInContinuousRange(S,r.option.range):getIsInPiecewiseRange(S,r.getPieceList(),r.option.selected);l.update(x,v,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},C);var w=new Image_default({style:{width:v,height:y,x:f,y:p,image:l.canvas},silent:!0});this.group.add(w)},n.type=`heatmap`,n}(Chart_default),HeatmapSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(t,n){return createSeriesData_default(null,this,{generateCoord:`value`})},n.prototype.preventIncremental=function(){var t=CoordinateSystem_default.get(this.get(`coordinateSystem`));if(t&&t.dimensions)return t.dimensions[0]===`lng`&&t.dimensions[1]===`lat`},n.type=`series.heatmap`,n.dependencies=[`grid`,`geo`,`calendar`],n.defaultOption={coordinateSystem:`cartesian2d`,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:`#212121`}}},n}(Series_default);function install$6(t){t.registerChartView(HeatmapView_default),t.registerSeriesModel(HeatmapSeries_default)}var BAR_BORDER_WIDTH_QUERY=[`itemStyle`,`borderWidth`],LAYOUT_ATTRS=[{xy:`x`,wh:`width`,index:0,posDesc:[`left`,`right`]},{xy:`y`,wh:`height`,index:1,posDesc:[`top`,`bottom`]}],pathForLineWidth=new Circle_default,PictorialBarView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r){var a=this.group,o=t.getData(),s=this._data,c=t.coordinateSystem,l=c.getBaseAxis().isHorizontal(),u=c.master.getRect(),d={ecSize:{width:r.getWidth(),height:r.getHeight()},seriesModel:t,coordSys:c,coordSysExtent:[[u.x,u.x+u.width],[u.y,u.y+u.height]],isHorizontal:l,valueDim:LAYOUT_ATTRS[+l],categoryDim:LAYOUT_ATTRS[1-l]};o.diff(s).add(function(t){if(o.hasValue(t)){var n=getSymbolMeta(o,t,getItemModel(o,t),d),r=createBar(o,d,n);o.setItemGraphicEl(t,r),a.add(r),updateCommon(r,d,n)}}).update(function(t,n){var r=s.getItemGraphicEl(n);if(!o.hasValue(t)){a.remove(r);return}var c=getSymbolMeta(o,t,getItemModel(o,t),d),l=getShapeStr(o,c);r&&l!==r.__pictorialShapeStr&&(a.remove(r),o.setItemGraphicEl(t,null),r=null),r?updateBar(r,d,c):r=createBar(o,d,c,!0),o.setItemGraphicEl(t,r),r.__pictorialSymbolMeta=c,a.add(r),updateCommon(r,d,c)}).remove(function(t){var n=s.getItemGraphicEl(t);n&&removeBar(s,t,n.__pictorialSymbolMeta.animationModel,n)}).execute();var f=t.get(`clip`,!0)?createClipPath(t.coordinateSystem,!1,t):null;return f?a.setClipPath(f):a.removeClipPath(),this._data=o,this.group},n.prototype.remove=function(t,n){var r=this.group,a=this._data;t.get(`animation`)?a&&a.eachItemGraphicEl(function(n){removeBar(a,getECData(n).dataIndex,t,n)}):r.removeAll()},n.type=`pictorialBar`,n}(Chart_default);function getSymbolMeta(t,n,r,a){var o=t.getItemLayout(n),s=r.get(`symbolRepeat`),c=r.get(`symbolClip`),l=r.get(`symbolPosition`)||`start`,u=(r.get(`symbolRotate`)||0)*Math.PI/180||0,d=r.get(`symbolPatternSize`)||2,f=r.isAnimationEnabled(),p={dataIndex:n,layout:o,itemModel:r,symbolType:t.getItemVisual(n,`symbol`)||`circle`,style:t.getItemVisual(n,`style`),symbolClip:c,symbolRepeat:s,symbolRepeatDirection:r.get(`symbolRepeatDirection`),symbolPatternSize:d,rotation:u,animationModel:f?r:null,hoverScale:f&&r.get([`emphasis`,`scale`]),z2:r.getShallow(`z`,!0)||0};prepareBarLength(r,s,o,a,p),prepareSymbolSize(t,n,o,s,c,p.boundingLength,p.pxSign,d,a,p),prepareLineWidth(r,p.symbolScale,u,a,p);var g=p.symbolSize;return prepareLayoutInfo(r,g,o,s,c,normalizeSymbolOffset(r.get(`symbolOffset`),g),l,p.valueLineWidth,p.boundingLength,p.repeatCutLength,a,p),p}function prepareBarLength(t,n,r,a,o){var s=a.valueDim,c=t.get(`symbolBoundingData`),l=a.coordSys.getOtherAxis(a.coordSys.getBaseAxis()),u=l.toGlobalCoord(l.dataToCoord(0)),d=1-(r[s.wh]<=0),f;if(isArray$1(c)){var p=[convertToCoordOnAxis(l,c[0])-u,convertToCoordOnAxis(l,c[1])-u];p[1]<p[0]&&p.reverse(),f=p[d]}else f=c==null?n?a.coordSysExtent[s.index][d]-u:r[s.wh]:convertToCoordOnAxis(l,c)-u;o.boundingLength=f,n&&(o.repeatCutLength=r[s.wh]);var g=s.xy===`x`,_=l.inverse;o.pxSign=g&&!_||!g&&_?f>=0?1:-1:f>0?1:-1}function convertToCoordOnAxis(t,n){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(n)))}function prepareSymbolSize(t,n,r,a,o,s,c,l,u,d){var f=u.valueDim,p=u.categoryDim,g=Math.abs(r[p.wh]),_=t.getItemVisual(n,`symbolSize`),v=isArray$1(_)?_.slice():_==null?[`100%`,`100%`]:[_,_];v[p.index]=parsePercent(v[p.index],g),v[f.index]=parsePercent(v[f.index],a?g:Math.abs(s)),d.symbolSize=v;var y=d.symbolScale=[v[0]/l,v[1]/l];y[f.index]*=(u.isHorizontal?-1:1)*c}function prepareLineWidth(t,n,r,a,o){var s=t.get(BAR_BORDER_WIDTH_QUERY)||0;s&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:r}),pathForLineWidth.updateTransform(),s/=pathForLineWidth.getLineScale(),s*=n[a.valueDim.index]),o.valueLineWidth=s||0}function prepareLayoutInfo(t,n,r,a,o,s,c,l,u,d,f,p){var g=f.categoryDim,_=f.valueDim,v=p.pxSign,y=Math.max(n[_.index]+l,0),b=y;if(a){var x=Math.abs(u),S=retrieve(t.get(`symbolMargin`),`15%`)+``,C=!1;S.lastIndexOf(`!`)===S.length-1&&(C=!0,S=S.slice(0,S.length-1));var w=parsePercent(S,n[_.index]),T=Math.max(y+w*2,0),E=C?0:w*2,D=isNumeric(a),O=D?a:toIntTimes((x+E)/T);w=(x-O*y)/2/(C?O:Math.max(O-1,1)),T=y+w*2,E=C?0:w*2,!D&&a!==`fixed`&&(O=d?toIntTimes((Math.abs(d)+E)/T):0),b=O*T-E,p.repeatTimes=O,p.symbolMargin=w}var A=b/2*v,j=p.pathPosition=[];j[g.index]=r[g.wh]/2,j[_.index]=c===`start`?A:c===`end`?u-A:u/2,s&&(j[0]+=s[0],j[1]+=s[1]);var M=p.bundlePosition=[];M[g.index]=r[g.xy],M[_.index]=r[_.xy];var N=p.barRectShape=extend({},r);N[_.wh]=v*Math.max(Math.abs(r[_.wh]),Math.abs(j[_.index]+A)),N[g.wh]=r[g.wh];var P=p.clipShape={};P[g.xy]=-r[g.xy],P[g.wh]=f.ecSize[g.wh],P[_.xy]=0,P[_.wh]=r[_.wh]}function createPath(t){var n=t.symbolPatternSize,r=createSymbol$1(t.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!==`image`&&r.setStyle({strokeNoScale:!0}),r}function createOrUpdateRepeatSymbols(t,n,r,a){var o=t.__pictorialBundle,s=r.symbolSize,c=r.valueLineWidth,l=r.pathPosition,u=n.valueDim,d=r.repeatTimes||0,f=0,p=s[n.valueDim.index]+c+r.symbolMargin*2;for(eachPath(t,function(t){t.__pictorialAnimationIndex=f,t.__pictorialRepeatTimes=d,f<d?updateAttr(t,null,v(f),r,a):updateAttr(t,null,{scaleX:0,scaleY:0},r,a,function(){o.remove(t)}),f++});f<d;f++){var g=createPath(r);g.__pictorialAnimationIndex=f,g.__pictorialRepeatTimes=d,o.add(g);var _=v(f);updateAttr(g,{x:_.x,y:_.y,scaleX:0,scaleY:0},{scaleX:_.scaleX,scaleY:_.scaleY,rotation:_.rotation},r,a)}function v(t){var n=l.slice(),a=r.pxSign,o=t;return(r.symbolRepeatDirection===`start`?a>0:a<0)&&(o=d-1-t),n[u.index]=p*(o-d/2+.5)+l[u.index],{x:n[0],y:n[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function createOrUpdateSingleSymbol(t,n,r,a){var o=t.__pictorialBundle,s=t.__pictorialMainPath;s?updateAttr(s,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,a):(s=t.__pictorialMainPath=createPath(r),o.add(s),updateAttr(s,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,a))}function createOrUpdateBarRect(t,n,r){var a=extend({},n.barRectShape),o=t.__pictorialBarRect;o?updateAttr(o,null,{shape:a},n,r):(o=t.__pictorialBarRect=new Rect_default({z2:2,shape:a,silent:!0,style:{stroke:`transparent`,fill:`transparent`,lineWidth:0}}),o.disableMorphing=!0,t.add(o))}function createOrUpdateClip(t,n,r,a){if(r.symbolClip){var o=t.__pictorialClipPath,s=extend({},r.clipShape),c=n.valueDim,l=r.animationModel,u=r.dataIndex;if(o)updateProps$1(o,{shape:s},l,u);else{s[c.wh]=0,o=new Rect_default({shape:s}),t.__pictorialBundle.setClipPath(o),t.__pictorialClipPath=o;var d={};d[c.wh]=r.clipShape[c.wh],graphic_exports[a?`updateProps`:`initProps`](o,{shape:d},l,u)}}}function getItemModel(t,n){var r=t.getItemModel(n);return r.getAnimationDelayParams=getAnimationDelayParams,r.isAnimationEnabled=isAnimationEnabled,r}function getAnimationDelayParams(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow(`animation`)}function createBar(t,n,r,a){var o=new Group_default,s=new Group_default;return o.add(s),o.__pictorialBundle=s,s.x=r.bundlePosition[0],s.y=r.bundlePosition[1],r.symbolRepeat?createOrUpdateRepeatSymbols(o,n,r):createOrUpdateSingleSymbol(o,n,r),createOrUpdateBarRect(o,r,a),createOrUpdateClip(o,n,r,a),o.__pictorialShapeStr=getShapeStr(t,r),o.__pictorialSymbolMeta=r,o}function updateBar(t,n,r){var a=r.animationModel,o=r.dataIndex,s=t.__pictorialBundle;updateProps$1(s,{x:r.bundlePosition[0],y:r.bundlePosition[1]},a,o),r.symbolRepeat?createOrUpdateRepeatSymbols(t,n,r,!0):createOrUpdateSingleSymbol(t,n,r,!0),createOrUpdateBarRect(t,r,!0),createOrUpdateClip(t,n,r,!0)}function removeBar(t,n,r,a){var o=a.__pictorialBarRect;o&&o.removeTextContent();var s=[];eachPath(a,function(t){s.push(t)}),a.__pictorialMainPath&&s.push(a.__pictorialMainPath),a.__pictorialClipPath&&(r=null),each$15(s,function(t){removeElement(t,{scaleX:0,scaleY:0},r,n,function(){a.parent&&a.parent.remove(a)})}),t.setItemGraphicEl(n,null)}function getShapeStr(t,n){return[t.getItemVisual(n.dataIndex,`symbol`)||`none`,!!n.symbolRepeat,!!n.symbolClip].join(`:`)}function eachPath(t,n,r){each$15(t.__pictorialBundle.children(),function(a){a!==t.__pictorialBarRect&&n.call(r,a)})}function updateAttr(t,n,r,a,o,s){n&&t.attr(n),a.symbolClip&&!o?r&&t.attr(r):r&&graphic_exports[o?`updateProps`:`initProps`](t,r,a.animationModel,a.dataIndex,s)}function updateCommon(t,n,r){var a=r.dataIndex,o=r.itemModel,s=o.getModel(`emphasis`),c=s.getModel(`itemStyle`).getItemStyle(),l=o.getModel([`blur`,`itemStyle`]).getItemStyle(),u=o.getModel([`select`,`itemStyle`]).getItemStyle(),d=o.getShallow(`cursor`),f=s.get(`focus`),p=s.get(`blurScope`),g=s.get(`scale`);eachPath(t,function(t){if(t instanceof Image_default){var n=t.style;t.useStyle(extend({image:n.image,x:n.x,y:n.y,width:n.width,height:n.height},r.style))}else t.useStyle(r.style);var a=t.ensureState(`emphasis`);a.style=c,g&&(a.scaleX=t.scaleX*1.1,a.scaleY=t.scaleY*1.1),t.ensureState(`blur`).style=l,t.ensureState(`select`).style=u,d&&(t.cursor=d),t.z2=r.z2});var _=n.valueDim.posDesc[+(r.boundingLength>0)],v=t.__pictorialBarRect;v.ignoreClip=!0,setLabelStyle(v,getLabelStatesModels(o),{labelFetcher:n.seriesModel,labelDataIndex:a,defaultText:getDefaultLabel(n.seriesModel.getData(),a),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:_}),toggleHoverEmphasis(t,f,p,s.get(`disabled`))}function toIntTimes(t){var n=Math.round(t);return Math.abs(t-n)<1e-4?n:Math.ceil(t)}var PictorialBarView_default=PictorialBarView,PictorialBarSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol=`roundRect`,r}return n.prototype.getInitialData=function(n){return n.stack=null,t.prototype.getInitialData.apply(this,arguments)},n.type=`series.pictorialBar`,n.dependencies=[`grid`],n.defaultOption=inheritDefaultOption(BaseBarSeries_default.defaultOption,{symbol:`circle`,symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:`end`,symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:`-100%`,clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:`#212121`}}}),n}(BaseBarSeries_default);function install$5(t){t.registerChartView(PictorialBarView_default),t.registerSeriesModel(PictorialBarSeries_default),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,`pictorialBar`)),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout(`pictorialBar`))}var ThemeRiverView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(t,n,r){var a=t.getData(),o=this,s=this.group,c=t.getLayerSeries(),l=a.getLayout(`layoutInfo`),u=l.rect,d=l.boundaryGap;s.x=0,s.y=u.y+d[0];function f(t){return t.name}var p=new DataDiffer_default(this._layersSeries||[],c,f,f),g=[];p.add(bind$1(_,this,`add`)).update(bind$1(_,this,`update`)).remove(bind$1(_,this,`remove`)).execute();function _(n,r,l){var u=o._layers;if(n===`remove`){s.remove(u[r]);return}for(var d=[],f=[],p,_=c[r].indices,v=0;v<_.length;v++){var y=a.getItemLayout(_[v]),b=y.x,x=y.y0,S=y.y;d.push(b,x),f.push(b,x+S),p=a.getItemVisual(_[v],`style`)}var C,w=a.getItemLayout(_[0]),T=t.getModel(`label`).get(`margin`),E=t.getModel(`emphasis`);if(n===`add`){var D=g[r]=new Group_default;C=new ECPolygon({shape:{points:d,stackedOnPoints:f,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),D.add(C),s.add(D),t.isAnimationEnabled()&&C.setClipPath(createGridClipShape(C.getBoundingRect(),t,function(){C.removeClipPath()}))}else{var D=u[l];C=D.childAt(0),s.add(D),g[r]=D,updateProps$1(C,{shape:{points:d,stackedOnPoints:f}},t),saveOldStyle(C)}setLabelStyle(C,getLabelStatesModels(t),{labelDataIndex:_[v-1],defaultText:a.getName(_[v-1]),inheritColor:p.fill},{normal:{verticalAlign:`middle`}}),C.setTextConfig({position:null,local:!0});var O=C.getTextContent();O&&(O.x=w.x-T,O.y=w.y0+w.y/2),C.useStyle(p),a.setItemGraphicEl(r,C),setStatesStylesFromModel(C,t),toggleHoverEmphasis(C,E.get(`focus`),E.get(`blurScope`),E.get(`disabled`))}this._layersSeries=c,this._layers=g},n.type=`themeRiver`,n}(Chart_default);function createGridClipShape(t,n,r){var a=new Rect_default({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return initProps(a,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},n,r),a}var ThemeRiverView_default=ThemeRiverView,DATA_NAME_INDEX=2,ThemeRiverSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(n){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider_default(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.fixData=function(t){var n=t.length,r={},a=groupData(t,function(t){return r.hasOwnProperty(t[0]+``)||(r[t[0]+``]=-1),t[2]}),o=[];a.buckets.each(function(t,n){o.push({name:n,dataList:t})});for(var s=o.length,c=0;c<s;++c){for(var l=o[c].name,u=0;u<o[c].dataList.length;++u){var d=o[c].dataList[u][0]+``;r[d]=c}for(var d in r)r.hasOwnProperty(d)&&r[d]!==c&&(r[d]=c,t[n]=[d,0,l],n++)}return t},n.prototype.getInitialData=function(t,n){for(var r=this.getReferringComponents(`singleAxis`,SINGLE_REFERRING).models[0].get(`type`),a=filter(t.data,function(t){return t[2]!==void 0}),o=this.fixData(a||[]),s=[],c=this.nameMap=createHashMap(),l=0,u=0;u<o.length;++u)s.push(o[u][DATA_NAME_INDEX]),c.get(o[u][DATA_NAME_INDEX])||(c.set(o[u][DATA_NAME_INDEX],l),l++);var d=prepareSeriesDataSchema(o,{coordDimensions:[`single`],dimensionsDefine:[{name:`time`,type:getDimensionTypeByAxis(r)},{name:`value`,type:`float`},{name:`name`,type:`ordinal`}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,f=new SeriesData_default(d,this);return f.initData(o),f},n.prototype.getLayerSeries=function(){for(var t=this.getData(),n=t.count(),r=[],a=0;a<n;++a)r[a]=a;var o=t.mapDimension(`single`),s=groupData(r,function(n){return t.get(`name`,n)}),c=[];return s.buckets.each(function(n,r){n.sort(function(n,r){return t.get(o,n)-t.get(o,r)}),c.push({name:r,indices:n})}),c},n.prototype.getAxisTooltipData=function(t,n,r){isArray$1(t)||(t=t?[t]:[]);for(var a=this.getData(),o=this.getLayerSeries(),s=[],c=o.length,l,u=0;u<c;++u){for(var d=Number.MAX_VALUE,f=-1,p=o[u].indices.length,g=0;g<p;++g){var _=a.get(t[0],o[u].indices[g]),v=Math.abs(_-n);v<=d&&(l=_,d=v,f=o[u].indices[g])}s.push(f)}return{dataIndices:s,nestestValue:l}},n.prototype.formatTooltip=function(t,n,r){var a=this.getData();return createTooltipMarkup(`nameValue`,{name:a.getName(t),value:a.get(a.mapDimension(`value`),t)})},n.type=`series.themeRiver`,n.dependencies=[`singleAxis`],n.defaultOption={z:2,colorBy:`data`,coordinateSystem:`singleAxis`,boundaryGap:[`10%`,`10%`],singleAxisIndex:0,animationEasing:`linear`,label:{margin:4,show:!0,position:`left`,fontSize:11},emphasis:{label:{show:!0}}},n}(Series_default);function themeRiverLayout(t,n){t.eachSeriesByType(`themeRiver`,function(t){var n=t.getData(),r=t.coordinateSystem,a={},o=r.getRect();a.rect=o;var s=t.get(`boundaryGap`),c=r.getAxis();a.boundaryGap=s,c.orient===`horizontal`?(s[0]=parsePercent(s[0],o.height),s[1]=parsePercent(s[1],o.height),doThemeRiverLayout(n,t,o.height-s[0]-s[1])):(s[0]=parsePercent(s[0],o.width),s[1]=parsePercent(s[1],o.width),doThemeRiverLayout(n,t,o.width-s[0]-s[1])),n.setLayout(`layoutInfo`,a)})}function doThemeRiverLayout(t,n,r){if(t.count())for(var a=n.coordinateSystem,o=n.getLayerSeries(),s=t.mapDimension(`single`),c=t.mapDimension(`value`),l=map$1(o,function(n){return map$1(n.indices,function(n){var r=a.dataToPoint(t.get(s,n));return r[1]=t.get(c,n),r})}),u=computeBaseline(l),d=u.y0,f=r/u.max,p=o.length,g=o[0].indices.length,_,v=0;v<g;++v){_=d[v]*f,t.setItemLayout(o[0].indices[v],{layerIndex:0,x:l[0][v][0],y0:_,y:l[0][v][1]*f});for(var y=1;y<p;++y)_+=l[y-1][v][1]*f,t.setItemLayout(o[y].indices[v],{layerIndex:y,x:l[y][v][0],y0:_,y:l[y][v][1]*f})}}function computeBaseline(t){for(var n=t.length,r=t[0].length,a=[],o=[],s=0,c=0;c<r;++c){for(var l=0,u=0;u<n;++u)l+=t[u][c][1];l>s&&(s=l),a.push(l)}for(var d=0;d<r;++d)o[d]=(s-a[d])/2;s=0;for(var f=0;f<r;++f){var p=a[f]+o[f];p>s&&(s=p)}return{y0:o,max:s}}function install$4(t){t.registerChartView(ThemeRiverView_default),t.registerSeriesModel(ThemeRiverSeries_default),t.registerLayout(themeRiverLayout),t.registerProcessor(dataFilter(`themeRiver`))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece_default=function(t){__extends(n,t);function n(n,r,a,o){var s=t.call(this)||this;s.z2=DEFAULT_SECTOR_Z,s.textConfig={inside:!0},getECData(s).seriesIndex=r.seriesIndex;var c=new Text_default({z2:DEFAULT_TEXT_Z,silent:n.getModel().get([`label`,`silent`])});return s.setTextContent(c),s.updateData(!0,n,r,a,o),s}return n.prototype.updateData=function(t,n,r,a,o){this.node=n,n.piece=this,r||=this._seriesModel,a||=this._ecModel;var s=this;getECData(s).dataIndex=n.dataIndex;var c=n.getModel(),l=c.getModel(`emphasis`),u=n.getLayout(),d=extend({},u);d.label=null;var f=n.getVisual(`style`);f.lineJoin=`bevel`;var p=n.getVisual(`decal`);p&&(f.decal=createOrUpdatePatternFromDecal(p,o)),extend(d,getSectorCornerRadius(c.getModel(`itemStyle`),d,!0)),each$15(SPECIAL_STATES,function(t){var n=s.ensureState(t),r=c.getModel([t,`itemStyle`]);n.style=r.getItemStyle();var a=getSectorCornerRadius(r,d);a&&(n.shape=a)}),t?(s.setShape(d),s.shape.r=u.r0,initProps(s,{shape:{r:u.r}},r,n.dataIndex)):(updateProps$1(s,{shape:d},r),saveOldStyle(s)),s.useStyle(f),this._updateLabel(r);var g=c.getShallow(`cursor`);g&&s.attr(`cursor`,g),this._seriesModel=r||this._seriesModel,this._ecModel=a||this._ecModel;var _=l.get(`focus`),v=_===`relative`?concatArray(n.getAncestorsIndices(),n.getDescendantIndices()):_===`ancestor`?n.getAncestorsIndices():_===`descendant`?n.getDescendantIndices():_;toggleHoverEmphasis(this,v,l.get(`blurScope`),l.get(`disabled`))},n.prototype._updateLabel=function(t){var n=this,r=this.node.getModel(),a=r.getModel(`label`),o=this.node.getLayout(),s=o.endAngle-o.startAngle,c=(o.startAngle+o.endAngle)/2,l=Math.cos(c),u=Math.sin(c),d=this,f=d.getTextContent(),p=this.node.dataIndex,g=a.get(`minAngle`)/180*Math.PI;f.ignore=!(a.get(`show`)&&!(g!=null&&Math.abs(s)<g)),each$15(DISPLAY_STATES,function(a){var g=a===`normal`?r.getModel(`label`):r.getModel([a,`label`]),v=a===`normal`,y=v?f:f.ensureState(a),b=t.getFormattedLabel(p,a);v&&(b||=n.node.name),y.style=createTextStyle$1(g,{},null,a!==`normal`,!0),b&&(y.style.text=b);var x=g.get(`show`);x!=null&&!v&&(y.ignore=!x);var S=_(g,`position`),C=v?d:d.states[a],w=C.style.fill;C.textConfig={outsideFill:g.get(`color`)===`inherit`?w:null,inside:S!==`outside`};var T,E=_(g,`distance`)||0,D=_(g,`align`),O=_(g,`rotate`),A=Math.PI*.5,j=Math.PI*1.5,M=normalizeRadian(O===`tangential`?Math.PI/2-c:c),N=M>A&&!isRadianAroundZero(M-A)&&M<j;S===`outside`?(T=o.r+E,D=N?`right`:`left`):!D||D===`center`?(T=s===2*Math.PI&&o.r0===0?0:(o.r+o.r0)/2,D=`center`):D===`left`?(T=o.r0+E,D=N?`right`:`left`):D===`right`&&(T=o.r-E,D=N?`left`:`right`),y.style.align=D,y.style.verticalAlign=_(g,`verticalAlign`)||`middle`,y.x=T*l+o.cx,y.y=T*u+o.cy;var P=0;O===`radial`?P=normalizeRadian(-c)+(N?Math.PI:0):O===`tangential`?P=normalizeRadian(Math.PI/2-c)+(N?Math.PI:0):isNumber(O)&&(P=O*Math.PI/180),y.rotation=normalizeRadian(P)});function _(t,n){return t.get(n)??a.get(n)}f.dirtyStyle()},n}(Sector_default),ROOT_TO_NODE_ACTION=`sunburstRootToNode`,HIGHLIGHT_ACTION=`sunburstHighlight`,UNHIGHLIGHT_ACTION=`sunburstUnhighlight`;function installSunburstAction(t){t.registerAction({type:ROOT_TO_NODE_ACTION,update:`updateView`},function(t,n){n.eachComponent({mainType:`series`,subType:`sunburst`,query:t},r);function r(n,r){var a=retrieveTargetInfo(t,[ROOT_TO_NODE_ACTION],n);if(a){var o=n.getViewRoot();o&&(t.direction=aboveViewRoot(o,a.node)?`rollUp`:`drillDown`),n.resetViewRoot(a.node)}}}),t.registerAction({type:HIGHLIGHT_ACTION,update:`none`},function(t,n,r){t=extend({},t),n.eachComponent({mainType:`series`,subType:`sunburst`,query:t},a);function a(n){var r=retrieveTargetInfo(t,[HIGHLIGHT_ACTION],n);r&&(t.dataIndex=r.node.dataIndex)}r.dispatchAction(extend(t,{type:`highlight`}))}),t.registerAction({type:UNHIGHLIGHT_ACTION,update:`updateView`},function(t,n,r){t=extend({},t),r.dispatchAction(extend(t,{type:`downplay`}))})}var SunburstView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r,a){var o=this;this.seriesModel=t,this.api=r,this.ecModel=n;var s=t.getData(),c=s.tree.root,l=t.getViewRoot(),u=this.group,d=t.get(`renderLabelForZeroData`),f=[];l.eachNode(function(t){f.push(t)}),p(f,this._oldChildren||[]),v(c,l),this._initEvents(),this._oldChildren=f;function p(t,n){if(t.length===0&&n.length===0)return;new DataDiffer_default(n,t,r,r).add(a).update(a).remove(curry$1(a,null)).execute();function r(t){return t.getId()}function a(r,a){g(r==null?null:t[r],a==null?null:n[a])}}function g(a,o){if(!d&&a&&!a.getValue()&&(a=null),a!==c&&o!==c){if(o&&o.piece)a?(o.piece.updateData(!1,a,t,n,r),s.setItemGraphicEl(a.dataIndex,o.piece)):_(o);else if(a){var l=new SunburstPiece_default(a,t,n,r);u.add(l),s.setItemGraphicEl(a.dataIndex,l)}}}function _(t){t&&(t.piece&&=(u.remove(t.piece),null))}function v(a,s){s.depth>0?(o.virtualPiece?o.virtualPiece.updateData(!1,a,t,n,r):(o.virtualPiece=new SunburstPiece_default(a,t,n,r),u.add(o.virtualPiece)),s.piece.off(`click`),o.virtualPiece.on(`click`,function(t){o._rootToNode(s.parentNode)})):o.virtualPiece&&=(u.remove(o.virtualPiece),null)}},n.prototype._initEvents=function(){var t=this;this.group.off(`click`),this.group.on(`click`,function(n){var r=!1;t.seriesModel.getViewRoot().eachNode(function(a){if(!r&&a.piece&&a.piece===n.target){var o=a.getModel().get(`nodeClick`);if(o===`rootToNode`)t._rootToNode(a);else if(o===`link`){var s=a.getModel(),c=s.get(`link`);c&&windowOpen(c,s.get(`target`,!0)||`_blank`)}r=!0}})})},n.prototype._rootToNode=function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},n.prototype.containPoint=function(t,n){var r=n.getData().getItemLayout(0);if(r){var a=t[0]-r.cx,o=t[1]-r.cy,s=Math.sqrt(a*a+o*o);return s<=r.r&&s>=r.r0}},n.type=`sunburst`,n}(Chart_default),SunburstSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(t,n){var r={name:t.name,children:t.data};completeTreeValue(r);var a=this._levelModels=map$1(t.levels||[],function(t){return new Model_default(t,this,n)},this),o=Tree_default.createTree(r,this,s);function s(t){t.wrapMethod(`getItemModel`,function(t,n){var r=a[o.getNodeByDataIndex(n).depth];return r&&(t.parentModel=r),t})}return o.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(n){var r=t.prototype.getDataParams.apply(this,arguments);return r.treePathInfo=wrapTreePathInfo(this.getData().tree.getNodeByDataIndex(n),this),r},n.prototype.getLevelModel=function(t){return this._levelModels&&this._levelModels[t.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(t){t?this._viewRoot=t:t=this._viewRoot;var n=this.getRawData().tree.root;(!t||t!==n&&!n.contains(t))&&(this._viewRoot=n)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type=`series.sunburst`,n.defaultOption={z:2,center:[`50%`,`50%`],radius:[0,`75%`],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:`rootToNode`,renderLabelForZeroData:!1,label:{rotate:`radial`,show:!0,opacity:1,align:`center`,position:`inside`,distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:`white`,borderType:`solid`,shadowBlur:0,shadowColor:`rgba(0, 0, 0, 0.2)`,shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:`descendant`},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:`expansion`,animationDuration:1e3,animationDurationUpdate:500,data:[],sort:`desc`},n}(Series_default);function completeTreeValue(t){var n=0;each$15(t.children,function(t){completeTreeValue(t);var r=t.value;isArray$1(r)&&(r=r[0]),n+=r});var r=t.value;isArray$1(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$1(t.value)?t.value[0]=r:t.value=r}var SunburstSeries_default=SunburstSeriesModel,RADIAN=Math.PI/180;function sunburstLayout(t,n,r){n.eachSeriesByType(t,function(t){var n=t.get(`center`),a=t.get(`radius`);isArray$1(a)||(a=[0,a]),isArray$1(n)||(n=[n,n]);var o=r.getWidth(),s=r.getHeight(),c=Math.min(o,s),l=parsePercent(n[0],o),u=parsePercent(n[1],s),d=parsePercent(a[0],c/2),f=parsePercent(a[1],c/2),p=-t.get(`startAngle`)*RADIAN,g=t.get(`minAngle`)*RADIAN,_=t.getData().tree.root,v=t.getViewRoot(),y=v.depth,b=t.get(`sort`);b!=null&&initChildren(v,b);var x=0;each$15(v.children,function(t){!isNaN(t.getValue())&&x++});var S=v.getValue(),C=Math.PI/(S||x)*2,w=v.depth>0,T=v.height-(w?-1:1),E=(f-d)/(T||1),D=t.get(`clockwise`),O=t.get(`stillShowZeroSum`),A=D?1:-1,j=function(n,r){if(n){var a=r;if(n!==_){var o=n.getValue(),s=S===0&&O?C:o*C;s<g&&(s=g),a=r+A*s;var f=n.depth-y-(w?-1:1),p=d+E*f,v=d+E*(f+1),b=t.getLevelModel(n);if(b){var x=b.get(`r0`,!0),T=b.get(`r`,!0),M=b.get(`radius`,!0);M!=null&&(x=M[0],T=M[1]),x!=null&&(p=parsePercent(x,c/2)),T!=null&&(v=parsePercent(T,c/2))}n.setLayout({angle:s,startAngle:r,endAngle:a,clockwise:D,cx:l,cy:u,r0:p,r:v})}if(n.children&&n.children.length){var N=0;each$15(n.children,function(t){N+=j(t,r+N)})}return a-r}};if(w){var M=d,N=d+E,P=Math.PI*2;_.setLayout({angle:P,startAngle:p,endAngle:p+P,clockwise:D,cx:l,cy:u,r0:M,r:N})}j(v,p)})}function initChildren(t,n){var r=t.children||[];t.children=sort(r,n),r.length&&each$15(t.children,function(t){initChildren(t,n)})}function sort(t,n){if(isFunction(n)){var r=map$1(t,function(t,n){var r=t.getValue();return{params:{depth:t.depth,height:t.height,dataIndex:t.dataIndex,getValue:function(){return r}},index:n}});return r.sort(function(t,r){return n(t.params,r.params)}),map$1(r,function(n){return t[n.index]})}else{var a=n===`asc`;return t.sort(function(t,n){var r=(t.getValue()-n.getValue())*(a?1:-1);return r===0?(t.dataIndex-n.dataIndex)*(a?-1:1):r})}}function sunburstVisual(t){var n={};function r(t,r,a){for(var o=t;o&&o.depth>1;)o=o.parentNode;var s=r.getColorFromPalette(o.name||o.dataIndex+``,n);return t.depth>1&&isString(s)&&(s=lift(s,(t.depth-1)/(a-1)*.5)),s}t.eachSeriesByType(`sunburst`,function(t){var n=t.getData(),a=n.tree;a.eachNode(function(o){var s=o.getModel().getModel(`itemStyle`).getItemStyle();s.fill||=r(o,t,a.root.height),extend(n.ensureUniqueItemVisual(o.dataIndex,`style`),s)})})}function install$3(t){t.registerChartView(SunburstView_default),t.registerSeriesModel(SunburstSeries_default),t.registerLayout(curry$1(sunburstLayout,`sunburst`)),t.registerProcessor(curry$1(dataFilter,`sunburst`)),t.registerVisual(sunburstVisual),installSunburstAction(t)}var STYLE_VISUAL_TYPE={color:`fill`,borderColor:`stroke`},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeries_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get(`zlevel`,!0),this.currentZ=this.get(`z`,!0)},n.prototype.getInitialData=function(t,n){return createSeriesData_default(null,this)},n.prototype.getDataParams=function(n,r,a){var o=t.prototype.getDataParams.call(this,n,r);return a&&(o.info=customInnerStore(a).info),o},n.type=`series.custom`,n.dependencies=[`grid`,`polar`,`geo`,`singleAxis`,`calendar`],n.defaultOption={coordinateSystem:`cartesian2d`,z:2,legendHoverLink:!0,clip:!1},n}(Series_default);function dataToCoordSize$3(t,n){return n||=[0,0],map$1([`x`,`y`],function(r,a){var o=this.getAxis(r),s=n[a],c=t[a]/2;return o.type===`category`?o.getBandWidth():Math.abs(o.dataToCoord(s-c)-o.dataToCoord(s+c))},this)}function cartesianPrepareCustom(t){var n=t.master.getRect();return{coordSys:{type:`cartesian2d`,x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(n){return t.dataToPoint(n)},size:bind$1(dataToCoordSize$3,t)}}}function dataToCoordSize$2(t,n){return n||=[0,0],map$1([0,1],function(r){var a=n[r],o=t[r]/2,s=[],c=[];return s[r]=a-o,c[r]=a+o,s[1-r]=c[1-r]=n[1-r],Math.abs(this.dataToPoint(s)[r]-this.dataToPoint(c)[r])},this)}function geoPrepareCustom(t){var n=t.getBoundingRect();return{coordSys:{type:`geo`,x:n.x,y:n.y,width:n.width,height:n.height,zoom:t.getZoom()},api:{coord:function(n){return t.dataToPoint(n)},size:bind$1(dataToCoordSize$2,t)}}}function dataToCoordSize$1(t,n){var r=this.getAxis(),a=n instanceof Array?n[0]:n,o=(t instanceof Array?t[0]:t)/2;return r.type===`category`?r.getBandWidth():Math.abs(r.dataToCoord(a-o)-r.dataToCoord(a+o))}function singlePrepareCustom(t){var n=t.getRect();return{coordSys:{type:`singleAxis`,x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(n){return t.dataToPoint(n)},size:bind$1(dataToCoordSize$1,t)}}}function dataToCoordSize(t,n){return n||=[0,0],map$1([`Radius`,`Angle`],function(r,a){var o=`get`+r+`Axis`,s=this[o](),c=n[a],l=t[a]/2,u=s.type===`category`?s.getBandWidth():Math.abs(s.dataToCoord(c-l)-s.dataToCoord(c+l));return r===`Angle`&&(u=u*Math.PI/180),u},this)}function polarPrepareCustom(t){var n=t.getRadiusAxis(),r=t.getAngleAxis(),a=n.getExtent();return a[0]>a[1]&&a.reverse(),{coordSys:{type:`polar`,cx:t.cx,cy:t.cy,r:a[1],r0:a[0]},api:{coord:function(a){var o=n.dataToRadius(a[0]),s=r.dataToAngle(a[1]),c=t.coordToPoint([o,s]);return c.push(o,s*Math.PI/180),c},size:bind$1(dataToCoordSize,t)}}}function calendarPrepareCustom(t){var n=t.getRect(),r=t.getRangeInfo();return{coordSys:{type:`calendar`,x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(n,r){return t.dataToPoint(n,r)}}}}var EMPHASIS=`emphasis`,NORMAL=`normal`,BLUR=`blur`,SELECT=`select`,STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:[`itemStyle`],emphasis:[EMPHASIS,`itemStyle`],blur:[BLUR,`itemStyle`],select:[SELECT,`itemStyle`]},PATH_LABEL={normal:[`label`],emphasis:[EMPHASIS,`label`],blur:[BLUR,`label`],select:[SELECT,`label`]},DEFAULT_TRANSITION=[`x`,`y`],GROUP_DIFF_PREFIX=`e\0\0`,attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(t){return t instanceof Path_default}function isDisplayable(t){return t instanceof Displayable_default}function copyElement(t,n){n.copyTransform(t),isDisplayable(n)&&isDisplayable(t)&&(n.setStyle(t.style),n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n.invisible=t.invisible,n.ignore=t.ignore,isPath(n)&&isPath(t)&&n.setShape(t.shape))}var CustomView_default=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(t,n,r,a){this._progressiveEls=null;var o=this._data,s=t.getData(),c=this.group,l=makeRenderItem(t,s,n,r);o||c.removeAll(),s.diff(o).add(function(n){createOrUpdateItem(r,null,n,l(n,a),t,c,s)}).remove(function(n){var r=o.getItemGraphicEl(n);r&&applyLeaveTransition(r,customInnerStore(r).option,t)}).update(function(n,u){createOrUpdateItem(r,o.getItemGraphicEl(u),n,l(n,a),t,c,s)}).execute();var u=t.get(`clip`,!0)?createClipPath(t.coordinateSystem,!1,t):null;u?c.setClipPath(u):c.removeClipPath(),this._data=s},n.prototype.incrementalPrepareRender=function(t,n,r){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(t,n,r,a,o){var s=n.getData(),c=makeRenderItem(n,s,r,a),l=this._progressiveEls=[];function u(t){t.isGroup||(t.incremental=!0,t.ensureState(`emphasis`).hoverLayer=!0)}for(var d=t.start;d<t.end;d++){var f=createOrUpdateItem(null,null,d,c(d,o),n,this.group,s);f&&(f.traverse(u),l.push(f))}},n.prototype.eachRendered=function(t){traverseElements(this._progressiveEls||this.group,t)},n.prototype.filterForExposedEvent=function(t,n,r,a){var o=n.element;if(o==null||r.name===o)return!0;for(;(r=r.__hostTarget||r.parent)&&r!==this.group;)if(r.name===o)return!0;return!1},n.type=`custom`,n}(Chart_default);function createEl(t){var n=t.type,r;if(n===`path`){var a=t.shape,o=a.width!=null&&a.height!=null?{x:a.x||0,y:a.y||0,width:a.width,height:a.height}:null,s=getPathData(a);r=makePath(s,null,o,a.layout||`center`),customInnerStore(r).customPathData=s}else if(n===`image`)r=new Image_default({}),customInnerStore(r).customImagePath=t.style.image;else if(n===`text`)r=new Text_default({});else if(n===`group`)r=new Group_default;else if(n===`compoundPath`)throw Error(`"compoundPath" is not supported yet.`);else{var c=getShapeClass(n);c||throwError(``),r=new c}return customInnerStore(r).customGraphicType=n,r.name=t.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function updateElNormal(t,n,r,a,o,s,c){stopPreviousKeyframeAnimationAndRestore(n);var l=o&&o.normal.cfg;l&&n.setTextConfig(l),a&&a.transition==null&&(a.transition=DEFAULT_TRANSITION);var u=a&&a.style;if(u){if(n.type===`text`){var d=u;hasOwn(d,`textFill`)&&(d.fill=d.textFill),hasOwn(d,`textStroke`)&&(d.stroke=d.textStroke)}var f=void 0,p=isPath(n)?u.decal:null;t&&p&&(p.dirty=!0,f=createOrUpdatePatternFromDecal(p,t)),u.__decalPattern=f}if(isDisplayable(n)&&u){var f=u.__decalPattern;f&&(u.decal=f)}applyUpdateTransition(n,a,s,{dataIndex:r,isInit:c,clearStyle:!0}),applyKeyframeAnimation(n,a.keyframeAnimation,s)}function updateElOnState(t,n,r,a,o){var s=n.isGroup?null:n,c=o&&o[t].cfg;if(s){var l=s.ensureState(t);if(a===!1){var u=s.getState(t);u&&(u.style=null)}else l.style=a||null;c&&(l.textConfig=c),setDefaultStateProxy(s)}}function updateZ(t,n,r){if(!t.isGroup){var a=t,o=r.currentZ,s=r.currentZLevel;a.z=o,a.zlevel=s;var c=n.z2;c!=null&&(a.z2=c||0);for(var l=0;l<STATES.length;l++)updateZForEachState(a,n,STATES[l])}}function updateZForEachState(t,n,r){var a=r===NORMAL,o=a?n:retrieveStateOption(n,r),s=o?o.z2:null,c;s!=null&&(c=a?t:t.ensureState(r),c.z2=s||0)}function makeRenderItem(t,n,r,a){var o=t.get(`renderItem`),s=t.coordinateSystem,c={};s&&(c=s.prepareCustoms?s.prepareCustoms(s):prepareCustoms[s.type](s));for(var l=defaults({getWidth:a.getWidth,getHeight:a.getHeight,getZr:a.getZr,getDevicePixelRatio:a.getDevicePixelRatio,value:w,style:E,ordinalRawValue:T,styleEmphasis:D,visual:j,barLayout:M,currentSeriesIndices:N,font:P},c.api||{}),u={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:c.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(t.getData())},d,f,p={},g={},_={},v={},y=0;y<STATES.length;y++){var b=STATES[y];_[b]=t.getModel(PATH_ITEM_STYLE[b]),v[b]=t.getModel(PATH_LABEL[b])}function x(t){return t===d?f||=n.getItemModel(t):n.getItemModel(t)}function S(t,r){return n.hasItemOption?t===d?p[r]||(p[r]=x(t).getModel(PATH_ITEM_STYLE[r])):x(t).getModel(PATH_ITEM_STYLE[r]):_[r]}function C(t,r){return n.hasItemOption?t===d?g[r]||(g[r]=x(t).getModel(PATH_LABEL[r])):x(t).getModel(PATH_LABEL[r]):v[r]}return function(t,r){return d=t,f=null,p={},g={},o&&o(defaults({dataIndexInside:t,dataIndex:n.getRawIndex(t),actionType:r?r.type:null},u),l)};function w(t,r){return r??=d,n.getStore().get(n.getDimensionIndex(t||0),r)}function T(t,r){r??=d,t||=0;var a=n.getDimensionInfo(t);if(!a){var o=n.getDimensionIndex(t);return o>=0?n.getStore().get(o,r):void 0}var s=n.get(a.name,r),c=a&&a.ordinalMeta;return c?c.categories[s]:s}function E(r,a){a??=d;var o=n.getItemVisual(a,`style`),s=o&&o.fill,c=o&&o.opacity,l=S(a,NORMAL).getItemStyle();s!=null&&(l.fill=s),c!=null&&(l.opacity=c);var u={inheritColor:isString(s)?s:`#000`},f=C(a,NORMAL),p=createTextStyle$1(f,null,u,!1,!0);p.text=f.getShallow(`show`)?retrieve2(t.getFormattedLabel(a,NORMAL),getDefaultLabel(n,a)):null;var g=createTextConfig(f,u,!1);return A(r,l),l=convertToEC4StyleForCustomSerise(l,p,g),r&&O(l,r),l.legacy=!0,l}function D(r,a){a??=d;var o=S(a,EMPHASIS).getItemStyle(),s=C(a,EMPHASIS),c=createTextStyle$1(s,null,null,!0,!0);c.text=s.getShallow(`show`)?retrieve3(t.getFormattedLabel(a,EMPHASIS),t.getFormattedLabel(a,NORMAL),getDefaultLabel(n,a)):null;var l=createTextConfig(s,null,!0);return A(r,o),o=convertToEC4StyleForCustomSerise(o,c,l),r&&O(o,r),o.legacy=!0,o}function O(t,n){for(var r in n)hasOwn(n,r)&&(t[r]=n[r])}function A(t,n){t&&(t.textFill&&(n.textFill=t.textFill),t.textPosition&&(n.textPosition=t.textPosition))}function j(t,r){if(r??=d,hasOwn(STYLE_VISUAL_TYPE,t)){var a=n.getItemVisual(r,`style`);return a?a[STYLE_VISUAL_TYPE[t]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,t))return n.getItemVisual(r,t)}function M(t){if(s.type===`cartesian2d`)return getLayoutOnAxis(defaults({axis:s.getBaseAxis()},t))}function N(){return r.getCurrentSeriesIndices()}function P(t){return getFont(t,r)}}function wrapEncodeDef(t){var n={};return each$15(t.dimensions,function(r){var a=t.getDimensionInfo(r);if(!a.isExtraCoord){var o=a.coordDim,s=n[o]=n[o]||[];s[a.coordDimIndex]=t.getDimensionIndex(r)}}),n}function createOrUpdateItem(t,n,r,a,o,s,c){if(!a){s.remove(n);return}var l=doCreateOrUpdateEl(t,n,r,a,o,s);return l&&c.setItemGraphicEl(r,l),l&&toggleHoverEmphasis(l,a.focus,a.blurScope,a.emphasisDisabled),l}function doCreateOrUpdateEl(t,n,r,a,o,s){var c=-1,l=n;n&&doesElNeedRecreate(n,a,o)&&(c=indexOf(s.childrenRef(),n),n=null);var u=!n,d=n;d?d.clearStates():(d=createEl(a),l&&copyElement(l,d)),a.morph===!1?d.disableMorphing=!0:d.disableMorphing&&=!1,attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(d,r,a,o,u,attachedTxInfoTmp),doCreateOrUpdateClipPath(d,r,a,o,u),updateElNormal(t,d,r,a,attachedTxInfoTmp,o,u),hasOwn(a,`info`)&&(customInnerStore(d).info=a.info);for(var f=0;f<STATES.length;f++){var p=STATES[f];if(p!==NORMAL){var g=retrieveStateOption(a,p),_=retrieveStyleOptionOnState(a,g,p);updateElOnState(p,d,g,_,attachedTxInfoTmp)}}return updateZ(d,a,o),a.type===`group`&&mergeChildren(t,d,r,a,o),c>=0?s.replaceAt(d,c):s.add(d),d}function doesElNeedRecreate(t,n,r){var a=customInnerStore(t),o=n.type,s=n.shape,c=n.style;return r.isUniversalTransitionEnabled()||o!=null&&o!==a.customGraphicType||o===`path`&&hasOwnPathData(s)&&getPathData(s)!==a.customPathData||o===`image`&&hasOwn(c,`image`)&&c.image!==a.customImagePath}function doCreateOrUpdateClipPath(t,n,r,a,o){var s=r.clipPath;if(s===!1)t&&t.getClipPath()&&t.removeClipPath();else if(s){var c=t.getClipPath();c&&doesElNeedRecreate(c,s,a)&&(c=null),c||(c=createEl(s),t.setClipPath(c)),updateElNormal(null,c,n,s,null,a,o)}}function doCreateOrUpdateAttachedTx(t,n,r,a,o,s){if(!t.isGroup){processTxInfo(r,null,s),processTxInfo(r,EMPHASIS,s);var c=s.normal.conOpt,l=s.emphasis.conOpt,u=s.blur.conOpt,d=s.select.conOpt;if(c!=null||l!=null||d!=null||u!=null){var f=t.getTextContent();if(c===!1)f&&t.removeTextContent();else{c=s.normal.conOpt=c||{type:`text`},f?f.clearStates():(f=createEl(c),t.setTextContent(f)),updateElNormal(null,f,n,c,null,a,o);for(var p=c&&c.style,g=0;g<STATES.length;g++){var _=STATES[g];if(_!==NORMAL){var v=s[_].conOpt;updateElOnState(_,f,v,retrieveStyleOptionOnState(c,v,_),null)}}p?f.dirty():f.markRedraw()}}}}function processTxInfo(t,n,r){var a=n?retrieveStateOption(t,n):t,o=n?retrieveStyleOptionOnState(t,a,EMPHASIS):t.style,s=t.type,c=a?a.textConfig:null,l=t.textContent,u=l?n?retrieveStateOption(l,n):l:null;if(o&&(r.isLegacy||isEC4CompatibleStyle(o,s,!!c,!!u))){r.isLegacy=!0;var d=convertFromEC4CompatibleStyle(o,s,!n);!c&&d.textConfig&&(c=d.textConfig),!u&&d.textContent&&(u=d.textContent)}if(!n&&u){var f=u;!f.type&&(f.type=`text`)}var p=n?r[n]:r.normal;p.cfg=c,p.conOpt=u}function retrieveStateOption(t,n){return n?t?t[n]:null:t}function retrieveStyleOptionOnState(t,n,r){var a=n&&n.style;return a==null&&r===EMPHASIS&&t&&(a=t.styleEmphasis),a}function mergeChildren(t,n,r,a,o){var s=a.children,c=s?s.length:0,l=a.$mergeChildren,u=l===`byName`||a.diffChildrenByName,d=l===!1;if(!(!c&&!u&&!d)){if(u){diffGroupChildren({api:t,oldChildren:n.children()||[],newChildren:s||[],dataIndex:r,seriesModel:o,group:n});return}d&&n.removeAll();for(var f=0;f<c;f++){var p=s[f],g=n.childAt(f);p?(p.ignore??=!1,doCreateOrUpdateEl(t,g,r,p,o,n)):g.ignore=!0}for(var _=n.childCount()-1;_>=f;_--)removeChildFromGroup(n,n.childAt(_),o)}}function removeChildFromGroup(t,n,r){n&&applyLeaveTransition(n,customInnerStore(t).option,r)}function diffGroupChildren(t){new DataDiffer_default(t.oldChildren,t.newChildren,getKey,getKey,t).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(t,n){return(t&&t.name)??GROUP_DIFF_PREFIX+n}function processAddUpdate(t,n){var r=this.context,a=t==null?null:r.newChildren[t],o=n==null?null:r.oldChildren[n];doCreateOrUpdateEl(r.api,o,r.dataIndex,a,r.seriesModel,r.group)}function processRemove(t){var n=this.context,r=n.oldChildren[t];r&&applyLeaveTransition(r,customInnerStore(r).option,n.seriesModel)}function getPathData(t){return t&&(t.pathData||t.d)}function hasOwnPathData(t){return t&&(hasOwn(t,`pathData`)||hasOwn(t,`d`))}function install$2(t){t.registerChartView(CustomView_default),t.registerSeriesModel(CustomSeries_default)}var mathSin=Math.sin,mathCos=Math.cos,PI=Math.PI,PI2=Math.PI*2,degree=180/PI,SVGPathRebuilder_default=function(){function t(){}return t.prototype.reset=function(t){this._start=!0,this._d=[],this._str=``,this._p=10**(t||4)},t.prototype.moveTo=function(t,n){this._add(`M`,t,n)},t.prototype.lineTo=function(t,n){this._add(`L`,t,n)},t.prototype.bezierCurveTo=function(t,n,r,a,o,s){this._add(`C`,t,n,r,a,o,s)},t.prototype.quadraticCurveTo=function(t,n,r,a){this._add(`Q`,t,n,r,a)},t.prototype.arc=function(t,n,r,a,o,s){this.ellipse(t,n,r,r,0,a,o,s)},t.prototype.ellipse=function(t,n,r,a,o,s,c,l){var u=c-s,d=!l,f=Math.abs(u),p=isAroundZero(f-PI2)||(d?u>=PI2:-u>=PI2),g=u>0?u%PI2:u%PI2+PI2,_=!1;_=p?!0:isAroundZero(f)?!1:g>=PI==!!d;var v=t+r*mathCos(s),y=n+a*mathSin(s);this._start&&this._add(`M`,v,y);var b=Math.round(o*degree);if(p){var x=1/this._p,S=(d?1:-1)*(PI2-x);this._add(`A`,r,a,b,1,+d,t+r*mathCos(s+S),n+a*mathSin(s+S)),x>.01&&this._add(`A`,r,a,b,0,+d,v,y)}else{var C=t+r*mathCos(c),w=n+a*mathSin(c);this._add(`A`,r,a,b,+_,+d,C,w)}},t.prototype.rect=function(t,n,r,a){this._add(`M`,t,n),this._add(`l`,r,0),this._add(`l`,0,a),this._add(`l`,-r,0),this._add(`Z`)},t.prototype.closePath=function(){this._d.length>0&&this._add(`Z`)},t.prototype._add=function(t,n,r,a,o,s,c,l,u){for(var d=[],f=this._p,p=1;p<arguments.length;p++){var g=arguments[p];if(isNaN(g)){this._invalid=!0;return}d.push(Math.round(g*f)/f)}this._d.push(t+d.join(` `)),this._start=t===`Z`},t.prototype.generateStr=function(){this._str=this._invalid?``:this._d.join(``),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),NONE=`none`,mathRound=Math.round;function pathHasFill(t){var n=t.fill;return n!=null&&n!==NONE}function pathHasStroke(t){var n=t.stroke;return n!=null&&n!==NONE}var strokeProps=[`lineCap`,`miterLimit`,`lineJoin`],svgStrokeProps=map$1(strokeProps,function(t){return`stroke-`+t.toLowerCase()});function mapStyleToAttrs(t,n,r,a){var o=n.opacity==null?1:n.opacity;if(r instanceof Image_default){t(`opacity`,o);return}if(pathHasFill(n)){var s=normalizeColor(n.fill);t(`fill`,s.color);var c=n.fillOpacity==null?s.opacity*o:n.fillOpacity*s.opacity*o;(a||c<1)&&t(`fill-opacity`,c)}else t(`fill`,NONE);if(pathHasStroke(n)){var l=normalizeColor(n.stroke);t(`stroke`,l.color);var u=n.strokeNoScale?r.getLineScale():1,d=u?(n.lineWidth||0)/u:0,f=n.strokeOpacity==null?l.opacity*o:n.strokeOpacity*l.opacity*o,p=n.strokeFirst;if((a||d!==1)&&t(`stroke-width`,d),(a||p)&&t(`paint-order`,p?`stroke`:`fill`),(a||f<1)&&t(`stroke-opacity`,f),n.lineDash){var g=getLineDash(r),_=g[0],v=g[1];_&&(v=mathRound(v||0),t(`stroke-dasharray`,_.join(`,`)),(v||a)&&t(`stroke-dashoffset`,v))}else a&&t(`stroke-dasharray`,NONE);for(var y=0;y<strokeProps.length;y++){var b=strokeProps[y];if(a||n[b]!==DEFAULT_PATH_STYLE[b]){var x=n[b]||DEFAULT_PATH_STYLE[b];x&&t(svgStrokeProps[y],x)}}}else a&&t(`stroke`,NONE)}var SVGNS=`http://www.w3.org/2000/svg`,XLINKNS=`http://www.w3.org/1999/xlink`,XMLNS=`http://www.w3.org/2000/xmlns/`,XML_NAMESPACE=`http://www.w3.org/XML/1998/namespace`,META_DATA_PREFIX=`ecmeta_`;function createElement(t){return document.createElementNS(SVGNS,t)}function createVNode(t,n,r,a,o){return{tag:t,attrs:r||{},children:a,text:o,key:n}}function createElementOpen(t,n){var r=[];if(n)for(var a in n){var o=n[a],s=a;o!==!1&&(o!==!0&&o!=null&&(s+=`="`+o+`"`),r.push(s))}return`<`+t+` `+r.join(` `)+`>`}function createElementClose(t){return`</`+t+`>`}function vNodeToString(t,n){n||={};var r=n.newline?`
`:``;function a(t){var n=t.children,o=t.tag,s=t.attrs,c=t.text;return createElementOpen(o,s)+(o===`style`?c||``:encodeHTML(c))+(n?``+r+map$1(n,function(t){return a(t)}).join(r)+r:``)+createElementClose(o)}return a(t)}function getCssString(t,n,r){r||={};var a=r.newline?`
`:``,o=` {`+a,s=a+`}`,c=map$1(keys(t),function(n){return n+o+map$1(keys(t[n]),function(r){return r+`:`+t[n][r]+`;`}).join(a)+s}).join(a),l=map$1(keys(n),function(t){return`@keyframes `+t+o+map$1(keys(n[t]),function(r){return r+o+map$1(keys(n[t][r]),function(a){var o=n[t][r][a];return a===`d`&&(o=`path("`+o+`")`),a+`:`+o+`;`}).join(a)+s}).join(a)+s}).join(a);return!c&&!l?``:[`<![CDATA[`,c,l,`]]>`].join(a)}function createBrushScope(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(t,n,r,a){return createVNode(`svg`,`root`,{width:t,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:`1.1`,baseProfile:`full`,viewBox:a?`0 0 `+t+` `+n:!1},r)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:`0.32,0,0.67,0`,cubicOut:`0.33,1,0.68,1`,cubicInOut:`0.65,0,0.35,1`,quadraticIn:`0.11,0,0.5,0`,quadraticOut:`0.5,1,0.89,1`,quadraticInOut:`0.45,0,0.55,1`,quarticIn:`0.5,0,0.75,0`,quarticOut:`0.25,1,0.5,1`,quarticInOut:`0.76,0,0.24,1`,quinticIn:`0.64,0,0.78,0`,quinticOut:`0.22,1,0.36,1`,quinticInOut:`0.83,0,0.17,1`,sinusoidalIn:`0.12,0,0.39,0`,sinusoidalOut:`0.61,1,0.88,1`,sinusoidalInOut:`0.37,0,0.63,1`,exponentialIn:`0.7,0,0.84,0`,exponentialOut:`0.16,1,0.3,1`,exponentialInOut:`0.87,0,0.13,1`,circularIn:`0.55,0,1,0.45`,circularOut:`0,0.55,0.45,1`,circularInOut:`0.85,0,0.15,1`},transformOriginKey=`transform-origin`;function buildPathString(t,n,r){var a=extend({},t.shape);extend(a,n),t.buildPath(r,a);var o=new SVGPathRebuilder_default;return o.reset(getPathPrecision(t)),r.rebuildPath(o,1),o.generateStr(),o.getStr()}function setTransformOrigin(t,n){var r=n.originX,a=n.originY;(r||a)&&(t[transformOriginKey]=r+`px `+a+`px`)}var ANIMATE_STYLE_MAP={fill:`fill`,opacity:`opacity`,lineWidth:`stroke-width`,lineDashOffset:`stroke-dashoffset`};function addAnimation(t,n){var r=n.zrId+`-ani-`+ n.cssAnimIdx++;return n.cssAnims[r]=t,r}function createCompoundPathCSSAnimation(t,n,r){var a=t.shape.paths,o={},s,c;if(each$15(a,function(t){var n=createBrushScope(r.zrId);n.animation=!0,createCSSAnimation(t,{},n,!0);var a=n.cssAnims,l=n.cssNodes,u=keys(a),d=u.length;if(d){c=u[d-1];var f=a[c];for(var p in f){var g=f[p];o[p]=o[p]||{d:``},o[p].d+=g.d||``}for(var _ in l){var v=l[_].animation;v.indexOf(c)>=0&&(s=v)}}}),s){n.d=!1;var l=addAnimation(o,r);return s.replace(c,l)}}function getEasingFunc(t){return isString(t)?EASING_MAP[t]?`cubic-bezier(`+EASING_MAP[t]+`)`:createCubicEasingFunc(t)?t:``:``}function createCSSAnimation(t,n,r,a){var o=t.animators,s=o.length,c=[];if(t instanceof CompoundPath_default){var l=createCompoundPathCSSAnimation(t,n,r);if(l)c.push(l);else if(!s)return}else if(!s)return;for(var u={},d=0;d<s;d++){var f=o[d],p=[f.getMaxTime()/1e3+`s`],g=getEasingFunc(f.getClip().easing),_=f.getDelay();g?p.push(g):p.push(`linear`),_&&p.push(_/1e3+`s`),f.getLoop()&&p.push(`infinite`);var v=p.join(` `);u[v]=u[v]||[v,[]],u[v][1].push(f)}function y(o){var s=o[1],c=s.length,l={},u={},d={},f=`animation-timing-function`;function p(t,n,r){for(var a=t.getTracks(),o=t.getMaxTime(),s=0;s<a.length;s++){var c=a[s];if(c.needsAnimate()){var l=c.keyframes,u=c.propName;if(r&&(u=r(u)),u)for(var d=0;d<l.length;d++){var p=l[d],g=Math.round(p.time/o*100)+`%`,_=getEasingFunc(p.easing),v=p.rawValue;(isString(v)||isNumber(v))&&(n[g]=n[g]||{},n[g][u]=p.rawValue,_&&(n[g][f]=_))}}}}for(var g=0;g<c;g++){var _=s[g],v=_.targetName;v?v===`shape`&&p(_,u):!a&&p(_,l)}for(var y in l){var b={};copyTransform(b,t),extend(b,l[y]);var x=getSRTTransformString(b),S=l[y][f];d[y]=x?{transform:x}:{},setTransformOrigin(d[y],b),S&&(d[y][f]=S)}var C,w=!0;for(var y in u){d[y]=d[y]||{};var T=!C,S=u[y][f];T&&(C=new PathProxy_default);var E=C.len();C.reset(),d[y].d=buildPathString(t,u[y],C);var D=C.len();if(!T&&E!==D){w=!1;break}S&&(d[y][f]=S)}if(!w)for(var y in d)delete d[y].d;if(!a)for(var g=0;g<c;g++){var _=s[g],v=_.targetName;v===`style`&&p(_,d,function(t){return ANIMATE_STYLE_MAP[t]})}for(var O=keys(d),A=!0,j,g=1;g<O.length;g++){var M=O[g-1],N=O[g];if(d[M][transformOriginKey]!==d[N][transformOriginKey]){A=!1;break}j=d[M][transformOriginKey]}if(A&&j){for(var y in d)d[y][transformOriginKey]&&delete d[y][transformOriginKey];n[transformOriginKey]=j}if(filter(O,function(t){return keys(d[t]).length>0}).length)return addAnimation(d,r)+` `+o[0]+` both`}for(var b in u){var l=y(u[b]);l&&c.push(l)}if(c.length){var x=r.zrId+`-cls-`+getClassId();r.cssNodes[`.`+x]={animation:c.join(`,`)},n.class=x}}function createCSSEmphasis(t,n,r){if(!t.ignore)if(t.isSilent()){var a={"pointer-events":`none`};setClassAttribute(a,n,r,!0)}else{var o=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},s=o.fill;if(!s){var c=t.style&&t.style.fill,l=t.states.select&&t.states.select.style&&t.states.select.style.fill,u=t.currentStates.indexOf(`select`)>=0&&l||c;u&&(s=liftColor(u))}var d=o.lineWidth;if(d){var f=!o.strokeNoScale&&t.transform?t.transform[0]:1;d/=f}var a={cursor:`pointer`};s&&(a.fill=s),o.stroke&&(a.stroke=o.stroke),d&&(a[`stroke-width`]=d),setClassAttribute(a,n,r,!0)}}function setClassAttribute(t,n,r,a){var o=JSON.stringify(t),s=r.cssStyleCache[o];s||(s=r.zrId+`-cls-`+getClassId(),r.cssStyleCache[o]=s,r.cssNodes[`.`+s+(a?`:hover`:``)]=t),n.class=n.class?n.class+` `+s:s}var round=Math.round;function isImageLike(t){return t&&isString(t.src)}function isCanvasLike(t){return t&&isFunction(t.toDataURL)}function setStyleAttrs(t,n,r,a){mapStyleToAttrs(function(o,s){var c=o===`fill`||o===`stroke`;c&&isGradient(s)?setGradient(n,t,o,a):c&&isPattern(s)?setPattern(r,t,o,a):t[o]=s,c&&a.ssr&&s===`none`&&(t[`pointer-events`]=`visible`)},n,r,!1),setShadow(r,t,a)}function setMetaData(t,n){var r=getElementSSRData(n);r&&(r.each(function(n,r){n!=null&&(t[(`ecmeta_`+r).toLowerCase()]=n+``)}),n.isSilent()&&(t[META_DATA_PREFIX+`silent`]=`true`))}function noRotateScale(t){return isAroundZero(t[0]-1)&&isAroundZero(t[1])&&isAroundZero(t[2])&&isAroundZero(t[3]-1)}function noTranslate(t){return isAroundZero(t[4])&&isAroundZero(t[5])}function setTransform(t,n,r){if(n&&!(noTranslate(n)&&noRotateScale(n))){var a=r?10:1e4;t.transform=noRotateScale(n)?`translate(`+round(n[4]*a)/a+` `+round(n[5]*a)/a+`)`:getMatrixStr(n)}}function convertPolyShape(t,n,r){for(var a=t.points,o=[],s=0;s<a.length;s++)o.push(round(a[s][0]*r)/r),o.push(round(a[s][1]*r)/r);n.points=o.join(` `)}function validatePolyShape(t){return!t.smooth}function createAttrsConvert(t){var n=map$1(t,function(t){return typeof t==`string`?[t,t]:t});return function(t,r,a){for(var o=0;o<n.length;o++){var s=n[o],c=t[s[0]];c!=null&&(r[s[1]]=round(c*a)/a)}}}var builtinShapesDef={circle:[createAttrsConvert([`cx`,`cy`,`r`])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(t){for(var n=t.animators,r=0;r<n.length;r++)if(n[r].targetName===`shape`)return!0;return!1}function brushSVGPath(t,n){var r=t.style,a=t.shape,o=builtinShapesDef[t.type],s={},c=n.animation,l=`path`,u=t.style.strokePercent,d=n.compress&&getPathPrecision(t)||4;if(o&&!n.willUpdate&&!(o[1]&&!o[1](a))&&!(c&&hasShapeAnimation(t))&&!(u<1)){l=t.type;var f=10**d;o[0](a,s,f)}else{var p=!t.path||t.shapeChanged();t.path||t.createPathProxy();var g=t.path;p&&(g.beginPath(),t.buildPath(g,t.shape),t.pathUpdated());var _=g.getVersion(),v=t,y=v.__svgPathBuilder;(v.__svgPathVersion!==_||!y||u!==v.__svgPathStrokePercent)&&(y||=v.__svgPathBuilder=new SVGPathRebuilder_default,y.reset(d),g.rebuildPath(y,u),y.generateStr(),v.__svgPathVersion=_,v.__svgPathStrokePercent=u),s.d=y.getStr()}return setTransform(s,t.transform),setStyleAttrs(s,r,t,n),setMetaData(s,t),n.animation&&createCSSAnimation(t,s,n),n.emphasis&&createCSSEmphasis(t,s,n),createVNode(l,t.id+``,s)}function brushSVGImage(t,n){var r=t.style,a=r.image;if(a&&!isString(a)&&(isImageLike(a)?a=a.src:isCanvasLike(a)&&(a=a.toDataURL())),a){var o=r.x||0,s=r.y||0,c=r.width,l=r.height,u={href:a,width:c,height:l};return o&&(u.x=o),s&&(u.y=s),setTransform(u,t.transform),setStyleAttrs(u,r,t,n),setMetaData(u,t),n.animation&&createCSSAnimation(t,u,n),createVNode(`image`,t.id+``,u)}}function brushSVGTSpan(t,n){var r=t.style,a=r.text;if(a!=null&&(a+=``),!(!a||isNaN(r.x)||isNaN(r.y))){var o=r.font||`12px sans-serif`,s=r.x||0,c=adjustTextY$1(r.y||0,getLineHeight(o),r.textBaseline),l=TEXT_ALIGN_TO_ANCHOR[r.textAlign]||r.textAlign,u={"dominant-baseline":`central`,"text-anchor":l};if(hasSeparateFont(r)){var d=``,f=r.fontStyle,p=parseFontSize(r.fontSize);if(!parseFloat(p))return;var g=r.fontFamily||`sans-serif`,_=r.fontWeight;d+=`font-size:`+p+`;font-family:`+g+`;`,f&&f!==`normal`&&(d+=`font-style:`+f+`;`),_&&_!==`normal`&&(d+=`font-weight:`+_+`;`),u.style=d}else u.style=`font: `+o;return a.match(/\s/)&&(u[`xml:space`]=`preserve`),s&&(u.x=s),c&&(u.y=c),setTransform(u,t.transform),setStyleAttrs(u,r,t,n),setMetaData(u,t),n.animation&&createCSSAnimation(t,u,n),createVNode(`text`,t.id+``,u,void 0,a)}}function brush(t,n){if(t instanceof Path_default)return brushSVGPath(t,n);if(t instanceof Image_default)return brushSVGImage(t,n);if(t instanceof TSpan_default)return brushSVGTSpan(t,n)}function setShadow(t,n,r){var a=t.style;if(hasShadow(a)){var o=getShadowKey(t),s=r.shadowCache,c=s[o];if(!c){var l=t.getGlobalScale(),u=l[0],d=l[1];if(!u||!d)return;var f=a.shadowOffsetX||0,p=a.shadowOffsetY||0,g=a.shadowBlur,_=normalizeColor(a.shadowColor),v=_.opacity,y=_.color,b=g/2/u,x=g/2/d,S=b+` `+x;c=r.zrId+`-s`+ r.shadowIdx++,r.defs[c]=createVNode(`filter`,c,{id:c,x:`-100%`,y:`-100%`,width:`300%`,height:`300%`},[createVNode(`feDropShadow`,``,{dx:f/u,dy:p/d,stdDeviation:S,"flood-color":y,"flood-opacity":v})]),s[o]=c}n.filter=getIdURL(c)}}function setGradient(t,n,r,a){var o=t[r],s,c={gradientUnits:o.global?`userSpaceOnUse`:`objectBoundingBox`};if(isLinearGradient(o))s=`linearGradient`,c.x1=o.x,c.y1=o.y,c.x2=o.x2,c.y2=o.y2;else if(isRadialGradient(o))s=`radialGradient`,c.cx=retrieve2(o.x,.5),c.cy=retrieve2(o.y,.5),c.r=retrieve2(o.r,.5);else return;for(var l=o.colorStops,u=[],d=0,f=l.length;d<f;++d){var p=round4(l[d].offset)*100+`%`,g=l[d].color,_=normalizeColor(g),v=_.color,y=_.opacity,b={offset:p};b[`stop-color`]=v,y<1&&(b[`stop-opacity`]=y),u.push(createVNode(`stop`,d+``,b))}var x=vNodeToString(createVNode(s,``,c,u)),S=a.gradientCache,C=S[x];C||(C=a.zrId+`-g`+ a.gradientIdx++,S[x]=C,c.id=C,a.defs[C]=createVNode(s,C,c,u)),n[r]=getIdURL(C)}function setPattern(t,n,r,a){var o=t.style[r],s=t.getBoundingRect(),c={},l=o.repeat,u=l===`no-repeat`,d=l===`repeat-x`,f=l===`repeat-y`,p;if(isImagePattern(o)){var g=o.imageWidth,_=o.imageHeight,v=void 0,y=o.image;if(isString(y)?v=y:isImageLike(y)?v=y.src:isCanvasLike(y)&&(v=y.toDataURL()),typeof Image>`u`){var b=`Image width/height must been given explictly in svg-ssr renderer.`;assert(g,b),assert(_,b)}else if(g==null||_==null){var x=function(t,n){if(t){var r=t.elm,a=g||n.width,o=_||n.height;t.tag===`pattern`&&(d?(o=1,a/=s.width):f&&(a=1,o/=s.height)),t.attrs.width=a,t.attrs.height=o,r&&(r.setAttribute(`width`,a),r.setAttribute(`height`,o))}},S=createOrUpdateImage(v,null,t,function(t){u||x(E,t),x(p,t)});S&&S.width&&S.height&&(g||=S.width,_||=S.height)}p=createVNode(`image`,`img`,{href:v,width:g,height:_}),c.width=g,c.height=_}else o.svgElement&&(p=clone$4(o.svgElement),c.width=o.svgWidth,c.height=o.svgHeight);if(p){var C,w;u?C=w=1:d?(w=1,C=c.width/s.width):f?(C=1,w=c.height/s.height):c.patternUnits=`userSpaceOnUse`,C!=null&&!isNaN(C)&&(c.width=C),w!=null&&!isNaN(w)&&(c.height=w);var T=getSRTTransformString(o);T&&(c.patternTransform=T);var E=createVNode(`pattern`,``,c,[p]),D=vNodeToString(E),O=a.patternCache,A=O[D];A||(A=a.zrId+`-p`+ a.patternIdx++,O[D]=A,c.id=A,E=a.defs[A]=createVNode(`pattern`,A,c,[p])),n[r]=getIdURL(A)}}function setClipPath(t,n,r){var a=r.clipPathCache,o=r.defs,s=a[t.id];if(!s){s=r.zrId+`-c`+ r.clipPathIdx++;var c={id:s};a[t.id]=s,o[s]=createVNode(`clipPath`,s,c,[brushSVGPath(t,r)])}n[`clip-path`]=getIdURL(s)}function createTextNode(t){return document.createTextNode(t)}function insertBefore(t,n,r){t.insertBefore(n,r)}function removeChild(t,n){t.removeChild(n)}function appendChild(t,n){t.appendChild(n)}function parentNode(t){return t.parentNode}function nextSibling(t){return t.nextSibling}function setTextContent(t,n){t.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode(``,``);function isUndef(t){return t===void 0}function isDef(t){return t!==void 0}function createKeyToOldIdx(t,n,r){for(var a={},o=n;o<=r;++o){var s=t[o].key;s!==void 0&&(a[s]=o)}return a}function sameVnode(t,n){var r=t.key===n.key;return t.tag===n.tag&&r}function createElm(t){var n,r=t.children,a=t.tag;if(isDef(a)){var o=t.elm=createElement(a);if(updateAttrs(emptyNode,t),isArray$1(r))for(n=0;n<r.length;++n){var s=r[n];s!=null&&appendChild(o,createElm(s))}else isDef(t.text)&&!isObject$3(t.text)&&appendChild(o,createTextNode(t.text))}else t.elm=createTextNode(t.text);return t.elm}function addVnodes(t,n,r,a,o){for(;a<=o;++a){var s=r[a];s!=null&&insertBefore(t,createElm(s),n)}}function removeVnodes(t,n,r,a){for(;r<=a;++r){var o=n[r];o!=null&&(isDef(o.tag)?removeChild(parentNode(o.elm),o.elm):removeChild(t,o.elm))}}function updateAttrs(t,n){var r,a=n.elm,o=t&&t.attrs||{},s=n.attrs||{};if(o!==s){for(r in s){var c=s[r];o[r]!==c&&(c===!0?a.setAttribute(r,``):c===!1?a.removeAttribute(r):r===`style`?a.style.cssText=c:r.charCodeAt(0)===xChar?r===`xmlns:xlink`||r===`xmlns`?a.setAttributeNS(XMLNS,r,c):r.charCodeAt(3)===colonChar?a.setAttributeNS(XML_NAMESPACE,r,c):r.charCodeAt(5)===colonChar?a.setAttributeNS(XLINKNS,r,c):a.setAttribute(r,c):a.setAttribute(r,c))}for(r in o)r in s||a.removeAttribute(r)}}function updateChildren(t,n,r){for(var a=0,o=0,s=n.length-1,c=n[0],l=n[s],u=r.length-1,d=r[0],f=r[u],p,g,_,v;a<=s&&o<=u;)c==null?c=n[++a]:l==null?l=n[--s]:d==null?d=r[++o]:f==null?f=r[--u]:sameVnode(c,d)?(patchVnode(c,d),c=n[++a],d=r[++o]):sameVnode(l,f)?(patchVnode(l,f),l=n[--s],f=r[--u]):sameVnode(c,f)?(patchVnode(c,f),insertBefore(t,c.elm,nextSibling(l.elm)),c=n[++a],f=r[--u]):sameVnode(l,d)?(patchVnode(l,d),insertBefore(t,l.elm,c.elm),l=n[--s],d=r[++o]):(isUndef(p)&&(p=createKeyToOldIdx(n,a,s)),g=p[d.key],isUndef(g)?insertBefore(t,createElm(d),c.elm):(_=n[g],_.tag===d.tag?(patchVnode(_,d),n[g]=void 0,insertBefore(t,_.elm,c.elm)):insertBefore(t,createElm(d),c.elm)),d=r[++o]);(a<=s||o<=u)&&(a>s?(v=r[u+1]==null?null:r[u+1].elm,addVnodes(t,v,r,o,u)):removeVnodes(t,n,a,s))}function patchVnode(t,n){var r=n.elm=t.elm,a=t.children,o=n.children;t!==n&&(updateAttrs(t,n),isUndef(n.text)?isDef(a)&&isDef(o)?a!==o&&updateChildren(r,a,o):isDef(o)?(isDef(t.text)&&setTextContent(r,``),addVnodes(r,null,o,0,o.length-1)):isDef(a)?removeVnodes(r,a,0,a.length-1):isDef(t.text)&&setTextContent(r,``):t.text!==n.text&&(isDef(a)&&removeVnodes(r,a,0,a.length-1),setTextContent(r,n.text)))}function patch(t,n){if(sameVnode(t,n))patchVnode(t,n);else{var r=t.elm,a=parentNode(r);createElm(n),a!==null&&(insertBefore(a,n.elm,nextSibling(r)),removeVnodes(a,[t],0,0))}return n}var svgId=0,SVGPainter=function(){function t(t,n,r){if(this.type=`svg`,this.refreshHover=createMethodNotSupport(`refreshHover`),this.configLayer=createMethodNotSupport(`configLayer`),this.storage=n,this._opts=r=extend({},r),this.root=t,this._id=`zr`+ svgId++,this._oldVNode=createSVGVNode(r.width,r.height),t&&!r.ssr){var a=this._viewport=document.createElement(`div`);a.style.cssText=`position:relative;overflow:hidden`;var o=this._svgDom=this._oldVNode.elm=createElement(`svg`);updateAttrs(null,this._oldVNode),a.appendChild(o),t.appendChild(a)}this.resize(r.width,r.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style=`position:absolute;left:0;top:0;user-select:none`,patch(this._oldVNode,t),this._oldVNode=t}},t.prototype.renderOneToVNode=function(t){return brush(t,createBrushScope(this._id))},t.prototype.renderToVNode=function(t){t||={};var n=this.storage.getDisplayList(!0),r=this._width,a=this._height,o=createBrushScope(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress,o.emphasis=t.emphasis,o.ssr=this._opts.ssr;var s=[],c=this._bgVNode=createBackgroundVNode(r,a,this._backgroundColor,o);c&&s.push(c);var l=t.compress?null:this._mainVNode=createVNode(`g`,`main`,{},[]);this._paintList(n,o,l?l.children:s),l&&s.push(l);var u=map$1(keys(o.defs),function(t){return o.defs[t]});if(u.length&&s.push(createVNode(`defs`,`defs`,{},u)),t.animation){var d=getCssString(o.cssNodes,o.cssAnims,{newline:!0});if(d){var f=createVNode(`style`,`stl`,{},[],d);s.push(f)}}return createSVGVNode(r,a,s,t.useViewBox)},t.prototype.renderToString=function(t){return t||={},vNodeToString(this.renderToVNode({animation:retrieve2(t.cssAnimation,!0),emphasis:retrieve2(t.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(t.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(t,n,r){for(var a=t.length,o=[],s=0,c,l,u=0,d=0;d<a;d++){var f=t[d];if(!f.invisible){var p=f.__clipPaths,g=p&&p.length||0,_=l&&l.length||0,v=void 0;for(v=Math.max(g-1,_-1);v>=0&&!(p&&l&&p[v]===l[v]);v--);for(var y=_-1;y>v;y--)s--,c=o[s-1];for(var b=v+1;b<g;b++){var x={};setClipPath(p[b],x,n);var S=createVNode(`g`,`clip-g-`+ u++,x,[]);(c?c.children:r).push(S),o[s++]=S,c=S}l=p;var C=brush(f,n);C&&(c?c.children:r).push(C)}}},t.prototype.resize=function(t,n){var r=this._opts,a=this.root,o=this._viewport;if(t!=null&&(r.width=t),n!=null&&(r.height=n),a&&o&&(o.style.display=`none`,t=getSize$1(a,0,r),n=getSize$1(a,1,r),o.style.display=``),this._width!==t||this._height!==n){if(this._width=t,this._height=n,o){var s=o.style;s.width=t+`px`,s.height=n+`px`}if(isPattern(this._backgroundColor))this.refresh();else{var c=this._svgDom;c&&(c.setAttribute(`width`,t),c.setAttribute(`height`,n));var l=this._bgVNode&&this._bgVNode.elm;l&&(l.setAttribute(`width`,t),l.setAttribute(`height`,n))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=``),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(t){var n=this.renderToString(),r=`data:image/svg+xml;`;return t?(n=encodeBase64(n),n&&r+`base64,`+n):r+`charset=UTF-8,`+encodeURIComponent(n)},t}();function createMethodNotSupport(t){return function(){}}function createBackgroundVNode(t,n,r,a){var o;if(r&&r!==`none`)if(o=createVNode(`rect`,`bg`,{width:t,height:n,x:`0`,y:`0`}),isGradient(r))setGradient({fill:r},o.attrs,`fill`,a);else if(isPattern(r))setPattern({style:{fill:r},dirty:noop,getBoundingRect:function(){return{width:t,height:n}}},o.attrs,`fill`,a);else{var s=normalizeColor(r),c=s.color,l=s.opacity;o.attrs.fill=c,l<1&&(o.attrs[`fill-opacity`]=l)}return o}var Painter_default$1=SVGPainter;function install$1(t){t.registerPainter(`svg`,Painter_default$1)}function createDom(t,n,r){var a=platformApi.createCanvas(),o=n.getWidth(),s=n.getHeight(),c=a.style;return c&&(c.position=`absolute`,c.left=`0`,c.top=`0`,c.width=o+`px`,c.height=s+`px`,a.setAttribute(`data-zr-dom-id`,t)),a.width=o*r,a.height=s*r,a}var Layer_default=function(t){__extends(n,t);function n(n,r,a){var o=t.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null;var s;a||=devicePixelRatio,typeof n==`string`?s=createDom(n,r,a):isObject$3(n)&&(s=n,n=s.id),o.id=n,o.dom=s;var c=s.style;return c&&(disableUserSelect(s),s.onselectstart=function(){return!1},c.padding=`0`,c.margin=`0`,c.borderWidth=`0`),o.painter=r,o.dpr=a,o}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext(`2d`),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=createDom(`back-`+this.id,this.painter,t),this.ctxBack=this.domBack.getContext(`2d`),t!==1&&this.ctxBack.scale(t,t)},n.prototype.createRepaintRects=function(t,n,r,a){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var o=[],s=this.maxRepaintRectCount,c=!1,l=new BoundingRect_default(0,0,0,0);function u(t){if(!(!t.isFinite()||t.isZero()))if(o.length===0){var n=new BoundingRect_default(0,0,0,0);n.copy(t),o.push(n)}else{for(var r=!1,a=1/0,u=0,d=0;d<o.length;++d){var f=o[d];if(f.intersect(t)){var p=new BoundingRect_default(0,0,0,0);p.copy(f),p.union(t),o[d]=p,r=!0;break}else if(c){l.copy(t),l.union(f);var g=t.width*t.height,_=f.width*f.height,v=l.width*l.height-g-_;v<a&&(a=v,u=d)}}if(c&&(o[u].union(t),r=!0),!r){var n=new BoundingRect_default(0,0,0,0);n.copy(t),o.push(n)}c||=o.length>=s}}for(var d=this.__startIndex;d<this.__endIndex;++d){var f=t[d];if(f){var p=f.shouldBePainted(r,a,!0,!0),g=f.__isRendered&&(f.__dirty&1||!p)?f.getPrevPaintRect():null;g&&u(g);var _=p&&(f.__dirty&1||!f.__isRendered)?f.getPaintRect():null;_&&u(_)}}for(var d=this.__prevStartIndex;d<this.__prevEndIndex;++d){var f=n[d],p=f&&f.shouldBePainted(r,a,!0,!0);if(f&&(!p||!f.__zr)&&f.__isRendered){var g=f.getPrevPaintRect();g&&u(g)}}var v;do{v=!1;for(var d=0;d<o.length;){if(o[d].isZero()){o.splice(d,1);continue}for(var y=d+1;y<o.length;)o[d].intersect(o[y])?(v=!0,o[d].union(o[y]),o.splice(y,1)):y++;d++}}while(v);return this._paintRects=o,o},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(t,n){var r=this.dpr,a=this.dom,o=a.style,s=this.domBack;o&&(o.width=t+`px`,o.height=n+`px`),a.width=t*r,a.height=n*r,s&&(s.width=t*r,s.height=n*r,r!==1&&this.ctxBack.scale(r,r))},n.prototype.clear=function(t,n,r){var a=this.dom,o=this.ctx,s=a.width,c=a.height;n||=this.clearColor;var l=this.motionBlur&&!t,u=this.lastFrameAlpha,d=this.dpr,f=this;l&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation=`copy`,this.ctxBack.drawImage(a,0,0,s/d,c/d));var p=this.domBack;function g(t,r,a,s){if(o.clearRect(t,r,a,s),n&&n!==`transparent`){var c=void 0;isGradientObject(n)?(c=(n.global||n.__width===a&&n.__height===s)&&n.__canvasGradient||getCanvasGradient(o,n,{x:0,y:0,width:a,height:s}),n.__canvasGradient=c,n.__width=a,n.__height=s):isImagePatternObject(n)&&(n.scaleX=n.scaleX||d,n.scaleY=n.scaleY||d,c=createCanvasPattern(o,n,{dirty:function(){f.setUnpainted(),f.painter.refresh()}})),o.save(),o.fillStyle=c||n,o.fillRect(t,r,a,s),o.restore()}l&&(o.save(),o.globalAlpha=u,o.drawImage(p,t,r,a,s),o.restore())}!r||l?g(0,0,s,c):r.length&&each$15(r,function(t){g(t.x*d,t.y*d,t.width*d,t.height*d)})},n}(Eventful_default),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(t){return t?t.__builtin__?!0:!(typeof t.resize!=`function`||typeof t.refresh!=`function`):!1}function createRoot(t,n){var r=document.createElement(`div`);return r.style.cssText=[`position:relative`,`width:`+t+`px`,`height:`+n+`px`,`padding:0`,`margin:0`,`border-width:0`].join(`;`)+`;`,r}var Painter_default=function(){function t(t,n,r,a){this.type=`canvas`,this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type=`canvas`;var o=!t.nodeName||t.nodeName.toUpperCase()===`CANVAS`;this._opts=r=extend({},r||{}),this.dpr=r.devicePixelRatio||devicePixelRatio,this._singleCanvas=o,this.root=t,t.style&&(disableUserSelect(t),t.innerHTML=``),this.storage=n;var s=this._zlevelList;this._prevDisplayList=[];var c=this._layers;if(o){var l=t,u=l.width,d=l.height;r.width!=null&&(u=r.width),r.height!=null&&(d=r.height),this.dpr=r.devicePixelRatio||1,l.width=u*this.dpr,l.height=d*this.dpr,this._width=u,this._height=d;var f=new Layer_default(l,this,this.dpr);f.__builtin__=!0,f.initContext(),c[CANVAS_ZLEVEL]=f,f.zlevel=CANVAS_ZLEVEL,s.push(CANVAS_ZLEVEL),this._domRoot=t}else{this._width=getSize$1(t,0,r),this._height=getSize$1(t,1,r);var p=this._domRoot=createRoot(this._width,this._height);t.appendChild(p)}}return t.prototype.getType=function(){return`canvas`},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var n=this.storage.getDisplayList(!0),r=this._prevDisplayList,a=this._zlevelList;this._redrawId=Math.random(),this._paintList(n,r,t,this._redrawId);for(var o=0;o<a.length;o++){var s=a[o],c=this._layers[s];if(!c.__builtin__&&c.refresh){var l=o===0?this._backgroundColor:null;c.refresh(l)}}return this._opts.useDirtyRect&&(this._prevDisplayList=n.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var n=t.length,r=this._hoverlayer;if(r&&r.clear(),n){for(var a={inHover:!0,viewWidth:this._width,viewHeight:this._height},o,s=0;s<n;s++){var c=t[s];c.__inHover&&(r||=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL),o||(o=r.ctx,o.save()),brush$1(o,c,a,s===n-1))}o&&o.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},t.prototype.paintOne=function(t,n){brushSingle(t,n)},t.prototype._paintList=function(t,n,r,a){if(this._redrawId===a){r||=!1,this._updateLayerStatus(t);var o=this._doPaintList(t,n,r),s=o.finished,c=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(t),s)this.eachLayer(function(t){t.afterBrush&&t.afterBrush()});else{var l=this;requestAnimationFrame_default(function(){l._paintList(t,n,r,a)})}}},t.prototype._compositeManually=function(){var t=this.getLayer(CANVAS_ZLEVEL).ctx,n=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,n,r),this.eachBuiltinLayer(function(a){a.virtual&&t.drawImage(a.dom,0,0,n,r)})},t.prototype._doPaintList=function(t,n,r){for(var a=this,o=[],s=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var l=this._zlevelList[c],u=this._layers[l];u.__builtin__&&u!==this._hoverlayer&&(u.__dirty||r)&&o.push(u)}for(var d=!0,f=!1,p=function(c){var l=o[c],u=l.ctx,p=s&&l.createRepaintRects(t,n,g._width,g._height),_=r?l.__startIndex:l.__drawIndex,v=!r&&l.incremental&&Date.now,y=v&&Date.now(),b=l.zlevel===g._zlevelList[0]?g._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,b,p);else if(_===l.__startIndex){var x=t[_];(!x.incremental||!x.notClear||r)&&l.clear(!1,b,p)}_===-1&&(_=l.__startIndex);var S,C=function(n){var r={inHover:!1,allClipped:!1,prevEl:null,viewWidth:a._width,viewHeight:a._height};for(S=_;S<l.__endIndex;S++){var o=t[S];if(o.__inHover&&(f=!0),a._doPaintEl(o,l,s,n,r,S===l.__endIndex-1),v&&Date.now()-y>15)break}r.prevElClipPaths&&u.restore()};if(p)if(p.length===0)S=l.__endIndex;else for(var w=g.dpr,T=0;T<p.length;++T){var E=p[T];u.save(),u.beginPath(),u.rect(E.x*w,E.y*w,E.width*w,E.height*w),u.clip(),C(E),u.restore()}else u.save(),C(),u.restore();l.__drawIndex=S,l.__drawIndex<l.__endIndex&&(d=!1)},g=this,_=0;_<o.length;_++)p(_);return env_default.wxa&&each$15(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),{finished:d,needsRefreshHover:f}},t.prototype._doPaintEl=function(t,n,r,a,o,s){var c=n.ctx;if(r){var l=t.getPaintRect();(!a||l&&l.intersect(a))&&(brush$1(c,t,o,s),t.setPrevPaintRect(l))}else brush$1(c,t,o,s)},t.prototype.getLayer=function(t,n){this._singleCanvas&&!this._needsManuallyCompositing&&(t=CANVAS_ZLEVEL);var r=this._layers[t];return r||(r=new Layer_default(`zr_`+t,this,this.dpr),r.zlevel=t,r.__builtin__=!0,this._layerConfig[t]?merge(r,this._layerConfig[t],!0):this._layerConfig[t-EL_AFTER_INCREMENTAL_INC]&&merge(r,this._layerConfig[t-EL_AFTER_INCREMENTAL_INC],!0),n&&(r.virtual=n),this.insertLayer(t,r),r.initContext()),r},t.prototype.insertLayer=function(t,n){var r=this._layers,a=this._zlevelList,o=a.length,s=this._domRoot,c=null,l=-1;if(!r[t]&&isLayerValid(n)){if(o>0&&t>a[0]){for(l=0;l<o-1&&!(a[l]<t&&a[l+1]>t);l++);c=r[a[l]]}if(a.splice(l+1,0,t),r[t]=n,!n.virtual)if(c){var u=c.dom;u.nextSibling?s.insertBefore(n.dom,u.nextSibling):s.appendChild(n.dom)}else s.firstChild?s.insertBefore(n.dom,s.firstChild):s.appendChild(n.dom);n.painter||=this}},t.prototype.eachLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var o=r[a];t.call(n,this._layers[o],o)}},t.prototype.eachBuiltinLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var o=r[a],s=this._layers[o];s.__builtin__&&t.call(n,s,o)}},t.prototype.eachOtherLayer=function(t,n){for(var r=this._zlevelList,a=0;a<r.length;a++){var o=r[a],s=this._layers[o];s.__builtin__||t.call(n,s,o)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){this.eachBuiltinLayer(function(t,n){t.__dirty=t.__used=!1});function n(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this._singleCanvas)for(var r=1;r<t.length;r++){var a=t[r];if(a.zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}}var o=null,s=0,c,l;for(l=0;l<t.length;l++){var a=t[l],u=a.zlevel,d=void 0;c!==u&&(c=u,s=0),a.incremental?(d=this.getLayer(u+INCREMENTAL_INC,this._needsManuallyCompositing),d.incremental=!0,s=1):d=this.getLayer(u+(s>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),d.__builtin__||logError(`ZLevel `+u+` has been used by unkown layer `+d.id),d!==o&&(d.__used=!0,d.__startIndex!==l&&(d.__dirty=!0),d.__startIndex=l,d.incremental?d.__drawIndex=-1:d.__drawIndex=l,n(l),o=d),a.__dirty&1&&!a.__inHover&&(d.__dirty=!0,d.incremental&&d.__drawIndex<0&&(d.__drawIndex=l))}n(l),this.eachBuiltinLayer(function(t,n){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,each$15(this._layers,function(t){t.setUnpainted()})},t.prototype.configLayer=function(t,n){if(n){var r=this._layerConfig;r[t]?merge(r[t],n,!0):r[t]=n;for(var a=0;a<this._zlevelList.length;a++){var o=this._zlevelList[a];if(o===t||o===t+EL_AFTER_INCREMENTAL_INC){var s=this._layers[o];merge(s,r[t],!0)}}}},t.prototype.delLayer=function(t){var n=this._layers,r=this._zlevelList,a=n[t];a&&(a.dom.parentNode.removeChild(a.dom),delete n[t],r.splice(indexOf(r,t),1))},t.prototype.resize=function(t,n){if(this._domRoot.style){var r=this._domRoot;r.style.display=`none`;var a=this._opts,o=this.root;if(t!=null&&(a.width=t),n!=null&&(a.height=n),t=getSize$1(o,0,a),n=getSize$1(o,1,a),r.style.display=``,this._width!==t||n!==this._height){for(var s in r.style.width=t+`px`,r.style.height=n+`px`,this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,n);this.refresh(!0)}this._width=t,this._height=n}else{if(t==null||n==null)return;this._width=t,this._height=n,this.getLayer(CANVAS_ZLEVEL).resize(t,n)}return this},t.prototype.clearLayer=function(t){var n=this._layers[t];n&&n.clear()},t.prototype.dispose=function(){this.root.innerHTML=``,this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t||={},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var n=new Layer_default(`image`,this,t.pixelRatio||this.dpr);n.initContext(),n.clear(!1,t.backgroundColor||this._backgroundColor);var r=n.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var a=n.dom.width,o=n.dom.height;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,a,o):t.renderToCanvas&&(r.save(),t.renderToCanvas(r),r.restore())})}else for(var s={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),l=0,u=c.length;l<u;l++){var d=c[l];brush$1(r,d,s,l===u-1)}return n.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function install(t){t.registerPainter(`canvas`,Painter_default)}var yaan_default={type:`FeatureCollection`,features:[{type:`Feature`,properties:{adcode:511802,name:``,center:[103.003398,29.981831],centroid:[103.031594,29.921639],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:0,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[103.209091,29.965799],[103.197695,29.976415],[103.19342,29.978651],[103.180404,29.978338],[103.173561,29.982601],[103.164835,29.983625],[103.158794,29.986822],[103.148726,29.997122],[103.145165,30.004915],[103.134776,30.008801],[103.131143,30.011997],[103.138365,30.015298],[103.138541,30.019789],[103.133915,30.020478],[103.133959,30.023987],[103.13819,30.021961],[103.141751,30.024781],[103.134396,30.031715],[103.132981,30.036373],[103.123438,30.040195],[103.112042,30.037542],[103.103593,30.038837],[103.097071,30.030796],[103.088841,30.032885],[103.087149,30.037856],[103.09316,30.040612],[103.097348,30.038273],[103.100602,30.041594],[103.099376,30.047629],[103.084055,30.042387],[103.079152,30.043494],[103.079079,30.048673],[103.068398,30.056337],[103.059643,30.052474],[103.05331,30.055397],[103.045037,30.064688],[103.042702,30.069449],[103.043607,30.077862],[103.048699,30.081995],[103.060417,30.088821],[103.063787,30.096294],[103.057148,30.103933],[103.059366,30.110611],[103.072309,30.112406],[103.080466,30.114847],[103.084551,30.120795],[103.084041,30.139824],[103.086404,30.149733],[103.092372,30.160643],[103.102937,30.173386],[103.110714,30.17908],[103.127086,30.195971],[103.131522,30.206041],[103.126269,30.210461],[103.105563,30.215068],[103.084595,30.218341],[103.076745,30.220259],[103.077897,30.233725],[103.073038,30.239123],[103.055455,30.231015],[103.030577,30.214172],[103.017634,30.202267],[103.009667,30.191196],[103.000065,30.172385],[102.997322,30.169236],[102.992755,30.156617],[102.984,30.143579],[102.980629,30.135108],[102.983781,30.123528],[102.982278,30.111759],[102.978937,30.102159],[102.971699,30.094415],[102.969204,30.088675],[102.961996,30.080409],[102.953445,30.064563],[102.949826,30.05404],[102.945434,30.04859],[102.937905,30.048464],[102.934724,30.045854],[102.924101,30.043682],[102.917272,30.036352],[102.916805,30.023737],[102.907233,30.017178],[102.911216,30.014483],[102.912238,30.000716],[102.909801,29.993236],[102.910764,29.982747],[102.908123,29.977377],[102.906241,29.965924],[102.900886,29.955787],[102.885389,29.945127],[102.87481,29.941552],[102.874183,29.930326],[102.882763,29.920666],[102.881654,29.916777],[102.888249,29.910379],[102.890992,29.902683],[102.891299,29.896262],[102.889504,29.888001],[102.885331,29.882019],[102.879552,29.878337],[102.864596,29.871853],[102.859343,29.868171],[102.857286,29.861748],[102.864435,29.855116],[102.870768,29.852626],[102.88946,29.851098],[102.908444,29.850952],[102.920088,29.84298],[102.932841,29.828373],[102.939787,29.813052],[102.941947,29.801832],[102.940925,29.797477],[102.933119,29.782529],[102.923955,29.768248],[102.922189,29.753337],[102.92251,29.744854],[102.929252,29.731238],[102.933119,29.713221],[102.939335,29.713787],[102.957589,29.721748],[102.962039,29.721958],[102.966738,29.71716],[102.976952,29.710832],[102.990683,29.708066],[102.996009,29.708297],[103.001787,29.712844],[103.006982,29.725037],[103.018392,29.72619],[103.022814,29.718312],[103.028782,29.71628],[103.031773,29.709114],[103.028826,29.705552],[103.032298,29.700669],[103.044599,29.700083],[103.050801,29.691763],[103.049531,29.679167],[103.052479,29.675541],[103.074512,29.684616],[103.077897,29.682374],[103.092489,29.683401],[103.096896,29.688368],[103.099085,29.693817],[103.103345,29.691574],[103.109153,29.685015],[103.113151,29.685161],[103.128253,29.671538],[103.135622,29.668121],[103.145939,29.667869],[103.15001,29.672439],[103.145705,29.681053],[103.140802,29.687593],[103.143137,29.695493],[103.141342,29.703163],[103.153818,29.713326],[103.15376,29.718249],[103.149105,29.722775],[103.143691,29.730903],[103.151892,29.732684],[103.162865,29.737837],[103.162515,29.746781],[103.159319,29.748918],[103.142699,29.754405],[103.143254,29.760877],[103.149309,29.764395],[103.1652,29.770363],[103.166746,29.775054],[103.165462,29.781419],[103.159129,29.796724],[103.148784,29.810728],[103.139547,29.830131],[103.138395,29.835404],[103.132645,29.850031],[103.125043,29.864154],[103.108015,29.87566],[103.101624,29.878798],[103.093715,29.886976],[103.09265,29.895426],[103.094692,29.899818],[103.106089,29.913264],[103.109985,29.915606],[103.125335,29.919328],[103.12999,29.919495],[103.145384,29.925873],[103.159786,29.930138],[103.169927,29.9385],[103.176931,29.945921],[103.190458,29.945085],[103.19164,29.942012],[103.196455,29.944374],[103.197126,29.949308],[103.190341,29.964357],[103.191231,29.966342],[103.204393,29.965088],[103.209091,29.965799]]],[[[103.228134,29.981347],[103.23149,29.987344],[103.236276,29.991669],[103.226733,29.996161],[103.214534,29.995911],[103.20324,29.996872],[103.200409,29.988577],[103.206888,29.987637],[103.221115,29.980825],[103.228134,29.981347]]]]}},{type:`Feature`,properties:{adcode:511803,name:``,center:[103.112214,30.084718],centroid:[103.220689,30.126577],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:1,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[103.209091,29.965799],[103.218138,29.970773],[103.225989,29.970689],[103.228688,29.973761],[103.228134,29.981347],[103.221115,29.980825],[103.206888,29.987637],[103.200409,29.988577],[103.20324,29.996872],[103.214534,29.995911],[103.226733,29.996161],[103.227433,29.999274],[103.239588,30.002408],[103.244126,30.010974],[103.239632,30.0163],[103.242565,30.021523],[103.246286,30.023068],[103.252487,30.04009],[103.263373,30.054228],[103.279307,30.067089],[103.287974,30.068801],[103.291301,30.071182],[103.296145,30.082121],[103.302362,30.087548],[103.306024,30.086692],[103.307366,30.082768],[103.30547,30.077591],[103.312517,30.071724],[103.316384,30.071453],[103.324628,30.074292],[103.335864,30.073582],[103.339877,30.074751],[103.342066,30.082726],[103.346049,30.087757],[103.349639,30.097713],[103.353564,30.097755],[103.358496,30.085816],[103.364449,30.087924],[103.372212,30.082121],[103.372708,30.089364],[103.378399,30.095981],[103.384294,30.092558],[103.395136,30.094875],[103.38997,30.098611],[103.388978,30.104601],[103.380325,30.109192],[103.373569,30.11779],[103.374196,30.121003],[103.368856,30.129934],[103.362319,30.132626],[103.361093,30.137445],[103.368272,30.140867],[103.372037,30.14748],[103.369075,30.154656],[103.371891,30.162728],[103.369469,30.165336],[103.360918,30.168026],[103.359123,30.174054],[103.364128,30.179476],[103.364362,30.183563],[103.360918,30.192613],[103.370096,30.199348],[103.369192,30.20675],[103.372154,30.209419],[103.373321,30.217862],[103.370315,30.228264],[103.362406,30.231494],[103.357518,30.231786],[103.348603,30.236351],[103.344707,30.235184],[103.338067,30.237039],[103.32438,30.232182],[103.320309,30.234913],[103.321535,30.244562],[103.319959,30.251002],[103.313904,30.2604],[103.301938,30.263026],[103.287259,30.262192],[103.282342,30.263567],[103.253056,30.24996],[103.242609,30.243062],[103.238508,30.233954],[103.233357,30.218425],[103.233357,30.213442],[103.229885,30.209773],[103.223435,30.206833],[103.215993,30.209252],[103.215628,30.218862],[103.212637,30.224136],[103.21166,30.23237],[103.204086,30.240061],[103.197155,30.236288],[103.183673,30.248126],[103.179499,30.247042],[103.175385,30.238831],[103.167709,30.229639],[103.156386,30.212129],[103.147193,30.207],[103.131522,30.206041],[103.127086,30.195971],[103.110714,30.17908],[103.102937,30.173386],[103.092372,30.160643],[103.086404,30.149733],[103.084041,30.139824],[103.084551,30.120795],[103.080466,30.114847],[103.072309,30.112406],[103.059366,30.110611],[103.057148,30.103933],[103.063787,30.096294],[103.060417,30.088821],[103.048699,30.081995],[103.043607,30.077862],[103.042702,30.069449],[103.045037,30.064688],[103.05331,30.055397],[103.059643,30.052474],[103.068398,30.056337],[103.079079,30.048673],[103.079152,30.043494],[103.084055,30.042387],[103.099376,30.047629],[103.100602,30.041594],[103.097348,30.038273],[103.09316,30.040612],[103.087149,30.037856],[103.088841,30.032885],[103.097071,30.030796],[103.103593,30.038837],[103.112042,30.037542],[103.123438,30.040195],[103.132981,30.036373],[103.134396,30.031715],[103.141751,30.024781],[103.13819,30.021961],[103.133959,30.023987],[103.133915,30.020478],[103.138541,30.019789],[103.138365,30.015298],[103.131143,30.011997],[103.134776,30.008801],[103.145165,30.004915],[103.148726,29.997122],[103.158794,29.986822],[103.164835,29.983625],[103.173561,29.982601],[103.180404,29.978338],[103.19342,29.978651],[103.197695,29.976415],[103.209091,29.965799]]]]}},{type:`Feature`,properties:{adcode:511822,name:``,center:[102.844674,29.795529],centroid:[102.68556,29.734548],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:2,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[102.881654,29.916777],[102.869411,29.912302],[102.865471,29.908559],[102.854032,29.905966],[102.844708,29.900173],[102.832655,29.894401],[102.818734,29.889319],[102.797518,29.878003],[102.792542,29.873631],[102.785232,29.864426],[102.773952,29.859551],[102.769487,29.8593],[102.759171,29.86361],[102.752123,29.871873],[102.716228,29.89187],[102.711121,29.89963],[102.704846,29.91247],[102.695858,29.915732],[102.690459,29.905862],[102.679092,29.903749],[102.666645,29.914749],[102.64877,29.935239],[102.645312,29.937037],[102.63555,29.936263],[102.624242,29.929991],[102.607913,29.926207],[102.596021,29.929782],[102.586464,29.938438],[102.574849,29.939964],[102.566196,29.935093],[102.560753,29.925204],[102.537815,29.90582],[102.525777,29.900487],[102.511419,29.898856],[102.499628,29.893836],[102.500037,29.881642],[102.495134,29.876204],[102.479288,29.871455],[102.473393,29.86633],[102.464827,29.8652],[102.450761,29.861078],[102.434199,29.852521],[102.414661,29.854279],[102.398668,29.853818],[102.393751,29.852082],[102.391241,29.84457],[102.381304,29.836744],[102.377146,29.829838],[102.371688,29.824271],[102.361299,29.819457],[102.351902,29.821215],[102.345613,29.826803],[102.33178,29.828666],[102.323361,29.824773],[102.325083,29.816945],[102.324601,29.806312],[102.326235,29.799592],[102.332203,29.79484],[102.344081,29.789187],[102.348809,29.782382],[102.353259,29.772604],[102.35323,29.763201],[102.3477,29.75518],[102.337048,29.744519],[102.330292,29.742885],[102.32857,29.736748],[102.334407,29.726399],[102.336041,29.720114],[102.354631,29.711335],[102.371572,29.711691],[102.382924,29.709512],[102.402944,29.708087],[102.420614,29.704106],[102.426641,29.704148],[102.43738,29.706516],[102.448616,29.710706],[102.452016,29.713242],[102.46223,29.714687],[102.468548,29.711964],[102.479419,29.701487],[102.48527,29.693482],[102.500081,29.678643],[102.514147,29.661056],[102.524712,29.652167],[102.538151,29.645354],[102.555208,29.643844],[102.569435,29.638644],[102.580729,29.637344],[102.598298,29.640657],[102.618522,29.64701],[102.630064,29.64961],[102.638483,29.649002],[102.644072,29.643991],[102.651878,29.62342],[102.656416,29.617045],[102.677166,29.592671],[102.691816,29.573769],[102.697711,29.561662],[102.703825,29.552533],[102.71541,29.519118],[102.722064,29.509083],[102.732658,29.497682],[102.746666,29.487918],[102.755611,29.484978],[102.769341,29.481954],[102.780854,29.477417],[102.787654,29.480841],[102.805967,29.483823],[102.811774,29.482353],[102.818472,29.470256],[102.826497,29.475632],[102.831254,29.483235],[102.846721,29.496275],[102.8498,29.505073],[102.860043,29.517418],[102.865559,29.525898],[102.869951,29.530076],[102.884236,29.538996],[102.903016,29.545209],[102.914427,29.553184],[102.919067,29.558745],[102.922087,29.566593],[102.921153,29.588853],[102.931966,29.61631],[102.931849,29.623651],[102.929544,29.634639],[102.929704,29.668079],[102.938474,29.676736],[102.938488,29.680236],[102.932652,29.685455],[102.932156,29.691197],[102.935395,29.698071],[102.932331,29.706767],[102.928727,29.711021],[102.933119,29.713221],[102.929252,29.731238],[102.92251,29.744854],[102.922189,29.753337],[102.923955,29.768248],[102.933119,29.782529],[102.940925,29.797477],[102.941947,29.801832],[102.939787,29.813052],[102.932841,29.828373],[102.920088,29.84298],[102.908444,29.850952],[102.88946,29.851098],[102.870768,29.852626],[102.864435,29.855116],[102.857286,29.861748],[102.859343,29.868171],[102.864596,29.871853],[102.879552,29.878337],[102.885331,29.882019],[102.889504,29.888001],[102.891299,29.896262],[102.890992,29.902683],[102.888249,29.910379],[102.881654,29.916777]]]]}},{type:`Feature`,properties:{adcode:511823,name:``,center:[102.677145,29.349915],centroid:[102.617432,29.425735],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:3,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[102.514818,29.093648],[102.522187,29.111586],[102.528126,29.110237],[102.53532,29.115675],[102.547693,29.116982],[102.553647,29.12126],[102.553983,29.12813],[102.559834,29.13363],[102.561089,29.146715],[102.552728,29.150634],[102.557076,29.156091],[102.563029,29.159925],[102.572908,29.160599],[102.594708,29.160073],[102.600501,29.169974],[102.592782,29.176525],[102.590345,29.182401],[102.590856,29.192026],[102.600326,29.201587],[102.618974,29.209737],[102.629378,29.211758],[102.635769,29.210768],[102.640643,29.205651],[102.648128,29.193142],[102.652827,29.191731],[102.653425,29.188046],[102.649033,29.17762],[102.649981,29.173976],[102.656781,29.169447],[102.663595,29.168288],[102.673445,29.161547],[102.682346,29.161316],[102.693538,29.167046],[102.698324,29.167046],[102.720678,29.160283],[102.731024,29.154511],[102.740421,29.153373],[102.747644,29.157818],[102.759477,29.159588],[102.767036,29.156302],[102.772143,29.159588],[102.778607,29.173344],[102.772989,29.182212],[102.766861,29.187077],[102.765343,29.198576],[102.770888,29.213232],[102.774915,29.219085],[102.779701,29.222286],[102.783539,29.22816],[102.781452,29.236707],[102.786822,29.241485],[102.79638,29.24359],[102.80458,29.249947],[102.812941,29.250642],[102.824031,29.245064],[102.833122,29.241843],[102.834216,29.238833],[102.833034,29.227865],[102.835719,29.210937],[102.839615,29.20662],[102.869557,29.205315],[102.879786,29.206157],[102.890861,29.210916],[102.896902,29.217464],[102.905467,29.222244],[102.907977,29.232244],[102.906883,29.242517],[102.912442,29.264575],[102.920409,29.276696],[102.926129,29.281557],[102.930667,29.296854],[102.940356,29.302871],[102.962302,29.30184],[102.97005,29.29982],[102.983737,29.29172],[103.003903,29.287133],[102.997526,29.295486],[102.987677,29.310696],[102.981534,29.316018],[102.979783,29.320562],[102.983606,29.324558],[102.980892,29.336189],[102.981125,29.343318],[102.986597,29.3499],[102.990624,29.357806],[102.99703,29.363546],[102.998548,29.368298],[102.995775,29.378956],[102.991456,29.383434],[102.983402,29.387554],[102.975493,29.397769],[102.971626,29.399829],[102.953956,29.402288],[102.944486,29.402162],[102.93217,29.400586],[102.879407,29.415906],[102.866099,29.426518],[102.854119,29.437612],[102.839688,29.452591],[102.835719,29.454376],[102.823199,29.465677],[102.826497,29.475632],[102.818472,29.470256],[102.811774,29.482353],[102.805967,29.483823],[102.787654,29.480841],[102.780854,29.477417],[102.769341,29.481954],[102.755611,29.484978],[102.746666,29.487918],[102.732658,29.497682],[102.722064,29.509083],[102.71541,29.519118],[102.703825,29.552533],[102.697711,29.561662],[102.691816,29.573769],[102.677166,29.592671],[102.656416,29.617045],[102.651878,29.62342],[102.644072,29.643991],[102.638483,29.649002],[102.630064,29.64961],[102.618522,29.64701],[102.598298,29.640657],[102.580729,29.637344],[102.569435,29.638644],[102.555208,29.643844],[102.538151,29.645354],[102.524712,29.652167],[102.514147,29.661056],[102.500081,29.678643],[102.48527,29.693482],[102.479419,29.701487],[102.468548,29.711964],[102.46223,29.714687],[102.452016,29.713242],[102.448616,29.710706],[102.43738,29.706516],[102.426641,29.704148],[102.420614,29.704106],[102.402944,29.708087],[102.382924,29.709512],[102.371572,29.711691],[102.354631,29.711335],[102.336041,29.720114],[102.325404,29.713996],[102.305719,29.699601],[102.299095,29.690275],[102.296089,29.683569],[102.288268,29.64831],[102.284897,29.635373],[102.279717,29.62105],[102.277368,29.609767],[102.277878,29.599908],[102.284415,29.590175],[102.310039,29.5753],[102.316809,29.567621],[102.318764,29.551946],[102.31411,29.533455],[102.310374,29.51916],[102.312388,29.507214],[102.315817,29.503645],[102.321405,29.484096],[102.332758,29.471705],[102.352413,29.460111],[102.372447,29.453683],[102.384587,29.448977],[102.413231,29.444188],[102.421636,29.443557],[102.458815,29.444734],[102.465338,29.445448],[102.478427,29.444146],[102.488145,29.441435],[102.495499,29.436204],[102.500285,29.429565],[102.511871,29.421139],[102.523997,29.409728],[102.549123,29.381185],[102.559746,29.363798],[102.564503,29.331246],[102.562198,29.322728],[102.554683,29.31503],[102.55334,29.30144],[102.544191,29.291467],[102.534036,29.286754],[102.504269,29.280168],[102.491486,29.258745],[102.496404,29.257019],[102.499512,29.252515],[102.500562,29.244601],[102.503174,29.238075],[102.507026,29.233549],[102.517576,29.224749],[102.519138,29.220243],[102.517649,29.210537],[102.511798,29.199924],[102.509653,29.199208],[102.503743,29.19051],[102.501934,29.175092],[102.49563,29.165718],[102.489064,29.15036],[102.491224,29.143892],[102.498111,29.136011],[102.496623,29.12714],[102.489283,29.119827],[102.488189,29.107897],[102.490275,29.103429],[102.49528,29.10267],[102.500285,29.099276],[102.503145,29.091877],[102.514818,29.093648]]]]}},{type:`Feature`,properties:{adcode:511824,name:``,center:[102.35962,29.234063],centroid:[102.286589,29.228591],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:4,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[102.31411,29.533455],[102.240173,29.481471],[102.224823,29.473868],[102.203286,29.456813],[102.199463,29.456603],[102.192138,29.463198],[102.193378,29.468008],[102.189657,29.468638],[102.175853,29.466496],[102.172556,29.474729],[102.173329,29.478069],[102.179063,29.485188],[102.176816,29.494196],[102.179224,29.504128],[102.178596,29.512694],[102.168849,29.513177],[102.165873,29.51578],[102.167726,29.521595],[102.165829,29.532867],[102.145181,29.532175],[102.145634,29.504233],[102.13828,29.505682],[102.133085,29.510469],[102.122214,29.509902],[102.110351,29.506668],[102.107097,29.501398],[102.090682,29.496149],[102.075827,29.495897],[102.068677,29.500076],[102.055778,29.495225],[102.050263,29.495141],[102.040617,29.499467],[102.033701,29.499992],[102.012061,29.491131],[101.998506,29.490459],[101.989722,29.491991],[101.974152,29.489703],[101.964668,29.494532],[101.958058,29.500727],[101.949419,29.503876],[101.93598,29.501062],[101.944458,29.48019],[101.948179,29.472671],[101.950703,29.462673],[101.948631,29.446498],[101.952265,29.437591],[101.956307,29.43488],[101.971059,29.430741],[101.978136,29.430405],[101.983958,29.426077],[101.984148,29.422441],[101.974853,29.403927],[101.972197,29.382719],[101.96814,29.376959],[101.956744,29.367394],[101.949478,29.344117],[101.953724,29.325042],[101.960188,29.314861],[101.96528,29.309813],[101.970271,29.30773],[101.983797,29.299],[101.990422,29.297695],[102.017811,29.297316],[102.021225,29.293172],[102.031118,29.291341],[102.035948,29.292519],[102.04606,29.297737],[102.06395,29.292183],[102.070195,29.289469],[102.088113,29.278569],[102.096387,29.271835],[102.106149,29.260408],[102.119106,29.243169],[102.123367,29.238665],[102.122827,29.231528],[102.119515,29.221886],[102.11003,29.215464],[102.09395,29.208431],[102.064212,29.18516],[102.056026,29.177873],[102.058886,29.172543],[102.069421,29.171006],[102.081883,29.171406],[102.088507,29.173365],[102.096679,29.182317],[102.101742,29.184655],[102.109519,29.185055],[102.122827,29.181706],[102.129568,29.176103],[102.129481,29.168962],[102.131728,29.159883],[102.136368,29.15529],[102.14203,29.152636],[102.153484,29.143197],[102.160765,29.130364],[102.160838,29.12539],[102.158139,29.11616],[102.151631,29.102628],[102.151543,29.099592],[102.155731,29.092847],[102.158051,29.085131],[102.168266,29.07518],[102.168514,29.073008],[102.157511,29.053271],[102.156505,29.045383],[102.159686,29.03855],[102.172059,29.03604],[102.187468,29.027708],[102.188942,29.02467],[102.180887,29.013426],[102.185688,29.009607],[102.197668,28.989077],[102.208451,28.974579],[102.221525,28.96219],[102.228821,28.951973],[102.237605,28.93424],[102.246287,28.909365],[102.25386,28.898721],[102.259405,28.896081],[102.266978,28.895997],[102.271079,28.898595],[102.290909,28.899672],[102.303283,28.896018],[102.3198,28.883049],[102.325491,28.874662],[102.335122,28.864754],[102.346299,28.856261],[102.352354,28.854549],[102.381859,28.855584],[102.400668,28.853641],[102.414559,28.851126],[102.429851,28.845463],[102.436257,28.850154],[102.439905,28.861247],[102.44596,28.86936],[102.454204,28.873627],[102.459779,28.880831],[102.462172,28.889365],[102.471014,28.90096],[102.481476,28.920156],[102.483563,28.927251],[102.482906,28.932741],[102.472138,28.950411],[102.466987,28.964744],[102.466797,28.973228],[102.471525,28.983865],[102.482264,28.992053],[102.488495,28.992875],[102.497848,29.003236],[102.507056,29.025894],[102.512732,29.031568],[102.520932,29.031209],[102.525441,29.036229],[102.524449,29.044139],[102.517766,29.058458],[102.517664,29.068032],[102.524522,29.077415],[102.514818,29.093648],[102.503145,29.091877],[102.500285,29.099276],[102.49528,29.10267],[102.490275,29.103429],[102.488189,29.107897],[102.489283,29.119827],[102.496623,29.12714],[102.498111,29.136011],[102.491224,29.143892],[102.489064,29.15036],[102.49563,29.165718],[102.501934,29.175092],[102.503743,29.19051],[102.509653,29.199208],[102.511798,29.199924],[102.517649,29.210537],[102.519138,29.220243],[102.517576,29.224749],[102.507026,29.233549],[102.503174,29.238075],[102.500562,29.244601],[102.499512,29.252515],[102.496404,29.257019],[102.491486,29.258745],[102.504269,29.280168],[102.534036,29.286754],[102.544191,29.291467],[102.55334,29.30144],[102.554683,29.31503],[102.562198,29.322728],[102.564503,29.331246],[102.559746,29.363798],[102.549123,29.381185],[102.523997,29.409728],[102.511871,29.421139],[102.500285,29.429565],[102.495499,29.436204],[102.488145,29.441435],[102.478427,29.444146],[102.465338,29.445448],[102.458815,29.444734],[102.421636,29.443557],[102.413231,29.444188],[102.384587,29.448977],[102.372447,29.453683],[102.352413,29.460111],[102.332758,29.471705],[102.321405,29.484096],[102.315817,29.503645],[102.312388,29.507214],[102.310374,29.51916],[102.31411,29.533455]]]]}},{type:`Feature`,properties:{adcode:511825,name:``,center:[102.763462,30.059955],centroid:[102.570711,30.071499],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:5,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[102.851726,30.197097],[102.849377,30.195929],[102.833253,30.199098],[102.822689,30.198827],[102.817421,30.196971],[102.805179,30.176535],[102.801968,30.159057],[102.798218,30.155532],[102.79225,30.15355],[102.784721,30.154218],[102.779658,30.163959],[102.779585,30.174825],[102.776112,30.177682],[102.757843,30.183647],[102.74169,30.186066],[102.732702,30.185565],[102.7258,30.18665],[102.719394,30.193948],[102.724735,30.222635],[102.723582,30.2341],[102.718737,30.24277],[102.713149,30.247084],[102.695332,30.254753],[102.684695,30.258566],[102.676144,30.266734],[102.670205,30.27861],[102.669096,30.285485],[102.663435,30.296213],[102.653294,30.302316],[102.630195,30.306482],[102.611634,30.308398],[102.601741,30.317041],[102.592111,30.330056],[102.576118,30.341861],[102.567086,30.3464],[102.555982,30.347712],[102.542003,30.346733],[102.520451,30.335386],[102.502576,30.329348],[102.494157,30.327474],[102.466666,30.318561],[102.460946,30.320747],[102.449331,30.316999],[102.441583,30.309418],[102.434783,30.31098],[102.421913,30.310126],[102.416631,30.311459],[102.413216,30.299775],[102.411684,30.274756],[102.404315,30.23929],[102.402316,30.234204],[102.386134,30.224512],[102.380619,30.223261],[102.367822,30.215902],[102.359242,30.209085],[102.348021,30.202205],[102.341819,30.200328],[102.333706,30.194136],[102.328949,30.187943],[102.321799,30.173657],[102.309878,30.157931],[102.300233,30.142515],[102.293667,30.128849],[102.292222,30.12309],[102.29177,30.11034],[102.29514,30.101115],[102.291288,30.096544],[102.282241,30.095104],[102.275588,30.088446],[102.26816,30.077403],[102.271473,30.064187],[102.274245,30.048172],[102.276828,30.039965],[102.274785,30.02616],[102.275004,30.01722],[102.283555,30.002931],[102.292222,29.993696],[102.298102,29.980511],[102.299226,29.96676],[102.303224,29.954554],[102.296702,29.946005],[102.295855,29.941741],[102.299416,29.934068],[102.297723,29.929406],[102.293681,29.927106],[102.284503,29.917864],[102.282095,29.906698],[102.282562,29.896953],[102.280009,29.891745],[102.27496,29.887624],[102.270831,29.88158],[102.270758,29.877584],[102.274333,29.869279],[102.281701,29.860137],[102.291113,29.854488],[102.291113,29.838229],[102.30944,29.824752],[102.312329,29.823433],[102.323361,29.824773],[102.33178,29.828666],[102.345613,29.826803],[102.351902,29.821215],[102.361299,29.819457],[102.371688,29.824271],[102.377146,29.829838],[102.381304,29.836744],[102.391241,29.84457],[102.393751,29.852082],[102.398668,29.853818],[102.414661,29.854279],[102.434199,29.852521],[102.450761,29.861078],[102.464827,29.8652],[102.473393,29.86633],[102.479288,29.871455],[102.495134,29.876204],[102.500037,29.881642],[102.499628,29.893836],[102.511419,29.898856],[102.525777,29.900487],[102.537815,29.90582],[102.560753,29.925204],[102.566196,29.935093],[102.574849,29.939964],[102.586464,29.938438],[102.596021,29.929782],[102.607913,29.926207],[102.624242,29.929991],[102.63555,29.936263],[102.645312,29.937037],[102.64877,29.935239],[102.666645,29.914749],[102.679092,29.903749],[102.690459,29.905862],[102.695858,29.915732],[102.704846,29.91247],[102.711121,29.89963],[102.716228,29.89187],[102.752123,29.871873],[102.759171,29.86361],[102.769487,29.8593],[102.773952,29.859551],[102.785232,29.864426],[102.792542,29.873631],[102.797518,29.878003],[102.818734,29.889319],[102.832655,29.894401],[102.844708,29.900173],[102.854032,29.905966],[102.865471,29.908559],[102.869411,29.912302],[102.881654,29.916777],[102.882763,29.920666],[102.874183,29.930326],[102.87481,29.941552],[102.885389,29.945127],[102.900886,29.955787],[102.906241,29.965924],[102.908123,29.977377],[102.910764,29.982747],[102.909801,29.993236],[102.912238,30.000716],[102.911216,30.014483],[102.907233,30.017178],[102.89572,30.022964],[102.891839,30.023068],[102.883784,30.033511],[102.883609,30.040299],[102.885885,30.053894],[102.893356,30.066839],[102.89394,30.078885],[102.906781,30.094374],[102.907233,30.105602],[102.905628,30.109275],[102.896844,30.12069],[102.893385,30.123194],[102.875379,30.130915],[102.86426,30.137988],[102.861867,30.14118],[102.864932,30.157013],[102.864829,30.171697],[102.862597,30.191175],[102.859387,30.197805],[102.851726,30.197097]]]]}},{type:`Feature`,properties:{adcode:511826,name:``,center:[102.924016,30.152907],centroid:[103.00771,30.41529],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:6,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[103.073038,30.239123],[103.071565,30.260921],[103.062941,30.264276],[103.061423,30.270485],[103.062678,30.276652],[103.068603,30.294276],[103.062124,30.302545],[103.065816,30.31248],[103.071827,30.31425],[103.079094,30.324579],[103.082202,30.322913],[103.091132,30.326495],[103.102455,30.337614],[103.118229,30.355268],[103.127991,30.367154],[103.126444,30.374647],[103.117397,30.378373],[103.12122,30.395271],[103.118068,30.402034],[103.118346,30.410939],[103.11604,30.413914],[103.120388,30.418803],[103.122198,30.426001],[103.118492,30.432657],[103.120709,30.439584],[103.124153,30.441372],[103.130632,30.4369],[103.139124,30.436256],[103.141298,30.441123],[103.125992,30.451126],[103.126926,30.455015],[103.131186,30.457719],[103.141751,30.470881],[103.146551,30.474603],[103.155467,30.477348],[103.158444,30.471942],[103.162267,30.472566],[103.166206,30.482774],[103.175881,30.495912],[103.178186,30.502024],[103.183352,30.506846],[103.185891,30.511938],[103.180856,30.525197],[103.164353,30.524428],[103.158706,30.527088],[103.15859,30.533094],[103.164382,30.546786],[103.166236,30.555741],[103.161887,30.565192],[103.154329,30.570635],[103.151556,30.57483],[103.151206,30.582183],[103.147821,30.58588],[103.137271,30.582889],[103.128107,30.590012],[103.128137,30.613082],[103.135549,30.624064],[103.133302,30.636478],[103.133988,30.646981],[103.131595,30.654722],[103.125641,30.660678],[103.123715,30.667256],[103.119046,30.670929],[103.103156,30.672983],[103.094911,30.680452],[103.091336,30.690701],[103.077635,30.700202],[103.078525,30.712067],[103.075986,30.715344],[103.068748,30.716194],[103.040805,30.703874],[103.031335,30.703687],[103.033947,30.719098],[103.029745,30.726211],[103.020289,30.735854],[103.011855,30.739586],[103.005158,30.74647],[102.99506,30.764755],[102.992886,30.778332],[102.985313,30.775306],[102.970969,30.771388],[102.953153,30.76859],[102.944865,30.768921],[102.925195,30.767719],[102.907408,30.764713],[102.909903,30.758432],[102.91075,30.748128],[102.916703,30.733469],[102.928756,30.719782],[102.927486,30.707151],[102.92359,30.693149],[102.922058,30.680515],[102.922642,30.673647],[102.927968,30.670016],[102.952219,30.667858],[102.957822,30.66653],[102.966125,30.659702],[102.974442,30.651277],[102.981651,30.64696],[103.004355,30.639093],[103.010221,30.636374],[103.020143,30.628196],[103.026549,30.626389],[103.035129,30.616134],[103.033553,30.608556],[103.027469,30.600042],[103.017386,30.590345],[103.001991,30.578299],[102.976573,30.549924],[102.971553,30.541862],[102.968153,30.530143],[102.959515,30.506472],[102.95559,30.490632],[102.951125,30.480508],[102.948527,30.470174],[102.946149,30.466037],[102.94647,30.458925],[102.955313,30.443847],[102.957472,30.438356],[102.953503,30.43559],[102.944748,30.43324],[102.936781,30.433177],[102.928026,30.430847],[102.921679,30.427602],[102.907714,30.411937],[102.901148,30.401368],[102.899076,30.393773],[102.903921,30.38395],[102.907656,30.379143],[102.917505,30.371858],[102.924451,30.364095],[102.934884,30.346504],[102.936256,30.340092],[102.929412,30.329285],[102.923605,30.326266],[102.916484,30.319352],[102.905642,30.316083],[102.8927,30.310293],[102.879552,30.299462],[102.870155,30.279256],[102.865515,30.261817],[102.866668,30.24898],[102.870652,30.244187],[102.88892,30.240352],[102.892379,30.235788],[102.891605,30.231661],[102.880793,30.227492],[102.862626,30.216861],[102.85819,30.21044],[102.851726,30.197097],[102.859387,30.197805],[102.862597,30.191175],[102.864829,30.171697],[102.864932,30.157013],[102.861867,30.14118],[102.86426,30.137988],[102.875379,30.130915],[102.893385,30.123194],[102.896844,30.12069],[102.905628,30.109275],[102.907233,30.105602],[102.906781,30.094374],[102.89394,30.078885],[102.893356,30.066839],[102.885885,30.053894],[102.883609,30.040299],[102.883784,30.033511],[102.891839,30.023068],[102.89572,30.022964],[102.907233,30.017178],[102.916805,30.023737],[102.917272,30.036352],[102.924101,30.043682],[102.934724,30.045854],[102.937905,30.048464],[102.945434,30.04859],[102.949826,30.05404],[102.953445,30.064563],[102.961996,30.080409],[102.969204,30.088675],[102.971699,30.094415],[102.978937,30.102159],[102.982278,30.111759],[102.983781,30.123528],[102.980629,30.135108],[102.984,30.143579],[102.992755,30.156617],[102.997322,30.169236],[103.000065,30.172385],[103.009667,30.191196],[103.017634,30.202267],[103.030577,30.214172],[103.055455,30.231015],[103.073038,30.239123]]]]}},{type:`Feature`,properties:{adcode:511827,name:``,center:[102.813377,30.369026],centroid:[102.710816,30.561156],childrenNum:0,level:`district`,parent:{adcode:511800},subFeatureIndex:7,acroutes:[1e5,51e4,511800]},geometry:{type:`MultiPolygon`,coordinates:[[[[102.907408,30.764713],[102.897923,30.765273],[102.885579,30.771989],[102.873935,30.783534],[102.86356,30.79831],[102.863137,30.806806],[102.868244,30.817663],[102.881406,30.839166],[102.880486,30.845111],[102.889416,30.865883],[102.891124,30.888638],[102.889562,30.900769],[102.875219,30.923288],[102.871133,30.928069],[102.862232,30.934608],[102.852339,30.936781],[102.842548,30.93436],[102.839148,30.931794],[102.828306,30.928689],[102.810344,30.936015],[102.801852,30.935911],[102.790777,30.9314],[102.778155,30.923661],[102.76759,30.919853],[102.754064,30.916438],[102.739676,30.91621],[102.732468,30.917017],[102.708246,30.915486],[102.697434,30.909111],[102.691188,30.901204],[102.68665,30.888037],[102.679821,30.85762],[102.67324,30.852691],[102.667141,30.850744],[102.654096,30.850744],[102.632807,30.849004],[102.606702,30.848114],[102.604003,30.850371],[102.591016,30.847865],[102.574557,30.834298],[102.569683,30.826654],[102.565233,30.823132],[102.557601,30.820046],[102.543331,30.817767],[102.532051,30.811655],[102.528316,30.800818],[102.521312,30.794518],[102.493836,30.790353],[102.480688,30.775326],[102.469073,30.768673],[102.474268,30.759655],[102.486408,30.744728],[102.485941,30.736662],[102.488728,30.722665],[102.486408,30.718828],[102.494448,30.713601],[102.493369,30.709267],[102.487868,30.704703],[102.484555,30.697568],[102.486481,30.685805],[102.485635,30.680681],[102.482235,30.676801],[102.473247,30.670929],[102.472561,30.667443],[102.476501,30.660906],[102.471744,30.639986],[102.467862,30.635793],[102.460931,30.632015],[102.450936,30.623379],[102.443363,30.61821],[102.437964,30.612397],[102.43115,30.596907],[102.42381,30.547908],[102.420775,30.539577],[102.417973,30.524137],[102.418119,30.506015],[102.41898,30.491589],[102.421723,30.466411],[102.419608,30.452811],[102.423255,30.445782],[102.433338,30.433552],[102.434418,30.421424],[102.425211,30.384575],[102.428552,30.377499],[102.433163,30.372067],[102.434068,30.367279],[102.432769,30.355102],[102.420527,30.323684],[102.416631,30.311459],[102.421913,30.310126],[102.434783,30.31098],[102.441583,30.309418],[102.449331,30.316999],[102.460946,30.320747],[102.466666,30.318561],[102.494157,30.327474],[102.502576,30.329348],[102.520451,30.335386],[102.542003,30.346733],[102.555982,30.347712],[102.567086,30.3464],[102.576118,30.341861],[102.592111,30.330056],[102.601741,30.317041],[102.611634,30.308398],[102.630195,30.306482],[102.653294,30.302316],[102.663435,30.296213],[102.669096,30.285485],[102.670205,30.27861],[102.676144,30.266734],[102.684695,30.258566],[102.695332,30.254753],[102.713149,30.247084],[102.718737,30.24277],[102.723582,30.2341],[102.724735,30.222635],[102.719394,30.193948],[102.7258,30.18665],[102.732702,30.185565],[102.74169,30.186066],[102.757843,30.183647],[102.776112,30.177682],[102.779585,30.174825],[102.779658,30.163959],[102.784721,30.154218],[102.79225,30.15355],[102.798218,30.155532],[102.801968,30.159057],[102.805179,30.176535],[102.817421,30.196971],[102.822689,30.198827],[102.833253,30.199098],[102.849377,30.195929],[102.851726,30.197097],[102.85819,30.21044],[102.862626,30.216861],[102.880793,30.227492],[102.891605,30.231661],[102.892379,30.235788],[102.88892,30.240352],[102.870652,30.244187],[102.866668,30.24898],[102.865515,30.261817],[102.870155,30.279256],[102.879552,30.299462],[102.8927,30.310293],[102.905642,30.316083],[102.916484,30.319352],[102.923605,30.326266],[102.929412,30.329285],[102.936256,30.340092],[102.934884,30.346504],[102.924451,30.364095],[102.917505,30.371858],[102.907656,30.379143],[102.903921,30.38395],[102.899076,30.393773],[102.901148,30.401368],[102.907714,30.411937],[102.921679,30.427602],[102.928026,30.430847],[102.936781,30.433177],[102.944748,30.43324],[102.953503,30.43559],[102.957472,30.438356],[102.955313,30.443847],[102.94647,30.458925],[102.946149,30.466037],[102.948527,30.470174],[102.951125,30.480508],[102.95559,30.490632],[102.959515,30.506472],[102.968153,30.530143],[102.971553,30.541862],[102.976573,30.549924],[103.001991,30.578299],[103.017386,30.590345],[103.027469,30.600042],[103.033553,30.608556],[103.035129,30.616134],[103.026549,30.626389],[103.020143,30.628196],[103.010221,30.636374],[103.004355,30.639093],[102.981651,30.64696],[102.974442,30.651277],[102.966125,30.659702],[102.957822,30.66653],[102.952219,30.667858],[102.927968,30.670016],[102.922642,30.673647],[102.922058,30.680515],[102.92359,30.693149],[102.927486,30.707151],[102.928756,30.719782],[102.916703,30.733469],[102.91075,30.748128],[102.909903,30.758432],[102.907408,30.764713]]]]}}]},CMD=PathProxy_default.CMD;function aroundEqual(t,n){return Math.abs(t-n)<1e-5}function pathToBezierCurves(t){var n=t.data,r=t.len(),a=[],o,s=0,c=0,l=0,u=0;function d(t,n){o&&o.length>2&&a.push(o),o=[t,n]}function f(t,n,r,a){aroundEqual(t,r)&&aroundEqual(n,a)||o.push(t,n,r,a,r,a)}function p(t,n,r,a,s,c){var l=Math.abs(n-t),u=Math.tan(l/4)*4/3,d=n<t?-1:1,f=Math.cos(t),p=Math.sin(t),g=Math.cos(n),_=Math.sin(n),v=f*s+r,y=p*c+a,b=g*s+r,x=_*c+a,S=s*u*d,C=c*u*d;o.push(v-S*p,y+C*f,b+S*_,x-C*g,b,x)}for(var g,_,v,y,b=0;b<r;){var x=n[b++],S=b===1;switch(S&&(s=n[b],c=n[b+1],l=s,u=c,(x===CMD.L||x===CMD.C||x===CMD.Q)&&(o=[l,u])),x){case CMD.M:s=l=n[b++],c=u=n[b++],d(l,u);break;case CMD.L:g=n[b++],_=n[b++],f(s,c,g,_),s=g,c=_;break;case CMD.C:o.push(n[b++],n[b++],n[b++],n[b++],s=n[b++],c=n[b++]);break;case CMD.Q:g=n[b++],_=n[b++],v=n[b++],y=n[b++],o.push(s+2/3*(g-s),c+2/3*(_-c),v+2/3*(g-v),y+2/3*(_-y),v,y),s=v,c=y;break;case CMD.A:var C=n[b++],w=n[b++],T=n[b++],E=n[b++],D=n[b++],O=n[b++]+D;b+=1;var A=!n[b++];g=Math.cos(D)*T+C,_=Math.sin(D)*E+w,S?(l=g,u=_,d(l,u)):f(s,c,g,_),s=Math.cos(O)*T+C,c=Math.sin(O)*E+w;for(var j=(A?-1:1)*Math.PI/2,M=D;A?M>O:M<O;M+=j){var N=A?Math.max(M+j,O):Math.min(M+j,O);p(M,N,C,w,T,E)}break;case CMD.R:l=s=n[b++],u=c=n[b++],g=l+n[b++],_=u+n[b++],d(g,u),f(g,u,g,_),f(g,_,l,_),f(l,_,l,u),f(l,u,g,u);break;case CMD.Z:o&&f(s,c,l,u),s=l,c=u;break}}return o&&o.length>2&&a.push(o),a}function adpativeBezier(t,n,r,a,o,s,c,l,u,d){if(aroundEqual(t,r)&&aroundEqual(n,a)&&aroundEqual(o,c)&&aroundEqual(s,l)){u.push(c,l);return}var f=2/d,p=f*f,g=c-t,_=l-n,v=Math.sqrt(g*g+_*_);g/=v,_/=v;var y=r-t,b=a-n,x=o-c,S=s-l,C=y*y+b*b,w=x*x+S*S;if(C<p&&w<p){u.push(c,l);return}var T=g*y+_*b,E=-g*x-_*S,D=C-T*T,O=w-E*E;if(D<p&&T>=0&&O<p&&E>=0){u.push(c,l);return}var A=[],j=[];cubicSubdivide(t,r,o,c,.5,A),cubicSubdivide(n,a,s,l,.5,j),adpativeBezier(A[0],j[0],A[1],j[1],A[2],j[2],A[3],j[3],u,d),adpativeBezier(A[4],j[4],A[5],j[5],A[6],j[6],A[7],j[7],u,d)}function pathToPolygons(t,n){var r=pathToBezierCurves(t),a=[];n||=1;for(var o=0;o<r.length;o++){var s=r[o],c=[],l=s[0],u=s[1];c.push(l,u);for(var d=2;d<s.length;){var f=s[d++],p=s[d++],g=s[d++],_=s[d++],v=s[d++],y=s[d++];adpativeBezier(l,u,f,p,g,_,v,y,c,n),l=v,u=y}a.push(c)}return a}function getDividingGrids(t,n,r){var a=t[n],o=t[1-n],s=Math.abs(a/o),c=Math.ceil(Math.sqrt(s*r)),l=Math.floor(r/c);l===0&&(l=1,c=r);for(var u=[],d=0;d<c;d++)u.push(l);var f=r-c*l;if(f>0)for(var d=0;d<f;d++)u[d%c]+=1;return u}function divideSector(t,n,r){for(var a=t.r0,o=t.r,s=t.startAngle,c=t.endAngle,l=Math.abs(c-s),u=l*o,d=o-a,f=u>Math.abs(d),p=getDividingGrids([u,d],f?0:1,n),g=(f?l:d)/p.length,_=0;_<p.length;_++)for(var v=(f?d:l)/p[_],y=0;y<p[_];y++){var b={};f?(b.startAngle=s+g*_,b.endAngle=s+g*(_+1),b.r0=a+v*y,b.r=a+v*(y+1)):(b.startAngle=s+v*y,b.endAngle=s+v*(y+1),b.r0=a+g*_,b.r=a+g*(_+1)),b.clockwise=t.clockwise,b.cx=t.cx,b.cy=t.cy,r.push(b)}}function divideRect(t,n,r){for(var a=t.width,o=t.height,s=a>o,c=getDividingGrids([a,o],s?0:1,n),l=s?`width`:`height`,u=s?`height`:`width`,d=s?`x`:`y`,f=s?`y`:`x`,p=t[l]/c.length,g=0;g<c.length;g++)for(var _=t[u]/c[g],v=0;v<c[g];v++){var y={};y[d]=g*p,y[f]=v*_,y[l]=p,y[u]=_,y.x+=t.x,y.y+=t.y,r.push(y)}}function crossProduct2d(t,n,r,a){return t*a-r*n}function lineLineIntersect(t,n,r,a,o,s,c,l){var u=r-t,d=a-n,f=c-o,p=l-s,g=crossProduct2d(f,p,u,d);if(Math.abs(g)<1e-6)return null;var _=crossProduct2d(t-o,n-s,f,p)/g;return _<0||_>1?null:new Point_default(_*u+t,_*d+n)}function projPtOnLine(t,n,r){var a=new Point_default;Point_default.sub(a,r,n),a.normalize();var o=new Point_default;return Point_default.sub(o,t,n),o.dot(a)}function addToPoly(t,n){var r=t[t.length-1];r&&r[0]===n[0]&&r[1]===n[1]||t.push(n)}function splitPolygonByLine(t,n,r){for(var a=t.length,o=[],s=0;s<a;s++){var c=t[s],l=t[(s+1)%a],u=lineLineIntersect(c[0],c[1],l[0],l[1],n.x,n.y,r.x,r.y);u&&o.push({projPt:projPtOnLine(u,n,r),pt:u,idx:s})}if(o.length<2)return[{points:t},{points:t}];o.sort(function(t,n){return t.projPt-n.projPt});var d=o[0],f=o[o.length-1];if(f.idx<d.idx){var p=d;d=f,f=p}for(var g=[d.pt.x,d.pt.y],_=[f.pt.x,f.pt.y],v=[g],y=[_],s=d.idx+1;s<=f.idx;s++)addToPoly(v,t[s].slice());addToPoly(v,_),addToPoly(v,g);for(var s=f.idx+1;s<=d.idx+a;s++)addToPoly(y,t[s%a].slice());return addToPoly(y,g),addToPoly(y,_),[{points:v},{points:y}]}function binaryDividePolygon(t){var n=t.points,r=[],a=[];fromPoints(n,r,a);var o=new BoundingRect_default(r[0],r[1],a[0]-r[0],a[1]-r[1]),s=o.width,c=o.height,l=o.x,u=o.y,d=new Point_default,f=new Point_default;return s>c?(d.x=f.x=l+s/2,d.y=u,f.y=u+c):(d.y=f.y=u+c/2,d.x=l,f.x=l+s),splitPolygonByLine(n,d,f)}function binaryDivideRecursive(t,n,r,a){if(r===1)a.push(n);else{var o=Math.floor(r/2),s=t(n);binaryDivideRecursive(t,s[0],o,a),binaryDivideRecursive(t,s[1],r-o,a)}return a}function clone(t,n){for(var r=[],a=0;a<n;a++)r.push(clonePath(t));return r}function copyPathProps(t,n){n.setStyle(t.style),n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel}function polygonConvert(t){for(var n=[],r=0;r<t.length;)n.push([t[r++],t[r++]]);return n}function split(t,n){var r=[],a=t.shape,o;switch(t.type){case`rect`:divideRect(a,n,r),o=Rect_default;break;case`sector`:divideSector(a,n,r),o=Sector_default;break;case`circle`:divideSector({r0:0,r:a.r,startAngle:0,endAngle:Math.PI*2,cx:a.cx,cy:a.cy},n,r),o=Sector_default;break;default:var s=t.getComputedTransform(),c=s?Math.sqrt(Math.max(s[0]*s[0]+s[1]*s[1],s[2]*s[2]+s[3]*s[3])):1,l=map$1(pathToPolygons(t.getUpdatedPathProxy(),c),function(t){return polygonConvert(t)}),u=l.length;if(u===0)binaryDivideRecursive(binaryDividePolygon,{points:l[0]},n,r);else if(u===n)for(var d=0;d<u;d++)r.push({points:l[d]});else{var f=0,p=map$1(l,function(t){var n=[],r=[];fromPoints(t,n,r);var a=(r[1]-n[1])*(r[0]-n[0]);return f+=a,{poly:t,area:a}});p.sort(function(t,n){return n.area-t.area});for(var g=n,d=0;d<u;d++){var _=p[d];if(g<=0)break;var v=d===u-1?g:Math.ceil(_.area/f*n);v<0||(binaryDivideRecursive(binaryDividePolygon,{points:_.poly},v,r),g-=v)}}o=Polygon_default;break}if(!o)return clone(t,n);for(var y=[],d=0;d<r.length;d++){var b=new o;b.setShape(r[d]),copyPathProps(t,b),y.push(b)}return y}function alignSubpath(t,n){var r=t.length,a=n.length;if(r===a)return[t,n];for(var o=[],s=[],c=r<a?t:n,l=Math.min(r,a),u=Math.abs(a-r)/6,d=(l-2)/6,f=Math.ceil(u/d)+1,p=[c[0],c[1]],g=u,_=2;_<l;){var v=c[_-2],y=c[_-1],b=c[_++],x=c[_++],S=c[_++],C=c[_++],w=c[_++],T=c[_++];if(g<=0){p.push(b,x,S,C,w,T);continue}for(var E=Math.min(g,f-1)+1,D=1;D<=E;D++){var O=D/E;cubicSubdivide(v,b,S,w,O,o),cubicSubdivide(y,x,C,T,O,s),v=o[3],y=s[3],p.push(o[1],s[1],o[2],s[2],v,y),b=o[5],x=s[5],S=o[6],C=s[6]}g-=E-1}return c===t?[p,n]:[t,p]}function createSubpath(t,n){for(var r=t.length,a=t[r-2],o=t[r-1],s=[],c=0;c<n.length;)s[c++]=a,s[c++]=o;return s}function alignBezierCurves(t,n){for(var r,a,o,s=[],c=[],l=0;l<Math.max(t.length,n.length);l++){var u=t[l],d=n[l],f=void 0,p=void 0;u?d?(r=alignSubpath(u,d),f=r[0],p=r[1],a=f,o=p):(p=createSubpath(o||u,u),f=u):(f=createSubpath(a||d,d),p=d),s.push(f),c.push(p)}return[s,c]}function centroid(t){for(var n=0,r=0,a=0,o=t.length,s=0,c=o-2;s<o;c=s,s+=2){var l=t[c],u=t[c+1],d=t[s],f=t[s+1],p=l*f-d*u;n+=p,r+=(l+d)*p,a+=(u+f)*p}return n===0?[t[0]||0,t[1]||0]:[r/n/3,a/n/3,n]}function findBestRingOffset(t,n,r,a){for(var o=(t.length-2)/6,s=1/0,c=0,l=t.length,u=l-2,d=0;d<o;d++){for(var f=d*6,p=0,g=0;g<l;g+=2){var _=g===0?f:(f+g-2)%u+2,v=t[_]-r[0],y=t[_+1]-r[1],b=n[g]-a[0],x=n[g+1]-a[1],S=b-v,C=x-y;p+=S*S+C*C}p<s&&(s=p,c=d)}return c}function reverse(t){for(var n=[],r=t.length,a=0;a<r;a+=2)n[a]=t[r-a-2],n[a+1]=t[r-a-1];return n}function findBestMorphingRotation(t,n,r,a){for(var o=[],s,c=0;c<t.length;c++){var l=t[c],u=n[c],d=centroid(l),f=centroid(u);s??=d[2]<0!=f[2]<0;var p=[],g=[],_=0,v=1/0,y=[],b=l.length;s&&(l=reverse(l));for(var x=findBestRingOffset(l,u,d,f)*6,S=b-2,C=0;C<S;C+=2){var w=(x+C)%S+2;p[C+2]=l[w]-d[0],p[C+3]=l[w+1]-d[1]}if(p[0]=l[x]-d[0],p[1]=l[x+1]-d[1],r>0)for(var T=a/r,E=-a/2;E<=a/2;E+=T){for(var D=Math.sin(E),O=Math.cos(E),A=0,C=0;C<l.length;C+=2){var j=p[C],M=p[C+1],N=u[C]-f[0],P=u[C+1]-f[1],F=N*O-P*D,I=N*D+P*O;y[C]=F,y[C+1]=I;var L=F-j,R=I-M;A+=L*L+R*R}if(A<v){v=A,_=E;for(var z=0;z<y.length;z++)g[z]=y[z]}}else for(var B=0;B<b;B+=2)g[B]=u[B]-f[0],g[B+1]=u[B+1]-f[1];o.push({from:p,to:g,fromCp:d,toCp:f,rotation:-_})}return o}function isCombineMorphing(t){return t.__isCombineMorphing}var SAVED_METHOD_PREFIX=`__mOriginal_`;function saveAndModifyMethod(t,n,r){var a=SAVED_METHOD_PREFIX+n,o=t[a]||t[n];t[a]||(t[a]=t[n]);var s=r.replace,c=r.after,l=r.before;t[n]=function(){var t=arguments,n;return l&&l.apply(this,t),n=s?s.apply(this,t):o.apply(this,t),c&&c.apply(this,t),n}}function restoreMethod(t,n){var r=SAVED_METHOD_PREFIX+n;t[r]&&(t[n]=t[r],t[r]=null)}function applyTransformOnBeziers(t,n){for(var r=0;r<t.length;r++)for(var a=t[r],o=0;o<a.length;){var s=a[o],c=a[o+1];a[o++]=n[0]*s+n[2]*c+n[4],a[o++]=n[1]*s+n[3]*c+n[5]}}function prepareMorphPath(t,n){var r=t.getUpdatedPathProxy(),a=n.getUpdatedPathProxy(),o=alignBezierCurves(pathToBezierCurves(r),pathToBezierCurves(a)),s=o[0],c=o[1],l=t.getComputedTransform(),u=n.getComputedTransform();function d(){this.transform=null}l&&applyTransformOnBeziers(s,l),u&&applyTransformOnBeziers(c,u),saveAndModifyMethod(n,`updateTransform`,{replace:d}),n.transform=null;var f=findBestMorphingRotation(s,c,10,Math.PI),p=[];saveAndModifyMethod(n,`buildPath`,{replace:function(t){for(var r=n.__morphT,a=1-r,o=[],s=0;s<f.length;s++){var c=f[s],l=c.from,u=c.to,d=c.rotation*r,g=c.fromCp,_=c.toCp,v=Math.sin(d),y=Math.cos(d);lerp$1(o,g,_,r);for(var b=0;b<l.length;b+=2){var x=l[b],S=l[b+1],C=u[b],w=u[b+1],T=x*a+C*r,E=S*a+w*r;p[b]=T*y-E*v+o[0],p[b+1]=T*v+E*y+o[1]}var D=p[0],O=p[1];t.moveTo(D,O);for(var b=2;b<l.length;){var C=p[b++],w=p[b++],A=p[b++],j=p[b++],M=p[b++],N=p[b++];D===C&&O===w&&A===M&&j===N?t.lineTo(M,N):t.bezierCurveTo(C,w,A,j,M,N),D=M,O=N}}}})}function morphPath(t,n,r){if(!t||!n)return n;var a=r.done,o=r.during;prepareMorphPath(t,n),n.__morphT=0;function s(){restoreMethod(n,`buildPath`),restoreMethod(n,`updateTransform`),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults({during:function(t){n.dirtyShape(),o&&o(t)},done:function(){s(),a&&a()}},r)),n}function hilbert(t,n,r,a,o,s){var c=16;t=o===r?0:Math.round(32767*(t-r)/(o-r)),n=s===a?0:Math.round(32767*(n-a)/(s-a));for(var l=0,u,d=(1<<c)/2;d>0;d/=2){var f=0,p=0;(t&d)>0&&(f=1),(n&d)>0&&(p=1),l+=d*d*(3*f^p),p===0&&(f===1&&(t=d-1-t,n=d-1-n),u=t,t=n,n=u)}return l}function sortPaths(t){var n=1/0,r=1/0,a=-1/0,o=-1/0;return map$1(map$1(t,function(t){var s=t.getBoundingRect(),c=t.getComputedTransform(),l=s.x+s.width/2+(c?c[4]:0),u=s.y+s.height/2+(c?c[5]:0);return n=Math.min(l,n),r=Math.min(u,r),a=Math.max(l,a),o=Math.max(u,o),[l,u]}),function(s,c){return{cp:s,z:hilbert(s[0],s[1],n,r,a,o),path:t[c]}}).sort(function(t,n){return t.z-n.z}).map(function(t){return t.path})}function defaultDividePath(t){return split(t.path,t.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(t,n,r){var a=[];function o(t){for(var n=0;n<t.length;n++){var r=t[n];isCombineMorphing(r)?o(r.childrenRef()):r instanceof Path_default&&a.push(r)}}o(t);var s=a.length;if(!s)return createEmptyReturn();var c=(r.dividePath||defaultDividePath)({path:n,count:s});if(c.length!==s)return createEmptyReturn();a=sortPaths(a),c=sortPaths(c);for(var l=r.done,u=r.during,d=r.individualDelay,f=new Transformable_default,p=0;p<s;p++){var g=a[p],_=c[p];_.parent=n,_.copyTransform(f),d||prepareMorphPath(g,_)}n.__isCombineMorphing=!0,n.childrenRef=function(){return c};function v(t){for(var n=0;n<c.length;n++)c[n].addSelfToZr(t)}saveAndModifyMethod(n,`addSelfToZr`,{after:function(t){v(t)}}),saveAndModifyMethod(n,`removeSelfFromZr`,{after:function(t){for(var n=0;n<c.length;n++)c[n].removeSelfFromZr(t)}});function y(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,`addSelfToZr`),restoreMethod(n,`removeSelfFromZr`)}var b=c.length;if(d)for(var x=b,S=function(){x--,x===0&&(y(),l&&l())},p=0;p<b;p++){var C=d?defaults({delay:(r.delay||0)+d(p,b,a[p],c[p]),done:S},r):r;morphPath(a[p],c[p],C)}else n.__morphT=0,n.animateTo({__morphT:1},defaults({during:function(t){for(var r=0;r<b;r++){var a=c[r];a.__morphT=n.__morphT,a.dirtyShape()}u&&u(t)},done:function(){y();for(var n=0;n<t.length;n++)restoreMethod(t[n],`updateTransform`);l&&l()}},r));return n.__zr&&v(n.__zr),{fromIndividuals:a,toIndividuals:c,count:b}}function separateMorph(t,n,r){var a=n.length,o=[],s=r.dividePath||defaultDividePath;function c(t){for(var n=0;n<t.length;n++){var r=t[n];isCombineMorphing(r)?c(r.childrenRef()):r instanceof Path_default&&o.push(r)}}if(isCombineMorphing(t)){c(t.childrenRef());var l=o.length;if(l<a)for(var u=0,d=l;d<a;d++)o.push(clonePath(o[u++%l]));o.length=a}else{o=s({path:t,count:a});for(var f=t.getComputedTransform(),d=0;d<o.length;d++)o[d].setLocalTransform(f);if(o.length!==a)return createEmptyReturn()}o=sortPaths(o),n=sortPaths(n);for(var p=r.individualDelay,d=0;d<a;d++){var g=p?defaults({delay:(r.delay||0)+p(d,a,o[d],n[d])},r):r;morphPath(o[d],n[d],g)}return{fromIndividuals:o,toIndividuals:n,count:n.length}}function isMultiple(t){return isArray$1(t[0])}function prepareMorphBatches(t,n){for(var r=[],a=t.length,o=0;o<a;o++)r.push({one:t[o],many:[]});for(var o=0;o<n.length;o++){var s=n[o].length,c=void 0;for(c=0;c<s;c++)r[c%a].many.push(n[o][c])}for(var l=0,o=a-1;o>=0;o--)if(!r[o].many.length){var u=r[l].many;if(u.length<=1)if(l)l=0;else return r;var s=u.length,d=Math.ceil(s/2);r[o].many=u.slice(d,s),r[l].many=u.slice(0,d),l++}return r}var pathDividers={clone:function(t){for(var n=[],r=1-(1-t.path.style.opacity)**(1/t.count),a=0;a<t.count;a++){var o=clonePath(t.path);o.setStyle(`opacity`,r),n.push(o)}return n},split:null};function applyMorphAnimation(t,n,r,a,o,s){if(!t.length||!n.length)return;var c=getAnimationConfig(`update`,a,o);if(!(c&&c.duration>0))return;var l=a.getModel(`universalTransition`).get(`delay`),u=Object.assign({setToFinal:!0},c),d,f;isMultiple(t)&&(d=t,f=n),isMultiple(n)&&(d=n,f=t);function p(t,n,a,o,c){var d=t.many,f=t.one;if(d.length===1&&!c){var g=n?d[0]:f,_=n?f:d[0];if(isCombineMorphing(g))p({many:[g],one:_},!0,a,o,!0);else{var v=l?defaults({delay:l(a,o)},u):u;morphPath(g,_,v),s(g,_,g,_,v)}}else for(var y=defaults({dividePath:pathDividers[r],individualDelay:l&&function(t,n,r,s){return l(t+a,o)}},u),b=n?combineMorph(d,f,y):separateMorph(f,d,y),x=b.fromIndividuals,S=b.toIndividuals,C=x.length,w=0;w<C;w++){var v=l?defaults({delay:l(w,C)},u):u;s(x[w],S[w],n?d[w]:t.one,n?t.one:d[w],v)}}for(var g=d?d===t:t.length>n.length,_=d?prepareMorphBatches(f,d):prepareMorphBatches(g?n:t,[g?t:n]),v=0,y=0;y<_.length;y++)v+=_[y].many.length;for(var b=0,y=0;y<_.length;y++)p(_[y],g,b,v),b+=_[y].many.length}function getPathList(t){if(!t)return[];if(isArray$1(t)){for(var n=[],r=0;r<t.length;r++)n.push(getPathList(t[r]));return n}var a=[];return t.traverse(function(t){t instanceof Path_default&&!t.disableMorphing&&!t.invisible&&!t.ignore&&a.push(t)}),a}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(t,n){for(var r=t.dimensions,a=0;a<r.length;a++){var o=t.getDimensionInfo(r[a]);if(o&&o.otherDims[n]===0)return r[a]}}function getValueByDimension(t,n,r){var a=t.getDimensionInfo(r),o=a&&a.ordinalMeta;if(a){var s=t.get(a.name,n);return o&&o.categories[s]||s+``}}function getGroupId(t,n,r,a){var o=getDimension(t,a?`itemChildGroupId`:`itemGroupId`);if(o)return getValueByDimension(t,n,o);var s=t.getRawDataItem(n),c=a?`childGroupId`:`groupId`;if(s&&s[c])return s[c]+``;if(!a)return r||t.getId(n)}function flattenDataDiffItems(t){var n=[];return each$15(t,function(t){var r=t.data,a=t.dataGroupId;if(!(r.count()>DATA_COUNT_THRESHOLD))for(var o=r.getIndices(),s=0;s<o.length;s++)n.push({data:r,groupId:getGroupId(r,s,a,!1),childGroupId:getGroupId(r,s,a,!0),divide:t.divide,dataIndex:s})}),n}function fadeInElement(t,n,r){t.traverse(function(t){t instanceof Path_default&&initProps(t,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function removeEl(t){if(t.parent){var n=t.getComputedTransform();t.setLocalTransform(n),t.parent.remove(t)}}function stopAnimation(t){t.stopAnimation(),t.isGroup&&t.traverse(function(t){t.stopAnimation()})}function animateElementStyles(t,n,r){var a=getAnimationConfig(`update`,r,n);a&&t.traverse(function(t){if(t instanceof Displayable_default){var n=getOldStyle(t);n&&t.animateFrom({style:n},a)}})}function isAllIdSame(t,n){var r=t.length;if(r!==n.length)return!1;for(var a=0;a<r;a++){var o=t[a],s=n[a];if(o.data.getId(o.dataIndex)!==s.data.getId(s.dataIndex))return!1}return!0}function transitionBetween(t,n,r){var a=flattenDataDiffItems(t),o=flattenDataDiffItems(n);function s(t,n,r,a,o){(r||t)&&n.animateFrom({style:r&&r!==t?extend(extend({},r.style),t.style):t.style},o)}var c=!1,l=TRANSITION_NONE,u=createHashMap(),d=createHashMap();a.forEach(function(t){t.groupId&&u.set(t.groupId,!0),t.childGroupId&&d.set(t.childGroupId,!0)});for(var f=0;f<o.length;f++){var p=o[f].groupId;if(d.get(p)){l=TRANSITION_P2C;break}var g=o[f].childGroupId;if(g&&u.get(g)){l=TRANSITION_C2P;break}}function _(t,n){return function(r){var a=r.data,o=r.dataIndex;return n?a.getId(o):t?l===TRANSITION_P2C?r.childGroupId:r.groupId:l===TRANSITION_C2P?r.childGroupId:r.groupId}}var v=isAllIdSame(a,o),y={};if(!v)for(var f=0;f<o.length;f++){var b=o[f],x=b.data.getItemGraphicEl(b.dataIndex);x&&(y[x.id]=!0)}function S(t,n){var r=a[n],l=o[t],u=l.data.hostModel,d=r.data.getItemGraphicEl(r.dataIndex),f=l.data.getItemGraphicEl(l.dataIndex);if(d===f){f&&animateElementStyles(f,l.dataIndex,u);return}d&&y[d.id]||f&&(stopAnimation(f),d?(stopAnimation(d),removeEl(d),c=!0,applyMorphAnimation(getPathList(d),getPathList(f),l.divide,u,t,s)):fadeInElement(f,u,t))}new DataDiffer_default(a,o,_(!0,v),_(!1,v),null,`multiple`).update(S).updateManyToOne(function(t,n){var r=o[t],l=r.data,u=l.hostModel,d=l.getItemGraphicEl(r.dataIndex),f=filter(map$1(n,function(t){return a[t].data.getItemGraphicEl(a[t].dataIndex)}),function(t){return t&&t!==d&&!y[t.id]});d&&(stopAnimation(d),f.length?(each$15(f,function(t){stopAnimation(t),removeEl(t)}),c=!0,applyMorphAnimation(getPathList(f),getPathList(d),r.divide,u,t,s)):fadeInElement(d,u,r.dataIndex))}).updateOneToMany(function(t,n){var r=a[n],l=r.data.getItemGraphicEl(r.dataIndex);if(!(l&&y[l.id])){var u=filter(map$1(t,function(t){return o[t].data.getItemGraphicEl(o[t].dataIndex)}),function(t){return t&&t!==l}),d=o[t[0]].data.hostModel;u.length&&(each$15(u,function(t){return stopAnimation(t)}),l?(stopAnimation(l),removeEl(l),c=!0,applyMorphAnimation(getPathList(l),getPathList(u),r.divide,d,t[0],s)):each$15(u,function(n){return fadeInElement(n,d,t[0])}))}}).updateManyToMany(function(t,n){new DataDiffer_default(n,t,function(t){return a[t].data.getId(a[t].dataIndex)},function(t){return o[t].data.getId(o[t].dataIndex)}).update(function(r,a){S(t[r],n[a])}).execute()}).execute(),c&&each$15(n,function(t){var n=t.data.hostModel,a=n&&r.getViewOfSeriesModel(n),o=getAnimationConfig(`update`,n,0);a&&n.isAnimationEnabled()&&o&&o.duration>0&&a.group.traverse(function(t){t instanceof Path_default&&!t.animators.length&&t.animateFrom({style:{opacity:0}},o)})})}function getSeriesTransitionKey(t){return t.getModel(`universalTransition`).get(`seriesKey`)||t.id}function convertArraySeriesKeyToString(t){return isArray$1(t)?t.sort().join(`,`):t}function getDivideShapeFromData(t){if(t.hostModel)return t.hostModel.getModel(`universalTransition`).get(`divideShape`)}function findTransitionSeriesBatches(t,n){var r=createHashMap(),a=createHashMap(),o=createHashMap();return each$15(t.oldSeries,function(n,r){var s=t.oldDataGroupIds[r],c=t.oldData[r],l=getSeriesTransitionKey(n),u=convertArraySeriesKeyToString(l);a.set(u,{dataGroupId:s,data:c}),isArray$1(l)&&each$15(l,function(t){o.set(t,{key:u,dataGroupId:s,data:c})})}),each$15(n.updatedSeries,function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var n=t.get(`dataGroupId`),s=t.getData(),c=getSeriesTransitionKey(t),l=convertArraySeriesKeyToString(c),u=a.get(l);if(u)r.set(l,{oldSeries:[{dataGroupId:u.dataGroupId,divide:getDivideShapeFromData(u.data),data:u.data}],newSeries:[{dataGroupId:n,divide:getDivideShapeFromData(s),data:s}]});else if(isArray$1(c)){var d=[];each$15(c,function(t){var n=a.get(t);n.data&&d.push({dataGroupId:n.dataGroupId,divide:getDivideShapeFromData(n.data),data:n.data})}),d.length&&r.set(l,{oldSeries:d,newSeries:[{dataGroupId:n,data:s,divide:getDivideShapeFromData(s)}]})}else{var f=o.get(c);if(f){var p=r.get(f.key);p||(p={oldSeries:[{dataGroupId:f.dataGroupId,data:f.data,divide:getDivideShapeFromData(f.data)}],newSeries:[]},r.set(f.key,p)),p.newSeries.push({dataGroupId:n,data:s,divide:getDivideShapeFromData(s)})}}}}),r}function querySeries(t,n){for(var r=0;r<t.length;r++)if(n.seriesIndex!=null&&n.seriesIndex===t[r].seriesIndex||n.seriesId!=null&&n.seriesId===t[r].id)return r}function transitionSeriesFromOpt(t,n,r,a){var o=[],s=[];each$15(normalizeToArray(t.from),function(t){var r=querySeries(n.oldSeries,t);r>=0&&o.push({dataGroupId:n.oldDataGroupIds[r],data:n.oldData[r],divide:getDivideShapeFromData(n.oldData[r]),groupIdDim:t.dimension})}),each$15(normalizeToArray(t.to),function(t){var a=querySeries(r.updatedSeries,t);if(a>=0){var o=r.updatedSeries[a].getData();s.push({dataGroupId:n.oldDataGroupIds[a],data:o,divide:getDivideShapeFromData(o),groupIdDim:t.dimension})}}),o.length>0&&s.length>0&&transitionBetween(o,s,a)}function installUniversalTransition(t){t.registerUpdateLifecycle(`series:beforeupdate`,function(t,n,r){each$15(normalizeToArray(r.seriesTransition),function(t){each$15(normalizeToArray(t.to),function(t){for(var n=r.updatedSeries,a=0;a<n.length;a++)(t.seriesIndex!=null&&t.seriesIndex===n[a].seriesIndex||t.seriesId!=null&&t.seriesId===n[a].id)&&(n[a][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),t.registerUpdateLifecycle(`series:transition`,function(t,n,r){var a=getUniversalTransitionGlobalStore(n);if(a.oldSeries&&r.updatedSeries&&r.optionChanged){var o=r.seriesTransition;if(o)each$15(normalizeToArray(o),function(t){transitionSeriesFromOpt(t,a,r,n)});else{var s=findTransitionSeriesBatches(a,r);each$15(s.keys(),function(t){var r=s.get(t);transitionBetween(r.oldSeries,r.newSeries,n)})}each$15(r.updatedSeries,function(t){t.__universalTransitionEnabled&&(t[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var c=t.getSeries(),l=a.oldSeries=[],u=a.oldDataGroupIds=[],d=a.oldData=[],f=0;f<c.length;f++){var p=c[f].getData();p.count()<DATA_COUNT_THRESHOLD&&(l.push(c[f]),u.push(c[f].get(`dataGroupId`)),d.push(p))}})}use([install]),use([install$1]),use([install$23,install$22,install$21,install$20,install$19,install$18,install$17,install$16,install$15,install$14,install$13,install$12,install$11,install$10,install$9,install$8,install$7,install$6,install$5,install$4,install$3,install$2]),use(install$52),use(install$51),use(install$49),use(install$48),use(install$47),use(install$46),use(install$45),use(install$43),use(install$42),use(install$53),use(install$41),use(install$40),use(install$39),use(install$38),use(install$37),use(install$36),use(install$33),use(install$30),use(install$32),use(install$31),use(install$27),use(install$29),use(install$28),use(install$26),use(install$25),use(install$24),use(installUniversalTransition),use(installLabelLayout),use([install,install$24]),use(installLabelLayout),extendSeriesModel({type:`series.wordCloud`,visualStyleAccessPath:`textStyle`,visualStyleMapper:function(t){return{fill:t.get(`color`)}},visualDrawType:`fill`,optionUpdated:function(){var t=this.option;t.gridSize=Math.max(Math.floor(t.gridSize),4)},getInitialData:function(t,n){var r=new SeriesData_default(createDimensions(t.data,{coordDimensions:[`value`]}),this);return r.initData(t.data),r},defaultOption:{maskImage:null,shape:`circle`,keepAspect:!1,left:`center`,top:`center`,width:`70%`,height:`80%`,sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,textStyle:{fontWeight:`normal`}}}),extendChartView({type:`wordCloud`,render:function(t,n,r){var a=this.group;a.removeAll();var o=t.getData(),s=t.get(`gridSize`);t.layoutInstance.ondraw=function(n,r,c,l){var u=o.getItemModel(c),d=new Text_default({style:createTextStyle(u.getModel(`textStyle`)),scaleX:1/l.info.mu,scaleY:1/l.info.mu,x:(l.gx+l.info.gw/2)*s,y:(l.gy+l.info.gh/2)*s,rotation:l.rot});d.setStyle({x:l.info.fillTextOffsetX,y:l.info.fillTextOffsetY+r*.5,text:n,verticalAlign:`middle`,fill:o.getItemVisual(c,`style`).fill,fontSize:r}),a.add(d),o.setItemGraphicEl(c,d),d.ensureState(`emphasis`).style=createTextStyle(u.getModel([`emphasis`,`textStyle`]),{state:`emphasis`}),d.ensureState(`blur`).style=createTextStyle(u.getModel([`blur`,`textStyle`]),{state:`blur`}),enableHoverEmphasis(d,u.get([`emphasis`,`focus`]),u.get([`emphasis`,`blurScope`])),d.stateTransition={duration:t.get(`animation`)?t.get([`stateAnimation`,`duration`]):0,easing:t.get([`stateAnimation`,`easing`])},d.__highDownDispatcher=!0},this._model=t},remove:function(){this.group.removeAll(),this._model.layoutInstance.dispose()},dispose:function(){this._model.layoutInstance.dispose()}}),window.setImmediate||(window.setImmediate=(function(){return window.msSetImmediate||window.webkitSetImmediate||window.mozSetImmediate||window.oSetImmediate||(function(){if(!window.postMessage||!window.addEventListener)return null;var t=[void 0],n=`zero-timeout-message`,r=function(r){var a=t.length;return t.push(r),window.postMessage(n+a.toString(36),`*`),a};return window.addEventListener(`message`,function(r){if(!(typeof r.data!=`string`||r.data.substr(0,n.length)!==n)){r.stopImmediatePropagation();var a=parseInt(r.data.substr(n.length),36);t[a]&&(t[a](),t[a]=void 0)}},!0),window.clearImmediate=function(n){t[n]&&(t[n]=void 0)},r})()||function(t){window.setTimeout(t,0)}})()),window.clearImmediate||(window.clearImmediate=(function(){return window.msClearImmediate||window.webkitClearImmediate||window.mozClearImmediate||window.oClearImmediate||function(t){window.clearTimeout(t)}})());var isSupported=(function(){var t=document.createElement(`canvas`);if(!t||!t.getContext)return!1;var n=t.getContext(`2d`);return!(!n||!n.getImageData||!n.fillText||!Array.prototype.some||!Array.prototype.push)})(),minFontSize=(function(){if(isSupported){for(var t=document.createElement(`canvas`).getContext(`2d`),n=20,r,a;n;){if(t.font=n.toString(10)+`px sans-serif`,t.measureText(``).width===r&&t.measureText(`m`).width===a)return n+1;r=t.measureText(``).width,a=t.measureText(`m`).width,n--}return 0}})(),getItemExtraData=function(t){if(Array.isArray(t)){var n=t.slice();return n.splice(0,2),n}else return[]},shuffleArray=function(t){for(var n,r,a=t.length;a;)n=Math.floor(Math.random()*a),r=t[--a],t[a]=t[n],t[n]=r;return t},timer={},WordCloud=function(t,n){if(!isSupported)return;var r=Math.floor(Math.random()*Date.now());Array.isArray(t)||(t=[t]),t.forEach(function(n,r){if(typeof n==`string`){if(t[r]=document.getElementById(n),!t[r])throw Error(`The element id specified is not found.`)}else if(!n.tagName&&!n.appendChild)throw Error(`You must pass valid HTML elements, or ID of the element.`)});var a={list:[],fontFamily:`"Trebuchet MS", "Heiti TC", "", "Arial Unicode MS", "Droid Fallback Sans", sans-serif`,fontWeight:`normal`,color:`random-dark`,minSize:0,weightFactor:1,clearCanvas:!0,backgroundColor:`#fff`,gridSize:8,drawOutOfBound:!1,shrinkToFit:!1,origin:null,drawMask:!1,maskColor:`rgba(255,0,0,0.3)`,maskGapWidth:.3,layoutAnimation:!0,wait:0,abortThreshold:0,abort:function(){},minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationStep:.1,shuffle:!0,rotateRatio:.1,shape:`circle`,ellipticity:.65,classes:null,hover:null,click:null};if(n)for(var o in n)o in a&&(a[o]=n[o]);if(typeof a.weightFactor!=`function`){var s=a.weightFactor;a.weightFactor=function(t){return t*s}}if(typeof a.shape!=`function`)switch(a.shape){case`circle`:default:a.shape=`circle`;break;case`cardioid`:a.shape=function(t){return 1-Math.sin(t)};break;case`diamond`:a.shape=function(t){var n=t%(2*Math.PI/4);return 1/(Math.cos(n)+Math.sin(n))};break;case`square`:a.shape=function(t){return Math.min(1/Math.abs(Math.cos(t)),1/Math.abs(Math.sin(t)))};break;case`triangle-forward`:a.shape=function(t){var n=t%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case`triangle`:case`triangle-upright`:a.shape=function(t){var n=(t+Math.PI*3/2)%(2*Math.PI/3);return 1/(Math.cos(n)+Math.sqrt(3)*Math.sin(n))};break;case`pentagon`:a.shape=function(t){var n=(t+.955)%(2*Math.PI/5);return 1/(Math.cos(n)+.726543*Math.sin(n))};break;case`star`:a.shape=function(t){var n=(t+.955)%(2*Math.PI/10);return(t+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-n)+3.07768*Math.sin(2*Math.PI/10-n)):1/(Math.cos(n)+3.07768*Math.sin(n))};break}a.gridSize=Math.max(Math.floor(a.gridSize),4);var c=a.gridSize,l=c-a.maskGapWidth,u=Math.abs(a.maxRotation-a.minRotation),d=Math.min(a.maxRotation,a.minRotation),f=a.rotationStep,p,g,_,v,y,b,x;function S(t,n){return`hsl(`+(Math.random()*360).toFixed()+`,`+(Math.random()*30+70).toFixed()+`%,`+(Math.random()*(n-t)+t).toFixed()+`%)`}switch(a.color){case`random-dark`:x=function(){return S(10,50)};break;case`random-light`:x=function(){return S(50,90)};break;default:typeof a.color==`function`&&(x=a.color);break}var C;typeof a.fontWeight==`function`&&(C=a.fontWeight);var w=null;typeof a.classes==`function`&&(w=a.classes);var T=!1,E=[],D,O=function(t){var n=t.currentTarget,r=n.getBoundingClientRect(),a,o;t.touches?(a=t.touches[0].clientX,o=t.touches[0].clientY):(a=t.clientX,o=t.clientY);var s=a-r.left,l=o-r.top,u=Math.floor(s*(n.width/r.width||1)/c),d=Math.floor(l*(n.height/r.height||1)/c);return E[u]?E[u][d]:null},A=function(t){var n=O(t);if(D!==n){if(D=n,!n){a.hover(void 0,void 0,t);return}a.hover(n.item,n.dimension,t)}},j=function(t){var n=O(t);n&&(a.click(n.item,n.dimension,t),t.preventDefault())},M=[],N=function(t){if(M[t])return M[t];var n=t*8,r=n,o=[];for(t===0&&o.push([v[0],v[1],0]);r--;){var s=1;a.shape!==`circle`&&(s=a.shape(r/n*2*Math.PI)),o.push([v[0]+t*s*Math.cos(-r/n*2*Math.PI),v[1]+t*s*Math.sin(-r/n*2*Math.PI)*a.ellipticity,r/n*2*Math.PI])}return M[t]=o,o},P=function(){return a.abortThreshold>0&&new Date().getTime()-b>a.abortThreshold},F=function(){return a.rotateRatio===0||Math.random()>a.rotateRatio?0:u===0?d:d+Math.round(Math.random()*u/f)*f},I=function(t,n,r,o){var s=!1,l=a.weightFactor(n);if(l<=a.minSize)return!1;var u=1;l<minFontSize&&(u=(function(){for(var t=2;t*l<minFontSize;)t+=2;return t})());var d=C?C(t,n,l,o):a.fontWeight,f=document.createElement(`canvas`),p=f.getContext(`2d`,{willReadFrequently:!0});p.font=d+` `+(l*u).toString(10)+`px `+a.fontFamily;var g=p.measureText(t).width/u,_=Math.max(l*u,p.measureText(`m`).width,p.measureText(``).width)/u,v=g+_*2,y=_*3,b=Math.ceil(v/c),x=Math.ceil(y/c);v=b*c,y=x*c;var S=-g/2,w=-_*.4,T=Math.ceil((v*Math.abs(Math.sin(r))+y*Math.abs(Math.cos(r)))/c),E=Math.ceil((v*Math.abs(Math.cos(r))+y*Math.abs(Math.sin(r)))/c),D=E*c,O=T*c;f.setAttribute(`width`,D),f.setAttribute(`height`,O),s&&(document.body.appendChild(f),p.save()),p.scale(1/u,1/u),p.translate(D*u/2,O*u/2),p.rotate(-r),p.font=d+` `+(l*u).toString(10)+`px `+a.fontFamily,p.fillStyle=`#000`,p.textBaseline=`middle`,p.fillText(t,S*u,(w+l*.5)*u);var A=p.getImageData(0,0,D,O).data;if(P())return!1;s&&(p.strokeRect(S*u,w,g*u,_*u),p.restore());for(var j=[],M=E,N,F,I,L=[T/2,E/2,T/2,E/2];M--;)for(N=T;N--;){I=c;singleGridLoop:for(;I--;)for(F=c;F--;)if(A[((N*c+I)*D+(M*c+F))*4+3]){j.push([M,N]),M<L[3]&&(L[3]=M),M>L[1]&&(L[1]=M),N<L[0]&&(L[0]=N),N>L[2]&&(L[2]=N),s&&(p.fillStyle=`rgba(255, 0, 0, 0.5)`,p.fillRect(M*c,N*c,c-.5,c-.5));break singleGridLoop}s&&(p.fillStyle=`rgba(0, 0, 255, 0.5)`,p.fillRect(M*c,N*c,c-.5,c-.5))}return s&&(p.fillStyle=`rgba(0, 255, 0, 0.5)`,p.fillRect(L[3]*c,L[0]*c,(L[1]-L[3]+1)*c,(L[2]-L[0]+1)*c)),{mu:u,occupied:j,bounds:L,gw:E,gh:T,fillTextOffsetX:S,fillTextOffsetY:w,fillTextWidth:g,fillTextHeight:_,fontSize:l}},L=function(t,n,r,o,s){for(var c=s.length;c--;){var l=t+s[c][0],u=n+s[c][1];if(l>=g||u>=_||l<0||u<0){if(!a.drawOutOfBound)return!1;continue}if(!p[l][u])return!1}return!0},R=function(n,r,o,s,l,u,d,f,p,g){var _=o.fontSize,v=x?x(s,l,_,u,d,g):a.color,y=C?C(s,l,_,g):a.fontWeight,b=w?w(s,l,_,g):a.classes;t.forEach(function(t){if(t.getContext){var l=t.getContext(`2d`),u=o.mu;l.save(),l.scale(1/u,1/u),l.font=y+` `+(_*u).toString(10)+`px `+a.fontFamily,l.fillStyle=v,l.translate((n+o.gw/2)*c*u,(r+o.gh/2)*c*u),f!==0&&l.rotate(-f),l.textBaseline=`middle`,l.fillText(s,o.fillTextOffsetX*u,(o.fillTextOffsetY+_*.5)*u),l.restore()}else{var d=document.createElement(`span`),g=``;g=`rotate(`+-f/Math.PI*180+`deg) `,o.mu!==1&&(g+=`translateX(-`+o.fillTextWidth/4+`px) scale(`+1/o.mu+`)`);var x={position:`absolute`,display:`block`,font:y+` `+_*o.mu+`px `+a.fontFamily,left:(n+o.gw/2)*c+o.fillTextOffsetX+`px`,top:(r+o.gh/2)*c+o.fillTextOffsetY+`px`,width:o.fillTextWidth+`px`,height:o.fillTextHeight+`px`,lineHeight:_+`px`,whiteSpace:`nowrap`,transform:g,webkitTransform:g,msTransform:g,transformOrigin:`50% 40%`,webkitTransformOrigin:`50% 40%`,msTransformOrigin:`50% 40%`};for(var S in v&&(x.color=v),d.textContent=s,x)d.style[S]=x[S];if(p)for(var C in p)d.setAttribute(C,p[C]);b&&(d.className+=b),t.appendChild(d)}})},z=function(n,r,a,o,s){n>=g||r>=_||n<0||r<0||(p[n][r]=!1,a&&t[0].getContext(`2d`).fillRect(n*c,r*c,l,l),T&&(E[n][r]={item:s,dimension:o}))},B=function(n,r,o,s,l,u){var d=l.occupied,f=a.drawMask,p;f&&(p=t[0].getContext(`2d`),p.save(),p.fillStyle=a.maskColor);var v;if(T){var y=l.bounds;v={x:(n+y[3])*c,y:(r+y[0])*c,w:(y[1]-y[3]+1)*c,h:(y[2]-y[0]+1)*c}}for(var b=d.length;b--;){var x=n+d[b][0],S=r+d[b][1];x>=g||S>=_||x<0||S<0||z(x,S,f,v,u)}f&&p.restore()},V=function t(n,r){if(r>20)return null;var o,s,c;Array.isArray(n)?(o=n[0],s=n[1]):(o=n.word,s=n.weight,c=n.attributes);var l=F(),u=getItemExtraData(n),d=I(o,s,l,u);if(!d||P())return!1;if(!a.drawOutOfBound&&!a.shrinkToFit){var f=d.bounds;if(f[1]-f[3]+1>g||f[2]-f[0]+1>_)return!1}for(var p=y+1,v=function(t){var r=Math.floor(t[0]-d.gw/2),a=Math.floor(t[1]-d.gh/2),f=d.gw,g=d.gh;return L(r,a,f,g,d.occupied)?(R(r,a,d,o,s,y-p,t[2],l,c,u),B(r,a,f,g,d,n),{gx:r,gy:a,rot:l,info:d}):!1};p--;){var b=N(y-p);a.shuffle&&(b=[].concat(b),shuffleArray(b));for(var x=0;x<b.length;x++){var S=v(b[x]);if(S)return S}}return a.shrinkToFit?(Array.isArray(n)?n[1]=n[1]*3/4:n.weight=n.weight*3/4,t(n,r+1)):null},H=function(n,r,a){if(r)return!t.some(function(t){var r=new CustomEvent(n,{detail:a||{}});return!t.dispatchEvent(r)},this);t.forEach(function(t){var r=new CustomEvent(n,{detail:a||{}});t.dispatchEvent(r)},this)};(function(){var n=t[0];if(n.getContext)g=Math.ceil(n.width/c),_=Math.ceil(n.height/c);else{var o=n.getBoundingClientRect();g=Math.ceil(o.width/c),_=Math.ceil(o.height/c)}if(H(`wordcloudstart`,!0)){v=a.origin?[a.origin[0]/c,a.origin[1]/c]:[g/2,_/2],y=Math.floor(Math.sqrt(g*g+_*_)),p=[];var s,l,u;if(!n.getContext||a.clearCanvas)for(t.forEach(function(t){if(t.getContext){var n=t.getContext(`2d`);n.fillStyle=a.backgroundColor,n.clearRect(0,0,g*(c+1),_*(c+1)),n.fillRect(0,0,g*(c+1),_*(c+1))}else t.textContent=``,t.style.backgroundColor=a.backgroundColor,t.style.position=`relative`}),s=g;s--;)for(p[s]=[],l=_;l--;)p[s][l]=!0;else{var d=document.createElement(`canvas`).getContext(`2d`);d.fillStyle=a.backgroundColor,d.fillRect(0,0,1,1);var f=d.getImageData(0,0,1,1).data,x=n.getContext(`2d`).getImageData(0,0,g*c,_*c).data;s=g;for(var S,C;s--;)for(p[s]=[],l=_;l--;){C=c;singleGridLoop:for(;C--;)for(S=c;S--;)for(u=4;u--;)if(x[((l*c+C)*g*c+(s*c+S))*4+u]!==f[u]){p[s][l]=!1;break singleGridLoop}p[s][l]!==!1&&(p[s][l]=!0)}x=d=f=void 0}if(a.hover||a.click){for(T=!0,s=g+1;s--;)E[s]=[];a.hover&&n.addEventListener(`mousemove`,A),a.click&&(n.addEventListener(`click`,j),n.addEventListener(`touchstart`,j),n.addEventListener(`touchend`,function(t){t.preventDefault()}),n.style.webkitTapHighlightColor=`rgba(0, 0, 0, 0)`),n.addEventListener(`wordcloudstart`,function t(){n.removeEventListener(`wordcloudstart`,t),n.removeEventListener(`mousemove`,A),n.removeEventListener(`click`,j),D=void 0})}u=0;var w,O,M=!0;a.layoutAnimation?a.wait===0?(w=window.setImmediate,O=window.clearImmediate):(w=window.setTimeout,O=window.clearTimeout):(w=function(t){t()},O=function(){M=!1});var N=function(n,r){t.forEach(function(t){t.addEventListener(n,r)},this)},F=function(n,r){t.forEach(function(t){t.removeEventListener(n,r)},this)},I=function t(){F(`wordcloudstart`,t),O(timer[r])};N(`wordcloudstart`,I),timer[r]=(a.layoutAnimation?w:setTimeout)(function t(){if(M){if(u>=a.list.length){O(timer[r]),H(`wordcloudstop`,!1),F(`wordcloudstart`,I),delete timer[r];return}b=new Date().getTime();var n=V(a.list[u],0),o=!H(`wordclouddrawn`,!0,{item:a.list[u],drawn:n});if(P()||o){O(timer[r]),a.abort(),H(`wordcloudabort`,!1),H(`wordcloudstop`,!1),F(`wordcloudstart`,I);return}u++,timer[r]=w(t,a.wait)}},a.wait)}})()};WordCloud.isSupported=isSupported,WordCloud.minFontSize=minFontSize;var layout_default=WordCloud;if(!layout_default.isSupported)throw Error(`Sorry your browser not support wordCloud`);function updateCanvasMask(t){for(var n=t.getContext(`2d`),r=n.getImageData(0,0,t.width,t.height),a=n.createImageData(r),o=0,s=0,c=0;c<r.data.length;c+=4){var l=r.data[c+3];if(l>128){var u=r.data[c]+r.data[c+1]+r.data[c+2];o+=u,++s}}for(var d=o/s,c=0;c<r.data.length;c+=4){var u=r.data[c]+r.data[c+1]+r.data[c+2],l=r.data[c+3];l<128||u>d?(a.data[c]=0,a.data[c+1]=0,a.data[c+2]=0,a.data[c+3]=0):(a.data[c]=255,a.data[c+1]=255,a.data[c+2]=255,a.data[c+3]=255)}n.putImageData(a,0,0)}registerLayout(function(t,n){t.eachSeriesByType(`wordCloud`,function(r){var a=getLayoutRect(r.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),o=r.get(`keepAspect`),s=r.get(`maskImage`),c=s?s.width/s.height:1;o&&adjustRectAspect(a,c);var l=r.getData(),u=document.createElement(`canvas`);u.width=a.width,u.height=a.height;var d=u.getContext(`2d`);if(s)try{d.drawImage(s,0,0,u.width,u.height),updateCanvasMask(u)}catch{}var f=r.get(`sizeRange`),p=r.get(`rotationRange`),g=l.getDataExtent(`value`),_=Math.PI/180,v=r.get(`gridSize`);layout_default(u,{list:l.mapArray(`value`,function(t,n){var r=l.getItemModel(n);return[l.getName(n),r.get(`textStyle.fontSize`,!0)||linearMap$2(t,g,f),n]}).sort(function(t,n){return n[1]-t[1]}),fontFamily:r.get(`textStyle.fontFamily`)||r.get(`emphasis.textStyle.fontFamily`)||t.get(`textStyle.fontFamily`),fontWeight:r.get(`textStyle.fontWeight`)||r.get(`emphasis.textStyle.fontWeight`)||t.get(`textStyle.fontWeight`),gridSize:v,ellipticity:a.height/a.width,minRotation:p[0]*_,maxRotation:p[1]*_,clearCanvas:!s,rotateRatio:1,rotationStep:r.get(`rotationStep`)*_,drawOutOfBound:r.get(`drawOutOfBound`),shrinkToFit:r.get(`shrinkToFit`),layoutAnimation:r.get(`layoutAnimation`),shuffle:!1,shape:r.get(`shape`)});function y(t){var n=t.detail.item;t.detail.drawn&&r.layoutInstance.ondraw&&(t.detail.drawn.gx+=a.x/v,t.detail.drawn.gy+=a.y/v,r.layoutInstance.ondraw(n[0],n[1],n[2],t.detail.drawn))}u.addEventListener(`wordclouddrawn`,y),r.layoutInstance&&r.layoutInstance.dispose(),r.layoutInstance={ondraw:null,dispose:function(){u.removeEventListener(`wordclouddrawn`,y),u.addEventListener(`wordclouddrawn`,function(t){t.preventDefault()})}}})}),registerPreprocessor(function(t){var n=(t||{}).series;!isArray$1(n)&&(n=n?[n]:[]);var r=[`shadowColor`,`shadowBlur`,`shadowOffsetX`,`shadowOffsetY`];each$15(n,function(t){if(t&&t.type===`wordCloud`){var n=t.textStyle||{};a(n.normal),a(n.emphasis)}});function a(t){t&&each$15(r,function(n){t.hasOwnProperty(n)&&(t[`text`+capitalFirst(n)]=t[n])})}});function adjustRectAspect(t,n){var r=t.width,a=t.height;r>a*n?(t.x+=(r-a*n)/2,t.width=a*n):(t.y+=(a-r/n)/2,t.height=r/n)}var _hoisted_1$1={id:`charts-content`},wordCloud_default=_plugin_vue_export_helper_default(defineComponent({__name:`wordCloud`,props:{options:{}},setup(t){let n=(t,r)=>{for(let a in r)r[a]instanceof Object&&a in t&&t[a]instanceof Object&&Object.assign(r[a],n(t[a],r[a]));return{...t,...r}},r=[{type:`wordCloud`,shape:`circle`,keepAspect:!1,left:`center`,top:`center`,width:`100%`,height:`100%`,right:null,bottom:null,sizeRange:[12,60],rotationRange:[-90,90],rotationStep:45,gridSize:8,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:`sans-serif`,fontWeight:`bold`,color:function(){return`rgb(`+[Math.round(Math.random()*160),Math.round(Math.random()*160),Math.round(Math.random()*160)].join(`,`)+`)`}},emphasis:{focus:`self`,textStyle:{textShadowBlur:10,textShadowColor:`#999`}},data:[]}],a=t.options.series,o=n(r[0],a[0]);function c(){init$1(document.getElementById(`charts-content`)).setOption({series:o})}return onMounted(()=>{c()}),(t,n)=>(openBlock(),createElementBlock(`div`,_hoisted_1$1))}}),[[`__scopeId`,`data-v-1a772672`]]),_hoisted_1={class:`flex h-full w-full gap-5 p-5`},_hoisted_2={class:`border-gary-border relative h-[500px] w-[500px] border`},_hoisted_3={class:`border-gary-border relative h-[500px] w-[500px] border`},image=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAAPDElEQVR4AeydCbAcVRmFg4oRhIgYIxEDiEAURAEBEUWJIIiiYIQoS1wQFJBFTFwQFbCUQgXEIMXiHkCKJbJYuBBFFlEIi5IS2SQUIgVKgaKCqGXpdybpl5l5/Wbt7ul773n1n7ndPd237//1nNd799Mm+c8ETGBCAjbIhGj8hQlMmmSD+FdgAh0I2CAd4PgrE7BB/BswgQ4ESjRIh7n6KxMIhIANEsiCcjNHQ8AGGQ13zzUQAjZIIAvKzRwNARtkNNw910AIhGmQQOC6meETsEHCX4bOoEQCNkiJcF11+ARskPCXoTMokYANUiJcVx0+ARukbRm61wSaCdggzTTcbQJtBGyQNiDuNYFmAjZIMw13m0AbARukDYh7TaCZgA3STKPcbtceIAEbJMCF5iZXR8AGqY615xQgARskwIXmJldHwAapjrXnFCABGyTAhTa+yR5SFgEbpCyyrjcKAjZIFIvRSZRFwAYpi6zrjYKADRLFYnQSZRGwQcoiG0u9iedhgxT/A5hClS9G26A3o/3QEeh49DV0ProSXY6+i05FxyGNM5dyd7Q1mowcIyZggwy/ADamioPRRegx9DhahpagH6Fz0VfRZ9GH0bvRm9Db0HvQkehYpHEWUv4A3YSeQnci1fsZyj3RhshRIQEbpH/YL2CSfdGZ6A50NzoD7YWei4qMmVSmej9HeQm6F/0JyUw7UDpKJmCD9AZYm0z6L38Voz+IzkMfQi9FVcc0ZqjNsWsp70NfRlojUTiKJmCDdCa6FV/rv/WvKbWfMIvy6agusQENmY+0T6M1mdY069MfRITQSBskfyntzOBz0C1I/62fQ1n30L6Q9lXU5i/RWG2eUTiGIWCDtNKbQ+8VaDHaH4UYz6PRH0O3ogXolcgxIAEbZDm491H8Cl2A3oJiiNVJ4nAko+jwsvaj6HX0QyB1g2gnWzvc3wbadijG0DLW4eXrSW4ecvRBQPD6GD2qUfXf9Roy0iFbiuhjOhmehGSU2ZQxR2G5pWgQneG+DILaPtchUzqTiu3JdhHSmvMVlI4OBFIzyNGw0Frj7ZSph9acPwGCSgpHHoFUDLIpyesk3wmUqyHHcgLrUGhNIi50OtoJpGAQmeNCEtdJPgpHDgGtWXXxZM5XaQ+K3SAyh85rbJb2Yu4pe108qYssexo5lZHGGySezGWOG0lHl2NQOHogoHMluoq4h1HTGCVWg8gct7MI10CO/gjoPhRdNdzfVJGOHaNBMnNEusgqSUv3nVxXyZxqPpPYDKKz4Vpz1Bx7EM17Ha3UwQ2KdCMmg6zLYtT1VBSOggjsTT1Jm6RSgwC7zFhaZuUJ1y2TnJ5q/rEYRDcMrZ3qQqwg70OZxwEouYjBIDoL7FtOy//pnsgskru3JHSD6BE5OgvMsnOUTOD51C+TUKQTIRtETxA5JZ1FVYtM9Zyvz9eiJRU1ImSDaMdR92ELlVUdgWOYlXbcKeKPUA2iR+7sE//iqW2GOvT76tq2rsCGhWiQVclfTzKkcIyQwA3MO/ojhyEaRObYgoXjGD2BR2mCnj1MEWeEZpBnsxgOQY76ENCzhy+mOVE+CjU0g2jt8TIWRoXhWfVA4J2Mo0ehat/kKLo3QVFESAbRYV2vPer9s9PRLR16v4tmPoR+iHQiV8M3oju4CMkgWnu8JDjC6TZY97vvRvo6kas1yz10P4LORnqVw1qUtY9QDKJXDnjtUfufU9cGTmWMg5Be5fDwivIwyhehWkYoBtHaY0YtCbpRgxLQnYtak5xGBXpRkHb2tSn2TPprE6EYRE9brw20whriijICOjqpw8XaFNNLifQaB90fn30/sjIEg+iole5uGxkkz7hSArrdV69x0EO3T2bOI30iTQgG8dqDX0mCoZ34j5K3Xl6k193JOPRWGzZItbw9t/4J6NIiXXunR8Z+sP/Jh5ui7gbR0audhkvRU0dCQEe6ziIX7adsTllJ1N0g2rzSDlwlMGKaScS56EiX1iY6Y196mnU3iNcepf8EgpyBrqrQGXs9VvY1ZWZQZ4No21NrkDLzd91hE9Dr8q4mBR31oig+6mwQPYjBJweLX+ax1agTizpvUsrT6etsEL/kJrafcrn56On0S4qeRV0NoveS2yBFL+1i6qtzLXq93v1FNrCuBtFDyqYXmajrSobAemT6L1RI1NEgOirxhUKycyWpEtB+yf+KSL6OBtFzl/wewSKWrusY2iR1M8jXWaZvRA4TKIrAUCapk0G+CJEDkSNZAqUl/vigNdfBIDvS+EXo48hhAmUQmEKlP0Z9xygN8ipaq02qn1PORg4TKJPArlSuy1Moeo9RGETG0FWZN9NMb1IBwVEZAV3gqLPuPc+wSoM0G6Py6/p7JuIRYyeg67b02oye8qzCIHpMaLbGsDF6WiweqXACrRXKJM9qHZTfV7ZBtOOta/dtjHz+HjoaAtsyW5mEonOUZRAdmVrMrHXoVkcQ6HSYQK0IfIrWzEIdo2iDrM7cdJmIjkz5Xg5gOGpN4JPdWlekQfZgZtqckjPpdJhA7QnsQgv1UEKK/CjKIHOp/lK0NXKYQEgE5tNYPRyEYnz0YpDxU7UO0bNWF7YOcp8JBENAD0SXSXIbPKxBDqdWPa2bwmECwRKQQbbMa/0wBtFDhxfkVephJhAggffntXlQg1xJZXpsPYXDBKIgoLtYx70ZaxCDXAAOPXGEwmEC0RDQAwplkpaE+jXIV5h6DiooXI0J1IqANrPWbW5RPwaZx4QfQQ4TiJXANBLTS30olkevBtFEJy2fxJ8mEDUBnTwcS7AXg+hJ2jpiNTaRO0wgYgLav35hll8vBtFVj3r0fDaNSxOImYCeqDO2FulmEO206HHz4QFxi01gcAJaizSm7mSQdRjDFx4CwZEcgTdkGXcyiMyxUTaiSxNIiIAO9W6vfCcyyG58qeusKBwmkCSBxpuVJzLI0UkicdImsJLADurMM8g+fNH4ktKRQ8CDkiDQ8MBEBkmCgJM0gQ4E9I6aGe0G0asH9KaeDtP5KxNIhsAm7QbR5lUy2TtRE+hCoMUgOu9hg3Qh5q+TItBiEJljalLp1y9Zt6heBGY2b2LtVa+2uTUmMHICa2cGWYum6A2hFA4TMIEVBNbIDLIVA1ZFDhMwgZUE1swMkvvIk5XjucsEkiQwtgbR+Y8kCaSTtDMdgMCYQRpXLg5QgScxgZgJrKJNrA3JcDpymIAJtBJ4QgbZrHWY+0zABFYQaBjE95uvoOHCBNoIPKk1iO6eahvuXhPog0C8ozbWIDZIvAvYmQ1HoLEG8SbWcBA9dbwEHvAmVrwL15kNT2CpDTI8RNcQL4HbZJDJ8ebnzEInMOL2N9Ygfx9xIzx7E6gjgb/QqMY+yN/ocJiACbQSuE292sTyGkQkLBNoJXCjem0QUbBMYDyBGzRIBlmmDssEEiPQLd2xNcid3cb09yaQGIGl5PsQmqQ1iA0iEpYJrCSwJOuUQe7IelyagAk0CPy08cmHDOI1CCAcJrCCwO8pv48aIYOo41J9WCZgApMugcF/UCMyg1zR6Ov1w+OZQLwExtYeSjEzyDXqsUwgcQJXkX/j/AdlIzKD3ENfyxf0O0wgNQIXtSecGUTDvR8iClaqBLRzvrA9+WaDLOLLfyOHCaRIQOZ4sj3xZoPIQTJJ+ziV9ntmJjACAn9lnjIIRWs0G0Tf2CCiYKVG4BwSvh+NizyD3DJuLA8wgXgJ6HaPb02UXrtBNN7Z+rBMIBECJ5Dnb1BuTGQQr0VycXlgZASuJp8T0YSRZxCNHONaRHlZJtBMQGuP5v5x3Z0MIneNm8ADTCASAieTx2LUMSYyiCY6Xh+WCURI4BfkdCzqGp0MojWITdIVoUcIjIDOecyjzU+grtHJIJr4OD5kFAqHCURBQOYYu2OwW0bdDKLpP83HP5FjQgL+IhACp9DOCc958N246MUg1zPVJ5DDBEImoBuhtPboK4deDKIKT+PjO8hhAiESuJZGz0V9R68GUcVaizQex6geywQCIaDdg71pa0875YzXEv0Y5M9MeQD6A3KYQCgE9JJa/XYHam8/BtEMbuVjR6QnX1M4SifgGQxDYBYT34cGjn4NohlphhvQ8V/kMIG6EpA5hj5FMYhBBESvTHgGHQ8ghwnUiYC2bgoxh5Ia1CCaVlqPj67XszCOwwSqIHAXM9kDDb3moI5GDGsQVbILH+OeBsEwhwlUSeAyZvZWdB0qLIowiBozh48FyBEQgYiaqsvW9ySfe1GhUZRB1Kgj+XgX0mqOwmECpRN4mDnsh45BpUSRBlEDL+RjJ9TX9S6M7zCBfglczAS7ou+h0qJog6ihD/LxAbQ/uh05TKBIAjrNcCAV6uy4XnRDZ3lRhkGy1p5Hx+uR7tyicJjA0ATOoAb9pr5JWUmUaRAl8Bgf89HOSFdTUjgSIFB0itp0351KD0V/RJVF2QbJEvkZHbPRa9GZ6B/IYQKdCOh5VaczwnZIB39G8oqOqgxCjo34JZ+HoC2Qbuf9LaXDBJoJaL9Vvw39Rg7ji8bbZilHElUbJEtSx6t1O+/mDHgHOhfpsmQKR6IEdLJZ59NeTv76bSyjHHmMyiDNieu1C7qZRZclH8wXOmxX6XYm83RUT+ARZnk50tpCy17mkEkYVJ+og0EyGjp8dxY9OvEzg3JLdBQ6H92NHGET0NuU9QT1g0hDm0/TKHXdlNYWv6O7x6h2tDoZpD1zPS/1VAbui2aiKUhXaeqomG4B1n8bXXej1zZ4px84I4qnmO+jSDfS6Yd+E926WFCXHul8xTb0T0aboveib6Bg7kyts0Hg2BI6qiHwOq9yBN9olaxj4hvTvSZaxZo0CgarwX0qWh9pU2lbSv0j06VHOl9xM/3BvpgpJIPA2WEC1RKwQarl7bkFRsAGCWyBubklEsip2gbJgeJBJpARsEEyEi5NIIeADZIDxYNMICNgg2QkXJpADgEbJAeKB5lARqAog2T1uTSBqAjYIFEtTidTNAEbpGiiri8qAjZIVIvTyRRNwAYpmqjri4pAAAaJireTCYyADRLYAnNzqyVgg1TL23MLjIANEtgCc3OrJWCDVMvbcwuMQNoGCWxhubnVE7BBqmfuOQZEwAYJaGG5qdUTsEGqZ+45BkTABgloYbmp1ROwQUpi7mrjIPB/AAAA//8NfaNxAAAABklEQVQDAC45caA9x4YjAAAAAElFTkSuQmCC`,echarts_default=defineComponent({__name:`index`,setup(t){use([install$18,install$42,install$27,install,install$40]);let n=[`#EDE7F6`,`#B2DFDB`,`#E6EE9C`,`#FFCC80`,`#FFCCBC`,`#CE93D8`,`#EF9A9A`,`#F48FB1`],r={title:{text:``,left:`center`},tooltip:{trigger:`item`,formatter:`{b}<br/>: {c}`},series:[{name:``,type:`map`,map:`yaan`,roam:!0,emphasis:{label:{show:!0}},label:{show:!0,color:`#000`,fontSize:12},data:[{name:``,value:10,itemStyle:{areaColor:n[0]}},{name:``,value:300,itemStyle:{areaColor:n[1]}},{name:``,value:400,itemStyle:{areaColor:n[2]}},{name:``,value:200,itemStyle:{areaColor:n[3]}},{name:``,value:1e3,itemStyle:{areaColor:n[4]}},{name:``,value:0,itemStyle:{areaColor:n[5]}},{name:``,value:400,itemStyle:{areaColor:n[6]}},{name:``,value:500,itemStyle:{areaColor:n[7]}}]}]},a={visualMap:{min:0,max:1e3,calculable:!0,left:`5%`,bottom:`5%`,text:[``,``]}},o=ref(),c=ref({...r}),l=ref(!1),u=new Image;u.src=image;let d=reactive({chartOptions:{series:[{gridSize:20,sizeRange:[10,80],rotationRange:[0,0],rotationStep:45,shape:`circle`,drawOutOfBound:!1,layoutAnimation:!0,left:`center`,top:`center`,textStyle:{fontFamily:`sans-serif`,color:function(){return`rgb(`+[Math.round(Math.random()*160),Math.round(Math.random()*160),Math.round(Math.random()*160)].join(`,`)+`)`}},emphasis:{focus:`self`},maskImage:u,data:[{name:``,value:1e3},{name:``,value:850},{name:``,value:800},{name:``,value:600},{name:``,value:900},{name:``,value:600},{name:``,value:800},{name:``,value:400},{name:``,value:850},{name:``,value:200},{name:``,value:8e3},{name:``,value:1500},{name:``,value:1500},{name:``,value:800},{name:``,value:200},{name:``,value:100},{name:``,value:250},{name:``,value:1200},{name:``,value:300},{name:``,value:900},{name:``,value:700},{name:``,value:550},{name:``,value:750},{name:``,value:1100},{name:``,value:300},{name:``,value:950},{name:``,value:1200},{name:``,value:1300},{name:``,value:600},{name:``,value:850},{name:``,value:500},{name:``,value:300},{name:``,value:150},{name:``,value:1100},{name:``,value:350},{name:``,value:250},{name:``,value:900},{name:``,value:400},{name:``,value:700},{name:``,value:800},{name:``,value:600},{name:``,value:750},{name:``,value:1200},{name:``,value:850},{name:``,value:950},{name:``,value:1e3},{name:``,value:320},{name:``,value:1800},{name:``,value:130},{name:``,value:1e3}]}]}});watchEffect(()=>{c.value=l.value?{...r,...a}:{...r}});let f=()=>{registerMap$1(`yaan`,yaan_default),nextTick(()=>{o.value&&o.value.chart.on(`click`,t=>{})})};return onMounted(()=>{f()}),(t,n)=>{let r=ElSwitch;return openBlock(),createElementBlock(`div`,_hoisted_1,[createBaseVNode(`div`,_hoisted_2,[createVNode$1(unref(ECharts),{ref_key:`mapChart`,ref:o,option:c.value,autoresize:``},null,8,[`option`]),createVNode$1(r,{class:`!absolute right-20 bottom-20 z-10`,modelValue:l.value,"onUpdate:modelValue":n[0]||=t=>l.value=t},null,8,[`modelValue`])]),createBaseVNode(`div`,_hoisted_3,[createVNode$1(wordCloud_default,{options:d.chartOptions},null,8,[`options`])])])}}});export{echarts_default as default};