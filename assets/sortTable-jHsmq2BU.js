import{C as ElTableColumn,Fn as openBlock,Jn as withCtx,Mr as toDisplayString,Nn as onMounted,Pn as onUnmounted,Q as ElRadioGroup,Rr as __toESM,S as ElTable,Sn as createVNode,Vt as rank_default,X as ElTag,Z as ElRadioButton,en as ElIcon,er as ref,g as ElMessage,gn as createBaseVNode,i as nanoid,jn as nextTick,nn as _plugin_vue_export_helper_default,or as unref,qn as watchEffect,r as sortable_esm_default,wn as defineComponent,xn as createTextVNode,yn as createElementBlock}from"./index-CmCMrn0J.js";/* empty css            *//* empty css            *//* empty css            */import"./css-De1qXSl6.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            */const useDragTable=e=>{let t=ref(),n=ref(``),r=ref([]),i,o=()=>{if(!r.value||!t.value)return;ElMessage.warning(`初始化`);let n=e?.type&&e.type===`custom-table`?t.value:t.value.$el.querySelector(`.el-table__body-wrapper tbody`),i=e?.handle?e.handle:`.el-table__row`;return sortable_esm_default.create(n,{animation:100,handle:i,onEnd(e){let{oldIndex:t,newIndex:n}=e,i=r.value.splice(t,1)[0];r.value.splice(n,0,i),r.value.forEach(e=>{e.id||=nanoid(8)})}})};return watchEffect(()=>{n.value&&i&&i.destroy(),nextTick(()=>{i=o()})}),onUnmounted(()=>{i&&i.destroy()}),{dragWrapperRef:t,dragDataKey:n,dragData:r}};var _hoisted_1={class:`demo-card`},_hoisted_2={class:`demo-header`},_hoisted_3={class:`actions`},_hoisted_4={class:`table-wrapper`},_hoisted_5={class:`user-name`},sortTable_default=_plugin_vue_export_helper_default(defineComponent({__name:`sortTable`,setup(a){let{dragWrapperRef:s,dragDataKey:l,dragData:u}=useDragTable();ref([]);let d=ref([{name:`张三`,value:`1`},{name:`李四`,value:`2`},{name:`小帅`,value:`3`}]),f=ref([{name:`哪吒`,value:`3`},{name:`敖丙`,value:`4`},{name:`申公豹`,value:`6`}]),p=ref(`data1`),m=e=>{e===`data1`?h():_()},h=()=>{l.value=`name`,u.value=d.value},_=()=>{l.value=`name`,u.value=f.value};return onMounted(()=>{h()}),(i,a)=>{let c=ElRadioButton,l=ElRadioGroup,d=ElIcon,f=ElTableColumn,h=ElTag,g=ElTable;return openBlock(),createElementBlock(`div`,_hoisted_1,[createBaseVNode(`div`,_hoisted_2,[a[3]||=createBaseVNode(`div`,{class:`header-content`},[createBaseVNode(`h4`,{class:`title`},`交互式可拖拽表格`),createBaseVNode(`p`,{class:`desc`},`基于 SortableJS 实现，支持跨数据集切换并保持拖拽功能`)],-1),createBaseVNode(`div`,_hoisted_3,[createVNode(l,{modelValue:p.value,"onUpdate:modelValue":a[0]||=e=>p.value=e,onChange:m},{default:withCtx(()=>[createVNode(c,{label:`data1`},{default:withCtx(()=>a[1]||=[createTextVNode(`数据集 A`)]),_:1}),createVNode(c,{label:`data2`},{default:withCtx(()=>a[2]||=[createTextVNode(`数据集 B`)]),_:1})]),_:1},8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_4,[createVNode(g,{data:unref(u),ref_key:`dragWrapperRef`,ref:s,"row-key":`name`,border:``,stripe:``,"highlight-current-row":``},{default:withCtx(()=>[createVNode(f,{label:`排序`,width:`80`,align:`center`},{default:withCtx(()=>[createVNode(d,{class:`drag-handle`},{default:withCtx(()=>[createVNode(unref(rank_default))]),_:1})]),_:1}),createVNode(f,{label:`姓名`,prop:`name`},{default:withCtx(({row:e})=>[createBaseVNode(`span`,_hoisted_5,toDisplayString(e.name),1)]),_:1}),createVNode(f,{label:`权重/数量`,prop:`value`,align:`center`},{default:withCtx(({row:e})=>[createVNode(h,{type:e.value>3?`success`:`info`},{default:withCtx(()=>[createTextVNode(toDisplayString(e.value),1)]),_:2},1032,[`type`])]),_:1})]),_:1},8,[`data`])])])}}}),[[`__scopeId`,`data-v-7a99c773`]]);export{sortTable_default as default};