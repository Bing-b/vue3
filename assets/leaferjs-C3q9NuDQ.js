import{Dr as normalizeClass,Fn as openBlock,Jn as withCtx,Mr as toDisplayString,Nn as onMounted,Ot as info_filled_default,Pn as onUnmounted,Rr as __toESM,Sn as createVNode,_n as createBlock,b as ElTabPane,bn as createStaticVNode,en as ElIcon,er as ref,gn as createBaseVNode,nn as _plugin_vue_export_helper_default,nr as shallowRef,or as unref,tt as ElButton,vn as createCommentVNode,wn as defineComponent,x as ElTabs,xn as createTextVNode,yn as createElementBlock}from"./index-CmCMrn0J.js";/* empty css            */import"./css-De1qXSl6.js";/* empty css            */var t;(function(a){a[a.No=0]=`No`,a[a.Yes=1]=`Yes`,a[a.NoAndSkip=2]=`NoAndSkip`,a[a.YesAndSkip=3]=`YesAndSkip`})(t||={});var e={};function s(a){return a===void 0}function r(a){return a==null}function i(a){return typeof a==`string`}var{isFinite:n}=Number;function o(a){return typeof a==`number`}var{isArray:l}=Array;function d(a){return a&&typeof a==`object`}function c(a){return JSON.stringify(a)===`{}`}var _={default:(a,u)=>(p(u,a),p(a,u),a),assign(a,u,h){let Wn;Object.keys(u).forEach(ec=>{if(Wn=u[ec],Wn?.constructor===Object&&a[ec]?.constructor===Object)return p(a[ec],u[ec],h&&h[ec]);h&&ec in h?h[ec]?.constructor===Object&&p(a[ec]={},u[ec],h[ec]):a[ec]=u[ec]})},copyAttrs:(a,u,h)=>(h.forEach(h=>{s(u[h])||(a[h]=u[h])}),a),clone:a=>JSON.parse(JSON.stringify(a)),toMap(a){let u={};for(let h=0,Wn=a.length;h<Wn;h++)u[a[h]]=!0;return u},stintSet(a,u,h){h||=void 0,a[u]!==h&&(a[u]=h)}},{assign:p}=_,f=class{get __useNaturalRatio(){return!0}get __isLinePath(){let{path:a}=this;return a&&a.length===6&&a[0]===1}get __usePathBox(){return this.__pathInputed}get __blendMode(){if(this.eraser&&this.eraser!==`path`)return`destination-out`;let{blendMode:a}=this;return a===`pass-through`?null:a}constructor(a){this.__leaf=a}__get(a){if(this.__input){let u=this.__input[a];if(!s(u))return u}return this[a]}__getData(){let a={tag:this.__leaf.tag},{__input:u}=this,h;for(let Wn in this)Wn[0]!==`_`&&(h=u?u[Wn]:void 0,a[Wn]=s(h)?this[Wn]:h);return a}__setInput(a,u){this.__input||={},this.__input[a]=u}__getInput(a){if(this.__input){let u=this.__input[a];if(!s(u))return u}if(a!==`path`||this.__pathInputed)return this[`_`+a]}__removeInput(a){this.__input&&!s(this.__input[a])&&(this.__input[a]=void 0)}__getInputData(a,u){let h={};if(a)if(l(a))for(let u of a)h[u]=this.__getInput(u);else for(let u in a)h[u]=this.__getInput(u);else{let a,u,{__input:Wn}=this;for(let ec in h.tag=this.__leaf.tag,this)if(ec[0]!==`_`&&(a=this[`_`+ec],!s(a))){if(ec===`path`&&!this.__pathInputed)continue;u=Wn?Wn[ec]:void 0,h[ec]=s(u)?a:u}}if(u&&u.matrix){let{a,b:u,c:Wn,d:ec,e:tc,f:nc}=this.__leaf.__localMatrix;h.matrix={a,b:u,c:Wn,d:ec,e:tc,f:nc}}return h}__setMiddle(a,u){this.__middle||={},this.__middle[a]=u}__getMiddle(a){return this.__middle&&this.__middle[a]}__checkSingle(){let a=this;if(a.blendMode===`pass-through`){let u=this.__leaf;a.opacity<1&&(u.isBranch||a.__hasMultiPaint)||u.__hasEraser||a.eraser||a.filter?a.__single=!0:a.__single&&=!1}else a.__single=!0}__removeNaturalSize(){this.__naturalWidth=this.__naturalHeight=void 0}destroy(){this.__input=this.__middle=null}},{floor:g,max:y}=Math,m={toURL(a,u){let h=encodeURIComponent(a);return u===`text`?h=`data:text/plain;charset=utf-8,`+h:u===`svg`&&(h=`data:image/svg+xml,`+h),h},image:{hitCanvasSize:100,maxCacheSize:4096e3,maxPatternSize:8847360,crossOrigin:`anonymous`,isLarge:(a,u,h,Wn)=>a.width*a.height*(u?u*h:1)>(Wn||x.maxCacheSize),isSuperLarge:(a,u,h)=>x.isLarge(a,u,h,x.maxPatternSize),getRealURL(a){let{prefix:u,suffix:h}=m.image;return!h||a.startsWith(`data:`)||a.startsWith(`blob:`)||(a+=(a.includes(`?`)?`&`:`?`)+h),u&&a[0]===`/`&&(a=u+a),a},resize(a,u,h,Wn,ec,tc,nc,rc,ic){let ac=m.origin.createCanvas(y(g(u+(Wn||0)),1),y(g(h+(ec||0)),1)),oc=ac.getContext(`2d`);if(rc&&(oc.globalAlpha=rc),oc.imageSmoothingEnabled=!1!==nc,tc){let Wn=u/tc.width,ec=h/tc.height;oc.setTransform(Wn,0,0,ec,-tc.x*Wn,-tc.y*ec),oc.drawImage(a,0,0,a.width,a.height)}else oc.drawImage(a,0,0,u,h);return ac},setPatternTransform(a,u,h){try{u&&a.setTransform&&(a.setTransform(u),u=void 0)}catch{}h&&_.stintSet(h,`transform`,u)}}},{image:x}=m,w={RUNTIME:`runtime`,LEAF:`leaf`,TASK:`task`,CNAVAS:`canvas`,IMAGE:`image`,types:{},create(a){let{types:u}=b;return u[a]?u[a]++:(u[a]=1,0)}},b=w,B,v,k,{max:C}=Math,O=[0,0,0,0],T={zero:[...O],tempFour:O,set:(a,u,h,Wn,ec)=>(h===void 0&&(h=Wn=ec=u),a[0]=u,a[1]=h,a[2]=Wn,a[3]=ec,a),setTemp:(a,u,h,Wn)=>P(O,a,u,h,Wn),toTempAB(a,u,h){k=h?o(a)?u:a:[],o(a)?(B=R(a),v=u):o(u)?(B=a,v=R(u)):(B=a,v=u),B.length!==4&&(B=S(B)),v.length!==4&&(v=S(v))},get(a,u){let h;if(!o(a))switch(a.length){case 4:h=s(u)?a:[...a];break;case 2:h=[a[0],a[1],a[0],a[1]];break;case 3:h=[a[0],a[1],a[2],a[1]];break;case 1:a=a[0];break;default:a=0}if(h||=[a,a,a,a],!s(u))for(let a=0;a<4;a++)h[a]>u&&(h[a]=u);return h},max:(a,u,h)=>o(a)&&o(u)?C(a,u):(L(a,u,h),P(k,C(B[0],v[0]),C(B[1],v[1]),C(B[2],v[2]),C(B[3],v[3]))),add:(a,u,h)=>o(a)&&o(u)?a+u:(L(a,u,h),P(k,B[0]+v[0],B[1]+v[1],B[2]+v[2],B[3]+v[3])),swapAndScale(a,u,h,Wn){if(o(a))return u===h?a*u:[a*h,a*u];let ec=Wn?a:[],[tc,nc,rc,ic]=a.length===4?a:S(a);return P(ec,rc*h,ic*u,tc*h,nc*u)}},{set:P,get:S,setTemp:R,toTempAB:L}=T,{round:E,pow:I$1,max:M,floor:A,PI:W$1}=Math,N$1={within:(a,u,h)=>(d(u)&&(h=u.max,u=u.min),!s(u)&&a<u&&(a=u),!s(h)&&a>h&&(a=h),a),fourNumber:T.get,formatRotation:(a,u)=>(a%=360,u?a<0&&(a+=360):(a>180&&(a-=360),a<-180&&(a+=360)),N$1.float(a)),getGapRotation(a,u,h=0){let Wn=a+h;if(u>1){let a=Math.abs(Wn%u);(a<1||a>u-1)&&(Wn=Math.round(Wn/u)*u)}return Wn-h},float(a,u){let h=s(u)?0xe8d4a51000:I$1(10,u);return(a=E(a*h)/h)===-0?0:a},sign:a=>a<0?-1:1,getScaleData(a,u,h,Wn){if(Wn||={},u){let a=(o(u)?u:u.width||0)/h.width,ec=(o(u)?u:u.height||0)/h.height;Wn.scaleX=a||ec||1,Wn.scaleY=ec||a||1}else a&&N$1.assignScale(Wn,a);return Wn},assignScale(a,u){o(u)?a.scaleX=a.scaleY=u:(a.scaleX=u.x,a.scaleY=u.y)},getFloorScale:(a,u=1)=>M(A(a),u)/a,randInt:Y$1,randColor:a=>`rgba(${Y$1(255)},${Y$1(255)},${Y$1(255)},${a||1})`};function Y$1(a){return Math.round(Math.random()*a)}var D=W$1/180,X$1=2*W$1,z$1=W$1/2;function F$1(){return{x:0,y:0}}function U$1(){return{x:0,y:0,width:0,height:0}}function j$1(){return{a:1,b:0,c:0,d:1,e:0,f:0}}var{sin:H,cos:G$1,acos:V$1,sqrt:q$1}=Math,{float:Q$1}=N$1,J$2={};function Z$2(){return Object.assign(Object.assign(Object.assign({},{a:1,b:0,c:0,d:1,e:0,f:0}),{x:0,y:0,width:0,height:0}),{scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0})}var $$1={defaultMatrix:{a:1,b:0,c:0,d:1,e:0,f:0},defaultWorld:Z$2(),tempMatrix:{},set(a,u=1,h=0,Wn=0,ec=1,tc=0,nc=0){a.a=u,a.b=h,a.c=Wn,a.d=ec,a.e=tc,a.f=nc},get:j$1,getWorld:Z$2,copy(a,u){a.a=u.a,a.b=u.b,a.c=u.c,a.d=u.d,a.e=u.e,a.f=u.f},translate(a,u,h){a.e+=u,a.f+=h},translateInner(a,u,h,Wn){a.e+=a.a*u+a.c*h,a.f+=a.b*u+a.d*h,Wn&&(a.e-=u,a.f-=h)},scale(a,u,h=u){a.a*=u,a.b*=u,a.c*=h,a.d*=h},pixelScale(a,u,h){h||=a,h.a=a.a*u,h.b=a.b*u,h.c=a.c*u,h.d=a.d*u,h.e=a.e*u,h.f=a.f*u},scaleOfOuter(a,u,h,Wn){K$1.toInnerPoint(a,u,J$2),K$1.scaleOfInner(a,J$2,h,Wn)},scaleOfInner(a,u,h,Wn=h){K$1.translateInner(a,u.x,u.y),K$1.scale(a,h,Wn),K$1.translateInner(a,-u.x,-u.y)},rotate(a,u){let{a:h,b:Wn,c:ec,d:tc}=a,nc=G$1(u*=D),rc=H(u);a.a=h*nc-Wn*rc,a.b=h*rc+Wn*nc,a.c=ec*nc-tc*rc,a.d=ec*rc+tc*nc},rotateOfOuter(a,u,h){K$1.toInnerPoint(a,u,J$2),K$1.rotateOfInner(a,J$2,h)},rotateOfInner(a,u,h){K$1.translateInner(a,u.x,u.y),K$1.rotate(a,h),K$1.translateInner(a,-u.x,-u.y)},skew(a,u,h){let{a:Wn,b:ec,c:tc,d:nc}=a;h&&(h*=D,a.a=Wn+tc*h,a.b=ec+nc*h),u&&(u*=D,a.c=tc+Wn*u,a.d=nc+ec*u)},skewOfOuter(a,u,h,Wn){K$1.toInnerPoint(a,u,J$2),K$1.skewOfInner(a,J$2,h,Wn)},skewOfInner(a,u,h,Wn=0){K$1.translateInner(a,u.x,u.y),K$1.skew(a,h,Wn),K$1.translateInner(a,-u.x,-u.y)},multiply(a,u){let{a:h,b:Wn,c:ec,d:tc,e:nc,f:rc}=a;a.a=u.a*h+u.b*ec,a.b=u.a*Wn+u.b*tc,a.c=u.c*h+u.d*ec,a.d=u.c*Wn+u.d*tc,a.e=u.e*h+u.f*ec+nc,a.f=u.e*Wn+u.f*tc+rc},multiplyParent(a,u,h,Wn,ec){let{e:tc,f:nc}=a;if(h||=a,s(Wn)&&(Wn=a.a!==1||a.b||a.c||a.d!==1),Wn){let{a:Wn,b:tc,c:nc,d:rc}=a;h.a=Wn*u.a+tc*u.c,h.b=Wn*u.b+tc*u.d,h.c=nc*u.a+rc*u.c,h.d=nc*u.b+rc*u.d,ec&&(h.scaleX=u.scaleX*ec.scaleX,h.scaleY=u.scaleY*ec.scaleY)}else h.a=u.a,h.b=u.b,h.c=u.c,h.d=u.d,ec&&(h.scaleX=u.scaleX,h.scaleY=u.scaleY);h.e=tc*u.a+nc*u.c+u.e,h.f=tc*u.b+nc*u.d+u.f},divide(a,u){K$1.multiply(a,K$1.tempInvert(u))},divideParent(a,u){K$1.multiplyParent(a,K$1.tempInvert(u))},tempInvert(a){let{tempMatrix:u}=K$1;return K$1.copy(u,a),K$1.invert(u),u},invert(a){let{a:u,b:h,c:Wn,d:ec,e:tc,f:nc}=a;if(h||Wn){let rc=1/(u*ec-h*Wn);a.a=ec*rc,a.b=-h*rc,a.c=-Wn*rc,a.d=u*rc,a.e=-(tc*ec-nc*Wn)*rc,a.f=-(nc*u-tc*h)*rc}else if(u===1&&ec===1)a.e=-tc,a.f=-nc;else{let h=1/(u*ec);a.a=ec*h,a.d=u*h,a.e=-tc*ec*h,a.f=-nc*u*h}},toOuterPoint(a,u,h,Wn){let{x:ec,y:tc}=u;h||=u,h.x=ec*a.a+tc*a.c,h.y=ec*a.b+tc*a.d,Wn||(h.x+=a.e,h.y+=a.f)},toInnerPoint(a,u,h,Wn){let{a:ec,b:tc,c:nc,d:rc}=a,ic=1/(ec*rc-tc*nc),{x:ac,y:oc}=u;if(h||=u,h.x=(ac*rc-oc*nc)*ic,h.y=(oc*ec-ac*tc)*ic,!Wn){let{e:u,f:Wn}=a;h.x-=(u*rc-Wn*nc)*ic,h.y-=(Wn*ec-u*tc)*ic}},setLayout(a,u,h,Wn,ec){let{x:tc,y:nc,scaleX:rc,scaleY:ic}=u;if(s(ec)&&(ec=u.rotation||u.skewX||u.skewY),ec){let{rotation:h,skewX:Wn,skewY:ec}=u,tc=h*D,nc=G$1(tc),ac=H(tc);if(Wn||ec){let u=Wn*D,h=ec*D;a.a=(nc+h*-ac)*rc,a.b=(ac+h*nc)*rc,a.c=(u*nc-ac)*ic,a.d=(nc+u*ac)*ic}else a.a=nc*rc,a.b=ac*rc,a.c=-ac*ic,a.d=nc*ic}else a.a=rc,a.b=0,a.c=0,a.d=ic;a.e=tc,a.f=nc,(h||=Wn)&&K$1.translateInner(a,-h.x,-h.y,!Wn)},getLayout(a,u,h,Wn){let{a:ec,b:tc,c:nc,d:rc,e:ic,f:ac}=a,oc,sc,cc,lc,uc,dc=ic,fc=ac;if(tc||nc){let a=ec*rc-tc*nc;if(nc&&!Wn){oc=q$1(ec*ec+tc*tc),sc=a/oc;let u=ec/oc;cc=tc>0?V$1(u):-V$1(u)}else{sc=q$1(nc*nc+rc*rc),oc=a/sc;let u=nc/sc;cc=z$1-(rc>0?V$1(-u):-V$1(u))}let u=Q$1(G$1(cc)),h=H(cc);oc=Q$1(oc),sc=Q$1(sc),lc=u?Q$1((nc/sc+h)/u/D,9):0,uc=u?Q$1((tc/oc-h)/u/D,9):0,cc=Q$1(cc/D)}else oc=ec,sc=rc,cc=lc=uc=0;return(u=h||u)&&(dc+=u.x*ec+u.y*nc,fc+=u.x*tc+u.y*rc,h||(dc-=u.x,fc-=u.y)),{x:dc,y:fc,scaleX:oc,scaleY:sc,rotation:cc,skewX:lc,skewY:uc}},withScale(a,u,h=u){let Wn=a;if(!u||!h){let{a:Wn,b:ec,c:tc,d:nc}=a;ec||tc?h=(Wn*nc-ec*tc)/(u=q$1(Wn*Wn+ec*ec)):(u=Wn,h=nc)}return Wn.scaleX=u,Wn.scaleY=h,Wn},reset(a){K$1.set(a)}},K$1=$$1,{toInnerPoint:tt$2,toOuterPoint:et$2}=$$1,{sin:st$2,cos:rt$1,abs:it$2,sqrt:nt$2,atan2:ot$2,min:at$2,round:ht$2}=Math,lt$2={defaultPoint:{x:0,y:0},tempPoint:{},tempRadiusPoint:{},set(a,u=0,h=0){a.x=u,a.y=h},setRadius(a,u,h){a.radiusX=u,a.radiusY=s(h)?u:h},copy(a,u){a.x=u.x,a.y=u.y},copyFrom(a,u,h){a.x=u,a.y=h},round(a,u){a.x=u?ht$2(a.x-.5)+.5:ht$2(a.x),a.y=u?ht$2(a.y-.5)+.5:ht$2(a.y)},move(a,u,h){d(u)?(a.x+=u.x,a.y+=u.y):(a.x+=u,a.y+=h)},scale(a,u,h=u){a.x&&(a.x*=u),a.y&&(a.y*=h)},scaleOf(a,u,h,Wn=h){a.x+=(a.x-u.x)*(h-1),a.y+=(a.y-u.y)*(Wn-1)},rotate(a,u,h){h||=dt$2.defaultPoint;let Wn=rt$1(u*=D),ec=st$2(u),tc=a.x-h.x,nc=a.y-h.y;a.x=h.x+tc*Wn-nc*ec,a.y=h.y+tc*ec+nc*Wn},tempToInnerOf(a,u){let{tempPoint:h}=dt$2;return ct$2(h,a),tt$2(u,h,h),h},tempToOuterOf(a,u){let{tempPoint:h}=dt$2;return ct$2(h,a),et$2(u,h,h),h},tempToInnerRadiusPointOf(a,u){let{tempRadiusPoint:h}=dt$2;return ct$2(h,a),dt$2.toInnerRadiusPointOf(a,u,h),h},toInnerRadiusPointOf(a,u,h){h||=a,tt$2(u,a,h),h.radiusX=Math.abs(a.radiusX/u.scaleX),h.radiusY=Math.abs(a.radiusY/u.scaleY)},toInnerOf(a,u,h){tt$2(u,a,h)},toOuterOf(a,u,h){et$2(u,a,h)},getCenter:(a,u)=>({x:a.x+(u.x-a.x)/2,y:a.y+(u.y-a.y)/2}),getCenterX:(a,u)=>a+(u-a)/2,getCenterY:(a,u)=>a+(u-a)/2,getDistance:(a,u)=>ut$2(a.x,a.y,u.x,u.y),getDistanceFrom(a,u,h,Wn){let ec=it$2(h-a),tc=it$2(Wn-u);return nt$2(ec*ec+tc*tc)},getMinDistanceFrom:(a,u,h,Wn,ec,tc)=>at$2(ut$2(a,u,h,Wn),ut$2(h,Wn,ec,tc)),getAngle:(a,u)=>_t$2(a,u)/D,getRotation:(a,u,h,Wn)=>(Wn||=u,dt$2.getRadianFrom(a.x,a.y,u.x,u.y,h.x,h.y,Wn.x,Wn.y)/D),getRadianFrom(a,u,h,Wn,ec,tc,nc,rc){s(nc)&&(nc=h,rc=Wn);let ic=a-h,ac=u-Wn,oc=ec-nc,sc=tc-rc;return Math.atan2(ic*sc-ac*oc,ic*oc+ac*sc)},getAtan2:(a,u)=>ot$2(u.y-a.y,u.x-a.x),getDistancePoint(a,u,h,Wn){let ec=_t$2(a,u);return(u=Wn?u:{}).x=a.x+rt$1(ec)*h,u.y=a.y+st$2(ec)*h,u},toNumberPoints(a){let u=a;return d(a[0])&&(u=[],a.forEach(a=>u.push(a.x,a.y))),u},reset(a){dt$2.reset(a)}},dt$2=lt$2,{getDistanceFrom:ut$2,copy:ct$2,getAtan2:_t$2}=dt$2;new class a{constructor(a,u){this.set(a,u)}set(a,u){return d(a)?lt$2.copy(this,a):lt$2.set(this,a,u),this}get(){let{x:a,y:u}=this;return{x:a,y:u}}clone(){return new a(this)}move(a,u){return lt$2.move(this,a,u),this}scale(a,u){return lt$2.scale(this,a,u),this}scaleOf(a,u,h){return lt$2.scaleOf(this,a,u,h),this}rotate(a,u){return lt$2.rotate(this,a,u),this}rotateOf(a,u){return lt$2.rotate(this,u,a),this}getRotation(a,u,h){return lt$2.getRotation(this,a,u,h)}toInnerOf(a,u){return lt$2.toInnerOf(this,a,u),this}toOuterOf(a,u){return lt$2.toOuterOf(this,a,u),this}getCenter(u){return new a(lt$2.getCenter(this,u))}getDistance(a){return lt$2.getDistance(this,a)}getDistancePoint(u,h,Wn){return new a(lt$2.getDistancePoint(this,u,h,Wn))}getAngle(a){return lt$2.getAngle(this,a)}getAtan2(a){return lt$2.getAtan2(this,a)}reset(){return lt$2.reset(this),this}};var gt$1=class a{constructor(a,u,h,Wn,ec,tc){this.set(a,u,h,Wn,ec,tc)}set(a,u,h,Wn,ec,tc){return d(a)?$$1.copy(this,a):$$1.set(this,a,u,h,Wn,ec,tc),this}setWith(a){return $$1.copy(this,a),this.scaleX=a.scaleX,this.scaleY=a.scaleY,this}get(){let{a,b:u,c:h,d:Wn,e:ec,f:tc}=this;return{a,b:u,c:h,d:Wn,e:ec,f:tc}}clone(){return new a(this)}translate(a,u){return $$1.translate(this,a,u),this}translateInner(a,u){return $$1.translateInner(this,a,u),this}scale(a,u){return $$1.scale(this,a,u),this}scaleWith(a,u){return $$1.scale(this,a,u),this.scaleX*=a,this.scaleY*=u||a,this}pixelScale(a){return $$1.pixelScale(this,a),this}scaleOfOuter(a,u,h){return $$1.scaleOfOuter(this,a,u,h),this}scaleOfInner(a,u,h){return $$1.scaleOfInner(this,a,u,h),this}rotate(a){return $$1.rotate(this,a),this}rotateOfOuter(a,u){return $$1.rotateOfOuter(this,a,u),this}rotateOfInner(a,u){return $$1.rotateOfInner(this,a,u),this}skew(a,u){return $$1.skew(this,a,u),this}skewOfOuter(a,u,h){return $$1.skewOfOuter(this,a,u,h),this}skewOfInner(a,u,h){return $$1.skewOfInner(this,a,u,h),this}multiply(a){return $$1.multiply(this,a),this}multiplyParent(a){return $$1.multiplyParent(this,a),this}divide(a){return $$1.divide(this,a),this}divideParent(a){return $$1.divideParent(this,a),this}invert(){return $$1.invert(this),this}invertWith(){return $$1.invert(this),this.scaleX=1/this.scaleX,this.scaleY=1/this.scaleY,this}toOuterPoint(a,u,h){$$1.toOuterPoint(this,a,u,h)}toInnerPoint(a,u,h){$$1.toInnerPoint(this,a,u,h)}setLayout(a,u,h){return $$1.setLayout(this,a,u,h),this}getLayout(a,u,h){return $$1.getLayout(this,a,u,h)}withScale(a,u){return $$1.withScale(this,a,u)}reset(){$$1.reset(this)}};new gt$1;var mt$3={tempPointBounds:{},setPoint(a,u,h){a.minX=a.maxX=u,a.minY=a.maxY=h},addPoint(a,u,h){a.minX=u<a.minX?u:a.minX,a.minY=h<a.minY?h:a.minY,a.maxX=u>a.maxX?u:a.maxX,a.maxY=h>a.maxY?h:a.maxY},addBounds(a,u,h,Wn,ec){xt$3(a,u,h),xt$3(a,u+Wn,h+ec)},copy(a,u){a.minX=u.minX,a.minY=u.minY,a.maxX=u.maxX,a.maxY=u.maxY},addPointBounds(a,u){a.minX=u.minX<a.minX?u.minX:a.minX,a.minY=u.minY<a.minY?u.minY:a.minY,a.maxX=u.maxX>a.maxX?u.maxX:a.maxX,a.maxY=u.maxY>a.maxY?u.maxY:a.maxY},toBounds(a,u){u.x=a.minX,u.y=a.minY,u.width=a.maxX-a.minX,u.height=a.maxY-a.minY}},{addPoint:xt$3}=mt$3,wt$2,bt$3;(function(a){a[a.top=0]=`top`,a[a.right=1]=`right`,a[a.bottom=2]=`bottom`,a[a.left=3]=`left`})(wt$2||={}),function(a){a[a.topLeft=0]=`topLeft`,a[a.top=1]=`top`,a[a.topRight=2]=`topRight`,a[a.right=3]=`right`,a[a.bottomRight=4]=`bottomRight`,a[a.bottom=5]=`bottom`,a[a.bottomLeft=6]=`bottomLeft`,a[a.left=7]=`left`,a[a.center=8]=`center`,a[a[`top-left`]=0]=`top-left`,a[a[`top-right`]=2]=`top-right`,a[a[`bottom-right`]=4]=`bottom-right`,a[a[`bottom-left`]=6]=`bottom-left`}(bt$3||={});var Bt$3=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:1,y:.5},{x:1,y:1},{x:.5,y:1},{x:0,y:1},{x:0,y:.5},{x:.5,y:.5}];Bt$3.forEach(a=>a.type=`percent`);var vt$2={directionData:Bt$3,tempPoint:{},get:kt$2,toPoint(a,u,h,Wn,ec,tc){let nc=kt$2(a);h.x=nc.x,h.y=nc.y,nc.type===`percent`&&(h.x*=u.width,h.y*=u.height,ec&&(tc||(h.x-=ec.x,h.y-=ec.y),nc.x&&(h.x-=nc.x===1?ec.width:nc.x===.5?nc.x*ec.width:0),nc.y&&(h.y-=nc.y===1?ec.height:nc.y===.5?nc.y*ec.height:0))),Wn||(h.x+=u.x,h.y+=u.y)},getPoint:(a,u,h)=>(h||={},vt$2.toPoint(a,u,h,!0),h)};function kt$2(a){return i(a)?Bt$3[bt$3[a]]:a}var{toPoint:Ct$3}=vt$2,Ot$3={toPoint(a,u,h,Wn,ec,tc){Ct$3(a,h,Wn,ec,u,tc)}},{tempPointBounds:Tt$3,setPoint:Pt$3,addPoint:St$3,toBounds:Rt$3}=mt$3,{toOuterPoint:Lt$3}=$$1,{float:Et$3,fourNumber:It$3}=N$1,{floor:Mt$3,ceil:At$3}=Math,Wt$3,Nt$3,Yt$3,Dt$3,Xt$3={},zt$3={},Ft$3={},Ut$3={tempBounds:Ft$3,set(a,u=0,h=0,Wn=0,ec=0){a.x=u,a.y=h,a.width=Wn,a.height=ec},copy(a,u){a.x=u.x,a.y=u.y,a.width=u.width,a.height=u.height},copyAndSpread(a,u,h,Wn,ec){let{x:tc,y:nc,width:rc,height:ic}=u;if(l(h)){let u=It$3(h);Wn?jt$3.set(a,tc+u[3],nc+u[0],rc-u[1]-u[3],ic-u[2]-u[0]):jt$3.set(a,tc-u[3],nc-u[0],rc+u[1]+u[3],ic+u[2]+u[0])}else Wn&&(h=-h),jt$3.set(a,tc-h,nc-h,rc+2*h,ic+2*h);ec&&(ec===`width`?(a.y=nc,a.height=ic):(a.x=tc,a.width=rc))},minX:a=>a.width>0?a.x:a.x+a.width,minY:a=>a.height>0?a.y:a.y+a.height,maxX:a=>a.width>0?a.x+a.width:a.x,maxY:a=>a.height>0?a.y+a.height:a.y,move(a,u,h){a.x+=u,a.y+=h},scroll(a,u){a.x+=u.scrollX,a.y+=u.scrollY},getByMove:(a,u,h)=>(a=Object.assign({},a),jt$3.move(a,u,h),a),toOffsetOutBounds(a,u,h){u?Gt$2(u,a):u=a,h||=a,u.offsetX=jt$3.maxX(h),u.offsetY=jt$3.maxY(h),jt$3.move(u,-u.offsetX,-u.offsetY)},scale(a,u,h=u,Wn){Wn||lt$2.scale(a,u,h),a.width*=u,a.height*=h},scaleOf(a,u,h,Wn=h){lt$2.scaleOf(a,u,h,Wn),a.width*=h,a.height*=Wn},tempToOuterOf:(a,u)=>(jt$3.copy(Ft$3,a),jt$3.toOuterOf(Ft$3,u),Ft$3),getOuterOf:(a,u)=>(a=Object.assign({},a),jt$3.toOuterOf(a,u),a),toOuterOf(a,u,h){if(h||=a,u.b===0&&u.c===0){let{a:Wn,d:ec,e:tc,f:nc}=u;Wn>0?(h.width=a.width*Wn,h.x=tc+a.x*Wn):(h.width=a.width*-Wn,h.x=tc+a.x*Wn-h.width),ec>0?(h.height=a.height*ec,h.y=nc+a.y*ec):(h.height=a.height*-ec,h.y=nc+a.y*ec-h.height)}else Xt$3.x=a.x,Xt$3.y=a.y,Lt$3(u,Xt$3,zt$3),Pt$3(Tt$3,zt$3.x,zt$3.y),Xt$3.x=a.x+a.width,Lt$3(u,Xt$3,zt$3),St$3(Tt$3,zt$3.x,zt$3.y),Xt$3.y=a.y+a.height,Lt$3(u,Xt$3,zt$3),St$3(Tt$3,zt$3.x,zt$3.y),Xt$3.x=a.x,Lt$3(u,Xt$3,zt$3),St$3(Tt$3,zt$3.x,zt$3.y),Rt$3(Tt$3,h)},toInnerOf(a,u,h){h||=a,jt$3.move(h,-u.e,-u.f),jt$3.scale(h,1/u.a,1/u.d)},getFitMatrix(a,u,h=1){let Wn=Math.min(h,jt$3.getFitScale(a,u));return new gt$1(Wn,0,0,Wn,-u.x*Wn,-u.y*Wn)},getFitScale(a,u,h){let Wn=a.width/u.width,ec=a.height/u.height;return h?Math.max(Wn,ec):Math.min(Wn,ec)},put(a,u,h=`center`,Wn=1,ec=!0,tc){tc||=u,i(Wn)&&(Wn=jt$3.getFitScale(a,u,Wn===`cover`)),Ft$3.width=ec?u.width*=Wn:u.width*Wn,Ft$3.height=ec?u.height*=Wn:u.height*Wn,Ot$3.toPoint(h,Ft$3,a,tc,!0,!0)},getSpread(a,u,h){let Wn={};return jt$3.copyAndSpread(Wn,a,u,!1,h),Wn},spread(a,u,h){jt$3.copyAndSpread(a,a,u,!1,h)},shrink(a,u,h){jt$3.copyAndSpread(a,a,u,!0,h)},ceil(a){let{x:u,y:h}=a;a.x=Mt$3(a.x),a.y=Mt$3(a.y),a.width=u>a.x?At$3(a.width+u-a.x):At$3(a.width),a.height=h>a.y?At$3(a.height+h-a.y):At$3(a.height)},unsign(a){a.width<0&&(a.x+=a.width,a.width=-a.width),a.height<0&&(a.y+=a.height,a.height=-a.height)},float(a,u){a.x=Et$3(a.x,u),a.y=Et$3(a.y,u),a.width=Et$3(a.width,u),a.height=Et$3(a.height,u)},add(a,u,h){Wt$3=a.x+a.width,Nt$3=a.y+a.height,Yt$3=u.x,Dt$3=u.y,h||(Yt$3+=u.width,Dt$3+=u.height),Wt$3=Wt$3>Yt$3?Wt$3:Yt$3,Nt$3=Nt$3>Dt$3?Nt$3:Dt$3,a.x=a.x<u.x?a.x:u.x,a.y=a.y<u.y?a.y:u.y,a.width=Wt$3-a.x,a.height=Nt$3-a.y},addList(a,u){jt$3.setListWithFn(a,u,void 0,!0)},setList(a,u,h=!1){jt$3.setListWithFn(a,u,void 0,h)},addListWithFn(a,u,h){jt$3.setListWithFn(a,u,h,!0)},setListWithFn(a,u,h,Wn=!1){let ec,tc=!0;for(let nc=0,rc=u.length;nc<rc;nc++)ec=h?h(u[nc],nc):u[nc],ec&&(ec.width||ec.height)&&(tc?(tc=!1,Wn||Gt$2(a,ec)):Ht$3(a,ec));tc&&jt$3.reset(a)},setPoints(a,u){u.forEach((a,u)=>u===0?Pt$3(Tt$3,a.x,a.y):St$3(Tt$3,a.x,a.y)),Rt$3(Tt$3,a)},setPoint(a,u){jt$3.set(a,u.x,u.y)},addPoint(a,u){Ht$3(a,u,!0)},getPoints(a){let{x:u,y:h,width:Wn,height:ec}=a;return[{x:u,y:h},{x:u+Wn,y:h},{x:u+Wn,y:h+ec},{x:u,y:h+ec}]},hitRadiusPoint:(a,u,h)=>(h&&(u=lt$2.tempToInnerRadiusPointOf(u,h)),u.x>=a.x-u.radiusX&&u.x<=a.x+a.width+u.radiusX&&u.y>=a.y-u.radiusY&&u.y<=a.y+a.height+u.radiusY),hitPoint:(a,u,h)=>(h&&(u=lt$2.tempToInnerOf(u,h)),u.x>=a.x&&u.x<=a.x+a.width&&u.y>=a.y&&u.y<=a.y+a.height),hit:(a,u,h)=>(h&&(u=jt$3.tempToOuterOf(u,h)),!(a.y+a.height<u.y||u.y+u.height<a.y||a.x+a.width<u.x||u.x+u.width<a.x)),includes:(a,u,h)=>(h&&(u=jt$3.tempToOuterOf(u,h)),a.x<=u.x&&a.y<=u.y&&a.x+a.width>=u.x+u.width&&a.y+a.height>=u.y+u.height),getIntersectData(a,u,h){if(h&&(u=jt$3.tempToOuterOf(u,h)),!jt$3.hit(a,u))return{x:0,y:0,width:0,height:0};let{x:Wn,y:ec,width:tc,height:nc}=u;return Wt$3=Wn+tc,Nt$3=ec+nc,Yt$3=a.x+a.width,Dt$3=a.y+a.height,Wn=Wn>a.x?Wn:a.x,ec=ec>a.y?ec:a.y,Wt$3=Wt$3<Yt$3?Wt$3:Yt$3,Nt$3=Nt$3<Dt$3?Nt$3:Dt$3,tc=Wt$3-Wn,nc=Nt$3-ec,{x:Wn,y:ec,width:tc,height:nc}},intersect(a,u,h){jt$3.copy(a,jt$3.getIntersectData(a,u,h))},isSame:(a,u)=>a.x===u.x&&a.y===u.y&&a.width===u.width&&a.height===u.height,isEmpty:a=>a.x===0&&a.y===0&&a.width===0&&a.height===0,reset(a){jt$3.set(a)}},jt$3=Ut$3,{add:Ht$3,copy:Gt$2}=jt$3,Vt$3=class a{get minX(){return Ut$3.minX(this)}get minY(){return Ut$3.minY(this)}get maxX(){return Ut$3.maxX(this)}get maxY(){return Ut$3.maxY(this)}constructor(a,u,h,Wn){this.set(a,u,h,Wn)}set(a,u,h,Wn){return d(a)?Ut$3.copy(this,a):Ut$3.set(this,a,u,h,Wn),this}get(){let{x:a,y:u,width:h,height:Wn}=this;return{x:a,y:u,width:h,height:Wn}}clone(){return new a(this)}move(a,u){return Ut$3.move(this,a,u),this}scale(a,u,h){return Ut$3.scale(this,a,u,h),this}scaleOf(a,u,h){return Ut$3.scaleOf(this,a,u,h),this}toOuterOf(a,u){return Ut$3.toOuterOf(this,a,u),this}toInnerOf(a,u){return Ut$3.toInnerOf(this,a,u),this}getFitMatrix(a,u){return Ut$3.getFitMatrix(this,a,u)}put(a,u,h){Ut$3.put(this,a,u,h)}spread(a,u){return Ut$3.spread(this,a,u),this}shrink(a,u){return Ut$3.shrink(this,a,u),this}ceil(){return Ut$3.ceil(this),this}unsign(){return Ut$3.unsign(this),this}float(a){return Ut$3.float(this,a),this}add(a){return Ut$3.add(this,a),this}addList(a){return Ut$3.setList(this,a,!0),this}setList(a){return Ut$3.setList(this,a),this}addListWithFn(a,u){return Ut$3.setListWithFn(this,a,u,!0),this}setListWithFn(a,u){return Ut$3.setListWithFn(this,a,u),this}setPoint(a){return Ut$3.setPoint(this,a),this}setPoints(a){return Ut$3.setPoints(this,a),this}addPoint(a){return Ut$3.addPoint(this,a),this}getPoints(){return Ut$3.getPoints(this)}hitPoint(a,u){return Ut$3.hitPoint(this,a,u)}hitRadiusPoint(a,u){return Ut$3.hitRadiusPoint(this,a,u)}hit(a,u){return Ut$3.hit(this,a,u)}includes(a,u){return Ut$3.includes(this,a,u)}intersect(a,u){return Ut$3.intersect(this,a,u),this}getIntersect(u,h){return new a(Ut$3.getIntersectData(this,u,h))}isSame(a){return Ut$3.isSame(this,a)}isEmpty(){return Ut$3.isEmpty(this)}reset(){Ut$3.reset(this)}},qt$2=new Vt$3,Qt$2=class{constructor(a,u,h,Wn,ec,tc){d(a)?this.copy(a):this.set(a,u,h,Wn,ec,tc)}set(a=0,u=0,h=0,Wn=0,ec=0,tc=0){this.top=a,this.right=u,this.bottom=h,this.left=Wn,this.width=ec,this.height=tc}copy(a){let{top:u,right:h,bottom:Wn,left:ec,width:tc,height:nc}=a;this.set(u,h,Wn,ec,tc,nc)}getBoundsFrom(a){let{top:u,right:h,bottom:Wn,left:ec,width:tc,height:nc}=this;return new Vt$3(ec,u,tc||a.width-ec-h,nc||a.height-u-Wn)}},Jt$2={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,".":1,e:1,E:1},{randColor:Zt$2}=N$1,$t$2=class a{constructor(a){this.repeatMap={},this.name=a}static get(u){return new a(u)}static set filter(a){this.filterList=Kt$3(a)}static set exclude(a){this.excludeList=Kt$3(a)}static drawRepaint(a,u){let h=Zt$2();a.fillWorld(u,h.replace(`1)`,`.1)`)),a.strokeWorld(u,h)}static drawBounds(u,h,Wn){let ec=a.showBounds===`hit`,tc=u.__nowWorld,nc=Zt$2();ec&&(h.setWorld(tc),u.__drawHitPath(h),h.fillStyle=nc.replace(`1)`,`.2)`),h.fill()),h.resetTransform(),h.setStroke(nc,2),ec?h.stroke():h.strokeWorld(tc,nc)}log(...a){te$2.enable&&(te$2.filterList.length&&te$2.filterList.every(a=>a!==this.name)||te$2.excludeList.length&&te$2.excludeList.some(a=>a===this.name))}tip(...a){te$2.enable&&this.warn(...a)}warn(...a){te$2.showWarn}repeat(a,...u){this.repeatMap[a]||(this.warn(`repeat:`+a,...u),this.repeatMap[a]=!0)}error(...a){try{throw Error()}catch{}}};function Kt$3(a){return a?i(a)&&(a=[a]):a=[],a}$t$2.filterList=[],$t$2.excludeList=[],$t$2.showWarn=!0;var te$2=$t$2,ee$2=$t$2.get(`RunTime`),se$2={currentId:0,currentName:``,idMap:{},nameMap:{},nameToIdMap:{},start(a,u){let h=w.create(w.RUNTIME);return re$2.currentId=re$2.idMap[h]=u?performance.now():Date.now(),re$2.currentName=re$2.nameMap[h]=a,re$2.nameToIdMap[a]=h,h},end(a,u){let h=re$2.idMap[a],Wn=re$2.nameMap[a],ec=u?(performance.now()-h)/1e3:Date.now()-h;re$2.idMap[a]=re$2.nameMap[a]=re$2.nameToIdMap[Wn]=void 0,ee$2.log(Wn,ec,`ms`)},endOfName(a,u){let h=re$2.nameToIdMap[a];s(h)||re$2.end(h,u)}},re$2=se$2,ie$2=[],ne$2={list:{},add(a,...u){this.list[a]=!0,ie$2.push(...u)},has(a,u){let h=this.list[a];return!h&&u&&this.need(a),h},need(a){}};setTimeout(()=>ie$2.forEach(a=>ne$2.has(a,!0)));var oe$2={editor:a=>ne$2.need(`editor`)},ae$2=$t$2.get(`UICreator`),he$2={list:{},register(a){let{__tag:u}=a.prototype;le$2[u]&&ae$2.repeat(u),le$2[u]=a},get(a,u,h,Wn,ec,tc){le$2[a]||ae$2.error(`not register `+a);let nc=new le$2[a](u);return s(h)||(nc.x=h,Wn&&(nc.y=Wn),ec&&(nc.width=ec),tc&&(nc.height=tc)),nc}},{list:le$2}=he$2,de$2=$t$2.get(`EventCreator`),ue$2={nameList:{},register(a){let u;Object.keys(a).forEach(h=>{u=a[h],i(u)&&(ce$2[u]&&de$2.repeat(u),ce$2[u]=a)})},changeName(a,u){let h=ce$2[a];if(h){let Wn=Object.keys(h).find(u=>h[u]===a);Wn&&(h[Wn]=u,ce$2[u]=h)}},has(a){return!!this.nameList[a]},get:(a,...u)=>new ce$2[a](...u)},{nameList:ce$2}=ue$2,_e$2=class{constructor(){this.list=[]}add(a){a.manager=this,this.list.push(a)}get(a){let u,{list:h}=this;for(let Wn=0,ec=h.length;Wn<ec;Wn++)if(u=h[Wn],u.recycled&&u.isSameSize(a))return u.recycled=!1,u.manager||=this,u;let Wn=oe$2.canvas(a);return this.add(Wn),Wn}recycle(a){a.recycled=!0}clearRecycled(){let a,u=[];for(let h=0,Wn=this.list.length;h<Wn;h++)a=this.list[h],a.recycled?a.destroy():u.push(a);this.list=u}clear(){this.list.forEach(a=>{a.destroy()}),this.list.length=0}destroy(){this.clear()}};function pe$2(a,u,h,Wn){var ec,tc=arguments.length,nc=tc<3?u:Wn===null?Wn=Object.getOwnPropertyDescriptor(u,h):Wn;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)nc=Reflect.decorate(a,u,h,Wn);else for(var rc=a.length-1;rc>=0;rc--)(ec=a[rc])&&(nc=(tc<3?ec(nc):tc>3?ec(u,h,nc):ec(u,h))||nc);return tc>3&&nc&&Object.defineProperty(u,h,nc),nc}function fe$2(a,u,h,Wn){return new(h||=Promise)(function(ec,tc){function nc(a){try{ic(Wn.next(a))}catch(a){tc(a)}}function rc(a){try{ic(Wn.throw(a))}catch(a){tc(a)}}function ic(a){var u;a.done?ec(a.value):(u=a.value,u instanceof h?u:new h(function(a){a(u)})).then(nc,rc)}ic((Wn=Wn.apply(a,u||[])).next())})}function ge$2(a){return(u,h)=>{a||=h;let Wn={get(){return this.context[a]},set(u){this.context[a]=u}};h===`strokeCap`&&(Wn.set=function(u){this.context[a]=u===`none`?`butt`:u}),Object.defineProperty(u,h,Wn)}}var ye$2=[];function me$2(){return(a,u)=>{ye$2.push(u)}}var xe$2=[],we$2=class{set blendMode(a){a===`normal`&&(a=`source-over`),this.context.globalCompositeOperation=a}get blendMode(){return this.context.globalCompositeOperation}set dashPattern(a){this.context.setLineDash(a||xe$2)}get dashPattern(){return this.context.getLineDash()}__bindContext(){let a;ye$2.forEach(u=>{a=this.context[u],a&&(this[u]=a.bind(this.context))}),this.textBaseline=`alphabetic`}setTransform(a,u,h,Wn,ec,tc){}resetTransform(){}getTransform(){}save(){}restore(){}transform(a,u,h,Wn,ec,tc){d(a)?this.context.transform(a.a,a.b,a.c,a.d,a.e,a.f):this.context.transform(a,u,h,Wn,ec,tc)}translate(a,u){}scale(a,u){}rotate(a){}fill(a,u){}stroke(a){}clip(a,u){}fillRect(a,u,h,Wn){}strokeRect(a,u,h,Wn){}clearRect(a,u,h,Wn){}drawImage(a,u,h,Wn,ec,tc,nc,rc,ic){switch(arguments.length){case 9:if(u<0){let a=-u/Wn*rc;Wn+=u,u=0,tc+=a,rc-=a}if(h<0){let a=-h/ec*ic;ec+=h,h=0,nc+=a,ic-=a}this.context.drawImage(a,u,h,Wn,ec,tc,nc,rc,ic);break;case 5:this.context.drawImage(a,u,h,Wn,ec);break;case 3:this.context.drawImage(a,u,h)}}beginPath(){}moveTo(a,u){}lineTo(a,u){}bezierCurveTo(a,u,h,Wn,ec,tc){}quadraticCurveTo(a,u,h,Wn){}closePath(){}arc(a,u,h,Wn,ec,tc){}arcTo(a,u,h,Wn,ec){}ellipse(a,u,h,Wn,ec,tc,nc,rc){}rect(a,u,h,Wn){}roundRect(a,u,h,Wn,ec){}createConicGradient(a,u,h){}createLinearGradient(a,u,h,Wn){}createPattern(a,u){}createRadialGradient(a,u,h,Wn,ec,tc){}fillText(a,u,h,Wn){}measureText(a){}strokeText(a,u,h,Wn){}destroy(){this.context=null}};pe$2([ge$2(`imageSmoothingEnabled`)],we$2.prototype,`smooth`,void 0),pe$2([ge$2(`imageSmoothingQuality`)],we$2.prototype,`smoothLevel`,void 0),pe$2([ge$2(`globalAlpha`)],we$2.prototype,`opacity`,void 0),pe$2([ge$2()],we$2.prototype,`fillStyle`,void 0),pe$2([ge$2()],we$2.prototype,`strokeStyle`,void 0),pe$2([ge$2(`lineWidth`)],we$2.prototype,`strokeWidth`,void 0),pe$2([ge$2(`lineCap`)],we$2.prototype,`strokeCap`,void 0),pe$2([ge$2(`lineJoin`)],we$2.prototype,`strokeJoin`,void 0),pe$2([ge$2(`lineDashOffset`)],we$2.prototype,`dashOffset`,void 0),pe$2([ge$2()],we$2.prototype,`miterLimit`,void 0),pe$2([ge$2()],we$2.prototype,`shadowBlur`,void 0),pe$2([ge$2()],we$2.prototype,`shadowColor`,void 0),pe$2([ge$2()],we$2.prototype,`shadowOffsetX`,void 0),pe$2([ge$2()],we$2.prototype,`shadowOffsetY`,void 0),pe$2([ge$2()],we$2.prototype,`filter`,void 0),pe$2([ge$2()],we$2.prototype,`font`,void 0),pe$2([ge$2()],we$2.prototype,`fontKerning`,void 0),pe$2([ge$2()],we$2.prototype,`fontStretch`,void 0),pe$2([ge$2()],we$2.prototype,`fontVariantCaps`,void 0),pe$2([ge$2()],we$2.prototype,`textAlign`,void 0),pe$2([ge$2()],we$2.prototype,`textBaseline`,void 0),pe$2([ge$2()],we$2.prototype,`textRendering`,void 0),pe$2([ge$2()],we$2.prototype,`wordSpacing`,void 0),pe$2([ge$2()],we$2.prototype,`letterSpacing`,void 0),pe$2([ge$2()],we$2.prototype,`direction`,void 0),pe$2([me$2()],we$2.prototype,`setTransform`,null),pe$2([me$2()],we$2.prototype,`resetTransform`,null),pe$2([me$2()],we$2.prototype,`getTransform`,null),pe$2([me$2()],we$2.prototype,`save`,null),pe$2([me$2()],we$2.prototype,`restore`,null),pe$2([me$2()],we$2.prototype,`translate`,null),pe$2([me$2()],we$2.prototype,`scale`,null),pe$2([me$2()],we$2.prototype,`rotate`,null),pe$2([me$2()],we$2.prototype,`fill`,null),pe$2([me$2()],we$2.prototype,`stroke`,null),pe$2([me$2()],we$2.prototype,`clip`,null),pe$2([me$2()],we$2.prototype,`fillRect`,null),pe$2([me$2()],we$2.prototype,`strokeRect`,null),pe$2([me$2()],we$2.prototype,`clearRect`,null),pe$2([me$2()],we$2.prototype,`beginPath`,null),pe$2([me$2()],we$2.prototype,`moveTo`,null),pe$2([me$2()],we$2.prototype,`lineTo`,null),pe$2([me$2()],we$2.prototype,`bezierCurveTo`,null),pe$2([me$2()],we$2.prototype,`quadraticCurveTo`,null),pe$2([me$2()],we$2.prototype,`closePath`,null),pe$2([me$2()],we$2.prototype,`arc`,null),pe$2([me$2()],we$2.prototype,`arcTo`,null),pe$2([me$2()],we$2.prototype,`ellipse`,null),pe$2([me$2()],we$2.prototype,`rect`,null),pe$2([me$2()],we$2.prototype,`roundRect`,null),pe$2([me$2()],we$2.prototype,`createConicGradient`,null),pe$2([me$2()],we$2.prototype,`createLinearGradient`,null),pe$2([me$2()],we$2.prototype,`createPattern`,null),pe$2([me$2()],we$2.prototype,`createRadialGradient`,null),pe$2([me$2()],we$2.prototype,`fillText`,null),pe$2([me$2()],we$2.prototype,`measureText`,null),pe$2([me$2()],we$2.prototype,`strokeText`,null);var{copy:be$2,multiplyParent:Be$2,pixelScale:ve$2}=$$1,{round:ke$2}=Math,Ce$2=new Vt$3,Oe$2=new Vt$3,Te$2={width:1,height:1,pixelRatio:1},Pe$2=[`width`,`height`,`pixelRatio`],Se$2=class extends we$2{get width(){return this.size.width}get height(){return this.size.height}get pixelRatio(){return this.size.pixelRatio}get pixelWidth(){return this.width*this.pixelRatio||0}get pixelHeight(){return this.height*this.pixelRatio||0}get pixelSnap(){return this.config.pixelSnap}set pixelSnap(a){this.config.pixelSnap=a}get allowBackgroundColor(){return this.view&&this.parentView}constructor(a,u){super(),this.size={},this.worldTransform={},a||=Te$2,this.manager=u,this.innerId=w.create(w.CNAVAS);let{width:h,height:Wn,pixelRatio:ec}=a;this.autoLayout=!h||!Wn,this.size.pixelRatio=ec||m.devicePixelRatio,this.config=a,this.init()}init(){}__createContext(){let{view:a}=this,{contextSettings:u}=this.config;this.context=u?a.getContext(`2d`,u):a.getContext(`2d`),this.__bindContext()}export(a,u){}toBlob(a,u){}toDataURL(a,u){}saveAs(a,u){}resize(a,u=!0){if(this.isSameSize(a))return;let h;this.context&&!this.unreal&&u&&this.width&&(h=this.getSameCanvas(),h.copyWorld(this));let Wn=this.size;_.copyAttrs(Wn,a,Pe$2),Pe$2.forEach(a=>Wn[a]||(Wn[a]=1)),this.bounds=new Vt$3(0,0,this.width,this.height),this.updateViewSize(),this.updateClientBounds(),this.context&&(this.smooth=this.config.smooth,!this.unreal&&h&&(this.clearWorld(h.bounds),this.copyWorld(h),h.recycle()))}updateViewSize(){}updateClientBounds(){}getClientBounds(a){return a&&this.updateClientBounds(),this.clientBounds||this.bounds}startAutoLayout(a,u){}stopAutoLayout(){}setCursor(a){}setWorld(a,u){let{pixelRatio:h,pixelSnap:Wn}=this,ec=this.worldTransform;u&&Be$2(a,u,ec),ve$2(a,h,ec),Wn&&!a.ignorePixelSnap&&(a.half&&a.half*h%2?(ec.e=ke$2(ec.e-.5)+.5,ec.f=ke$2(ec.f-.5)+.5):(ec.e=ke$2(ec.e),ec.f=ke$2(ec.f))),this.setTransform(ec.a,ec.b,ec.c,ec.d,ec.e,ec.f)}useWorldTransform(a){a&&(this.worldTransform=a);let u=this.worldTransform;u&&this.setTransform(u.a,u.b,u.c,u.d,u.e,u.f)}setStroke(a,u,h,Wn){u&&(this.strokeWidth=u),a&&(this.strokeStyle=a),h&&this.setStrokeOptions(h,Wn)}setStrokeOptions(a,u){let{strokeCap:h,strokeJoin:Wn,dashPattern:ec,dashOffset:tc,miterLimit:nc}=a;u&&(u.strokeCap&&(h=u.strokeCap),u.strokeJoin&&(Wn=u.strokeJoin),s(u.dashPattern)||(ec=u.dashPattern),s(u.dashOffset)||(tc=u.dashOffset),u.miterLimit&&(nc=u.miterLimit)),this.strokeCap=h,this.strokeJoin=Wn,this.dashPattern=ec,this.dashOffset=tc,this.miterLimit=nc}saveBlendMode(a){this.savedBlendMode=this.blendMode,this.blendMode=a}restoreBlendMode(){this.blendMode=this.savedBlendMode}hitFill(a,u){return!0}hitStroke(a,u){return!0}hitPixel(a,u,h=1){return!0}setWorldShadow(a,u,h,Wn){let{pixelRatio:ec}=this;this.shadowOffsetX=a*ec,this.shadowOffsetY=u*ec,this.shadowBlur=h*ec,this.shadowColor=Wn||`black`}setWorldBlur(a){let{pixelRatio:u}=this;this.filter=`blur(${a*u}px)`}copyWorld(a,u,h,Wn,ec=!0){Wn&&(this.blendMode=Wn),u?(this.setTempPixelBounds(u,ec),h?(this.setTempPixelBounds2(h,ec),h=Oe$2):h=Ce$2,this.drawImage(a.view,Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height,h.x,h.y,h.width,h.height)):this.drawImage(a.view,0,0),Wn&&(this.blendMode=`source-over`)}copyWorldToInner(a,u,h,Wn,ec=!0){u.b||u.c?(this.save(),this.resetTransform(),this.copyWorld(a,u,Ut$3.tempToOuterOf(h,u),Wn,ec),this.restore()):(Wn&&(this.blendMode=Wn),this.setTempPixelBounds(u,ec),this.drawImage(a.view,Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height,h.x,h.y,h.width,h.height),Wn&&(this.blendMode=`source-over`))}copyWorldByReset(a,u,h,Wn,ec,tc=!0){this.resetTransform(),this.copyWorld(a,u,h,Wn,tc),ec||this.useWorldTransform()}useGrayscaleAlpha(a){let u,h;this.setTempPixelBounds(a,!0,!0);let{context:Wn}=this,ec=Wn.getImageData(Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height),{data:tc}=ec;for(let a=0,Wn=tc.length;a<Wn;a+=4)h=.299*tc[a]+.587*tc[a+1]+.114*tc[a+2],(u=tc[a+3])&&(tc[a+3]=u===255?h:h/255*u);Wn.putImageData(ec,Ce$2.x,Ce$2.y)}useMask(a,u,h){this.copyWorld(a,u,h,`destination-in`)}useEraser(a,u,h){this.copyWorld(a,u,h,`destination-out`)}fillWorld(a,u,h,Wn){h&&(this.blendMode=h),this.fillStyle=u,this.setTempPixelBounds(a,Wn),this.fillRect(Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height),h&&(this.blendMode=`source-over`)}strokeWorld(a,u,h,Wn){h&&(this.blendMode=h),this.strokeStyle=u,this.setTempPixelBounds(a,Wn),this.strokeRect(Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height),h&&(this.blendMode=`source-over`)}clipWorld(a,u=!0){this.beginPath(),this.setTempPixelBounds(a,u),this.rect(Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height),this.clip()}clipUI(a){a.windingRule?this.clip(a.windingRule):this.clip()}clearWorld(a,u=!0){this.setTempPixelBounds(a,u),this.clearRect(Ce$2.x,Ce$2.y,Ce$2.width,Ce$2.height)}clear(){let{pixelRatio:a}=this;this.clearRect(0,0,this.width*a+2,this.height*a+2)}setTempPixelBounds(a,u,h){this.copyToPixelBounds(Ce$2,a,u,h)}setTempPixelBounds2(a,u,h){this.copyToPixelBounds(Oe$2,a,u,h)}copyToPixelBounds(a,u,h,Wn){a.set(u),Wn&&a.intersect(this.bounds),a.scale(this.pixelRatio),h&&a.ceil()}isSameSize(a){return this.width===a.width&&this.height===a.height&&(!a.pixelRatio||this.pixelRatio===a.pixelRatio)}getSameCanvas(a,u){let{size:h,pixelSnap:Wn}=this,ec=this.manager?this.manager.get(h):oe$2.canvas(Object.assign({},h));return ec.save(),a&&(be$2(ec.worldTransform,this.worldTransform),ec.useWorldTransform()),u&&(ec.smooth=this.smooth),ec.pixelSnap!==Wn&&(ec.pixelSnap=Wn),ec}recycle(a){this.recycled||(this.restore(),a?this.clearWorld(a):this.clear(),this.manager?this.manager.recycle(this):this.destroy())}updateRender(a){}unrealCanvas(){}destroy(){this.manager=this.view=this.parentView=null}},Re$2={creator:{},parse(a,u){},convertToCanvasData(a,u){}},Le$2={N:21,D:22,X:23,G:24,F:25,O:26,P:27,U:28},Ee$2=Object.assign({M:1,m:10,L:2,l:20,H:3,h:30,V:4,v:40,C:5,c:50,S:6,s:60,Q:7,q:70,T:8,t:80,A:9,a:90,Z:11,z:11,R:12},Le$2),Ie$2={M:3,m:3,L:3,l:3,H:2,h:2,V:2,v:2,C:7,c:7,S:5,s:5,Q:5,q:5,T:3,t:3,A:8,a:8,Z:1,z:1,N:5,D:9,X:6,G:9,F:5,O:7,P:4,U:6},Me$2={m:10,l:20,H:3,h:30,V:4,v:40,c:50,S:6,s:60,q:70,T:8,t:80,A:9,a:90},Ae$2=Object.assign(Object.assign({},Me$2),Le$2),We$2=Ee$2,Ne$2={};for(let a in We$2)Ne$2[We$2[a]]=a;var Ye$2={};for(let a in We$2)Ye$2[We$2[a]]=Ie$2[a];var De$2={drawRoundRect(a,u,h,Wn,ec,tc){let nc=N$1.fourNumber(tc,Math.min(Wn/2,ec/2)),rc=u+Wn,ic=h+ec;nc[0]?a.moveTo(u+nc[0],h):a.moveTo(u,h),nc[1]?a.arcTo(rc,h,rc,ic,nc[1]):a.lineTo(rc,h),nc[2]?a.arcTo(rc,ic,u,ic,nc[2]):a.lineTo(rc,ic),nc[3]?a.arcTo(u,ic,u,h,nc[3]):a.lineTo(u,ic),nc[0]?a.arcTo(u,h,rc,h,nc[0]):a.lineTo(u,h)}},{sin:Xe$2,cos:ze$2,hypot:Fe$2,atan2:Ue$2,ceil:je$2,abs:He$2,PI:Ge$2,sqrt:Ve$2,pow:qe$2}=Math,{setPoint:Qe$2,addPoint:Je$1}=mt$3,{set:Ze$2,toNumberPoints:$e$2}=lt$2,{M:Ke$2,L:ts$1,C:es$1,Q:ss$1,Z:rs}=Ee$2,is$1={},ns$1={points(a,u,h,Wn){let ec=$e$2(u);if(a.push(Ke$2,ec[0],ec[1]),h&&ec.length>5){let u,tc,nc,rc,ic,ac,oc,sc,cc,lc,uc,dc,fc,pc=ec.length,mc=!0===h?.5:h;Wn&&(ec=[ec[pc-2],ec[pc-1],...ec,ec[0],ec[1],ec[2],ec[3]],pc=ec.length);for(let h=2;h<pc-2;h+=2)u=ec[h-2],tc=ec[h-1],nc=ec[h],rc=ec[h+1],ic=ec[h+2],ac=ec[h+3],uc=Ve$2(qe$2(nc-u,2)+qe$2(rc-tc,2)),dc=Ve$2(qe$2(ic-nc,2)+qe$2(ac-rc,2)),(uc||dc)&&(fc=uc+dc,uc=mc*uc/fc,dc=mc*dc/fc,ic-=u,ac-=tc,oc=nc-uc*ic,sc=rc-uc*ac,h===2?Wn||a.push(ss$1,oc,sc,nc,rc):a.push(es$1,cc,lc,oc,sc,nc,rc),cc=nc+dc*ic,lc=rc+dc*ac);Wn||a.push(ss$1,cc,lc,ec[pc-2],ec[pc-1])}else for(let u=2,h=ec.length;u<h;u+=2)a.push(ts$1,ec[u],ec[u+1]);Wn&&a.push(rs)},rect(a,u,h,Wn,ec){Re$2.creator.path=a,Re$2.creator.moveTo(u,h).lineTo(u+Wn,h).lineTo(u+Wn,h+ec).lineTo(u,h+ec).lineTo(u,h)},roundRect(a,u,h,Wn,ec,tc){Re$2.creator.path=[],De$2.drawRoundRect(Re$2.creator,u,h,Wn,ec,tc),a.push(...Re$2.convertToCanvasData(Re$2.creator.path,!0))},arcTo(a,u,h,Wn,ec,tc,nc,rc,ic,ac,oc){let sc=Wn-u,cc=ec-h,lc=tc-Wn,uc=nc-ec,dc=Ue$2(cc,sc),fc=Ue$2(uc,lc),pc=Fe$2(sc,cc),mc=Fe$2(lc,uc),hc=fc-dc;if(hc<0&&(hc+=X$1),pc<1e-12||mc<1e-12||hc<1e-12||He$2(hc-Ge$2)<1e-12)return a&&a.push(ts$1,Wn,ec),ic&&(Qe$2(ic,u,h),Je$1(ic,Wn,ec)),oc&&Ze$2(oc,u,h),void(ac&&Ze$2(ac,Wn,ec));let gc=sc*uc-lc*cc<0,_c=gc?-1:1,vc=rc/ze$2(hc/2),yc=Wn+vc*ze$2(dc+hc/2+z$1*_c),bc=ec+vc*Xe$2(dc+hc/2+z$1*_c);return dc-=z$1*_c,fc-=z$1*_c,hs(a,yc,bc,rc,rc,0,dc/D,fc/D,gc,ic,ac,oc)},arc:(a,u,h,Wn,ec,tc,nc,rc,ic,ac)=>hs(a,u,h,Wn,Wn,0,ec,tc,nc,rc,ic,ac),ellipse(a,u,h,Wn,ec,tc,nc,rc,ic,ac,oc,sc){let cc=tc*D,lc=Xe$2(cc),uc=ze$2(cc),dc=nc*D,fc=rc*D;dc>Ge$2&&(dc-=X$1),fc<0&&(fc+=X$1);let pc=fc-dc;pc<0?pc+=X$1:pc>X$1&&(pc-=X$1),ic&&(pc-=X$1);let mc=je$2(He$2(pc/z$1)),hc=pc/mc,gc=Xe$2(hc/4),_c=8/3*gc*gc/Xe$2(hc/2);fc=dc+hc;let vc,yc,bc,xc,Sc,Cc,wc,Tc,Ec=ze$2(dc),Dc=Xe$2(dc),Oc=bc=uc*Wn*Ec-lc*ec*Dc,kc=xc=lc*Wn*Ec+uc*ec*Dc,Ac=u+bc,jc=h+xc;a&&a.push(a.length?ts$1:Ke$2,Ac,jc),ac&&Qe$2(ac,Ac,jc),sc&&Ze$2(sc,Ac,jc);for(let tc=0;tc<mc;tc++)vc=ze$2(fc),yc=Xe$2(fc),bc=uc*Wn*vc-lc*ec*yc,xc=lc*Wn*vc+uc*ec*yc,Sc=u+Oc-_c*(uc*Wn*Dc+lc*ec*Ec),Cc=h+kc-_c*(lc*Wn*Dc-uc*ec*Ec),wc=u+bc+_c*(uc*Wn*yc+lc*ec*vc),Tc=h+xc+_c*(lc*Wn*yc-uc*ec*vc),a&&a.push(es$1,Sc,Cc,wc,Tc,u+bc,h+xc),ac&&as(u+Oc,h+kc,Sc,Cc,wc,Tc,u+bc,h+xc,ac,!0),Oc=bc,kc=xc,Ec=vc,Dc=yc,dc=fc,fc+=hc;oc&&Ze$2(oc,u+bc,h+xc)},quadraticCurveTo(a,u,h,Wn,ec,tc,nc){a.push(es$1,(u+2*Wn)/3,(h+2*ec)/3,(tc+2*Wn)/3,(nc+2*ec)/3,tc,nc)},toTwoPointBoundsByQuadraticCurve(a,u,h,Wn,ec,tc,nc,rc){as(a,u,(a+2*h)/3,(u+2*Wn)/3,(ec+2*h)/3,(tc+2*Wn)/3,ec,tc,nc,rc)},toTwoPointBounds(a,u,h,Wn,ec,tc,nc,rc,ic,ac){let oc=[],sc,cc,lc,uc,dc,fc,pc,mc,hc=a,gc=h,_c=ec,vc=nc;for(let a=0;a<2;++a)if(a==1&&(hc=u,gc=Wn,_c=tc,vc=rc),sc=-3*hc+9*gc-9*_c+3*vc,cc=6*hc-12*gc+6*_c,lc=3*gc-3*hc,Math.abs(sc)<1e-12){if(Math.abs(cc)<1e-12)continue;uc=-lc/cc,0<uc&&uc<1&&oc.push(uc)}else pc=cc*cc-4*lc*sc,mc=Math.sqrt(pc),pc<0||(dc=(-cc+mc)/(2*sc),0<dc&&dc<1&&oc.push(dc),fc=(-cc-mc)/(2*sc),0<fc&&fc<1&&oc.push(fc));ac?Je$1(ic,a,u):Qe$2(ic,a,u),Je$1(ic,nc,rc);for(let ac=0,sc=oc.length;ac<sc;ac++)os(oc[ac],a,u,h,Wn,ec,tc,nc,rc,is$1),Je$1(ic,is$1.x,is$1.y)},getPointAndSet(a,u,h,Wn,ec,tc,nc,rc,ic,ac){let oc=1-a,sc=oc*oc*oc,cc=3*oc*oc*a,lc=3*oc*a*a,uc=a*a*a;ac.x=sc*u+cc*Wn+lc*tc+uc*rc,ac.y=sc*h+cc*ec+lc*nc+uc*ic},getPoint(a,u,h,Wn,ec,tc,nc,rc,ic){let ac={};return os(a,u,h,Wn,ec,tc,nc,rc,ic,ac),ac},getDerivative(a,u,h,Wn,ec){let tc=1-a;return 3*tc*tc*(h-u)+6*tc*a*(Wn-h)+3*a*a*(ec-Wn)}},{getPointAndSet:os,toTwoPointBounds:as,ellipse:hs}=ns$1,{sin:ls,cos:ds,sqrt:us,atan2:cs}=Math,{ellipse:_s}=ns$1,ps={ellipticalArc(a,u,h,Wn,ec,tc,nc,rc,ic,ac,oc){let sc=(ic-u)/2,cc=(ac-h)/2,lc=tc*D,uc=ls(lc),dc=ds(lc),fc=-dc*sc-uc*cc,pc=-dc*cc+uc*sc,mc=Wn*Wn,hc=ec*ec,gc=pc*pc,_c=fc*fc,vc=mc*hc-mc*gc-hc*_c,yc=0;if(vc<0){let a=us(1-vc/(mc*hc));Wn*=a,ec*=a}else yc=(nc===rc?-1:1)*us(vc/(mc*gc+hc*_c));let bc=yc*Wn*pc/ec,xc=-yc*ec*fc/Wn,Sc=cs((pc-xc)/ec,(fc-bc)/Wn),Cc=cs((-pc-xc)/ec,(-fc-bc)/Wn),wc=Cc-Sc;rc===0&&wc>0?wc-=X$1:rc===1&&wc<0&&(wc+=X$1);let Tc=u+sc+dc*bc-uc*xc,Ec=h+cc+uc*bc+dc*xc,Dc=wc<0?1:0;oc||m.ellipseToCurve?_s(a,Tc,Ec,Wn,ec,tc,Sc/D,Cc/D,Dc):Wn!==ec||tc?a.push(Ee$2.G,Tc,Ec,Wn,ec,tc,Sc/D,Cc/D,Dc):a.push(Ee$2.O,Tc,Ec,Wn,Sc/D,Cc/D,Dc)}},{M:fs,m:gs,L:ys,l:ms,H:xs,h:ws,V:bs,v:Bs,C:vs,c:ks,S:Cs,s:Os,Q:Ts,q:Ps,T:Ss,t:Rs,A:Ls,a:Es,Z:Is,z:Ms,N:As,D:Ws,X:Ns,G:Ys,F:Ds,O:Xs,P:zs,U:Fs}=Ee$2,{rect:Us,roundRect:js,arcTo:Hs,arc:Gs,ellipse:Vs,quadraticCurveTo:qs}=ns$1,{ellipticalArc:Qs}=ps,Js=$t$2.get(`PathConvert`),Zs={},$s={current:{dot:0},stringify(a,u){let h,Wn,ec,tc=0,nc=a.length,rc=``;for(;tc<nc;){Wn=a[tc],h=Ye$2[Wn],rc+=Wn===ec?` `:Ne$2[Wn];for(let Wn=1;Wn<h;Wn++)rc+=N$1.float(a[tc+Wn],u),Wn===h-1||(rc+=` `);ec=Wn,tc+=h}return rc},parse(a,u){let h,Wn,ec,tc=``,nc=[],rc=u?Ae$2:Me$2;for(let u=0,ic=a.length;u<ic;u++)Wn=a[u],Jt$2[Wn]?(Wn===`.`&&(Ks.dot&&(tr(nc,tc),tc=``),Ks.dot++),tc===`0`&&Wn!==`.`&&(tr(nc,tc),tc=``),tc+=Wn):Ee$2[Wn]?(tc&&=(tr(nc,tc),``),Ks.name=Ee$2[Wn],Ks.length=Ie$2[Wn],Ks.index=0,tr(nc,Ks.name),!h&&rc[Wn]&&(h=!0)):Wn===`-`||Wn===`+`?ec===`e`||ec===`E`?tc+=Wn:(tc&&tr(nc,tc),tc=Wn):tc&&=(tr(nc,tc),``),ec=Wn;return tc&&tr(nc,tc),h?$s.toCanvasData(nc,u):nc},toCanvasData(a,u){let h,Wn,ec,tc,nc,rc=0,ic=0,ac=0,oc=0,sc=0,cc=a.length,lc=[];for(;sc<cc;){switch(ec=a[sc],ec){case gs:a[sc+1]+=rc,a[sc+2]+=ic;case fs:rc=a[sc+1],ic=a[sc+2],lc.push(fs,rc,ic),sc+=3;break;case ws:a[sc+1]+=rc;case xs:rc=a[sc+1],lc.push(ys,rc,ic),sc+=2;break;case Bs:a[sc+1]+=ic;case bs:ic=a[sc+1],lc.push(ys,rc,ic),sc+=2;break;case ms:a[sc+1]+=rc,a[sc+2]+=ic;case ys:rc=a[sc+1],ic=a[sc+2],lc.push(ys,rc,ic),sc+=3;break;case Os:a[sc+1]+=rc,a[sc+2]+=ic,a[sc+3]+=rc,a[sc+4]+=ic,ec=Cs;case Cs:nc=tc===vs||tc===Cs,ac=nc?2*rc-h:a[sc+1],oc=nc?2*ic-Wn:a[sc+2],h=a[sc+1],Wn=a[sc+2],rc=a[sc+3],ic=a[sc+4],lc.push(vs,ac,oc,h,Wn,rc,ic),sc+=5;break;case ks:a[sc+1]+=rc,a[sc+2]+=ic,a[sc+3]+=rc,a[sc+4]+=ic,a[sc+5]+=rc,a[sc+6]+=ic,ec=vs;case vs:h=a[sc+3],Wn=a[sc+4],rc=a[sc+5],ic=a[sc+6],lc.push(vs,a[sc+1],a[sc+2],h,Wn,rc,ic),sc+=7;break;case Rs:a[sc+1]+=rc,a[sc+2]+=ic,ec=Ss;case Ss:nc=tc===Ts||tc===Ss,h=nc?2*rc-h:a[sc+1],Wn=nc?2*ic-Wn:a[sc+2],u?qs(lc,rc,ic,h,Wn,a[sc+1],a[sc+2]):lc.push(Ts,h,Wn,a[sc+1],a[sc+2]),rc=a[sc+1],ic=a[sc+2],sc+=3;break;case Ps:a[sc+1]+=rc,a[sc+2]+=ic,a[sc+3]+=rc,a[sc+4]+=ic,ec=Ts;case Ts:h=a[sc+1],Wn=a[sc+2],u?qs(lc,rc,ic,h,Wn,a[sc+3],a[sc+4]):lc.push(Ts,h,Wn,a[sc+3],a[sc+4]),rc=a[sc+3],ic=a[sc+4],sc+=5;break;case Es:a[sc+6]+=rc,a[sc+7]+=ic;case Ls:Qs(lc,rc,ic,a[sc+1],a[sc+2],a[sc+3],a[sc+4],a[sc+5],a[sc+6],a[sc+7],u),rc=a[sc+6],ic=a[sc+7],sc+=8;break;case Ms:case Is:lc.push(Is),sc++;break;case As:rc=a[sc+1],ic=a[sc+2],u?Us(lc,rc,ic,a[sc+3],a[sc+4]):er(lc,a,sc,5),sc+=5;break;case Ws:rc=a[sc+1],ic=a[sc+2],u?js(lc,rc,ic,a[sc+3],a[sc+4],[a[sc+5],a[sc+6],a[sc+7],a[sc+8]]):er(lc,a,sc,9),sc+=9;break;case Ns:rc=a[sc+1],ic=a[sc+2],u?js(lc,rc,ic,a[sc+3],a[sc+4],a[sc+5]):er(lc,a,sc,6),sc+=6;break;case Ys:Vs(u?lc:er(lc,a,sc,9),a[sc+1],a[sc+2],a[sc+3],a[sc+4],a[sc+5],a[sc+6],a[sc+7],a[sc+8],null,Zs),rc=Zs.x,ic=Zs.y,sc+=9;break;case Ds:u?Vs(lc,a[sc+1],a[sc+2],a[sc+3],a[sc+4],0,0,360,!1):er(lc,a,sc,5),rc=a[sc+1]+a[sc+3],ic=a[sc+2],sc+=5;break;case Xs:Gs(u?lc:er(lc,a,sc,7),a[sc+1],a[sc+2],a[sc+3],a[sc+4],a[sc+5],a[sc+6],null,Zs),rc=Zs.x,ic=Zs.y,sc+=7;break;case zs:u?Gs(lc,a[sc+1],a[sc+2],a[sc+3],0,360,!1):er(lc,a,sc,4),rc=a[sc+1]+a[sc+3],ic=a[sc+2],sc+=4;break;case Fs:Hs(u?lc:er(lc,a,sc,6),rc,ic,a[sc+1],a[sc+2],a[sc+3],a[sc+4],a[sc+5],null,Zs),rc=Zs.x,ic=Zs.y,sc+=6;break;default:return Js.error(`command: ${ec} [index:${sc}]`,a),lc}tc=ec}return lc},objectToCanvasData(a){let u=[];return a.forEach(a=>{switch(a.name){case`M`:u.push(fs,a.x,a.y);break;case`L`:u.push(ys,a.x,a.y);break;case`C`:u.push(vs,a.x1,a.y1,a.x2,a.y2,a.x,a.y);break;case`Q`:u.push(Ts,a.x1,a.y1,a.x,a.y);break;case`Z`:u.push(Is)}}),u},copyData(a,u,h,Wn){for(let ec=h,tc=h+Wn;ec<tc;ec++)a.push(u[ec])},pushData(a,u){Ks.index===Ks.length&&(Ks.index=1,a.push(Ks.name)),a.push(Number(u)),Ks.index++,Ks.dot=0}},{current:Ks,pushData:tr,copyData:er}=$s,{M:sr,L:rr,C:ir,Q:nr,Z:or,N:ar,D:hr,X:lr,G:dr,F:ur,O:cr,P:_r,U:pr}=Ee$2,{getMinDistanceFrom:fr,getRadianFrom:gr}=lt$2,{tan:yr,min:mr,abs:xr}=Math,wr={},br={beginPath(a){a.length=0},moveTo(a,u,h){a.push(sr,u,h)},lineTo(a,u,h){a.push(rr,u,h)},bezierCurveTo(a,u,h,Wn,ec,tc,nc){a.push(ir,u,h,Wn,ec,tc,nc)},quadraticCurveTo(a,u,h,Wn,ec){a.push(nr,u,h,Wn,ec)},closePath(a){a.push(or)},rect(a,u,h,Wn,ec){a.push(ar,u,h,Wn,ec)},roundRect(a,u,h,Wn,ec,tc){if(o(tc))a.push(lr,u,h,Wn,ec,tc);else{let nc=N$1.fourNumber(tc);nc?a.push(hr,u,h,Wn,ec,...nc):a.push(ar,u,h,Wn,ec)}},ellipse(a,u,h,Wn,ec,tc,nc,rc,ic){r(tc)?a.push(ur,u,h,Wn,ec):(r(nc)&&(nc=0),r(rc)&&(rc=360),a.push(dr,u,h,Wn,ec,tc,nc,rc,ic?1:0))},arc(a,u,h,Wn,ec,tc,nc){r(ec)?a.push(_r,u,h,Wn):(r(tc)&&(tc=360),a.push(cr,u,h,Wn,ec,tc,nc?1:0))},arcTo(a,u,h,Wn,ec,tc,nc,rc){if(!s(nc)){let a=fr(nc,rc,u,h,Wn,ec);tc=mr(tc,mr(a/2,a/2*xr(yr(gr(nc,rc,u,h,Wn,ec)/2))))}a.push(pr,u,h,Wn,ec,tc)},drawEllipse(a,u,h,Wn,ec,tc,nc,rc,ic){ns$1.ellipse(null,u,h,Wn,ec,r(tc)?0:tc,r(nc)?0:nc,r(rc)?360:rc,ic,null,null,wr),a.push(sr,wr.x,wr.y),Br(a,u,h,Wn,ec,tc,nc,rc,ic)},drawArc(a,u,h,Wn,ec,tc,nc){ns$1.arc(null,u,h,Wn,r(ec)?0:ec,r(tc)?360:tc,nc,null,null,wr),a.push(sr,wr.x,wr.y),vr(a,u,h,Wn,ec,tc,nc)},drawPoints(a,u,h,Wn){ns$1.points(a,u,h,Wn)}},{ellipse:Br,arc:vr}=br,{moveTo:kr,lineTo:Cr,quadraticCurveTo:Or,bezierCurveTo:Tr,closePath:Pr,beginPath:Sr,rect:Rr,roundRect:Lr,ellipse:Er,arc:Ir,arcTo:Mr,drawEllipse:Ar,drawArc:Wr,drawPoints:Nr}=br,Yr=class{set path(a){this.__path=a}get path(){return this.__path}constructor(a){this.set(a)}set(a){return this.__path=a?i(a)?Re$2.parse(a):a:[],this}beginPath(){return Sr(this.__path),this.paint(),this}moveTo(a,u){return kr(this.__path,a,u),this.paint(),this}lineTo(a,u){return Cr(this.__path,a,u),this.paint(),this}bezierCurveTo(a,u,h,Wn,ec,tc){return Tr(this.__path,a,u,h,Wn,ec,tc),this.paint(),this}quadraticCurveTo(a,u,h,Wn){return Or(this.__path,a,u,h,Wn),this.paint(),this}closePath(){return Pr(this.__path),this.paint(),this}rect(a,u,h,Wn){return Rr(this.__path,a,u,h,Wn),this.paint(),this}roundRect(a,u,h,Wn,ec){return Lr(this.__path,a,u,h,Wn,ec),this.paint(),this}ellipse(a,u,h,Wn,ec,tc,nc,rc){return Er(this.__path,a,u,h,Wn,ec,tc,nc,rc),this.paint(),this}arc(a,u,h,Wn,ec,tc){return Ir(this.__path,a,u,h,Wn,ec,tc),this.paint(),this}arcTo(a,u,h,Wn,ec){return Mr(this.__path,a,u,h,Wn,ec),this.paint(),this}drawEllipse(a,u,h,Wn,ec,tc,nc,rc){return Ar(this.__path,a,u,h,Wn,ec,tc,nc,rc),this.paint(),this}drawArc(a,u,h,Wn,ec,tc){return Wr(this.__path,a,u,h,Wn,ec,tc),this.paint(),this}drawPoints(a,u,h){return Nr(this.__path,a,u,h),this.paint(),this}clearPath(){return this.beginPath()}paint(){}},{M:Dr,L:Xr,C:zr,Q:Fr,Z:Ur,N:jr,D:Hr,X:Gr,G:Vr,F:qr,O:Qr,P:Jr,U:Zr}=Ee$2,$r=$t$2.get(`PathDrawer`),Kr={drawPathByData(a,u){if(!u)return;let h,Wn=0,ec=u.length;for(;Wn<ec;)switch(h=u[Wn],h){case Dr:a.moveTo(u[Wn+1],u[Wn+2]),Wn+=3;break;case Xr:a.lineTo(u[Wn+1],u[Wn+2]),Wn+=3;break;case zr:a.bezierCurveTo(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4],u[Wn+5],u[Wn+6]),Wn+=7;break;case Fr:a.quadraticCurveTo(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4]),Wn+=5;break;case Ur:a.closePath(),Wn+=1;break;case jr:a.rect(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4]),Wn+=5;break;case Hr:a.roundRect(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4],[u[Wn+5],u[Wn+6],u[Wn+7],u[Wn+8]]),Wn+=9;break;case Gr:a.roundRect(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4],u[Wn+5]),Wn+=6;break;case Vr:a.ellipse(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4],u[Wn+5]*D,u[Wn+6]*D,u[Wn+7]*D,u[Wn+8]),Wn+=9;break;case qr:a.ellipse(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4],0,0,X$1,!1),Wn+=5;break;case Qr:a.arc(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4]*D,u[Wn+5]*D,u[Wn+6]),Wn+=7;break;case Jr:a.arc(u[Wn+1],u[Wn+2],u[Wn+3],0,X$1,!1),Wn+=4;break;case Zr:a.arcTo(u[Wn+1],u[Wn+2],u[Wn+3],u[Wn+4],u[Wn+5]),Wn+=6;break;default:$r.error(`command: ${h} [index:${Wn}]`,u);return}}},{M:ti$2,L:ei$1,C:si$2,Q:ri$2,Z:ii$2,N:ni$2,D:oi$2,X:ai$2,G:hi$2,F:li$1,O:di$2,P:ui$1,U:ci$1}=Ee$2,{toTwoPointBounds:_i$2,toTwoPointBoundsByQuadraticCurve:pi$1,arcTo:fi$1,arc:gi$1,ellipse:yi$1}=ns$1,{addPointBounds:mi$1,copy:xi$1,addPoint:wi$1,setPoint:bi$1,addBounds:Bi$1,toBounds:vi$1}=mt$3,ki$1=$t$2.get(`PathBounds`),Ci$1,Oi$1,Ti$1,Pi$1={},Si$1={},Ri$1={},Li$1={toBounds(a,u){Li$1.toTwoPointBounds(a,Si$1),vi$1(Si$1,u)},toTwoPointBounds(a,u){if(!a||!a.length)return bi$1(u,0,0);let h,Wn,ec,tc,nc,rc=0,ic=0,ac=0,oc=a.length;for(;rc<oc;)switch(nc=a[rc],rc===0&&(nc===ii$2||nc===si$2||nc===ri$2?bi$1(u,ic,ac):bi$1(u,a[rc+1],a[rc+2])),nc){case ti$2:case ei$1:ic=a[rc+1],ac=a[rc+2],wi$1(u,ic,ac),rc+=3;break;case si$2:ec=a[rc+5],tc=a[rc+6],_i$2(ic,ac,a[rc+1],a[rc+2],a[rc+3],a[rc+4],ec,tc,Pi$1),mi$1(u,Pi$1),ic=ec,ac=tc,rc+=7;break;case ri$2:h=a[rc+1],Wn=a[rc+2],ec=a[rc+3],tc=a[rc+4],pi$1(ic,ac,h,Wn,ec,tc,Pi$1),mi$1(u,Pi$1),ic=ec,ac=tc,rc+=5;break;case ii$2:rc+=1;break;case ni$2:ic=a[rc+1],ac=a[rc+2],Bi$1(u,ic,ac,a[rc+3],a[rc+4]),rc+=5;break;case oi$2:case ai$2:ic=a[rc+1],ac=a[rc+2],Bi$1(u,ic,ac,a[rc+3],a[rc+4]),rc+=nc===oi$2?9:6;break;case hi$2:yi$1(null,a[rc+1],a[rc+2],a[rc+3],a[rc+4],a[rc+5],a[rc+6],a[rc+7],a[rc+8],Pi$1,Ri$1),rc===0?xi$1(u,Pi$1):mi$1(u,Pi$1),ic=Ri$1.x,ac=Ri$1.y,rc+=9;break;case li$1:ic=a[rc+1],ac=a[rc+2],Oi$1=a[rc+3],Ti$1=a[rc+4],Bi$1(u,ic-Oi$1,ac-Ti$1,2*Oi$1,2*Ti$1),ic+=Oi$1,rc+=5;break;case di$2:gi$1(null,a[rc+1],a[rc+2],a[rc+3],a[rc+4],a[rc+5],a[rc+6],Pi$1,Ri$1),rc===0?xi$1(u,Pi$1):mi$1(u,Pi$1),ic=Ri$1.x,ac=Ri$1.y,rc+=7;break;case ui$1:ic=a[rc+1],ac=a[rc+2],Ci$1=a[rc+3],Bi$1(u,ic-Ci$1,ac-Ci$1,2*Ci$1,2*Ci$1),ic+=Ci$1,rc+=4;break;case ci$1:fi$1(null,ic,ac,a[rc+1],a[rc+2],a[rc+3],a[rc+4],a[rc+5],Pi$1,Ri$1),rc===0?xi$1(u,Pi$1):mi$1(u,Pi$1),ic=Ri$1.x,ac=Ri$1.y,rc+=6;break;default:ki$1.error(`command: ${nc} [index:${rc}]`,a);return}}},{M:Ei$1,L:Ii$1,Z:Mi$1}=Ee$2,{getCenterX:Ai$1,getCenterY:Wi$1}=lt$2,{arcTo:Ni$1}=br,Yi$1={smooth(a,u,h){let Wn,ec,tc,nc=0,rc=0,ic=0,ac=0,oc=0,sc=0,cc=0,lc=0,uc=0,dc=a.length,fc=[];for(;nc<dc;){switch(Wn=a[nc],Wn){case Ei$1:ac=lc=a[nc+1],oc=uc=a[nc+2],nc+=3,a[nc]===Ii$1?(sc=a[nc+1],cc=a[nc+2],fc.push(Ei$1,Ai$1(ac,sc),Wi$1(oc,cc))):fc.push(Ei$1,ac,oc);break;case Ii$1:switch(rc=a[nc+1],ic=a[nc+2],nc+=3,a[nc]){case Ii$1:Ni$1(fc,rc,ic,a[nc+1],a[nc+2],u,lc,uc);break;case Mi$1:Ni$1(fc,rc,ic,ac,oc,u,lc,uc);break;default:fc.push(Ii$1,rc,ic)}lc=rc,uc=ic;break;case Mi$1:ec!==Mi$1&&(Ni$1(fc,ac,oc,sc,cc,u,lc,uc),fc.push(Mi$1)),nc+=1;break;default:tc=Ye$2[Wn];for(let u=0;u<tc;u++)fc.push(a[nc+u]);nc+=tc}ec=Wn}return Wn!==Mi$1&&(fc[1]=ac,fc[2]=oc),fc}};function Di$1(a){return new Yr(a)}var Xi$1=Di$1();Re$2.creator=Di$1(),Re$2.parse=$s.parse,Re$2.convertToCanvasData=$s.toCanvasData;var{drawRoundRect:zi$1}=De$2;function Fi$1(a){(function(a){a&&!a.roundRect&&(a.roundRect=function(a,u,h,Wn,ec){zi$1(this,a,u,h,Wn,ec)})})(a)}var Ui$1={alphaPixelTypes:[`png`,`webp`,`svg`],upperCaseTypeMap:{},mineType:a=>!a||a.startsWith(`image`)?a:(a===`jpg`&&(a=`jpeg`),`image/`+a),fileType(a){let u=a.split(`.`);return u[u.length-1]},isOpaqueImage(a){let u=ji$1.fileType(a);return[`jpg`,`jpeg`].some(a=>a===u)},getExportOptions(a){switch(typeof a){case`object`:return a;case`number`:return{quality:a};case`boolean`:return{blob:a};default:return{}}}},ji$1=Ui$1;ji$1.alphaPixelTypes.forEach(a=>ji$1.upperCaseTypeMap[a]=a.toUpperCase());var Hi$1=$t$2.get(`TaskProcessor`),Gi$1=class{constructor(a){this.parallel=!0,this.time=1,this.id=w.create(w.TASK),this.task=a}run(){return fe$2(this,void 0,void 0,function*(){try{if(this.isComplete)return;if(this.canUse&&!this.canUse())return this.cancel();this.task&&this.parent.running&&(yield this.task())}catch(a){Hi$1.error(a)}})}complete(){this.isComplete=!0,this.parent=this.task=this.canUse=null}cancel(){this.isCancel=!0,this.complete()}},Vi$1=class{get total(){return this.list.length+this.delayNumber}get finishedIndex(){return this.isComplete?0:this.index+this.parallelSuccessNumber}get remain(){return this.isComplete?this.total:this.total-this.finishedIndex}get percent(){let{total:a}=this,u=0,h=0;for(let Wn=0;Wn<a;Wn++)Wn<=this.finishedIndex?(h+=this.list[Wn].time,Wn===this.finishedIndex&&(u=h)):u+=this.list[Wn].time;return this.isComplete?1:h/u}constructor(a){this.config={parallel:6},this.list=[],this.running=!1,this.isComplete=!0,this.index=0,this.delayNumber=0,a&&_.assign(this.config,a),this.empty()}add(a,u,h){let Wn,ec,tc,nc,rc=new Gi$1(a);return rc.parent=this,o(u)?nc=u:u&&(ec=u.parallel,Wn=u.start,tc=u.time,nc=u.delay,h||=u.canUse),tc&&(rc.time=tc),!1===ec&&(rc.parallel=!1),h&&(rc.canUse=h),s(nc)?this.push(rc,Wn):(this.delayNumber++,setTimeout(()=>{this.delayNumber&&(this.delayNumber--,this.push(rc,Wn))},nc)),this.isComplete=!1,rc}push(a,u){this.list.push(a),!1===u||this.timer||(this.timer=setTimeout(()=>this.start()))}empty(){this.index=0,this.parallelSuccessNumber=0,this.list=[],this.parallelList=[],this.delayNumber=0}start(){this.running||(this.running=!0,this.isComplete=!1,this.run())}pause(){clearTimeout(this.timer),this.timer=null,this.running=!1}resume(){this.start()}skip(){this.index++,this.resume()}stop(){this.isComplete=!0,this.list.forEach(a=>{a.isComplete||a.cancel()}),this.pause(),this.empty()}run(){this.running&&(this.setParallelList(),this.parallelList.length>1?this.runParallelTasks():this.remain?this.runTask():this.onComplete())}runTask(){let a=this.list[this.index];a?a.run().then(()=>{this.onTask(a),this.index++,a.isCancel?this.runTask():this.nextTask()}).catch(a=>{this.onError(a)}):this.timer=setTimeout(()=>this.nextTask())}runParallelTasks(){this.parallelList.forEach(a=>this.runParallelTask(a))}runParallelTask(a){a.run().then(()=>{this.onTask(a),this.fillParallelTask()}).catch(a=>{this.onParallelError(a)})}nextTask(){this.total===this.finishedIndex?this.onComplete():this.timer=setTimeout(()=>this.run())}setParallelList(){let a,{config:u,list:h,index:Wn}=this;this.parallelList=[],this.parallelSuccessNumber=0;let ec=Wn+u.parallel;if(ec>h.length&&(ec=h.length),u.parallel>1)for(let u=Wn;u<ec&&(a=h[u],a.parallel);u++)this.parallelList.push(a)}fillParallelTask(){let a,u=this.parallelList;this.parallelSuccessNumber++,u.pop();let h=u.length,Wn=this.finishedIndex+h;if(u.length){if(!this.running)return;Wn<this.total&&(a=this.list[Wn],a&&a.parallel&&(u.push(a),this.runParallelTask(a)))}else this.index+=this.parallelSuccessNumber,this.parallelSuccessNumber=0,this.nextTask()}onComplete(){this.stop(),this.config.onComplete&&this.config.onComplete()}onTask(a){a.complete(),this.config.onTask&&this.config.onTask()}onParallelError(a){this.parallelList.forEach(a=>{a.parallel=!1}),this.parallelList.length=0,this.parallelSuccessNumber=0,this.onError(a)}onError(a){this.pause(),this.config.onError&&this.config.onError(a)}destroy(){this.stop()}},qi$1=$t$2.get(`Resource`),Qi$1={tasker:new Vi$1,map:{},get isComplete(){return Ji$1.tasker.isComplete},set(a,u){Ji$1.map[a]&&qi$1.repeat(a),Ji$1.map[a]=u},get:a=>Ji$1.map[a],remove(a){let u=Ji$1.map[a];u&&(u.destroy&&u.destroy(),delete Ji$1.map[a])},loadImage(a,u){return new Promise((h,Wn)=>{let ec=this.setImage(a,a,u);ec.load(()=>h(ec),a=>Wn(a))})},setImage(a,u,h){let Wn;return i(u)?Wn={url:u}:u.url||(Wn={url:a,view:u}),Wn&&(h&&(Wn.format=h),u=oe$2.image(Wn)),Ji$1.set(a,u),u},destroy(){Ji$1.map={}}},Ji$1=Qi$1,Zi$1={maxRecycled:10,recycledList:[],patternTasker:new Vi$1,get(a){let u=Qi$1.get(a.url);return u||Qi$1.set(a.url,u=oe$2.image(a)),u.use++,u},recycle(a){a.use--,setTimeout(()=>{a.use||$i$1.recycledList.push(a)})},clearRecycled(){let a=$i$1.recycledList;a.length>$i$1.maxRecycled&&(a.forEach(a=>!a.use&&a.url&&Qi$1.remove(a.url)),a.length=0)},hasAlphaPixel:a=>Ui$1.alphaPixelTypes.some(u=>$i$1.isFormat(u,a)),isFormat(a,u){if(u.format)return u.format===a;let{url:h}=u;if(h.startsWith(`data:`)){if(h.startsWith(`data:`+Ui$1.mineType(a)))return!0}else if(h.includes(`.`+a)||h.includes(`.`+Ui$1.upperCaseTypeMap[a])||a===`png`&&!h.includes(`.`))return!0;return!1},destroy(){$i$1.recycledList=[]}},$i$1=Zi$1,{IMAGE:Ki$1,create:tn}=w,en=class{get url(){return this.config.url}get completed(){return this.ready||!!this.error}constructor(a){if(this.use=0,this.waitComplete=[],this.innerId=tn(Ki$1),this.config=a||={url:``},a.view){let{view:u}=a;this.setView(u.config?u.view:u)}Zi$1.isFormat(`svg`,a)&&(this.isSVG=!0),Zi$1.hasAlphaPixel(a)&&(this.hasAlphaPixel=!0)}load(a,u){if(!this.loading){this.loading=!0;let{crossOrigin:a}=this.config;Qi$1.tasker.add(()=>fe$2(this,void 0,void 0,function*(){return yield m.origin.loadImage(this.url,s(a)?m.image.crossOrigin:a,this).then(a=>this.setView(a)).catch(a=>{this.error=a,this.onComplete(!1)})}))}return this.waitComplete.push(a,u),this.waitComplete.length-2}unload(a,u){let h=this.waitComplete;if(u){let u=h[a+1];u&&u({type:`stop`})}h[a]=h[a+1]=void 0}setView(a){this.ready=!0,this.width=a.naturalWidth||a.width,this.height=a.naturalHeight||a.height,this.view=a,this.onComplete(!0)}onComplete(a){let u;this.waitComplete.forEach((h,Wn)=>{u=Wn%2,h&&(a?u||h(this):u&&h(this.error))}),this.waitComplete.length=0,this.loading=!1}getFull(a){return this.view}getCanvas(a,u,h,Wn,ec,tc,nc){if(a||=this.width,u||=this.height,this.cache){let{params:a,data:u}=this.cache;for(let h in a)if(a[h]!==arguments[h]){u=null;break}if(u)return u}let rc=m.image.resize(this.view,a,u,ec,tc,void 0,nc,h,Wn);return this.cache=this.use>1?{data:rc,params:arguments}:null,rc}getPattern(a,u,h,Wn){let ec=m.canvas.createPattern(a,u);return m.image.setPatternTransform(ec,h,Wn),ec}destroy(){this.config={url:``},this.cache=null,this.waitComplete.length=0}};function sn(a,u,h,Wn){Wn||(h.configurable=h.enumerable=!0),Object.defineProperty(a,u,h)}function rn(a,u){return Object.getOwnPropertyDescriptor(a,u)}function nn(a,u){let h=`_`+a;return{get(){return this[h]??u},set(a){this[h]=a}}}function on(a,u){return(h,Wn)=>hn(h,Wn,a,u&&u(Wn))}function an(a){return a}function hn(a,u,h,Wn){sn(a,u,Object.assign({get(){return this.__getAttr(u)},set(a){this.__setAttr(u,a)}},Wn||{})),Nn(a,u,h)}function ln(a){return on(a)}function dn(a,u){return on(a,a=>({set(h){this.__setAttr(a,h,u)&&(this.__layout.matrixChanged||this.__layout.matrixChange())}}))}function un(a,u){return on(a,a=>({set(h){this.__setAttr(a,h,u)&&(this.__layout.matrixChanged||this.__layout.matrixChange(),this.__scrollWorld||={})}}))}function cn(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(this.__hasAutoLayout=!!(this.origin||this.around||this.flow),this.__local||this.__layout.createLocal(),yn(this))}}))}function _n(a,u){return on(a,a=>({set(h){this.__setAttr(a,h,u)&&(this.__layout.scaleChanged||this.__layout.scaleChange())}}))}function pn(a,u){return on(a,a=>({set(h){this.__setAttr(a,h,u)&&(this.__layout.rotationChanged||this.__layout.rotationChange())}}))}function fn(a,u){return on(a,a=>({set(h){this.__setAttr(a,h,u)&&yn(this)}}))}function gn(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(yn(this),this.__.__removeNaturalSize())}}))}function yn(a){a.__layout.boxChanged||a.__layout.boxChange(),a.__hasAutoLayout&&(a.__layout.matrixChanged||a.__layout.matrixChange())}function mn(a){return on(a,a=>({set(u){let h=this.__;h.__pathInputed!==2&&(h.__pathInputed=u?1:0),u||(h.__pathForRender=void 0),this.__setAttr(a,u),yn(this)}}))}var xn=fn;function wn(a,u){return on(a,a=>({set(h){this.__setAttr(a,h)&&(bn(this),u&&(this.__.__useStroke=!0))}}))}function bn(a){a.__layout.strokeChanged||a.__layout.strokeChange(),a.__.__useArrow&&yn(a)}var Bn=wn;function vn(a){return on(a,a=>({set(u){this.__setAttr(a,u),this.__layout.renderChanged||this.__layout.renderChange()}}))}function kn(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(this.__layout.surfaceChanged||this.__layout.surfaceChange())}}))}function Cn(a){return on(a,a=>({set(u){if(this.__setAttr(a,u)){let a=this.__;_.stintSet(a,`__useDim`,a.dim||a.bright||a.dimskip),this.__layout.surfaceChange()}}}))}function On(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(this.__layout.opacityChanged||this.__layout.opacityChange()),this.mask&&Pn(this)}}))}function Tn(a){return on(a,a=>({set(u){let h=this.visible;if(!0===h&&u===0){if(this.animationOut)return this.__runAnimation(`out`,()=>Sn(this,a,u,h))}else h===0&&!0===u&&this.animation&&this.__runAnimation(`in`);Sn(this,a,u,h),this.mask&&Pn(this)}}))}function Pn(a){let{parent:u}=a;if(u){let{__hasMask:a}=u;u.__updateMask(),a!==u.__hasMask&&u.forceUpdate()}}function Sn(a,u,h,Wn){a.__setAttr(u,h)&&(a.__layout.opacityChanged||a.__layout.opacityChange(),Wn!==0&&h!==0||yn(a))}function Rn(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(this.__layout.surfaceChange(),this.waitParent(()=>{this.parent.__layout.childrenSortChange()}))}}))}function Ln(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(this.__layout.boxChanged||this.__layout.boxChange(),this.waitParent(()=>{this.parent.__updateMask(u)}))}}))}function En(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&this.waitParent(()=>{this.parent.__updateEraser(u)})}}))}function In(a){return on(a,a=>({set(u){this.__setAttr(a,u)&&(this.__layout.hitCanvasChanged=!0,$t$2.showBounds===`hit`&&this.__layout.surfaceChange(),this.leafer&&this.leafer.updateCursor())}}))}function Mn(a){return on(a,a=>({set(u){this.__setAttr(a,u),this.leafer&&this.leafer.updateCursor()}}))}function An(a){return(u,h)=>{sn(u,`__DataProcessor`,{get:()=>a})}}function Nn(a,u,h){let Wn=a.__DataProcessor.prototype,ec=`_`+u,tc=function(a){return`set`+a.charAt(0).toUpperCase()+a.slice(1)}(u),nc=nn(u,h);if(s(h))nc.get=function(){return this[ec]};else if(typeof h==`function`)nc.get=function(){return this[ec]??h(this.__leaf)};else if(d(h)){let a=c(h);nc.get=function(){return this[ec]??(this[ec]=a?{}:_.clone(h))}}let rc=a.isBranchLeaf;u===`width`?nc.get=function(){let a=this[ec];if(a==null){let a=this,u=a.__naturalWidth,Wn=a.__leaf;return!h||Wn.pathInputed?Wn.boxBounds.width:u?a._height&&a.__useNaturalRatio?a._height*u/a.__naturalHeight:u:rc&&Wn.children.length?Wn.boxBounds.width:h}return a}:u===`height`&&(nc.get=function(){let a=this[ec];if(a==null){let a=this,u=a.__naturalHeight,Wn=a.__leaf;return!h||Wn.pathInputed?Wn.boxBounds.height:u?a._width&&a.__useNaturalRatio?a._width*u/a.__naturalWidth:u:rc&&Wn.children.length?Wn.boxBounds.height:h}return a});let ic,ac=Wn;for(;!ic&&ac;)ic=rn(ac,u),ac=ac.__proto__;ic&&ic.set&&(nc.set=ic.set),Wn[tc]&&(nc.set=Wn[tc],delete Wn[tc]),sn(Wn,u,nc)}var Yn=new $t$2(`rewrite`),Dn=[],Xn=[`destroy`,`constructor`];function zn(a){return(u,h)=>{Dn.push({name:u.constructor.name+`.`+h,run:()=>{u[h]=a}})}}function Fn(){return a=>{Un()}}function Un(a){Dn.length&&=(Dn.forEach(u=>{a&&Yn.error(u.name,`Class@rewriteAble()`),u.run()}),0)}function jn(a,u){return h=>{var Wn;(a.prototype?(Wn=a.prototype,Object.getOwnPropertyNames(Wn)):Object.keys(a)).forEach(Wn=>{Xn.includes(Wn)||u&&u.includes(Wn)||(a.prototype?rn(a.prototype,Wn).writable&&(h.prototype[Wn]=a.prototype[Wn]):h.prototype[Wn]=a[Wn])})}}function Hn(){return a=>{he$2.register(a)}}function Gn(){return a=>{ue$2.register(a)}}setTimeout(()=>Un(!0));var{copy:Vn,toInnerPoint:qn,toOuterPoint:Qn,scaleOfOuter:Jn,rotateOfOuter:Zn,skewOfOuter:$n,multiplyParent:Kn,divideParent:to,getLayout:eo}=$$1,so={},{round:ro}=Math,io={updateAllMatrix(a,u,h){if(u&&a.__hasAutoLayout&&a.__layout.matrixChanged&&(h=!0),ao(a,u,h),a.isBranch){let{children:Wn}=a;for(let a=0,ec=Wn.length;a<ec;a++)oo(Wn[a],u,h)}},updateMatrix(a,u,h){let Wn=a.__layout;u?h&&(Wn.waitAutoLayout=!0,a.__hasAutoLayout&&(Wn.matrixChanged=!1)):Wn.waitAutoLayout&&=!1,Wn.matrixChanged&&a.__updateLocalMatrix(),Wn.waitAutoLayout||a.__updateWorldMatrix()},updateBounds(a){let u=a.__layout;u.boundsChanged&&a.__updateLocalBounds(),u.waitAutoLayout||a.__updateWorldBounds()},updateAllWorldOpacity(a){if(a.__updateWorldOpacity(),a.isBranch){let{children:u}=a;for(let a=0,h=u.length;a<h;a++)ho(u[a])}},updateChange(a){let u=a.__layout;u.stateStyleChanged&&a.updateState(),u.opacityChanged&&ho(a),a.__updateChange()},updateAllChange(a){if(uo(a),a.isBranch){let{children:u}=a;for(let a=0,h=u.length;a<h;a++)lo(u[a])}},worldHittable(a){for(;a;){if(!a.__.hittable)return!1;a=a.parent}return!0},draggable:a=>(a.draggable||a.editable)&&a.hitSelf&&!a.locked,copyCanvasByWorld(a,u,h,Wn,ec,tc){Wn||=a.__nowWorld,a.__worldFlipped||m.fullImageShadow?u.copyWorldByReset(h,Wn,a.__nowWorld,ec,tc):u.copyWorldToInner(h,Wn,a.__layout.renderBounds,ec)},moveWorld(a,u,h=0,Wn,ec){let tc=d(u)?Object.assign({},u):{x:u,y:h};Wn?Qn(a.localTransform,tc,tc,!0):a.parent&&qn(a.parent.scrollWorldTransform,tc,tc,!0),no.moveLocal(a,tc.x,tc.y,ec)},moveLocal(a,u,h=0,Wn){d(u)&&(h=u.y,u=u.x),u+=a.x,h+=a.y,a.leafer&&a.leafer.config.pointSnap&&(u=ro(u),h=ro(h)),Wn?a.animate({x:u,y:h},Wn):(a.x=u,a.y=h)},zoomOfWorld(a,u,h,Wn,ec,tc){no.zoomOfLocal(a,co(a,u),h,Wn,ec,tc)},zoomOfLocal(a,u,h,Wn=h,ec,tc){let nc=a.__localMatrix;if(o(Wn)||(Wn&&(tc=Wn),Wn=h),Vn(so,nc),Jn(so,u,h,Wn),no.hasHighPosition(a))no.setTransform(a,so,ec,tc);else{let u=a.x+so.e-nc.e,rc=a.y+so.f-nc.f;tc&&!ec?a.animate({x:u,y:rc,scaleX:a.scaleX*h,scaleY:a.scaleY*Wn},tc):(a.x=u,a.y=rc,a.scaleResize(h,Wn,!0!==ec))}},rotateOfWorld(a,u,h,Wn){no.rotateOfLocal(a,co(a,u),h,Wn)},rotateOfLocal(a,u,h,Wn){let ec=a.__localMatrix;Vn(so,ec),Zn(so,u,h),no.hasHighPosition(a)?no.setTransform(a,so,!1,Wn):a.set({x:a.x+so.e-ec.e,y:a.y+so.f-ec.f,rotation:N$1.formatRotation(a.rotation+h)},Wn)},skewOfWorld(a,u,h,Wn,ec,tc){no.skewOfLocal(a,co(a,u),h,Wn,ec,tc)},skewOfLocal(a,u,h,Wn=0,ec,tc){Vn(so,a.__localMatrix),$n(so,u,h,Wn),no.setTransform(a,so,ec,tc)},transformWorld(a,u,h,Wn){Vn(so,a.worldTransform),Kn(so,u),a.parent&&to(so,a.parent.scrollWorldTransform),no.setTransform(a,so,h,Wn)},transform(a,u,h,Wn){Vn(so,a.localTransform),Kn(so,u),no.setTransform(a,so,h,Wn)},setTransform(a,u,h,Wn){let ec=a.__,tc=ec.origin&&no.getInnerOrigin(a,ec.origin),nc=eo(u,tc,ec.around&&no.getInnerOrigin(a,ec.around));if(no.hasOffset(a)&&(nc.x-=ec.offsetX,nc.y-=ec.offsetY),h){let u=nc.scaleX/a.scaleX,h=nc.scaleY/a.scaleY;if(delete nc.scaleX,delete nc.scaleY,tc){Ut$3.scale(a.boxBounds,Math.abs(u),Math.abs(h));let Wn=no.getInnerOrigin(a,ec.origin);lt$2.move(nc,tc.x-Wn.x,tc.y-Wn.y)}a.set(nc),a.scaleResize(u,h,!1)}else a.set(nc,Wn)},getFlipTransform(a,u){let h={a:1,b:0,c:0,d:1,e:0,f:0},Wn=u===`x`?1:-1;return Jn(h,no.getLocalOrigin(a,`center`),-1*Wn,1*Wn),h},getLocalOrigin:(a,u)=>lt$2.tempToOuterOf(no.getInnerOrigin(a,u),a.localTransform),getInnerOrigin(a,u){let h={};return vt$2.toPoint(u,a.boxBounds,h),h},getRelativeWorld:(a,u,h)=>(Vn(so,a.worldTransform),to(so,u.scrollWorldTransform),h?so:Object.assign({},so)),drop(a,u,h,Wn){a.setTransform(no.getRelativeWorld(a,u,!0),Wn),u.add(a,h)},hasHighPosition:a=>a.origin||a.around||no.hasOffset(a),hasOffset:a=>a.offsetX||a.offsetY,hasParent(a,u){if(!u)return!1;for(;a;){if(u===a)return!0;a=a.parent}},animateMove(a,u,h=.3){if(u.x||u.y)if(Math.abs(u.x)<1&&Math.abs(u.y)<1)a.move(u);else{let Wn=u.x*h,ec=u.y*h;u.x-=Wn,u.y-=ec,a.move(Wn,ec),m.requestRender(()=>no.animateMove(a,u,h))}}},no=io,{updateAllMatrix:oo,updateMatrix:ao,updateAllWorldOpacity:ho,updateAllChange:lo,updateChange:uo}=no;function co(a,u){return a.updateLayout(),a.parent?lt$2.tempToInnerOf(u,a.parent.scrollWorldTransform):u}var _o={worldBounds:a=>a.__world,localBoxBounds:a=>a.__.eraser||a.__.visible===0?null:a.__local||a.__layout,localStrokeBounds:a=>a.__.eraser||a.__.visible===0?null:a.__layout.localStrokeBounds,localRenderBounds:a=>a.__.eraser||a.__.visible===0?null:a.__layout.localRenderBounds,maskLocalBoxBounds:(a,u)=>fo(a,u)&&a.__localBoxBounds,maskLocalStrokeBounds:(a,u)=>fo(a,u)&&a.__layout.localStrokeBounds,maskLocalRenderBounds:(a,u)=>fo(a,u)&&a.__layout.localRenderBounds,excludeRenderBounds:(a,u)=>!(!u.bounds||u.bounds.hit(a.__world,u.matrix))||!(!u.hideBounds||!u.hideBounds.includes(a.__world,u.matrix))},po;function fo(a,u){return u||(po=0),a.__.mask&&(po=1),po<0?null:(po&&=-1,!0)}var{updateBounds:go}=io,yo={sort:(a,u)=>a.__.zIndex===u.__.zIndex?a.__tempNumber-u.__tempNumber:a.__.zIndex-u.__.zIndex,pushAllChildBranch(a,u){if(a.__tempNumber=1,a.__.__childBranchNumber){let{children:h}=a;for(let Wn=0,ec=h.length;Wn<ec;Wn++)(a=h[Wn]).isBranch&&(a.__tempNumber=1,u.add(a),mo(a,u))}},pushAllParent(a,u){let{keys:h}=u;if(h)for(;a.parent&&s(h[a.parent.innerId]);)u.add(a.parent),a=a.parent;else for(;a.parent;)u.add(a.parent),a=a.parent},pushAllBranchStack(a,u){let h=u.length,{children:Wn}=a;for(let a=0,h=Wn.length;a<h;a++)Wn[a].isBranch&&u.push(Wn[a]);for(let a=h,Wn=u.length;a<Wn;a++)xo(u[a],u)},updateBounds(a,u){let h=[a];xo(a,h),wo(h,u)},updateBoundsByBranchStack(a,u){let h,Wn;for(let ec=a.length-1;ec>-1;ec--){h=a[ec],Wn=h.children;for(let a=0,u=Wn.length;a<u;a++)go(Wn[a]);u&&u===h||go(h)}}},{pushAllChildBranch:mo,pushAllBranchStack:xo,updateBoundsByBranchStack:wo}=yo,bo={run(a){if(a&&a.length){let u=a.length;for(let h=0;h<u;h++)a[h]();a.length===u?a.length=0:a.splice(0,u)}}},{getRelativeWorld:Bo,updateBounds:vo}=io,{toOuterOf:ko,getPoints:Co,copy:Oo}=Ut$3,To=`_localContentBounds`,Po=`_worldContentBounds`,So=`_worldBoxBounds`,Ro=`_worldStrokeBounds`,Lo=class{get contentBounds(){return this._contentBounds||this.boxBounds}set contentBounds(a){this._contentBounds=a}get strokeBounds(){return this._strokeBounds||this.boxBounds}get renderBounds(){return this._renderBounds||this.boxBounds}set renderBounds(a){this._renderBounds=a}get localContentBounds(){return ko(this.contentBounds,this.leaf.__localMatrix,this[To]||(this[To]={})),this[To]}get localStrokeBounds(){return this._localStrokeBounds||this}get localRenderBounds(){return this._localRenderBounds||this}get worldContentBounds(){return ko(this.contentBounds,this.leaf.__world,this[Po]||(this[Po]={})),this[Po]}get worldBoxBounds(){return ko(this.boxBounds,this.leaf.__world,this[So]||(this[So]={})),this[So]}get worldStrokeBounds(){return ko(this.strokeBounds,this.leaf.__world,this[Ro]||(this[Ro]={})),this[Ro]}get a(){return 1}get b(){return 0}get c(){return 0}get d(){return 1}get e(){return this.leaf.__.x}get f(){return this.leaf.__.y}get x(){return this.e+this.boxBounds.x}get y(){return this.f+this.boxBounds.y}get width(){return this.boxBounds.width}get height(){return this.boxBounds.height}constructor(a){this.leaf=a,this.leaf.__local&&(this._localRenderBounds=this._localStrokeBounds=this.leaf.__local),a.__world&&(this.boxBounds={x:0,y:0,width:0,height:0},this.boxChange(),this.matrixChange())}createLocal(){let a=this.leaf.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0};this._localStrokeBounds||=a,this._localRenderBounds||=a}update(){let{leaf:a}=this,{leafer:u}=a;if(a.isApp)return vo(a);if(u)u.ready?u.watcher.changed&&u.layouter.layout():u.start();else{let u=a;for(;u.parent&&!u.parent.leafer;)u=u.parent;let h=u;if(h.__fullLayouting)return;h.__fullLayouting=!0,m.layout(h),delete h.__fullLayouting}}getTransform(a=`world`){this.update();let{leaf:u}=this;switch(a){case`world`:return u.__world;case`local`:return u.__localMatrix;case`inner`:return $$1.defaultMatrix;case`page`:a=u.zoomLayer;default:return Bo(u,a)}}getBounds(a,u=`world`){switch(this.update(),u){case`world`:return this.getWorldBounds(a);case`local`:return this.getLocalBounds(a);case`inner`:return this.getInnerBounds(a);case`page`:u=this.leaf.zoomLayer;default:return new Vt$3(this.getInnerBounds(a)).toOuterOf(this.getTransform(u))}}getInnerBounds(a=`box`){switch(a){case`render`:return this.renderBounds;case`content`:if(this.contentBounds)return this.contentBounds;case`box`:return this.boxBounds;case`stroke`:return this.strokeBounds}}getLocalBounds(a=`box`){switch(a){case`render`:return this.localRenderBounds;case`stroke`:return this.localStrokeBounds;case`content`:if(this.contentBounds)return this.localContentBounds;case`box`:return this.leaf.__localBoxBounds}}getWorldBounds(a=`box`){switch(a){case`render`:return this.leaf.__world;case`stroke`:return this.worldStrokeBounds;case`content`:if(this.contentBounds)return this.worldContentBounds;case`box`:return this.worldBoxBounds}}getLayoutBounds(a,u=`world`,h){let{leaf:Wn}=this,ec,tc,nc,rc=this.getInnerBounds(a);switch(u){case`world`:ec=Wn.getWorldPoint(rc),tc=Wn.__world;break;case`local`:let{scaleX:a,scaleY:h,rotation:ic,skewX:ac,skewY:oc}=Wn.__;nc={scaleX:a,scaleY:h,rotation:ic,skewX:ac,skewY:oc},ec=Wn.getLocalPointByInner(rc);break;case`inner`:ec=rc,tc=$$1.defaultMatrix;break;case`page`:u=Wn.zoomLayer;default:ec=Wn.getWorldPoint(rc,u),tc=Bo(Wn,u,!0)}if(nc||=$$1.getLayout(tc),Oo(nc,rc),lt$2.copy(nc,ec),h){let{scaleX:a,scaleY:u}=nc,h=Math.abs(a),Wn=Math.abs(u);h===1&&Wn===1||(nc.scaleX/=h,nc.scaleY/=Wn,nc.width*=h,nc.height*=Wn)}return nc}getLayoutPoints(a,u=`world`){let{leaf:h}=this,Wn=Co(this.getInnerBounds(a)),ec;switch(u){case`world`:ec=null;break;case`local`:ec=h.parent;break;case`inner`:break;case`page`:u=h.zoomLayer;default:ec=u}return s(ec)||Wn.forEach(a=>h.innerToWorld(a,null,!1,ec)),Wn}shrinkContent(){let{x:a,y:u,width:h,height:Wn}=this.boxBounds;this._contentBounds={x:a,y:u,width:h,height:Wn}}spreadStroke(){let{x:a,y:u,width:h,height:Wn}=this.strokeBounds;this._strokeBounds={x:a,y:u,width:h,height:Wn},this._localStrokeBounds={x:a,y:u,width:h,height:Wn},this.renderSpread||this.spreadRenderCancel()}spreadRender(){let{x:a,y:u,width:h,height:Wn}=this.renderBounds;this._renderBounds={x:a,y:u,width:h,height:Wn},this._localRenderBounds={x:a,y:u,width:h,height:Wn}}shrinkContentCancel(){this._contentBounds=void 0}spreadStrokeCancel(){let a=this.renderBounds===this.strokeBounds;this._strokeBounds=this.boxBounds,this._localStrokeBounds=this.leaf.__localBoxBounds,a&&this.spreadRenderCancel()}spreadRenderCancel(){this._renderBounds=this._strokeBounds,this._localRenderBounds=this._localStrokeBounds}boxChange(){this.boxChanged=!0,this.localBoxChanged?this.boundsChanged||=!0:this.localBoxChange(),this.hitCanvasChanged=!0}localBoxChange(){this.localBoxChanged=!0,this.boundsChanged=!0}strokeChange(){this.strokeChanged=!0,this.strokeSpread||=1,this.boundsChanged=!0,this.hitCanvasChanged=!0}renderChange(){this.renderChanged=!0,this.renderSpread||=1,this.boundsChanged=!0}scaleChange(){this.scaleChanged=!0,this._scaleOrRotationChange()}rotationChange(){this.rotationChanged=!0,this.affectRotation=!0,this._scaleOrRotationChange()}_scaleOrRotationChange(){this.affectScaleOrRotation=!0,this.matrixChange(),this.leaf.__local||this.createLocal()}matrixChange(){this.matrixChanged=!0,this.localBoxChanged?this.boundsChanged||=!0:this.localBoxChange()}surfaceChange(){this.surfaceChanged=!0}opacityChange(){this.opacityChanged=!0,this.surfaceChanged||this.surfaceChange()}childrenSortChange(){this.childrenSortChanged||(this.childrenSortChanged=this.affectChildrenSort=!0,this.leaf.forceUpdate(`surface`))}destroy(){}},Eo=class{constructor(a,u){this.bubbles=!1,this.type=a,u&&(this.target=u)}stopDefault(){this.isStopDefault=!0,this.origin&&m.event.stopDefault(this.origin)}stopNow(){this.isStopNow=!0,this.isStop=!0,this.origin&&m.event.stopNow(this.origin)}stop(){this.isStop=!0,this.origin&&m.event.stop(this.origin)}},Io=class extends Eo{constructor(a,u,h){super(a,u),this.parent=h,this.child=u}};Io.ADD=`child.add`,Io.REMOVE=`child.remove`,Io.CREATED=`created`,Io.MOUNTED=`mounted`,Io.UNMOUNTED=`unmounted`,Io.DESTROY=`destroy`;var Mo=`property.scroll`,Ao=class extends Eo{constructor(a,u,h,Wn,ec){super(a,u),this.attrName=h,this.oldValue=Wn,this.newValue=ec}};Ao.CHANGE=`property.change`,Ao.LEAFER_CHANGE=`property.leafer_change`,Ao.SCROLL=Mo;var Wo={scrollX:Mo,scrollY:Mo},No=class extends Eo{constructor(a,u){super(a),Object.assign(this,u)}};No.LOAD=`image.load`,No.LOADED=`image.loaded`,No.ERROR=`image.error`;var Yo=class extends Eo{static checkHas(a,u,h){h===`on`?u===Fo?a.__hasWorldEvent=!0:a.__hasLocalEvent=!0:(a.__hasLocalEvent=a.hasEvent(Do)||a.hasEvent(Xo)||a.hasEvent(zo),a.__hasWorldEvent=a.hasEvent(Fo))}static emitLocal(a){if(a.leaferIsReady){let{resized:u}=a.__layout;u!==`local`&&(a.emit(Do,a),u===`inner`&&a.emit(Xo,a)),a.emit(zo,a)}}static emitWorld(a){a.leaferIsReady&&a.emit(Fo,this)}};Yo.RESIZE=`bounds.resize`,Yo.INNER=`bounds.inner`,Yo.LOCAL=`bounds.local`,Yo.WORLD=`bounds.world`;var{RESIZE:Do,INNER:Xo,LOCAL:zo,WORLD:Fo}=Yo,Uo={};[Do,Xo,zo,Fo].forEach(a=>Uo[a]=1);var jo=class a extends Eo{get bigger(){if(!this.old)return!0;let{width:a,height:u}=this.old;return this.width>=a&&this.height>=u}get smaller(){return!this.bigger}get samePixelRatio(){return!this.old||this.pixelRatio===this.old.pixelRatio}constructor(u,h){d(u)?(super(a.RESIZE),Object.assign(this,u)):super(u),this.old=h}static isResizing(a){return this.resizingKeys&&!s(this.resizingKeys[a.innerId])}};jo.RESIZE=`resize`;var Ho=class extends Eo{constructor(a,u){super(a),this.data=u}};Ho.REQUEST=`watch.request`,Ho.DATA=`watch.data`;var Go=class extends Eo{constructor(a,u,h){super(a),u&&(this.data=u,this.times=h)}};Go.REQUEST=`layout.request`,Go.START=`layout.start`,Go.BEFORE=`layout.before`,Go.LAYOUT=`layout`,Go.AFTER=`layout.after`,Go.AGAIN=`layout.again`,Go.END=`layout.end`;var Vo=class extends Eo{constructor(a,u,h,Wn){super(a),u&&(this.times=u),h&&(this.renderBounds=h,this.renderOptions=Wn)}};Vo.REQUEST=`render.request`,Vo.CHILD_START=`render.child_start`,Vo.CHILD_END=`render.child_end`,Vo.START=`render.start`,Vo.BEFORE=`render.before`,Vo.RENDER=`render`,Vo.AFTER=`render.after`,Vo.AGAIN=`render.again`,Vo.END=`render.end`,Vo.NEXT=`render.next`;var qo=class extends Eo{};qo.START=`leafer.start`,qo.BEFORE_READY=`leafer.before_ready`,qo.READY=`leafer.ready`,qo.AFTER_READY=`leafer.after_ready`,qo.VIEW_READY=`leafer.view_ready`,qo.VIEW_COMPLETED=`leafer.view_completed`,qo.STOP=`leafer.stop`,qo.RESTART=`leafer.restart`,qo.END=`leafer.end`,qo.UPDATE_MODE=`leafer.update_mode`,qo.TRANSFORM=`leafer.transform`,qo.MOVE=`leafer.move`,qo.SCALE=`leafer.scale`,qo.ROTATE=`leafer.rotate`,qo.SKEW=`leafer.skew`;var{MOVE:Qo,SCALE:Jo,ROTATE:Zo,SKEW:$o}=qo,Ko={x:Qo,y:Qo,scaleX:Jo,scaleY:Jo,rotation:Zo,skewX:$o,skewY:$o},ta={},ea=class{set event(a){this.on(a)}on(a,u,h){if(!u){let u;if(l(a))a.forEach(a=>this.on(a[0],a[1],a[2]));else for(let h in a)l(u=a[h])?this.on(h,u[0],u[1]):this.on(h,u);return}let Wn,ec,tc;h&&(h===`once`?ec=!0:typeof h==`boolean`?Wn=h:(Wn=h.capture,ec=h.once));let nc=sa(this,Wn,!0),rc=i(a)?a.split(` `):a,ic=ec?{listener:u,once:ec}:{listener:u};rc.forEach(a=>{a&&(tc=nc[a],tc?tc.findIndex(a=>a.listener===u)===-1&&tc.push(ic):nc[a]=[ic],Uo[a]&&Yo.checkHas(this,a,`on`))})}off(a,u,h){if(a){let Wn=i(a)?a.split(` `):a;if(u){let a,ec,tc;h&&(a=typeof h==`boolean`?h:h!==`once`&&h.capture);let nc=sa(this,a);Wn.forEach(a=>{a&&(ec=nc[a],ec&&(tc=ec.findIndex(a=>a.listener===u),tc>-1&&ec.splice(tc,1),ec.length||delete nc[a],Uo[a]&&Yo.checkHas(this,a,`off`)))})}else{let{__bubbleMap:a,__captureMap:u}=this;Wn.forEach(h=>{a&&delete a[h],u&&delete u[h]})}}else this.__bubbleMap=this.__captureMap=void 0}on_(a,u,h,Wn){return u?this.on(a,h?u=u.bind(h):u,Wn):l(a)&&a.forEach(a=>this.on(a[0],a[2]?a[1]=a[1].bind(a[2]):a[1],a[3])),{type:a,current:this,listener:u,options:Wn}}off_(a){if(!a)return;let u=l(a)?a:[a];u.forEach(a=>{a&&(a.listener?a.current.off(a.type,a.listener,a.options):l(a.type)&&a.type.forEach(u=>a.current.off(u[0],u[1],u[3])))}),u.length=0}once(a,u,h,Wn){if(!u)return l(a)&&a.forEach(a=>this.once(a[0],a[1],a[2],a[3]));d(h)?u=u.bind(h):Wn=h,this.on(a,u,{once:!0,capture:Wn})}emit(a,u,h){!u&&ue$2.has(a)&&(u=ue$2.get(a,{type:a,target:this,current:this}));let Wn=sa(this,h)[a];if(Wn){let ec;for(let tc=0,nc=Wn.length;tc<nc&&!((ec=Wn[tc])&&(ec.listener(u),ec.once&&(this.off(a,ec.listener,h),tc--,nc--),u&&u.isStopNow));tc++);}this.syncEventer&&this.syncEventer.emitEvent(u,h)}emitEvent(a,u){a.current=this,this.emit(a.type,a,u)}hasEvent(a,u){if(this.syncEventer&&this.syncEventer.hasEvent(a,u))return!0;let{__bubbleMap:h,__captureMap:Wn}=this,ec=h&&h[a],tc=Wn&&Wn[a];return!!(s(u)?ec||tc:u?tc:ec)}destroy(){this.__captureMap=this.__bubbleMap=this.syncEventer=null}};function sa(a,u,h){if(u){let{__captureMap:u}=a;return u||(h?a.__captureMap={}:ta)}{let{__bubbleMap:u}=a;return u||(h?a.__bubbleMap={}:ta)}}var{on:ra,on_:ia,off:na,off_:oa,once:aa,emit:ha,emitEvent:la,hasEvent:da,destroy:ua}=ea.prototype,ca={on:ra,on_:ia,off:na,off_:oa,once:aa,emit:ha,emitEvent:la,hasEvent:da,destroyEventer:ua},_a=$t$2.get(`setAttr`),pa={__setAttr(a,u,h){if(this.leaferIsCreated){let Wn=this.__.__getInput(a);if(!h||n(u)||s(u)||(_a.warn(this.innerName,a,u),u=void 0),d(u)||Wn!==u){if(this.__realSetAttr(a,u),this.isLeafer){this.emitEvent(new Ao(Ao.LEAFER_CHANGE,this,a,Wn,u));let h=Ko[a];h&&(this.emitEvent(new qo(h,this)),this.emitEvent(new qo(qo.TRANSFORM,this)))}this.emitPropertyEvent(Ao.CHANGE,a,Wn,u);let h=Wo[a];return h&&this.emitPropertyEvent(h,a,Wn,u),!0}return!1}return this.__realSetAttr(a,u),!0},emitPropertyEvent(a,u,h,Wn){let ec=new Ao(a,this,u,h,Wn);this.isLeafer||this.hasEvent(a)&&this.emitEvent(ec),this.leafer.emitEvent(ec)},__realSetAttr(a,u){let h=this.__;h[a]=u,this.__proxyData&&this.setProxyAttr(a,u),h.normalStyle&&(this.lockNormalStyle||s(h.normalStyle[a])||(h.normalStyle[a]=u))},__getAttr(a){return this.__proxyData?this.getProxyAttr(a):this.__.__get(a)}},{setLayout:fa,multiplyParent:ga,translateInner:ya,defaultWorld:ma}=$$1,{toPoint:xa,tempPoint:wa}=vt$2,ba={__updateWorldMatrix(){let{parent:a,__layout:u,__world:h,__scrollWorld:Wn,__:ec}=this;ga(this.__local||u,a?a.__scrollWorld||a.__world:ma,h,!!u.affectScaleOrRotation,ec),Wn&&ya(Object.assign(Wn,h),ec.scrollX,ec.scrollY)},__updateLocalMatrix(){if(this.__local){let a=this.__layout,u=this.__local,h=this.__;a.affectScaleOrRotation&&(a.scaleChanged&&(a.resized||=`scale`)||a.rotationChanged)&&(fa(u,h,null,null,a.affectRotation),a.scaleChanged=a.rotationChanged=void 0),u.e=h.x+h.offsetX,u.f=h.y+h.offsetY,(h.around||h.origin)&&(xa(h.around||h.origin,a.boxBounds,wa),ya(u,-wa.x,-wa.y,!h.around))}this.__layout.matrixChanged=void 0}},{updateMatrix:Ba,updateAllMatrix:va}=io,{updateBounds:ka}=yo,{toOuterOf:Ca,copyAndSpread:Oa,copy:Ta}=Ut$3,{toBounds:Pa}=Li$1,Sa={__updateWorldBounds(){let{__layout:a,__world:u}=this;Ca(a.renderBounds,u,u),a.resized&&=(a.resized===`inner`&&this.__onUpdateSize(),this.__hasLocalEvent&&Yo.emitLocal(this),void 0),this.__hasWorldEvent&&Yo.emitWorld(this)},__updateLocalBounds(){let a=this.__layout;a.boxChanged&&(this.__.__pathInputed||this.__updatePath(),this.__updateRenderPath(),this.__updateBoxBounds(),a.resized=`inner`),a.localBoxChanged&&(this.__local&&this.__updateLocalBoxBounds(),a.localBoxChanged=void 0,a.strokeSpread&&(a.strokeChanged=!0),a.renderSpread&&(a.renderChanged=!0),this.parent&&this.parent.__layout.boxChange()),a.boxChanged=void 0,a.strokeChanged&&(a.strokeSpread=this.__updateStrokeSpread(),a.strokeSpread?(a.strokeBounds===a.boxBounds&&a.spreadStroke(),this.__updateStrokeBounds(),this.__updateLocalStrokeBounds()):a.spreadStrokeCancel(),a.strokeChanged=void 0,(a.renderSpread||a.strokeSpread!==a.strokeBoxSpread)&&(a.renderChanged=!0),this.parent&&this.parent.__layout.strokeChange(),a.resized=`inner`),a.renderChanged&&(a.renderSpread=this.__updateRenderSpread(),a.renderSpread?(a.renderBounds!==a.boxBounds&&a.renderBounds!==a.strokeBounds||a.spreadRender(),this.__updateRenderBounds(),this.__updateLocalRenderBounds()):a.spreadRenderCancel(),a.renderChanged=void 0,this.parent&&this.parent.__layout.renderChange()),a.resized||=`local`,a.boundsChanged=void 0},__updateLocalBoxBounds(){this.__hasMotionPath&&this.__updateMotionPath(),this.__hasAutoLayout&&this.__updateAutoLayout(),Ca(this.__layout.boxBounds,this.__local,this.__local)},__updateLocalStrokeBounds(){Ca(this.__layout.strokeBounds,this.__localMatrix,this.__layout.localStrokeBounds)},__updateLocalRenderBounds(){Ca(this.__layout.renderBounds,this.__localMatrix,this.__layout.localRenderBounds)},__updateBoxBounds(a,u){let h=this.__layout.boxBounds,Wn=this.__;Wn.__usePathBox?Pa(Wn.path,h):(h.x=0,h.y=0,h.width=Wn.width,h.height=Wn.height)},__updateAutoLayout(){this.__layout.matrixChanged=!0,this.isBranch?(this.__extraUpdate(),this.__.flow?(this.__layout.boxChanged&&this.__updateFlowLayout(),va(this),ka(this,this),this.__.__autoSide&&this.__updateBoxBounds(!0)):(va(this),ka(this,this))):Ba(this)},__updateNaturalSize(){let{__:a,__layout:u}=this;a.__naturalWidth=u.boxBounds.width,a.__naturalHeight=u.boxBounds.height},__updateStrokeBounds(a){let u=this.__layout;Oa(u.strokeBounds,u.boxBounds,u.strokeBoxSpread)},__updateRenderBounds(a){let u=this.__layout,{renderSpread:h}=u;o(h)&&h<=0?Ta(u.renderBounds,u.strokeBounds):Oa(u.renderBounds,u.boxBounds,h)}},Ra={__render(a,u){if(u.shape)return this.__renderShape(a,u);if(this.__worldOpacity){let h=this.__;if(h.bright&&!u.topRendering)return u.topList.add(this);if(a.setWorld(this.__nowWorld=this.__getNowWorld(u)),a.opacity=u.dimOpacity&&!h.dimskip?h.opacity*u.dimOpacity:h.opacity,this.__.__single){if(h.eraser===`path`)return this.__renderEraser(a,u);let Wn=a.getSameCanvas(!0,!0);this.__draw(Wn,u,a),io.copyCanvasByWorld(this,a,Wn,this.__nowWorld,h.__blendMode,!0),Wn.recycle(this.__nowWorld)}else this.__draw(a,u);$t$2.showBounds&&$t$2.drawBounds(this,a,u)}},__renderShape(a,u){this.__worldOpacity&&(a.setWorld(this.__nowWorld=this.__getNowWorld(u)),this.__drawShape(a,u))},__clip(a,u){this.__worldOpacity&&(a.setWorld(this.__nowWorld=this.__getNowWorld(u)),this.__drawRenderPath(a),a.clipUI(this))},__updateWorldOpacity(){this.__worldOpacity=this.__.visible?this.parent?this.parent.__worldOpacity*this.__.opacity:this.__.opacity:0,this.__layout.opacityChanged&&(this.__layout.opacityChanged=!1)}},{excludeRenderBounds:La}=_o,Ea={__updateChange(){let{__layout:a}=this;a.childrenSortChanged&&=(this.__updateSortChildren(),!1),this.__.__checkSingle()},__render(a,u){if(this.__nowWorld=this.__getNowWorld(u),this.__worldOpacity){let h=this.__;if(h.__useDim)if(h.dim)u.dimOpacity=!0===h.dim?.2:h.dim;else{if(h.bright&&!u.topRendering)return u.topList.add(this);h.dimskip&&u.dimOpacity&&(u.dimOpacity=0)}if(h.__single&&!this.isBranchLeaf){if(h.eraser===`path`)return this.__renderEraser(a,u);let Wn=a.getSameCanvas(!1,!0);this.__renderBranch(Wn,u);let ec=this.__nowWorld;a.opacity=u.dimOpacity?h.opacity*u.dimOpacity:h.opacity,a.copyWorldByReset(Wn,ec,ec,h.__blendMode,!0),Wn.recycle(ec)}else this.__renderBranch(a,u)}},__renderBranch(a,u){if(this.__hasMask)this.__renderMask(a,u);else{let{children:h}=this;for(let Wn=0,ec=h.length;Wn<ec;Wn++)La(h[Wn],u)||h[Wn].__render(a,u)}},__clip(a,u){if(this.__worldOpacity){let{children:h}=this;for(let Wn=0,ec=h.length;Wn<ec;Wn++)La(h[Wn],u)||h[Wn].__clip(a,u)}}},Ia={},{LEAF:Ma,create:Aa}=w,{stintSet:Wa}=_,{toInnerPoint:Na,toOuterPoint:Ya,multiplyParent:Da}=$$1,{toOuterOf:Xa}=Ut$3,{copy:za,move:Fa}=lt$2,{moveLocal:Ua,zoomOfLocal:ja,rotateOfLocal:Ha,skewOfLocal:Ga,moveWorld:Va,zoomOfWorld:qa,rotateOfWorld:Qa,skewOfWorld:Ja,transform:Za,transformWorld:$a,setTransform:Ka,getFlipTransform:th,getLocalOrigin:eh,getRelativeWorld:sh,drop:rh}=io,ih=class{get tag(){return this.__tag}set tag(a){}get __tag(){return`Leaf`}get innerName(){return this.__.name||this.tag+this.innerId}get __DataProcessor(){return f}get __LayoutProcessor(){return Lo}get leaferIsCreated(){return this.leafer&&this.leafer.created}get leaferIsReady(){return this.leafer&&this.leafer.ready}get isLeafer(){return!1}get isBranch(){return!1}get isBranchLeaf(){return!1}get __localMatrix(){return this.__local||this.__layout}get __localBoxBounds(){return this.__local||this.__layout}get worldTransform(){return this.__layout.getTransform(`world`)}get localTransform(){return this.__layout.getTransform(`local`)}get scrollWorldTransform(){return this.updateLayout(),this.__scrollWorld||this.__world}get boxBounds(){return this.getBounds(`box`,`inner`)}get renderBounds(){return this.getBounds(`render`,`inner`)}get worldBoxBounds(){return this.getBounds(`box`)}get worldStrokeBounds(){return this.getBounds(`stroke`)}get worldRenderBounds(){return this.getBounds(`render`)}get worldOpacity(){return this.updateLayout(),this.__worldOpacity}get __worldFlipped(){return this.__world.scaleX<0||this.__world.scaleY<0}get __onlyHitMask(){return this.__hasMask&&!this.__.hitChildren}get __ignoreHitWorld(){return(this.__hasMask||this.__hasEraser)&&this.__.hitChildren}get __inLazyBounds(){return this.leaferIsCreated&&this.leafer.lazyBounds.hit(this.__world)}get pathInputed(){return this.__.__pathInputed}set event(a){this.on(a)}constructor(a){this.innerId=Aa(Ma),this.reset(a),this.__bubbleMap&&this.__emitLifeEvent(Io.CREATED)}reset(a){this.leafer&&this.leafer.forceRender(this.__world),a!==0&&(this.__world={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0,scaleX:1,scaleY:1},a!==null&&(this.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0})),this.__worldOpacity=1,this.__=new this.__DataProcessor(this),this.__layout=new this.__LayoutProcessor(this),this.__level&&this.resetCustom(),a&&(a.__&&(a=a.toJSON()),a.children?this.set(a):Object.assign(this,a))}resetCustom(){this.__hasMask=this.__hasEraser=null,this.forceUpdate()}waitParent(a,u){u&&(a=a.bind(u)),this.parent?a():this.on(Io.ADD,a,`once`)}waitLeafer(a,u){u&&(a=a.bind(u)),this.leafer?a():this.on(Io.MOUNTED,a,`once`)}nextRender(a,u,h){this.leafer?this.leafer.nextRender(a,u,h):this.waitLeafer(()=>this.leafer.nextRender(a,u,h))}removeNextRender(a){this.nextRender(a,null,`off`)}__bindLeafer(a){if(this.isLeafer&&a!==null&&(a=this),this.leafer&&!a&&this.leafer.leafs--,this.leafer=a,a?(a.leafs++,this.__level=this.parent?this.parent.__level+1:1,this.animation&&this.__runAnimation(`in`),this.__bubbleMap&&this.__emitLifeEvent(Io.MOUNTED)):this.__emitLifeEvent(Io.UNMOUNTED),this.isBranch){let{children:u}=this;for(let h=0,Wn=u.length;h<Wn;h++)u[h].__bindLeafer(a)}}set(a,u){}get(a){}setAttr(a,u){this[a]=u}getAttr(a){return this[a]}getComputedAttr(a){return this.__[a]}toJSON(a){return a&&this.__layout.update(),this.__.__getInputData(null,a)}toString(a){return JSON.stringify(this.toJSON(a))}toSVG(){}__SVG(a){}toHTML(){}__setAttr(a,u){return!0}__getAttr(a){}setProxyAttr(a,u){}getProxyAttr(a){}find(a,u){}findTag(a){}findOne(a,u){}findId(a){}focus(a){}updateState(){}updateLayout(){this.__layout.update()}forceUpdate(a){s(a)?a=`width`:a===`surface`&&(a=`blendMode`);let u=this.__.__getInput(a);this.__[a]=s(u)?null:void 0,this[a]=u}forceRender(a,u){this.forceUpdate(`surface`)}__extraUpdate(){this.leaferIsReady&&this.leafer.layouter.addExtra(this)}__updateWorldMatrix(){}__updateLocalMatrix(){}__updateWorldBounds(){}__updateLocalBounds(){}__updateLocalBoxBounds(){}__updateLocalStrokeBounds(){}__updateLocalRenderBounds(){}__updateBoxBounds(a,u){}__updateContentBounds(){}__updateStrokeBounds(a){}__updateRenderBounds(a){}__updateAutoLayout(){}__updateFlowLayout(){}__updateNaturalSize(){}__updateStrokeSpread(){return 0}__updateRenderSpread(){return 0}__onUpdateSize(){}__updateEraser(a){this.__hasEraser=!!a||this.children.some(a=>a.__.eraser)}__renderEraser(a,u){a.save(),this.__clip(a,u);let{renderBounds:h}=this.__layout;a.clearRect(h.x,h.y,h.width,h.height),a.restore()}__updateMask(a){this.__hasMask=this.children.some(a=>a.__.mask&&a.__.visible&&a.__.opacity)}__renderMask(a,u){}__getNowWorld(a){if(a.matrix){this.__cameraWorld||={};let u=this.__cameraWorld,h=this.__world;return Da(h,a.matrix,u,void 0,h),Xa(this.__layout.renderBounds,u,u),Wa(u,`half`,h.half),Wa(u,`ignorePixelSnap`,h.ignorePixelSnap),u}return this.__world}getClampRenderScale(){let{scaleX:a}=this.__nowWorld||this.__world;return a<0&&(a=-a),a>1?a:1}getRenderScaleData(a,u){let{scaleX:h,scaleY:Wn}=Zi$1.patternLocked?this.__world:this.__nowWorld;return a&&(h<0&&(h=-h),Wn<0&&(Wn=-Wn)),(!0===u||u===`zoom-in`&&h>1&&Wn>1)&&(h=Wn=1),Ia.scaleX=h,Ia.scaleY=Wn,Ia}getTransform(a){return this.__layout.getTransform(a||`local`)}getBounds(a,u){return this.__layout.getBounds(a,u)}getLayoutBounds(a,u,h){return this.__layout.getLayoutBounds(a,u,h)}getLayoutPoints(a,u){return this.__layout.getLayoutPoints(a,u)}getWorldBounds(a,u,h){let Wn=u?sh(this,u):this.worldTransform,ec=h?a:{};return Xa(a,Wn,ec),ec}worldToLocal(a,u,h,Wn){this.parent?this.parent.worldToInner(a,u,h,Wn):u&&za(u,a)}localToWorld(a,u,h,Wn){this.parent?this.parent.innerToWorld(a,u,h,Wn):u&&za(u,a)}worldToInner(a,u,h,Wn){Wn&&(Wn.innerToWorld(a,u,h),a=u||a),Na(this.scrollWorldTransform,a,u,h)}innerToWorld(a,u,h,Wn){Ya(this.scrollWorldTransform,a,u,h),Wn&&Wn.worldToInner(u||a,null,h)}getBoxPoint(a,u,h,Wn){return this.getBoxPointByInner(this.getInnerPoint(a,u,h,Wn),null,null,!0)}getBoxPointByInner(a,u,h,Wn){let ec=Wn?a:Object.assign({},a),{x:tc,y:nc}=this.boxBounds;return Fa(ec,-tc,-nc),ec}getInnerPoint(a,u,h,Wn){let ec=Wn?a:{};return this.worldToInner(a,ec,h,u),ec}getInnerPointByBox(a,u,h,Wn){let ec=Wn?a:Object.assign({},a),{x:tc,y:nc}=this.boxBounds;return Fa(ec,tc,nc),ec}getInnerPointByLocal(a,u,h,Wn){return this.getInnerPoint(a,this.parent,h,Wn)}getLocalPoint(a,u,h,Wn){let ec=Wn?a:{};return this.worldToLocal(a,ec,h,u),ec}getLocalPointByInner(a,u,h,Wn){return this.getWorldPoint(a,this.parent,h,Wn)}getPagePoint(a,u,h,Wn){return(this.leafer?this.leafer.zoomLayer:this).getInnerPoint(a,u,h,Wn)}getWorldPoint(a,u,h,Wn){let ec=Wn?a:{};return this.innerToWorld(a,ec,h,u),ec}getWorldPointByBox(a,u,h,Wn){return this.getWorldPoint(this.getInnerPointByBox(a,null,null,Wn),u,h,!0)}getWorldPointByLocal(a,u,h,Wn){let ec=Wn?a:{};return this.localToWorld(a,ec,h,u),ec}getWorldPointByPage(a,u,h,Wn){return(this.leafer?this.leafer.zoomLayer:this).getWorldPoint(a,u,h,Wn)}setTransform(a,u,h){Ka(this,a,u,h)}transform(a,u,h){Za(this,a,u,h)}move(a,u,h){Ua(this,a,u,h)}moveInner(a,u,h){Va(this,a,u,!0,h)}scaleOf(a,u,h,Wn,ec){ja(this,eh(this,a),u,h,Wn,ec)}rotateOf(a,u,h){Ha(this,eh(this,a),u,h)}skewOf(a,u,h,Wn,ec){Ga(this,eh(this,a),u,h,Wn,ec)}transformWorld(a,u,h){$a(this,a,u,h)}moveWorld(a,u,h){Va(this,a,u,!1,h)}scaleOfWorld(a,u,h,Wn,ec){qa(this,a,u,h,Wn,ec)}rotateOfWorld(a,u){Qa(this,a,u)}skewOfWorld(a,u,h,Wn,ec){Ja(this,a,u,h,Wn,ec)}flip(a,u){Za(this,th(this,a),!1,u)}scaleResize(a,u=a,h){this.scaleX*=a,this.scaleY*=u}__scaleResize(a,u){}resizeWidth(a){}resizeHeight(a){}hit(a,u){return!0}__hitWorld(a){return!0}__hit(a){return!0}__hitFill(a){return!0}__hitStroke(a,u){return!0}__hitPixel(a){return!0}__drawHitPath(a){}__updateHitCanvas(){}__render(a,u){}__drawFast(a,u){}__draw(a,u,h){}__clip(a,u){}__renderShape(a,u){}__drawShape(a,u){}__updateWorldOpacity(){}__updateChange(){}__drawPath(a){}__drawRenderPath(a){}__updatePath(){}__updateRenderPath(){}getMotionPathData(){return ne$2.need(`path`)}getMotionPoint(a){return ne$2.need(`path`)}getMotionTotal(){return 0}__updateMotionPath(){}__runAnimation(a,u){}__updateSortChildren(){}add(a,u){}remove(a,u){this.parent&&this.parent.remove(this,u)}dropTo(a,u,h){rh(this,a,u,h)}on(a,u,h){}off(a,u,h){}on_(a,u,h,Wn){}off_(a){}once(a,u,h,Wn){}emit(a,u,h){}emitEvent(a,u){}hasEvent(a,u){return!1}static changeAttr(a,u,h){h?this.addAttr(a,u,h):Nn(this.prototype,a,u)}static addAttr(a,u,h,Wn){h||=fn,h(u,Wn)(this.prototype,a)}__emitLifeEvent(a){this.hasEvent(a)&&this.emitEvent(new Io(a,this,this.parent))}destroy(){this.destroyed||=(this.parent&&this.remove(),this.children&&this.clear(),this.__emitLifeEvent(Io.DESTROY),this.__.destroy(),this.__layout.destroy(),this.destroyEventer(),!0)}};ih=pe$2([jn(pa),jn(ba),jn(Sa),jn(ca),jn(Ra)],ih);var{setListWithFn:nh}=Ut$3,{sort:oh}=yo,{localBoxBounds:ah,localStrokeBounds:hh,localRenderBounds:lh,maskLocalBoxBounds:dh,maskLocalStrokeBounds:uh,maskLocalRenderBounds:ch}=_o,_h=new $t$2(`Branch`),ph=class extends ih{__updateStrokeSpread(){let{children:a}=this;for(let u=0,h=a.length;u<h;u++)if(a[u].__layout.strokeSpread)return 1;return 0}__updateRenderSpread(){let{children:a}=this;for(let u=0,h=a.length;u<h;u++)if(a[u].__layout.renderSpread)return 1;return 0}__updateBoxBounds(a,u){nh(u||this.__layout.boxBounds,this.children,this.__hasMask?dh:ah)}__updateStrokeBounds(a){nh(a||this.__layout.strokeBounds,this.children,this.__hasMask?uh:hh)}__updateRenderBounds(a){nh(a||this.__layout.renderBounds,this.children,this.__hasMask?ch:lh)}__updateSortChildren(){let a,{children:u}=this;if(u.length>1){for(let h=0,Wn=u.length;h<Wn;h++)u[h].__tempNumber=h,u[h].__.zIndex&&(a=!0);u.sort(oh),this.__layout.affectChildrenSort=a}}add(a,u){if(a===this||a.destroyed)return _h.warn(`add self or destroyed`);let h=s(u);if(!a.__){if(l(a))return a.forEach(a=>{this.add(a,u),h||u++});a=he$2.get(a.tag,a)}a.parent&&a.parent.remove(a),a.parent=this,h?this.children.push(a):this.children.splice(u,0,a),a.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||0)+1);let Wn=a.__layout;Wn.boxChanged||Wn.boxChange(),Wn.matrixChanged||Wn.matrixChange(),a.__bubbleMap&&a.__emitLifeEvent(Io.ADD),this.leafer&&(a.__bindLeafer(this.leafer),this.leafer.created&&this.__emitChildEvent(Io.ADD,a)),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}addMany(...a){this.add(a)}remove(a,u){a?a.__?a.animationOut?a.__runAnimation(`out`,()=>this.__remove(a,u)):this.__remove(a,u):this.find(a).forEach(a=>this.remove(a,u)):s(a)&&super.remove(null,u)}removeAll(a){let{children:u}=this;u.length&&(this.children=[],this.__preRemove(),this.__.__childBranchNumber=0,u.forEach(u=>{this.__realRemoveChild(u),a&&u.destroy()}))}clear(){this.removeAll(!0)}__remove(a,u){let h=this.children.indexOf(a);h>-1&&(this.children.splice(h,1),a.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||1)-1),this.__preRemove(),this.__realRemoveChild(a),u&&a.destroy())}__preRemove(){this.__hasMask&&this.__updateMask(),this.__hasEraser&&this.__updateEraser(),this.__layout.boxChange(),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}__realRemoveChild(a){a.__emitLifeEvent(Io.REMOVE),a.parent=null,this.leafer&&(a.__bindLeafer(null),this.leafer.created&&(this.__emitChildEvent(Io.REMOVE,a),this.leafer.hitCanvasManager&&this.leafer.hitCanvasManager.clear()))}__emitChildEvent(a,u){let h=new Io(a,u,this);this.hasEvent(a)&&!this.isLeafer&&this.emitEvent(h),this.leafer.emitEvent(h)}};ph=pe$2([jn(Ea)],ph);var fh=class a{get length(){return this.list.length}constructor(a){this.reset(),a&&(l(a)?this.addList(a):this.add(a))}has(a){return a&&!s(this.keys[a.innerId])}indexAt(a){return this.list[a]}indexOf(a){let u=this.keys[a.innerId];return s(u)?-1:u}add(a){let{list:u,keys:h}=this;s(h[a.innerId])&&(u.push(a),h[a.innerId]=u.length-1)}addAt(a,u=0){let{keys:h}=this;if(s(h[a.innerId])){let{list:Wn}=this;for(let a=u,ec=Wn.length;a<ec;a++)h[Wn[a].innerId]++;u===0?Wn.unshift(a):(u>Wn.length&&(u=Wn.length),Wn.splice(u,0,a)),h[a.innerId]=u}}addList(a){for(let u=0;u<a.length;u++)this.add(a[u])}remove(a){let{list:u}=this,h;for(let Wn=0,ec=u.length;Wn<ec;Wn++)s(h)?u[Wn].innerId===a.innerId&&(h=Wn,delete this.keys[a.innerId]):this.keys[u[Wn].innerId]=Wn-1;s(h)||u.splice(h,1)}sort(a){let{list:u}=this;a?u.sort((a,u)=>u.__level-a.__level):u.sort((a,u)=>a.__level-u.__level)}forEach(a){this.list.forEach(a)}clone(){let u=new a;return u.list=[...this.list],u.keys=Object.assign({},this.keys),u}update(){this.keys={};let{list:a,keys:u}=this;for(let h=0,Wn=a.length;h<Wn;h++)u[a[h].innerId]=h}reset(){this.list=[],this.keys={}}destroy(){this.reset()}},gh=class{get length(){return this._length}constructor(a){this._length=0,this.reset(),a&&(l(a)?this.addList(a):this.add(a))}has(a){return!s(this.keys[a.innerId])}without(a){return s(this.keys[a.innerId])}sort(a){let{levels:u}=this;a?u.sort((a,u)=>u-a):u.sort((a,u)=>a-u)}addList(a){a.forEach(a=>{this.add(a)})}add(a){let{keys:u,levelMap:h}=this;u[a.innerId]||(u[a.innerId]=1,h[a.__level]?h[a.__level].push(a):(h[a.__level]=[a],this.levels.push(a.__level)),this._length++)}forEach(a){let u;this.levels.forEach(h=>{u=this.levelMap[h];for(let h=0,Wn=u.length;h<Wn;h++)a(u[h])})}reset(){this.levelMap={},this.keys={},this.levels=[],this._length=0}destroy(){this.levelMap=null}};function xt$2(a,u,h,Wn){var ec,tc=arguments.length,nc=tc<3?u:Wn===null?Wn=Object.getOwnPropertyDescriptor(u,h):Wn;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)nc=Reflect.decorate(a,u,h,Wn);else for(var rc=a.length-1;rc>=0;rc--)(ec=a[rc])&&(nc=(tc<3?ec(nc):tc>3?ec(u,h,nc):ec(u,h))||nc);return tc>3&&nc&&Object.defineProperty(u,h,nc),nc}function St$2(a){return on(a,a=>an({set(u){this.__setAttr(a,u),u&&(this.__.__useEffect=!0),this.__layout.renderChanged||this.__layout.renderChange()}}))}function mt$2(a){return on(a,a=>an({set(u){this.__setAttr(a,u),this.__layout.boxChanged||this.__layout.boxChange(),this.__updateSize()}}))}function Rt$2(){return(a,u)=>{let h=`_`+u;sn(a,u,{set(a){this.isLeafer&&(this[h]=a)},get(){return this.isApp?this.tree.zoomLayer:this.isLeafer?this[h]||this:this.leafer&&this.leafer.zoomLayer}})}}var Bt$2={},At$2={hasTransparent:function(a){if(!a||a.length===7||a.length===4)return!1;if(a===`transparent`)return!0;let u=a[0];if(u===`#`)switch(a.length){case 5:return a[4]!==`f`&&a[4]!==`F`;case 9:return a[7]!==`f`&&a[7]!==`F`||a[8]!==`f`&&a[8]!==`F`}else if((u===`r`||u===`h`)&&a[3]===`a`){let u=a.lastIndexOf(`,`);if(u>-1)return parseFloat(a.slice(u+1))<1}return!1}},bt$2={number:(a,u)=>d(a)?a.type===`percent`?a.value*u:a.value:a},Ct$2={},Pt$2={},Ft$2={},Wt$2={},Tt$2={},Et$2={apply(){ne$2.need(`filter`)}},It$2={},Dt$2={setStyleName:()=>ne$2.need(`state`),set:()=>ne$2.need(`state`)},Lt$2={list:{},register(a,u){Lt$2.list[a]=u},get:a=>Lt$2.list[a]},{parse:zt$2,objectToCanvasData:Mt$2}=$s,{stintSet:Ot$2}=_,{hasTransparent:Nt$2}=At$2,Vt$2={},Ht$2=$t$2.get(`UIData`),Yt$2=class extends f{get scale(){let{scaleX:a,scaleY:u}=this;return a===u?a:{x:a,y:u}}get __strokeWidth(){return this.__getRealStrokeWidth()}get __maxStrokeWidth(){let a=this;return a.__hasMultiStrokeStyle?Math.max(a.__hasMultiStrokeStyle,a.strokeWidth):a.strokeWidth}get __hasMultiPaint(){let a=this;return a.fill&&this.__useStroke||a.__isFills&&a.fill.length>1||a.__isStrokes&&a.stroke.length>1||a.__useEffect}get __clipAfterFill(){let a=this;return a.cornerRadius||a.innerShadow||a.__pathInputed}get __hasSurface(){return this.fill||this.stroke}get __autoWidth(){return!this._width}get __autoHeight(){return!this._height}get __autoSide(){return!this._width||!this._height}get __autoSize(){return!this._width&&!this._height}setVisible(a){this._visible=a;let{leafer:u}=this.__leaf;u&&(u.watcher.hasVisible=!0)}setWidth(a){a<0?(this._width=-a,this.__leaf.scaleX*=-1,Ht$2.warn(`width < 0, instead -scaleX `,this)):this._width=a}setHeight(a){a<0?(this._height=-a,this.__leaf.scaleY*=-1,Ht$2.warn(`height < 0, instead -scaleY`,this)):this._height=a}setFill(a){this.__naturalWidth&&this.__removeNaturalSize(),i(a)||!a?(Ot$2(this,`__isTransparentFill`,Nt$2(a)),this.__isFills&&this.__removePaint(`fill`,!0),this._fill=a):d(a)&&this.__setPaint(`fill`,a)}setStroke(a){i(a)||!a?(Ot$2(this,`__isTransparentStroke`,Nt$2(a)),this.__isStrokes&&this.__removePaint(`stroke`,!0),this._stroke=a):d(a)&&this.__setPaint(`stroke`,a)}setPath(a){let u=i(a);u||a&&d(a[0])?(this.__setInput(`path`,a),this._path=u?zt$2(a):Mt$2(a)):(this.__input&&this.__removeInput(`path`),this._path=a)}setShadow(a){Ut$2(this,`shadow`,a)}setInnerShadow(a){Ut$2(this,`innerShadow`,a)}setFilter(a){Ut$2(this,`filter`,a)}__computePaint(){let{fill:a,stroke:u}=this.__input;a&&Pt$2.compute(`fill`,this.__leaf),u&&Pt$2.compute(`stroke`,this.__leaf),this.__needComputePaint=void 0}__getRealStrokeWidth(a){let{strokeWidth:u,strokeWidthFixed:h}=this;if(a&&(a.strokeWidth&&(u=a.strokeWidth),s(a.strokeWidthFixed)||(h=a.strokeWidthFixed)),h){let a=this.__leaf.getClampRenderScale();return a>1?u/a:u}return u}__setPaint(a,u){this.__setInput(a,u);let h=this.__leaf.__layout;h.boxChanged||h.boxChange(),l(u)&&!u.length?this.__removePaint(a):a===`fill`?(this.__isFills=!0,this._fill||=Vt$2):(this.__isStrokes=!0,this._stroke||=Vt$2)}__removePaint(a,u){u&&this.__removeInput(a),Ft$2.recycleImage(a,this),a===`fill`?(Ot$2(this,`__isAlphaPixelFill`,void 0),this._fill=this.__isFills=void 0):(Ot$2(this,`__isAlphaPixelStroke`,void 0),Ot$2(this,`__hasMultiStrokeStyle`,void 0),this._stroke=this.__isStrokes=void 0)}};function Ut$2(a,u,h){a.__setInput(u,h),l(h)?(h.some(a=>!1===a.visible)&&(h=h.filter(a=>!1!==a.visible)),h.length||(h=void 0)):h=h&&!1!==h.visible?[h]:void 0,a[`_`+u]=h}var Xt$2=class extends Yt$2{},jt$2=class extends Xt$2{get __boxStroke(){return!this.__pathInputed}get __drawAfterFill(){return this.__single||this.__clipAfterFill}get __clipAfterFill(){let a=this;return a.overflow!==`show`&&a.__leaf.children.length&&(a.__leaf.isOverflow||super.__clipAfterFill)}},Jt$1=class extends Xt$2{__getInputData(a,u){let h=super.__getInputData(a,u);return Pe$2.forEach(a=>delete h[a]),h}},qt$1=class extends jt$2{},Gt$1=class extends Yt$2{get __usePathBox(){return this.points||this.__pathInputed}},$t$1=class extends Yt$2{get __boxStroke(){return!this.__pathInputed}},Kt$2=class extends Yt$2{get __boxStroke(){return!this.__pathInputed}},Qt$1=class extends Gt$1{},Zt$1=class extends Yt$2{},te$1=class extends Yt$2{get __pathInputed(){return 2}},ee$1=class extends Xt$2{},ie$1={thin:100,"extra-light":200,light:300,normal:400,medium:500,"semi-bold":600,bold:700,"extra-bold":800,black:900},se$1=class extends Yt$2{get __useNaturalRatio(){return!1}setFontWeight(a){i(a)?(this.__setInput(`fontWeight`,a),a=ie$1[a]||400):this.__input&&this.__removeInput(`fontWeight`),this._fontWeight=a}setBoxStyle(a){let u=this.__leaf,h=u.__box;if(a){let{boxStyle:Wn}=this;if(h)for(let a in Wn)h[a]=void 0;else h=u.__box=he$2.get(`Rect`,0);let ec=u.__layout,tc=h.__layout;Wn||(h.parent=u,h.__world=u.__world,tc.boxBounds=ec.boxBounds),h.set(a),tc.strokeChanged&&ec.strokeChange()}else h&&(u.__box=h.parent=null,h.destroy());this._boxStyle=a}},oe$1=class extends $t$1{setUrl(a){this.__setImageFill(a),this._url=a}__setImageFill(a){this.fill=a?{type:`image`,mode:`stretch`,url:a}:void 0}__getData(){let a=super.__getData();return a.url&&delete a.fill,a}__getInputData(a,u){let h=super.__getInputData(a,u);return h.url&&delete h.fill,h}},re$1=class extends $t$1{get __isCanvas(){return!0}get __drawAfterFill(){return!0}__getInputData(a,u){let h=super.__getInputData(a,u);return h.url=this.__leaf.canvas.toDataURL(`image/png`),h}},{max:ae$1,add:ne$1}=T,_e$1={__updateStrokeSpread(){let a=0,u=0,h=this.__,{strokeAlign:Wn,__maxStrokeWidth:ec}=h,tc=this.__box;if((h.stroke||h.hitStroke===`all`)&&ec&&Wn!==`inside`&&(u=a=Wn===`center`?ec/2:ec,!h.__boxStroke)){let u=h.__isLinePath?0:10*a,Wn=h.strokeCap===`none`?0:ec;a+=Math.max(u,Wn)}return h.__useArrow&&(a+=5*ec),tc&&(a=ae$1(a,tc.__layout.strokeSpread=tc.__updateStrokeSpread()),u=Math.max(u,tc.__layout.strokeBoxSpread)),this.__layout.strokeBoxSpread=u,a},__updateRenderSpread(){let a=0,{shadow:u,innerShadow:h,blur:Wn,backgroundBlur:ec,filter:tc,renderSpread:nc}=this.__,{strokeSpread:rc}=this.__layout,ic=this.__box;u&&(a=Tt$2.getShadowRenderSpread(this,u)),Wn&&(a=ae$1(a,Wn)),tc&&(a=ne$1(a,Et$2.getSpread(tc))),nc&&(a=ne$1(a,nc)),rc&&(a=ne$1(a,rc));let ac=a;return h&&(ac=ae$1(ac,Tt$2.getInnerShadowSpread(this,h))),ec&&(ac=ae$1(ac,ec)),this.__layout.renderShapeSpread=ac,ic?ae$1(ic.__updateRenderSpread(),a):a}},{stintSet:he$1}=_,de$1={__updateChange(){let a=this.__;if(a.__useStroke){let u=a.__useStroke=!(!a.stroke||!a.strokeWidth);he$1(this.__world,`half`,u&&a.strokeAlign===`center`&&a.strokeWidth%2),he$1(a,`__fillAfterStroke`,u&&a.strokeAlign===`outside`&&a.fill&&!a.__isTransparentFill)}if(a.__useEffect){let{shadow:u,fill:h,stroke:Wn}=a,ec=a.innerShadow||a.blur||a.backgroundBlur||a.filter;he$1(a,`__isFastShadow`,u&&!ec&&u.length<2&&!u[0].spread&&!Tt$2.isTransformShadow(u[0])&&h&&!a.__isTransparentFill&&!(l(h)&&h.length>1)&&(this.useFastShadow||!Wn||Wn&&a.strokeAlign===`inside`)),a.__useEffect=!(!u&&!ec)}a.__checkSingle(),he$1(a,`__complex`,a.__isFills||a.__isStrokes||a.cornerRadius||a.__useEffect)},__drawFast(a,u){le$1(this,a,u)},__draw(a,u,h){let Wn=this.__;if(Wn.__complex){Wn.__needComputePaint&&Wn.__computePaint();let{fill:ec,stroke:tc,__drawAfterFill:nc,__fillAfterStroke:rc,__isFastShadow:ic}=Wn;if(this.__drawRenderPath(a),Wn.__useEffect&&!ic){let ic=Pt$2.shape(this,a,u);this.__nowWorld=this.__getNowWorld(u);let{shadow:ac,innerShadow:oc,filter:sc}=Wn;ac&&Tt$2.shadow(this,a,ic),rc&&(Wn.__isStrokes?Pt$2.strokes(tc,this,a,u):Pt$2.stroke(tc,this,a,u)),ec&&(Wn.__isFills?Pt$2.fills(ec,this,a,u):Pt$2.fill(ec,this,a,u)),nc&&this.__drawAfterFill(a,u),oc&&Tt$2.innerShadow(this,a,ic),tc&&!rc&&(Wn.__isStrokes?Pt$2.strokes(tc,this,a,u):Pt$2.stroke(tc,this,a,u)),sc&&Et$2.apply(sc,this,this.__nowWorld,a,h,ic),ic.worldCanvas&&ic.worldCanvas.recycle(),ic.canvas.recycle()}else{if(rc&&(Wn.__isStrokes?Pt$2.strokes(tc,this,a,u):Pt$2.stroke(tc,this,a,u)),ic){let u=Wn.shadow[0],{scaleX:h,scaleY:ec}=this.getRenderScaleData(!0,u.scaleFixed);a.save(),a.setWorldShadow(u.x*h,u.y*ec,u.blur*h,At$2.string(u.color))}ec&&(Wn.__isFills?Pt$2.fills(ec,this,a,u):Pt$2.fill(ec,this,a,u)),ic&&a.restore(),nc&&this.__drawAfterFill(a,u),tc&&!rc&&(Wn.__isStrokes?Pt$2.strokes(tc,this,a,u):Pt$2.stroke(tc,this,a,u))}}else Wn.__pathInputed?le$1(this,a,u):this.__drawFast(a,u)},__drawShape(a,u){this.__drawRenderPath(a);let h=this.__,{fill:Wn,stroke:ec}=h;Wn&&!u.ignoreFill&&(h.__isAlphaPixelFill?Pt$2.fills(Wn,this,a,u):Pt$2.fill(`#000000`,this,a,u)),h.__isCanvas&&this.__drawAfterFill(a,u),ec&&!u.ignoreStroke&&(h.__isAlphaPixelStroke?Pt$2.strokes(ec,this,a,u):Pt$2.stroke(`#000000`,this,a,u))},__drawAfterFill(a,u){this.__.__clipAfterFill?(a.save(),a.clipUI(this),this.__drawContent(a,u),a.restore()):this.__drawContent(a,u)}};function le$1(a,u,h){let{fill:Wn,stroke:ec,__drawAfterFill:tc,__fillAfterStroke:nc}=a.__;a.__drawRenderPath(u),nc&&Pt$2.stroke(ec,a,u,h),Wn&&Pt$2.fill(Wn,a,u,h),tc&&a.__drawAfterFill(u,h),ec&&!nc&&Pt$2.stroke(ec,a,u,h)}var pe$1={__drawFast(a,u){let{x:h,y:Wn,width:ec,height:tc}=this.__layout.boxBounds,{fill:nc,stroke:rc,__drawAfterFill:ic}=this.__;if(nc&&(a.fillStyle=nc,a.fillRect(h,Wn,ec,tc)),ic&&this.__drawAfterFill(a,u),rc){let{strokeAlign:nc,__strokeWidth:ic}=this.__;if(!ic)return;a.setStroke(rc,ic,this.__);let ac=ic/2;switch(nc){case`center`:a.strokeRect(0,0,ec,tc);break;case`inside`:ec-=ic,tc-=ic,ec<0||tc<0?(a.save(),this.__clip(a,u),a.strokeRect(h+ac,Wn+ac,ec,tc),a.restore()):a.strokeRect(h+ac,Wn+ac,ec,tc);break;case`outside`:a.strokeRect(h-ac,Wn-ac,ec+ic,tc+ic)}}}},ue$1,ce$1=ue$1=class extends ih{get app(){return this.leafer&&this.leafer.app}get isFrame(){return!1}set scale(a){N$1.assignScale(this,a)}get scale(){return this.__.scale}get isAutoWidth(){let a=this.__;return a.__autoWidth||a.autoWidth}get isAutoHeight(){let a=this.__;return a.__autoHeight||a.autoHeight}get pen(){let{path:a}=this.__;return Xi$1.set(this.path=a||[]),a||this.__drawPathByBox(Xi$1),Xi$1}reset(a){}set(a,u){a&&Object.assign(this,a)}get(a){return i(a)?this.__.__getInput(a):this.__.__getInputData(a)}createProxyData(){}find(a,u){return ne$2.need(`find`)}findTag(a){return this.find({tag:a})}findOne(a,u){return ne$2.need(`find`)}findId(a){return this.findOne({id:a})}getPath(a,u){this.__layout.update();let h=u?this.__.__pathForRender:this.__.path;return h||(Xi$1.set(h=[]),this.__drawPathByBox(Xi$1)),a?$s.toCanvasData(h,!0):h}getPathString(a,u,h){return $s.stringify(this.getPath(a,u),h)}load(){this.__.__computePaint()}__onUpdateSize(){if(this.__.__input){let a=this.__;!a.lazy||this.__inLazyBounds||It$2.running?a.__computePaint():a.__needComputePaint=!0}}__updateRenderPath(){let a=this.__;a.path?(a.__pathForRender=a.cornerRadius?Yi$1.smooth(a.path,a.cornerRadius,a.cornerSmoothing):a.path,a.__useArrow&&Ct$2.addArrows(this)):a.__pathForRender&&=void 0}__drawRenderPath(a){a.beginPath(),this.__drawPathByData(a,this.__.__pathForRender)}__drawPath(a){a.beginPath(),this.__drawPathByData(a,this.__.path)}__drawPathByData(a,u){u?Kr.drawPathByData(a,u):this.__drawPathByBox(a)}__drawPathByBox(a){let{x:u,y:h,width:Wn,height:ec}=this.__layout.boxBounds;if(this.__.cornerRadius){let{cornerRadius:tc}=this.__;a.roundRect(u,h,Wn,ec,o(tc)?[tc]:tc)}else a.rect(u,h,Wn,ec)}drawImagePlaceholder(a,u,h){Pt$2.fill(this.__.placeholderColor,this,u,h)}animate(a,u,h,Wn){return this.set(a),ne$2.need(`animate`)}killAnimate(a,u){}export(a,u){return ne$2.need(`export`)}syncExport(a,u){return ne$2.need(`export`)}clone(a){let u=_.clone(this.toJSON());return a&&Object.assign(u,a),ue$1.one(u)}static one(a,u,h,Wn,ec){return he$2.get(a.tag||this.prototype.__tag,a,u,h,Wn,ec)}static registerUI(){Hn()(this)}static registerData(a){An(a)(this.prototype)}static setEditConfig(a){}static setEditOuter(a){}static setEditInner(a){}destroy(){this.fill=this.stroke=null,this.__animate&&this.killAnimate(),super.destroy()}};xt$2([An(Yt$2)],ce$1.prototype,`__`,void 0),xt$2([Rt$2()],ce$1.prototype,`zoomLayer`,void 0),xt$2([ln(``)],ce$1.prototype,`id`,void 0),xt$2([ln(``)],ce$1.prototype,`name`,void 0),xt$2([ln(``)],ce$1.prototype,`className`,void 0),xt$2([kn(`pass-through`)],ce$1.prototype,`blendMode`,void 0),xt$2([On(1)],ce$1.prototype,`opacity`,void 0),xt$2([Tn(!0)],ce$1.prototype,`visible`,void 0),xt$2([kn(!1)],ce$1.prototype,`locked`,void 0),xt$2([Cn(!1)],ce$1.prototype,`dim`,void 0),xt$2([Cn(!1)],ce$1.prototype,`dimskip`,void 0),xt$2([Rn(0)],ce$1.prototype,`zIndex`,void 0),xt$2([Ln(!1)],ce$1.prototype,`mask`,void 0),xt$2([En(!1)],ce$1.prototype,`eraser`,void 0),xt$2([dn(0,!0)],ce$1.prototype,`x`,void 0),xt$2([dn(0,!0)],ce$1.prototype,`y`,void 0),xt$2([fn(100,!0)],ce$1.prototype,`width`,void 0),xt$2([fn(100,!0)],ce$1.prototype,`height`,void 0),xt$2([_n(1,!0)],ce$1.prototype,`scaleX`,void 0),xt$2([_n(1,!0)],ce$1.prototype,`scaleY`,void 0),xt$2([pn(0,!0)],ce$1.prototype,`rotation`,void 0),xt$2([pn(0,!0)],ce$1.prototype,`skewX`,void 0),xt$2([pn(0,!0)],ce$1.prototype,`skewY`,void 0),xt$2([dn(0,!0)],ce$1.prototype,`offsetX`,void 0),xt$2([dn(0,!0)],ce$1.prototype,`offsetY`,void 0),xt$2([un(0,!0)],ce$1.prototype,`scrollX`,void 0),xt$2([un(0,!0)],ce$1.prototype,`scrollY`,void 0),xt$2([cn()],ce$1.prototype,`origin`,void 0),xt$2([cn()],ce$1.prototype,`around`,void 0),xt$2([ln(!1)],ce$1.prototype,`lazy`,void 0),xt$2([gn(1)],ce$1.prototype,`pixelRatio`,void 0),xt$2([vn(0)],ce$1.prototype,`renderSpread`,void 0),xt$2([mn()],ce$1.prototype,`path`,void 0),xt$2([xn()],ce$1.prototype,`windingRule`,void 0),xt$2([xn(!0)],ce$1.prototype,`closed`,void 0),xt$2([fn(0)],ce$1.prototype,`padding`,void 0),xt$2([fn(!1)],ce$1.prototype,`lockRatio`,void 0),xt$2([fn()],ce$1.prototype,`widthRange`,void 0),xt$2([fn()],ce$1.prototype,`heightRange`,void 0),xt$2([ln(!1)],ce$1.prototype,`draggable`,void 0),xt$2([ln()],ce$1.prototype,`dragBounds`,void 0),xt$2([ln(`auto`)],ce$1.prototype,`dragBoundsType`,void 0),xt$2([ln(!1)],ce$1.prototype,`editable`,void 0),xt$2([In(!0)],ce$1.prototype,`hittable`,void 0),xt$2([In(`path`)],ce$1.prototype,`hitFill`,void 0),xt$2([Bn(`path`)],ce$1.prototype,`hitStroke`,void 0),xt$2([In(!1)],ce$1.prototype,`hitBox`,void 0),xt$2([In(!0)],ce$1.prototype,`hitChildren`,void 0),xt$2([In(!0)],ce$1.prototype,`hitSelf`,void 0),xt$2([In()],ce$1.prototype,`hitRadius`,void 0),xt$2([Mn(``)],ce$1.prototype,`cursor`,void 0),xt$2([kn()],ce$1.prototype,`fill`,void 0),xt$2([Bn(void 0,!0)],ce$1.prototype,`stroke`,void 0),xt$2([Bn(`inside`)],ce$1.prototype,`strokeAlign`,void 0),xt$2([Bn(1,!0)],ce$1.prototype,`strokeWidth`,void 0),xt$2([Bn(!1)],ce$1.prototype,`strokeWidthFixed`,void 0),xt$2([Bn(`none`)],ce$1.prototype,`strokeCap`,void 0),xt$2([Bn(`miter`)],ce$1.prototype,`strokeJoin`,void 0),xt$2([Bn()],ce$1.prototype,`dashPattern`,void 0),xt$2([Bn(0)],ce$1.prototype,`dashOffset`,void 0),xt$2([Bn(10)],ce$1.prototype,`miterLimit`,void 0),xt$2([xn(0)],ce$1.prototype,`cornerRadius`,void 0),xt$2([xn()],ce$1.prototype,`cornerSmoothing`,void 0),xt$2([St$2()],ce$1.prototype,`shadow`,void 0),xt$2([St$2()],ce$1.prototype,`innerShadow`,void 0),xt$2([St$2()],ce$1.prototype,`blur`,void 0),xt$2([St$2()],ce$1.prototype,`backgroundBlur`,void 0),xt$2([St$2()],ce$1.prototype,`grayscale`,void 0),xt$2([St$2()],ce$1.prototype,`filter`,void 0),xt$2([kn()],ce$1.prototype,`placeholderColor`,void 0),xt$2([ln(100)],ce$1.prototype,`placeholderDelay`,void 0),xt$2([ln({})],ce$1.prototype,`data`,void 0),xt$2([zn(ih.prototype.reset)],ce$1.prototype,`reset`,null),ce$1=ue$1=xt$2([jn(_e$1),jn(de$1),Fn()],ce$1);var ge$1=class extends ce$1{get __tag(){return`Group`}get isBranch(){return!0}reset(a){this.__setBranch(),super.reset(a)}__setBranch(){this.children||=[]}set(a,u){if(a)if(a.children){let{children:h}=a;delete a.children,this.children?this.clear():this.__setBranch(),super.set(a,u),h.forEach(a=>this.add(a)),a.children=h}else super.set(a,u)}toJSON(a){let u=super.toJSON(a);return this.childlessJSON||(u.children=this.children.map(u=>u.toJSON(a))),u}pick(a,u){}addAt(a,u){this.add(a,u)}addAfter(a,u){this.add(a,this.children.indexOf(u)+1)}addBefore(a,u){this.add(a,this.children.indexOf(u))}add(a,u){}addMany(...a){}remove(a,u){}removeAll(a){}clear(){}},ye$1;xt$2([An(Xt$2)],ge$1.prototype,`__`,void 0),xt$2([fn(0)],ge$1.prototype,`width`,void 0),xt$2([fn(0)],ge$1.prototype,`height`,void 0),ge$1=xt$2([jn(ph),Hn()],ge$1);var ve$1=$t$2.get(`Leafer`),fe$1=ye$1=class extends ge$1{get __tag(){return`Leafer`}get isApp(){return!1}get app(){return this.parent||this}get isLeafer(){return!0}get imageReady(){return this.viewReady&&Qi$1.isComplete}get layoutLocked(){return!this.layouter.running}get FPS(){return this.renderer?this.renderer.FPS:60}get cursorPoint(){return this.interaction&&this.interaction.hoverData||{x:this.width/2,y:this.height/2}}get clientBounds(){return this.canvas&&this.canvas.getClientBounds(!0)||U$1()}constructor(a,u){super(u),this.config={start:!0,hittable:!0,smooth:!0,lazySpeard:100},this.leafs=0,this.__eventIds=[],this.__controllers=[],this.__readyWait=[],this.__viewReadyWait=[],this.__viewCompletedWait=[],this.__nextRenderWait=[],this.userConfig=a,a&&(a.view||a.width)&&this.init(a),ye$1.list.add(this)}init(a,u){if(this.canvas)return;let h,{config:Wn}=this;this.__setLeafer(this),u&&(this.parentApp=u,this.__bindApp(u),h=u.running),a&&(this.parent=u,this.initType(a.type),this.parent=void 0,_.assign(Wn,a));let ec=this.canvas=oe$2.canvas(Wn);this.__controllers.push(this.renderer=oe$2.renderer(this,ec,Wn),this.watcher=oe$2.watcher(this,Wn),this.layouter=oe$2.layouter(this,Wn)),this.isApp&&this.__setApp(),this.__checkAutoLayout(),this.view=ec.view,u||(this.selector=oe$2.selector(this),this.interaction=oe$2.interaction(this,ec,this.selector,Wn),this.interaction&&(this.__controllers.unshift(this.interaction),this.hitCanvasManager=oe$2.hitCanvasManager()),this.canvasManager=new _e$2,h=Wn.start),this.hittable=Wn.hittable,this.fill=Wn.fill,this.canvasManager.add(ec),this.__listenEvents(),h&&(this.__startTimer=setTimeout(this.start.bind(this))),bo.run(this.__initWait),this.onInit()}onInit(){}initType(a){}set(a,u){this.waitInit(()=>{super.set(a,u)})}start(){clearTimeout(this.__startTimer),!this.running&&this.canvas&&(this.running=!0,this.ready?this.emitLeafer(qo.RESTART):this.emitLeafer(qo.START),this.__controllers.forEach(a=>a.start()),this.isApp||this.renderer.render())}stop(){clearTimeout(this.__startTimer),this.running&&this.canvas&&(this.__controllers.forEach(a=>a.stop()),this.running=!1,this.emitLeafer(qo.STOP))}unlockLayout(){this.layouter.start(),this.updateLayout()}lockLayout(){this.updateLayout(),this.layouter.stop()}resize(a){let u=_.copyAttrs({},a,Pe$2);Object.keys(u).forEach(a=>this[a]=u[a])}forceRender(a,u){let{renderer:h}=this;h&&(h.addBlock(a?new Vt$3(a):this.canvas.bounds),this.viewReady&&(u?h.render():h.update()))}requestRender(a=!1){this.renderer&&this.renderer.update(a)}updateCursor(a){let u=this.interaction;u&&(a?u.setCursor(a):u.updateCursor())}updateLazyBounds(){this.lazyBounds=this.canvas.bounds.clone().spread(this.config.lazySpeard)}__doResize(a){let{canvas:u}=this;if(!u||u.isSameSize(a))return;let h=_.copyAttrs({},this.canvas,Pe$2);u.resize(a),this.updateLazyBounds(),this.__onResize(new jo(a,h))}__onResize(a){this.emitEvent(a),_.copyAttrs(this.__,a,Pe$2),setTimeout(()=>{this.canvasManager&&this.canvasManager.clearRecycled()},0)}__setApp(){}__bindApp(a){this.selector=a.selector,this.interaction=a.interaction,this.canvasManager=a.canvasManager,this.hitCanvasManager=a.hitCanvasManager}__setLeafer(a){this.leafer=a,this.__level=1}__checkAutoLayout(){let{config:a,parentApp:u}=this;u||(a.width&&a.height||(this.autoLayout=new Qt$2(a)),this.canvas.startAutoLayout(this.autoLayout,this.__onResize.bind(this)))}__setAttr(a,u){return this.canvas&&(Pe$2.includes(a)?this.__changeCanvasSize(a,u):a===`fill`?this.__changeFill(u):a===`hittable`?this.parent||(this.canvas.hittable=u):a===`zIndex`?(this.canvas.zIndex=u,setTimeout(()=>this.parent&&this.parent.__updateSortChildren())):a===`mode`&&this.emit(qo.UPDATE_MODE,{mode:u})),super.__setAttr(a,u)}__getAttr(a){return this.canvas&&Pe$2.includes(a)?this.canvas[a]:super.__getAttr(a)}__changeCanvasSize(a,u){let{config:h,canvas:Wn}=this,ec=_.copyAttrs({},Wn,Pe$2);ec[a]=h[a]=u,h.width&&h.height?Wn.stopAutoLayout():this.__checkAutoLayout(),this.__doResize(ec)}__changeFill(a){this.config.fill=a,this.canvas.allowBackgroundColor?this.canvas.backgroundColor=a:this.forceRender()}__onCreated(){this.created=!0}__onReady(){this.ready=!0,this.emitLeafer(qo.BEFORE_READY),this.emitLeafer(qo.READY),this.emitLeafer(qo.AFTER_READY),bo.run(this.__readyWait)}__onViewReady(){this.viewReady||(this.viewReady=!0,this.emitLeafer(qo.VIEW_READY),bo.run(this.__viewReadyWait))}__onLayoutEnd(){let{grow:a,width:u,height:h}=this.config;if(a){let{width:Wn,height:ec,pixelRatio:tc}=this,nc=a===`box`?this.worldBoxBounds:this.__world;u||(Wn=Math.max(1,nc.x+nc.width)),h||(ec=Math.max(1,nc.y+nc.height)),this.__doResize({width:Wn,height:ec,pixelRatio:tc})}this.ready||this.__onReady()}__onNextRender(){if(this.viewReady){bo.run(this.__nextRenderWait);let{imageReady:a}=this;a&&!this.viewCompleted&&this.__checkViewCompleted(),a||(this.viewCompleted=!1,this.requestRender())}else this.requestRender()}__checkViewCompleted(a=!0){this.nextRender(()=>{this.imageReady&&(a&&this.emitLeafer(qo.VIEW_COMPLETED),bo.run(this.__viewCompletedWait),this.viewCompleted=!0)})}__onWatchData(){this.watcher.childrenChanged&&this.interaction&&this.nextRender(()=>this.interaction.updateCursor())}waitInit(a,u){u&&(a=a.bind(u)),this.__initWait||=[],this.canvas?a():this.__initWait.push(a)}waitReady(a,u){u&&(a=a.bind(u)),this.ready?a():this.__readyWait.push(a)}waitViewReady(a,u){u&&(a=a.bind(u)),this.viewReady?a():this.__viewReadyWait.push(a)}waitViewCompleted(a,u){u&&(a=a.bind(u)),this.__viewCompletedWait.push(a),this.viewCompleted?this.__checkViewCompleted(!1):this.running||this.start()}nextRender(a,u,h){u&&(a=a.bind(u));let Wn=this.__nextRenderWait;if(h){for(let u=0;u<Wn.length;u++)if(Wn[u]===a){Wn.splice(u,1);break}}else Wn.push(a);this.requestRender()}zoom(a,u,h,Wn){return ne$2.need(`view`)}getValidMove(a,u,h){return{x:a,y:u}}getValidScale(a){return a}getWorldPointByClient(a,u){return this.interaction&&this.interaction.getLocal(a,u)}getPagePointByClient(a,u){return this.getPagePoint(this.getWorldPointByClient(a,u))}getClientPointByWorld(a){let{x:u,y:h}=this.clientBounds;return{x:u+a.x,y:h+a.y}}updateClientBounds(){this.canvas&&this.canvas.updateClientBounds()}receiveEvent(a){}emitLeafer(a){this.emitEvent(new qo(a,this))}__listenEvents(){let a=se$2.start(`FirstCreate `+this.innerName);this.once([[qo.START,()=>se$2.end(a)],[Go.START,this.updateLazyBounds,this],[Vo.START,this.__onCreated,this],[Vo.END,this.__onViewReady,this]]),this.__eventIds.push(this.on_([[Ho.DATA,this.__onWatchData,this],[Go.END,this.__onLayoutEnd,this],[Vo.NEXT,this.__onNextRender,this]]))}__removeListenEvents(){this.off_(this.__eventIds)}destroy(a){let u=()=>{if(!this.destroyed){ye$1.list.remove(this);try{this.stop(),this.emitLeafer(qo.END),this.__removeListenEvents(),this.__controllers.forEach(a=>!(this.parent&&a===this.interaction)&&a.destroy()),this.__controllers.length=0,this.parent||(this.selector&&this.selector.destroy(),this.hitCanvasManager&&this.hitCanvasManager.destroy(),this.canvasManager&&this.canvasManager.destroy()),this.canvas&&this.canvas.destroy(),this.config.view=this.view=this.parentApp=null,this.userConfig&&(this.userConfig.view=null),super.destroy(),setTimeout(()=>{Zi$1.clearRecycled()},100)}catch(a){ve$1.error(a)}}};a?u():setTimeout(u)}};fe$1.list=new fh,xt$2([An(Jt$1)],fe$1.prototype,`__`,void 0),xt$2([fn()],fe$1.prototype,`pixelRatio`,void 0),xt$2([ln(`normal`)],fe$1.prototype,`mode`,void 0),fe$1=ye$1=xt$2([Hn()],fe$1);var we$1=class extends ce$1{get __tag(){return`Rect`}};xt$2([An($t$1)],we$1.prototype,`__`,void 0),we$1=xt$2([jn(pe$1),Fn(),Hn()],we$1);var{add:xe$1,includes:Se$1,scroll:me$1}=Ut$3,Re$1=we$1.prototype,ke$1=ge$1.prototype,Be$1=class extends ge$1{get __tag(){return`Box`}get isBranchLeaf(){return!0}constructor(a){super(a),this.__layout.renderChanged||this.__layout.renderChange()}__updateStrokeSpread(){return 0}__updateRectRenderSpread(){return 0}__updateRenderSpread(){return this.__updateRectRenderSpread()||-1}__updateRectBoxBounds(){}__updateBoxBounds(a){if(this.children.length&&!this.pathInputed){let a=this.__;if(a.__autoSide){a.__hasSurface&&this.__extraUpdate(),super.__updateBoxBounds();let{boxBounds:u}=this.__layout;a.__autoSize||(a.__autoWidth?(u.width+=u.x,u.x=0,u.height=a.height,u.y=0):(u.height+=u.y,u.y=0,u.width=a.width,u.x=0)),this.__updateNaturalSize()}else this.__updateRectBoxBounds()}else this.__updateRectBoxBounds()}__updateStrokeBounds(){}__updateRenderBounds(){let a,u;if(this.children.length){let h=this.__,Wn=this.__layout,{renderBounds:ec,boxBounds:tc}=Wn,{overflow:nc}=h,rc=Wn.childrenRenderBounds||=U$1();super.__updateRenderBounds(rc),(u=nc.includes(`scroll`))&&(xe$1(rc,tc),me$1(rc,h)),this.__updateRectRenderBounds(),a=!Se$1(tc,rc),a&&nc===`show`&&xe$1(ec,rc)}else this.__updateRectRenderBounds();_.stintSet(this,`isOverflow`,a),this.__checkScroll(u)}__updateRectRenderBounds(){}__checkScroll(a){}__updateRectChange(){}__updateChange(){super.__updateChange(),this.__updateRectChange()}__renderRect(a,u){}__renderGroup(a,u){}__render(a,u){this.__.__drawAfterFill?this.__renderRect(a,u):(this.__renderRect(a,u),this.children.length&&this.__renderGroup(a,u)),this.hasScroller&&this.scroller.__render(a,u)}__drawContent(a,u){this.__renderGroup(a,u),(this.__.__useStroke||this.__.__useEffect)&&(a.setWorld(this.__nowWorld),this.__drawRenderPath(a))}};xt$2([An(jt$2)],Be$1.prototype,`__`,void 0),xt$2([fn(100)],Be$1.prototype,`width`,void 0),xt$2([fn(100)],Be$1.prototype,`height`,void 0),xt$2([ln(!1)],Be$1.prototype,`resizeChildren`,void 0),xt$2([vn(`show`)],Be$1.prototype,`overflow`,void 0),xt$2([zn(Re$1.__updateStrokeSpread)],Be$1.prototype,`__updateStrokeSpread`,null),xt$2([zn(Re$1.__updateRenderSpread)],Be$1.prototype,`__updateRectRenderSpread`,null),xt$2([zn(Re$1.__updateBoxBounds)],Be$1.prototype,`__updateRectBoxBounds`,null),xt$2([zn(Re$1.__updateStrokeBounds)],Be$1.prototype,`__updateStrokeBounds`,null),xt$2([zn(Re$1.__updateRenderBounds)],Be$1.prototype,`__updateRectRenderBounds`,null),xt$2([zn(Re$1.__updateChange)],Be$1.prototype,`__updateRectChange`,null),xt$2([zn(Re$1.__render)],Be$1.prototype,`__renderRect`,null),xt$2([zn(ke$1.__render)],Be$1.prototype,`__renderGroup`,null),Be$1=xt$2([Fn(),Hn()],Be$1);var Ae$1=class extends Be$1{get __tag(){return`Frame`}get isFrame(){return!0}};xt$2([An(qt$1)],Ae$1.prototype,`__`,void 0),xt$2([kn(`#FFFFFF`)],Ae$1.prototype,`fill`,void 0),xt$2([vn(`hide`)],Ae$1.prototype,`overflow`,void 0),Ae$1=xt$2([Hn()],Ae$1);var{moveTo:be$1,closePath:Ce$1,ellipse:Pe$1}=br,Fe$1=class extends ce$1{get __tag(){return`Ellipse`}__updatePath(){let{width:a,height:u,innerRadius:h,startAngle:Wn,endAngle:ec}=this.__,tc=a/2,nc=u/2,rc=this.__.path=[];h?(Wn||ec?(h<1&&Pe$1(rc,tc,nc,tc*h,nc*h,0,Wn,ec,!1),Pe$1(rc,tc,nc,tc,nc,0,ec,Wn,!0),h<1&&Ce$1(rc)):(h<1&&(Pe$1(rc,tc,nc,tc*h,nc*h),be$1(rc,a,nc)),Pe$1(rc,tc,nc,tc,nc,0,360,0,!0)),m.ellipseToCurve&&(this.__.path=this.getPath(!0))):Wn||ec?(be$1(rc,tc,nc),Pe$1(rc,tc,nc,tc,nc,0,Wn,ec,!1),Ce$1(rc)):Pe$1(rc,tc,nc,tc,nc)}};xt$2([An(Kt$2)],Fe$1.prototype,`__`,void 0),xt$2([xn(0)],Fe$1.prototype,`innerRadius`,void 0),xt$2([xn(0)],Fe$1.prototype,`startAngle`,void 0),xt$2([xn(0)],Fe$1.prototype,`endAngle`,void 0),Fe$1=xt$2([Hn()],Fe$1);var{sin:We$1,cos:Te$1,PI:Ee$1}=Math,{moveTo:Ie$1,lineTo:De$1,closePath:Le$1,drawPoints:ze$1}=br,Me$1=class extends ce$1{get __tag(){return`Polygon`}__updatePath(){let a=this.__,u=a.path=[];if(a.points)ze$1(u,a.points,a.curve,!0);else{let{width:h,height:Wn,sides:ec}=a,tc=h/2,nc=Wn/2;Ie$1(u,tc,0);for(let a=1;a<ec;a++)De$1(u,tc+tc*We$1(2*a*Ee$1/ec),nc-nc*Te$1(2*a*Ee$1/ec));Le$1(u)}}};xt$2([An(Qt$1)],Me$1.prototype,`__`,void 0),xt$2([xn(3)],Me$1.prototype,`sides`,void 0),xt$2([xn()],Me$1.prototype,`points`,void 0),xt$2([xn(0)],Me$1.prototype,`curve`,void 0),Me$1=xt$2([Fn(),Hn()],Me$1);var{sin:Oe$1,cos:Ne$1,PI:Ve$1}=Math,{moveTo:He$1,lineTo:Ye$1,closePath:Ue$1}=br,Xe$1=class extends ce$1{get __tag(){return`Star`}__updatePath(){let{width:a,height:u,corners:h,innerRadius:Wn}=this.__,ec=a/2,tc=u/2,nc=this.__.path=[];He$1(nc,ec,0);for(let a=1;a<2*h;a++)Ye$1(nc,ec+(a%2==0?ec:ec*Wn)*Oe$1(a*Ve$1/h),tc-(a%2==0?tc:tc*Wn)*Ne$1(a*Ve$1/h));Ue$1(nc)}};xt$2([An(Zt$1)],Xe$1.prototype,`__`,void 0),xt$2([xn(5)],Xe$1.prototype,`corners`,void 0),xt$2([xn(.382)],Xe$1.prototype,`innerRadius`,void 0),Xe$1=xt$2([Hn()],Xe$1);var{moveTo:je$1,lineTo:Je,drawPoints:qe$1}=br,{rotate:Ge$1,getAngle:$e$1,getDistance:Ke$1,defaultPoint:Qe$1}=lt$2,Ze$1=class extends ce$1{get __tag(){return`Line`}get toPoint(){let{width:a,rotation:u}=this.__,h=F$1();return a&&(h.x=a),u&&Ge$1(h,u),h}set toPoint(a){this.width=Ke$1(Qe$1,a),this.rotation=$e$1(Qe$1,a),this.height&&=0}__updatePath(){let a=this.__,u=a.path=[];a.points?qe$1(u,a.points,a.curve,a.closed):(je$1(u,0,0),Je(u,this.width,0))}};xt$2([An(Gt$1)],Ze$1.prototype,`__`,void 0),xt$2([wn(`center`)],Ze$1.prototype,`strokeAlign`,void 0),xt$2([fn(0)],Ze$1.prototype,`height`,void 0),xt$2([xn()],Ze$1.prototype,`points`,void 0),xt$2([xn(0)],Ze$1.prototype,`curve`,void 0),xt$2([xn(!1)],Ze$1.prototype,`closed`,void 0),Ze$1=xt$2([Hn()],Ze$1);var ti$1=class extends we$1{get __tag(){return`Image`}get ready(){let{image:a}=this;return a&&a.ready}get image(){let{fill:a}=this.__;return l(a)&&a[0].image}};xt$2([An(oe$1)],ti$1.prototype,`__`,void 0),xt$2([fn(``)],ti$1.prototype,`url`,void 0),ti$1=xt$2([Hn()],ti$1);var ii$1=class extends we$1{get __tag(){return`Canvas`}get context(){return this.canvas.context}get ready(){return!this.url}constructor(a){super(a),this.canvas=oe$2.canvas(this.__),a&&a.url&&this.drawImage(a.url)}drawImage(a){new en({url:a}).load(a=>{this.context.drawImage(a.view,0,0),this.url=void 0,this.paint(),this.emitEvent(new No(No.LOADED,{image:a}))})}draw(a,u,h,Wn){let ec=new gt$1(a.worldTransform).invert(),tc=new gt$1;u&&tc.translate(u.x,u.y),h&&(o(h)?tc.scale(h):tc.scale(h.x,h.y)),Wn&&tc.rotate(Wn),ec.multiplyParent(tc),a.__render(this.canvas,{matrix:ec.withScale()}),this.paint()}paint(){this.forceRender()}__drawContent(a,u){let{width:h,height:Wn}=this.__,{view:ec}=this.canvas;a.drawImage(ec,0,0,ec.width,ec.height,0,0,h,Wn)}__updateSize(){let{canvas:a}=this;if(a){let{smooth:u,safeResize:h}=this.__;a.resize(this.__,h),a.smooth!==u&&(a.smooth=u)}}destroy(){this.canvas&&=(this.canvas.destroy(),null),super.destroy()}};xt$2([An(re$1)],ii$1.prototype,`__`,void 0),xt$2([mt$2(100)],ii$1.prototype,`width`,void 0),xt$2([mt$2(100)],ii$1.prototype,`height`,void 0),xt$2([mt$2(1)],ii$1.prototype,`pixelRatio`,void 0),xt$2([mt$2(!0)],ii$1.prototype,`smooth`,void 0),xt$2([ln(!1)],ii$1.prototype,`safeResize`,void 0),xt$2([mt$2()],ii$1.prototype,`contextSettings`,void 0),ii$1=xt$2([Hn()],ii$1);var{copyAndSpread:si$1,includes:oi$1,spread:ri$1,setList:ai$1}=Ut$3,{stintSet:ni$1}=_,_i$1=class extends ce$1{get __tag(){return`Text`}get textDrawData(){return this.updateLayout(),this.__.__textDrawData}__updateTextDrawData(){let a=this.__,{lineHeight:u,letterSpacing:h,fontFamily:Wn,fontSize:ec,fontWeight:tc,italic:nc,textCase:rc,textOverflow:ic,padding:ac,width:oc,height:sc}=a;a.__lineHeight=bt$2.number(u,ec),a.__letterSpacing=bt$2.number(h,ec),a.__baseLine=a.__lineHeight-(a.__lineHeight-.7*ec)/2,a.__font=`${nc?`italic `:``}${rc===`small-caps`?`small-caps `:``}${tc===`normal`?``:tc+` `}${ec||12}px ${Wn||`caption`}`,ni$1(a,`__padding`,ac&&N$1.fourNumber(ac)),ni$1(a,`__clipText`,ic!==`show`&&!a.__autoSize),ni$1(a,`__isCharMode`,oc||sc||a.__letterSpacing||rc!==`none`),a.__textDrawData=Bt$2.getDrawData((a.__isPlacehold=a.placeholder&&a.text===``)?a.placeholder:a.text,this.__)}__updateBoxBounds(){let a=this.__,u=this.__layout,{fontSize:h,italic:Wn,padding:ec,__autoWidth:tc,__autoHeight:nc}=a;this.__updateTextDrawData();let{bounds:rc}=a.__textDrawData,ic=u.boxBounds;if(u.contentBounds=rc,a.__lineHeight<h&&ri$1(rc,h/2),tc||nc){if(ic.x=tc?rc.x:0,ic.y=nc?rc.y:0,ic.width=tc?rc.width:a.width,ic.height=nc?rc.height:a.height,ec){let[u,h,Wn,ec]=a.__padding;tc&&(ic.x-=ec,ic.width+=h+ec),nc&&(ic.y-=u,ic.height+=Wn+u)}this.__updateNaturalSize()}else super.__updateBoxBounds();Wn&&(ic.width+=.16*h),_.stintSet(this,`isOverflow`,!oi$1(ic,rc)),this.isOverflow?(ai$1(a.__textBoxBounds={},[ic,rc]),u.renderChanged=!0):a.__textBoxBounds=ic}__updateRenderSpread(){let a=super.__updateRenderSpread();return a||=this.isOverflow?1:0,a}__updateRenderBounds(){let{renderBounds:a,renderSpread:u}=this.__layout;si$1(a,this.__.__textBoxBounds,u),this.__box&&(this.__box.__layout.renderBounds=a)}__updateChange(){super.__updateChange();let a=this.__box;a&&(a.__onUpdateSize(),a.__updateChange())}__drawRenderPath(a){a.font=this.__.__font}__draw(a,u,h){let Wn=this.__box;Wn&&(Wn.__nowWorld=this.__nowWorld,Wn.__draw(a,u,h)),this.textEditing&&!u.exporting||super.__draw(a,u,h)}__drawShape(a,u){u.shape&&this.__box&&this.__box.__drawShape(a,u),super.__drawShape(a,u)}destroy(){this.boxStyle&&=null,super.destroy()}};xt$2([An(se$1)],_i$1.prototype,`__`,void 0),xt$2([fn(0)],_i$1.prototype,`width`,void 0),xt$2([fn(0)],_i$1.prototype,`height`,void 0),xt$2([kn()],_i$1.prototype,`boxStyle`,void 0),xt$2([ln(!1)],_i$1.prototype,`resizeFontSize`,void 0),xt$2([kn(`#000000`)],_i$1.prototype,`fill`,void 0),xt$2([wn(`outside`)],_i$1.prototype,`strokeAlign`,void 0),xt$2([In(`all`)],_i$1.prototype,`hitFill`,void 0),xt$2([fn(``)],_i$1.prototype,`text`,void 0),xt$2([fn(``)],_i$1.prototype,`placeholder`,void 0),xt$2([fn(`caption`)],_i$1.prototype,`fontFamily`,void 0),xt$2([fn(12)],_i$1.prototype,`fontSize`,void 0),xt$2([fn(`normal`)],_i$1.prototype,`fontWeight`,void 0),xt$2([fn(!1)],_i$1.prototype,`italic`,void 0),xt$2([fn(`none`)],_i$1.prototype,`textCase`,void 0),xt$2([fn(`none`)],_i$1.prototype,`textDecoration`,void 0),xt$2([fn(0)],_i$1.prototype,`letterSpacing`,void 0),xt$2([fn({type:`percent`,value:1.5})],_i$1.prototype,`lineHeight`,void 0),xt$2([fn(0)],_i$1.prototype,`paraIndent`,void 0),xt$2([fn(0)],_i$1.prototype,`paraSpacing`,void 0),xt$2([fn(`x`)],_i$1.prototype,`writingMode`,void 0),xt$2([fn(`left`)],_i$1.prototype,`textAlign`,void 0),xt$2([fn(`top`)],_i$1.prototype,`verticalAlign`,void 0),xt$2([fn(!0)],_i$1.prototype,`autoSizeAlign`,void 0),xt$2([fn(`normal`)],_i$1.prototype,`textWrap`,void 0),xt$2([fn(`show`)],_i$1.prototype,`textOverflow`,void 0),xt$2([kn(!1)],_i$1.prototype,`textEditing`,void 0),_i$1=xt$2([Hn()],_i$1);var hi$1=class extends ce$1{get __tag(){return`Path`}};xt$2([An(te$1)],hi$1.prototype,`__`,void 0),xt$2([wn(`center`)],hi$1.prototype,`strokeAlign`,void 0),hi$1=xt$2([Hn()],hi$1);var di$1=class extends ge$1{get __tag(){return`Pen`}setStyle(a){let u=this.pathElement=new hi$1(a);return this.pathStyle=a,this.__path=u.path||=[],this.add(u),this}beginPath(){return this}moveTo(a,u){return this}lineTo(a,u){return this}bezierCurveTo(a,u,h,Wn,ec,tc){return this}quadraticCurveTo(a,u,h,Wn){return this}closePath(){return this}rect(a,u,h,Wn){return this}roundRect(a,u,h,Wn,ec){return this}ellipse(a,u,h,Wn,ec,tc,nc,rc){return this}arc(a,u,h,Wn,ec,tc){return this}arcTo(a,u,h,Wn,ec){return this}drawEllipse(a,u,h,Wn,ec,tc,nc,rc){return this}drawArc(a,u,h,Wn,ec,tc){return this}drawPoints(a,u,h){return this}clearPath(){return this}paint(){this.pathElement.__layout.boxChanged||this.pathElement.forceUpdate(`path`)}};xt$2([An(ee$1)],di$1.prototype,`__`,void 0),xt$2([(a,u)=>{sn(a,u,{get(){return this.__path}})}],di$1.prototype,`path`,void 0),di$1=xt$2([jn(Yr,[`set`,`path`,`paint`]),Hn()],di$1);function I(a,u,h,Wn){var ec,tc=arguments.length,nc=tc<3?u:Wn===null?Wn=Object.getOwnPropertyDescriptor(u,h):Wn;if(typeof Reflect==`object`&&typeof Reflect.decorate==`function`)nc=Reflect.decorate(a,u,h,Wn);else for(var rc=a.length-1;rc>=0;rc--)(ec=a[rc])&&(nc=(tc<3?ec(nc):tc>3?ec(u,h,nc):ec(u,h))||nc);return tc>3&&nc&&Object.defineProperty(u,h,nc),nc}var F=class extends fe$1{get __tag(){return`App`}get isApp(){return!0}constructor(a,u){super(a,u)}init(a,u){if(super.init(a,u),a){let{ground:u,tree:h,sky:Wn,editor:ec}=a;u&&(this.ground=this.addLeafer(u)),(h||ec)&&(this.tree=this.addLeafer(h||{type:a.type||`design`})),(Wn||ec)&&(this.sky=this.addLeafer(Wn)),ec&&oe$2.editor(ec,this)}}__setApp(){let{canvas:a}=this,{realCanvas:u,view:h}=this.config;u||h===this.canvas.view||!a.parentView?this.realCanvas=!0:a.unrealCanvas(),this.leafer=this,this.watcher.disable(),this.layouter.disable()}__updateLocalBounds(){this.forEach(a=>a.updateLayout()),super.__updateLocalBounds()}start(){super.start(),this.forEach(a=>a.start())}stop(){this.forEach(a=>a.stop()),super.stop()}unlockLayout(){super.unlockLayout(),this.forEach(a=>a.unlockLayout())}lockLayout(){super.lockLayout(),this.forEach(a=>a.lockLayout())}forceRender(a,u){this.forEach(h=>h.forceRender(a,u))}addLeafer(a){let u=new fe$1(a);return this.add(u),u}add(a,u){if(!a.view){if(this.realCanvas&&!this.canvas.bounds)return void setTimeout(()=>this.add(a,u),10);a.init(this.__getChildConfig(a.userConfig),this)}super.add(a,u),s(u)||(a.canvas.childIndex=u),this.__listenChildEvents(a)}forEach(a){this.children.forEach(a)}__onCreated(){this.created=this.children.every(a=>a.created)}__onReady(){this.children.every(a=>a.ready)&&super.__onReady()}__onViewReady(){this.children.every(a=>a.viewReady)&&super.__onViewReady()}__onChildRenderEnd(a){this.renderer.addBlock(a.renderBounds),this.viewReady&&this.renderer.update()}__render(a,u){a.context&&this.forEach(h=>u.matrix?h.__render(a,u):a.copyWorld(h.canvas,u.bounds))}__onResize(a){this.forEach(u=>u.resize(a)),super.__onResize(a)}updateLayout(){this.forEach(a=>a.updateLayout())}__getChildConfig(a){let u=Object.assign({},this.config);return u.hittable=u.realCanvas=void 0,a&&_.assign(u,a),this.autoLayout&&_.copyAttrs(u,this,Pe$2),u.view=this.realCanvas?void 0:this.view,u.fill=void 0,u}__listenChildEvents(a){a.once([[Go.END,this.__onReady,this],[Vo.START,this.__onCreated,this],[Vo.END,this.__onViewReady,this]]),this.realCanvas&&this.__eventIds.push(a.on_(Vo.END,this.__onChildRenderEnd,this))}};F=I([Hn()],F);var N={},K={isHoldSpaceKey:()=>K.isHold(`Space`),isHold:a=>N[a],isHoldKeys:(a,u)=>u?a(u):void 0,setDownCode(a){N[a]||(N[a]=!0)},setUpCode(a){N[a]=!1}},W={LEFT:1,RIGHT:2,MIDDLE:4,defaultLeft(a){a.buttons||=1},left:a=>a.buttons===1,right:a=>a.buttons===2,middle:a=>a.buttons===4},V=class extends Eo{get spaceKey(){return K.isHoldSpaceKey()}get left(){return W.left(this)}get right(){return W.right(this)}get middle(){return W.middle(this)}constructor(a){super(a.type),this.bubbles=!0,Object.assign(this,a)}isHoldKeys(a){return K.isHoldKeys(a,this)}getBoxPoint(a){return(a||this.current).getBoxPoint(this)}getInnerPoint(a){return(a||this.current).getInnerPoint(this)}getLocalPoint(a){return(a||this.current).getLocalPoint(this)}getPagePoint(){return this.current.getPagePoint(this)}getInner(a){return this.getInnerPoint(a)}getLocal(a){return this.getLocalPoint(a)}getPage(){return this.getPagePoint()}static changeName(a,u){ue$2.changeName(a,u)}},{min:U,max:j,abs:X}=Math,{float:Y,sign:z}=N$1,{minX:G,maxX:Z$1,minY:q,maxY:J$1}=Ut$3,Q=new Vt$3,$=new Vt$3,tt$1={limitMove(a,u){let{dragBounds:h,dragBoundsType:Wn}=a;h&&et$1.getValidMove(a.__localBoxBounds,et$1.getDragBounds(a),Wn,u,!0),et$1.axisMove(a,u)},limitScaleOf(a,u,h,Wn){let{dragBounds:ec,dragBoundsType:tc}=a;ec&&et$1.getValidScaleOf(a.__localBoxBounds,et$1.getDragBounds(a),tc,a.getLocalPointByInner(a.getInnerPointByBox(u)),h,Wn,!0)},axisMove(a,u){let{draggable:h}=a;h===`x`&&(u.y=0),h===`y`&&(u.x=0)},getDragBounds(a){let{dragBounds:u}=a;return u===`parent`?a.parent.boxBounds:u},isInnerMode:(a,u,h,Wn)=>h===`inner`||h===`auto`&&a[Wn]>u[Wn],getValidMove(a,u,h,Wn,ec){let tc=a.x+Wn.x,nc=a.y+Wn.y,rc=tc+a.width,ic=nc+a.height,ac=u.x+u.width,oc=u.y+u.height;return ec||(Wn=Object.assign({},Wn)),et$1.isInnerMode(a,u,h,`width`)?tc>u.x?Wn.x+=u.x-tc:rc<ac&&(Wn.x+=ac-rc):tc<u.x?Wn.x+=u.x-tc:rc>ac&&(Wn.x+=ac-rc),et$1.isInnerMode(a,u,h,`height`)?nc>u.y?Wn.y+=u.y-nc:ic<oc&&(Wn.y+=oc-ic):nc<u.y?Wn.y+=u.y-nc:ic>oc&&(Wn.y+=oc-ic),Wn.x=Y(Wn.x),Wn.y=Y(Wn.y),Wn},getValidScaleOf(a,u,h,Wn,ec,tc,nc){nc||(ec=Object.assign({},ec)),$.set(u),Q.set(a).scaleOf(Wn,ec.x,ec.y);let rc=(Wn.x-a.x)/a.width,ic=1-rc,ac=(Wn.y-a.y)/a.height,oc=1-ac,sc,cc,lc,uc,dc=1,fc=1;return et$1.isInnerMode(a,u,h,`width`)?(ec.x<0&&Q.scaleOf(Wn,dc=1/ec.x,1),lc=Y(Q.minX-$.minX),uc=Y($.maxX-Q.maxX),sc=rc&&lc>0?1+lc/(rc*Q.width):1,cc=ic&&uc>0?1+uc/(ic*Q.width):1,dc*=j(sc,cc)):(ec.x<0&&((Y(G(a)-G(u))<=0||Y(Z$1(u)-Z$1(a))<=0)&&Q.scaleOf(Wn,dc=1/ec.x,1),Q.unsign()),lc=Y($.minX-Q.minX),uc=Y(Q.maxX-$.maxX),sc=rc&&lc>0?1-lc/(rc*Q.width):1,cc=ic&&uc>0?1-uc/(ic*Q.width):1,dc*=U(sc,cc)),et$1.isInnerMode(a,u,h,`height`)?(ec.y<0&&Q.scaleOf(Wn,1,fc=1/ec.y),lc=Y(Q.minY-$.minY),uc=Y($.maxY-Q.maxY),sc=ac&&lc>0?1+lc/(ac*Q.height):1,cc=oc&&uc>0?1+uc/(oc*Q.height):1,fc*=j(sc,cc),tc&&(sc=j(X(dc),X(fc)),dc=z(dc)*sc,fc=z(fc)*sc)):(ec.y<0&&((Y(q(a)-q(u))<=0||Y(J$1(u)-J$1(a))<=0)&&Q.scaleOf(Wn,1,fc=1/ec.y),Q.unsign()),lc=Y($.minY-Q.minY),uc=Y(Q.maxY-$.maxY),sc=ac&&lc>0?1-lc/(ac*Q.height):1,cc=oc&&uc>0?1-uc/(oc*Q.height):1,fc*=U(sc,cc)),ec.x*=n(dc)?dc:1,ec.y*=n(fc)?fc:1,ec}},et$1=tt$1,it$1=class extends V{};it$1.POINTER=`pointer`,it$1.BEFORE_DOWN=`pointer.before_down`,it$1.BEFORE_MOVE=`pointer.before_move`,it$1.BEFORE_UP=`pointer.before_up`,it$1.DOWN=`pointer.down`,it$1.MOVE=`pointer.move`,it$1.UP=`pointer.up`,it$1.OVER=`pointer.over`,it$1.OUT=`pointer.out`,it$1.ENTER=`pointer.enter`,it$1.LEAVE=`pointer.leave`,it$1.TAP=`tap`,it$1.DOUBLE_TAP=`double_tap`,it$1.CLICK=`click`,it$1.DOUBLE_CLICK=`double_click`,it$1.LONG_PRESS=`long_press`,it$1.LONG_TAP=`long_tap`,it$1.MENU=`pointer.menu`,it$1.MENU_TAP=`pointer.menu_tap`,it$1=I([Gn()],it$1);var at$1={},nt$1=class extends it$1{static setList(a){this.list=a instanceof fh?a:new fh(a)}static setData(a){this.data=a}static getValidMove(a,u,h,Wn=!0){let ec=a.getLocalPoint(h,null,!0);return lt$2.move(ec,u.x-a.x,u.y-a.y),Wn&&this.limitMove(a,ec),tt$1.axisMove(a,ec),ec}static limitMove(a,u){tt$1.limitMove(a,u)}getPageMove(a){return this.assignMove(a),this.current.getPagePoint(at$1,null,!0)}getInnerMove(a,u){return a||=this.current,this.assignMove(u),a.getInnerPoint(at$1,null,!0)}getLocalMove(a,u){return a||=this.current,this.assignMove(u),a.getLocalPoint(at$1,null,!0)}getPageTotal(){return this.getPageMove(!0)}getInnerTotal(a){return this.getInnerMove(a,!0)}getLocalTotal(a){return this.getLocalMove(a,!0)}getPageBounds(){let a=this.getPageTotal(),u=this.getPagePoint(),h={};return Ut$3.set(h,u.x-a.x,u.y-a.y,a.x,a.y),Ut$3.unsign(h),h}assignMove(a){at$1.x=a?this.totalX:this.moveX,at$1.y=a?this.totalY:this.moveY}};nt$1.BEFORE_DRAG=`drag.before_drag`,nt$1.START=`drag.start`,nt$1.DRAG=`drag`,nt$1.END=`drag.end`,nt$1.OVER=`drag.over`,nt$1.OUT=`drag.out`,nt$1.ENTER=`drag.enter`,nt$1.LEAVE=`drag.leave`,nt$1=I([Gn()],nt$1);var ht$1=class extends it$1{static setList(a){nt$1.setList(a)}static setData(a){nt$1.setData(a)}};ht$1.DROP=`drop`,ht$1=I([Gn()],ht$1);var ot$1=class extends nt$1{};ot$1.BEFORE_MOVE=`move.before_move`,ot$1.START=`move.start`,ot$1.MOVE=`move`,ot$1.END=`move.end`,ot$1=I([Gn()],ot$1);var dt$1=class extends V{};dt$1=I([Gn()],dt$1);var lt$1=class extends it$1{};lt$1.BEFORE_ROTATE=`rotate.before_rotate`,lt$1.START=`rotate.start`,lt$1.ROTATE=`rotate`,lt$1.END=`rotate.end`,lt$1=I([Gn()],lt$1);var ct$1=class extends nt$1{};ct$1.SWIPE=`swipe`,ct$1.LEFT=`swipe.left`,ct$1.RIGHT=`swipe.right`,ct$1.UP=`swipe.up`,ct$1.DOWN=`swipe.down`,ct$1=I([Gn()],ct$1);var ut$1=class extends it$1{};ut$1.BEFORE_ZOOM=`zoom.before_zoom`,ut$1.START=`zoom.start`,ut$1.ZOOM=`zoom`,ut$1.END=`zoom.end`,ut$1=I([Gn()],ut$1);var pt$1=class extends V{};pt$1.BEFORE_DOWN=`key.before_down`,pt$1.BEFORE_UP=`key.before_up`,pt$1.DOWN=`key.down`,pt$1.HOLD=`key.hold`,pt$1.UP=`key.up`,pt$1=I([Gn()],pt$1);var _t$1={getDragEventData:(a,u,h)=>Object.assign(Object.assign({},h),{x:h.x,y:h.y,moveX:h.x-u.x,moveY:h.y-u.y,totalX:h.x-a.x,totalY:h.y-a.y}),getDropEventData:(a,u,h)=>Object.assign(Object.assign({},a),{list:u,data:h}),getSwipeDirection:a=>a<-45&&a>-135?ct$1.UP:a>45&&a<135?ct$1.DOWN:a<=45&&a>=-45?ct$1.RIGHT:ct$1.LEFT,getSwipeEventData:(a,u,h)=>Object.assign(Object.assign({},h),{moveX:u.moveX,moveY:u.moveY,totalX:h.x-a.x,totalY:h.y-a.y,type:mt$1.getSwipeDirection(lt$2.getAngle(a,h))}),getBase(a){let u=a.button===1?4:a.button;return{altKey:a.altKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,metaKey:a.metaKey,buttons:s(a.buttons)?1:a.buttons===0?u:a.buttons,origin:a}},pathHasEventType(a,u){let{list:h}=a;for(let a=0,Wn=h.length;a<Wn;a++)if(h[a].hasEvent(u))return!0;return!1},filterPathByEventType(a,u){let h=new fh,{list:Wn}=a;for(let a=0,ec=Wn.length;a<ec;a++)Wn[a].hasEvent(u)&&h.add(Wn[a]);return h},pathCanDrag:a=>a&&a.list.some(a=>io.draggable(a)||!a.isLeafer&&a.hasEvent(nt$1.DRAG)),pathHasOutside:a=>a&&a.list.some(a=>a.isOutside)},mt$1=_t$1,vt$1=new fh,{getDragEventData:ft$1,getDropEventData:yt$1,getSwipeEventData:Et$1}=_t$1,Dt$1=class{constructor(a){this.interaction=a}setDragData(a){this.animateWait&&this.dragEndReal(),this.downData=this.interaction.downData,this.dragData=ft$1(a,a,a),this.canAnimate=this.canDragOut=!0}getList(a,u){let{proxy:h}=this.interaction.selector,Wn=h&&h.list.length,ec=nt$1.list||this.draggableList||vt$1;return this.dragging&&(Wn?a?vt$1:new fh(u?[...h.list,...h.dragHoverExclude]:h.list):ec)}checkDrag(a,u){let{interaction:h}=this;if(this.moving&&a.buttons<1)return this.canAnimate=!1,void h.pointerCancel();!this.moving&&u&&(this.moving=h.canMove(this.downData)||h.isHoldRightKey||h.isMobileDragEmpty)&&(this.dragData.moveType=`drag`,h.emit(ot$1.START,this.dragData)),this.moving||this.dragStart(a,u),this.drag(a)}dragStart(a,u){this.dragging||(this.dragging=u&&W.left(a),this.dragging&&(this.interaction.emit(nt$1.START,this.dragData),this.getDraggableList(this.dragData.path),this.setDragStartPoints(this.realDraggableList=this.getList(!0))))}setDragStartPoints(a){this.dragStartPoints={},a.forEach(a=>this.dragStartPoints[a.innerId]={x:a.x,y:a.y})}getDraggableList(a){let u;for(let h=0,Wn=a.length;h<Wn;h++)if(u=a.list[h],io.draggable(u)){this.draggableList=new fh(u);break}}drag(a){let{interaction:u,dragData:h,downData:Wn}=this,{path:ec,throughPath:tc}=Wn;this.dragData=ft$1(Wn,h,a),tc&&(this.dragData.throughPath=tc),this.dragData.path=ec,this.moving?(this.dragData.moveType=`drag`,u.emit(ot$1.BEFORE_MOVE,this.dragData),u.emit(ot$1.MOVE,this.dragData)):this.dragging&&(this.dragReal(),u.emit(nt$1.BEFORE_DRAG,this.dragData),u.emit(nt$1.DRAG,this.dragData))}dragReal(a){let{interaction:u}=this,{running:h}=u,Wn=this.realDraggableList;if(Wn.length&&h){let{totalX:h,totalY:ec}=this.dragData,{dragLimitAnimate:tc}=u.p,nc=!tc||!!a;Wn.forEach(u=>{if(u.draggable){let Wn=i(u.draggable),rc=nt$1.getValidMove(u,this.dragStartPoints[u.innerId],{x:h,y:ec},nc||Wn);tc&&!Wn&&a?io.animateMove(u,rc,o(tc)?tc:.3):u.move(rc)}})}}dragOverOrOut(a){let{interaction:u}=this,{dragOverPath:h}=this,{path:Wn}=a;this.dragOverPath=Wn,h?Wn.indexAt(0)!==h.indexAt(0)&&(u.emit(nt$1.OUT,a,h),u.emit(nt$1.OVER,a,Wn)):u.emit(nt$1.OVER,a,Wn)}dragEnterOrLeave(a){let{interaction:u}=this,{dragEnterPath:h}=this,{path:Wn}=a;u.emit(nt$1.LEAVE,a,h,Wn),u.emit(nt$1.ENTER,a,Wn,h),this.dragEnterPath=Wn}dragEnd(a,u){(this.dragging||this.moving)&&(this.checkDragEndAnimate(a,u)||this.dragEndReal(a))}dragEndReal(a){let{interaction:u,downData:h,dragData:Wn}=this;a||=Wn;let{path:ec,throughPath:tc}=h,nc=ft$1(h,a,a);if(tc&&(nc.throughPath=tc),nc.path=ec,this.moving&&(this.moving=!1,nc.moveType=`drag`,u.emit(ot$1.END,nc)),this.dragging){let ec=this.getList();this.dragging=!1,u.p.dragLimitAnimate&&this.dragReal(!0),u.emit(nt$1.END,nc),this.swipe(a,h,Wn,nc),this.drop(a,ec,this.dragEnterPath)}this.autoMoveCancel(),this.dragReset(),this.animate(null,`off`)}swipe(a,u,h,Wn){let{interaction:ec}=this;if(lt$2.getDistance(u,a)>ec.config.pointer.swipeDistance){let a=Et$1(u,h,Wn);this.interaction.emit(a.type,a)}}drop(a,u,h){let Wn=yt$1(a,u,nt$1.data);Wn.path=h,this.interaction.emit(ht$1.DROP,Wn),this.interaction.emit(nt$1.LEAVE,a,h)}dragReset(){nt$1.list=nt$1.data=this.draggableList=this.dragData=this.downData=this.dragOverPath=this.dragEnterPath=null}checkDragEndAnimate(a,u){return!1}animate(a,u){}checkDragOut(a){}autoMoveOnDragOut(a){}autoMoveCancel(){}destroy(){this.dragReset()}},Pt$1=$t$2.get(`emit`),xt$1=[`move`,`zoom`,`rotate`,`key`];function wt$1(a,u,h,Wn,ec){if(xt$1.some(a=>u.startsWith(a))&&a.__.hitChildren&&!Tt$1(a,ec)){let tc;for(let nc=0,rc=a.children.length;nc<rc;nc++)tc=a.children[nc],!h.path.has(tc)&&tc.__.hittable&&Ot$1(tc,u,h,Wn,ec)}}function Ot$1(a,u,h,Wn,ec){if(a.destroyed)return!1;if(a.__.hitSelf&&!Tt$1(a,ec)&&(Dt$2.updateEventStyle&&!Wn&&Dt$2.updateEventStyle(a,u),a.hasEvent(u,Wn))){h.phase=Wn?1:a===h.target?2:3;let ec=ue$2.get(u,h);if(a.emitEvent(ec,Wn),ec.isStop)return!0}return!1}function Tt$1(a,u){return u&&u.has(a)}var Lt$1={wheel:{zoomSpeed:.5,moveSpeed:.5,rotateSpeed:.5,delta:{x:20,y:8}},pointer:{type:`pointer`,snap:!0,hitRadius:5,tapTime:120,longPressTime:800,transformTime:500,hover:!0,dragHover:!0,dragDistance:2,swipeDistance:20},touch:{preventDefault:`auto`},multiTouch:{},move:{autoDistance:2},zoom:{},cursor:!0,keyEvent:!0},{pathHasEventType:Rt$1,pathCanDrag:Ct$1,pathHasOutside:bt$1}=_t$1,Mt$1=class{get dragging(){return this.dragger.dragging}get transforming(){return this.transformer.transforming}get moveMode(){return!0===this.m.drag||this.isHoldSpaceKey||this.isHoldMiddleKey||this.isHoldRightKey&&this.dragger.moving||this.isDragEmpty}get canHover(){return this.p.hover&&!this.config.mobile}get isDragEmpty(){return this.m.dragEmpty&&this.isRootPath(this.hoverData)&&(!this.downData||this.isRootPath(this.downData))}get isMobileDragEmpty(){return this.m.dragEmpty&&!this.canHover&&this.downData&&this.isTreePath(this.downData)}get isHoldMiddleKey(){return this.m.holdMiddleKey&&this.downData&&W.middle(this.downData)}get isHoldRightKey(){return this.m.holdRightKey&&this.downData&&W.right(this.downData)}get isHoldSpaceKey(){return this.m.holdSpaceKey&&K.isHoldSpaceKey()}get m(){return this.config.move}get p(){return this.config.pointer}get hitRadius(){return this.p.hitRadius}constructor(a,u,h,Wn){this.config=_.clone(Lt$1),this.tapCount=0,this.downKeyMap={},this.target=a,this.canvas=u,this.selector=h,this.defaultPath=new fh(a),this.createTransformer(),this.dragger=new Dt$1(this),Wn&&(this.config=_.default(Wn,this.config)),this.__listenEvents()}start(){this.running=!0}stop(){this.running=!1}receive(a){}pointerDown(a,u){a||=this.hoverData,a&&(W.defaultLeft(a),this.updateDownData(a),this.checkPath(a,u),this.downTime=Date.now(),this.emit(it$1.BEFORE_DOWN,a),this.emit(it$1.DOWN,a),W.left(a)&&(this.tapWait(),this.longPressWait(a)),this.waitRightTap=W.right(a),this.dragger.setDragData(a),this.isHoldRightKey||this.updateCursor(a))}pointerMove(a){if(a||=this.hoverData,!a)return;let{downData:u}=this;u&&W.defaultLeft(a),(this.canvas.bounds.hitPoint(a)||u)&&(this.pointerMoveReal(a),u&&this.dragger.checkDragOut(a))}pointerMoveReal(a){if(this.emit(it$1.BEFORE_MOVE,a,this.defaultPath),this.downData){let u=lt$2.getDistance(this.downData,a)>this.p.dragDistance;u&&(this.pointerWaitCancel(),this.waitRightTap=!1),this.dragger.checkDrag(a,u)}this.dragger.moving||(this.updateHoverData(a),this.checkPath(a),this.emit(it$1.MOVE,a),this.pointerHover(a),this.dragging&&(this.dragger.dragOverOrOut(a),this.dragger.dragEnterOrLeave(a))),this.updateCursor(this.downData||a)}pointerUp(a){let{downData:u}=this;if(a||=u,!u)return;W.defaultLeft(a),a.multiTouch=u.multiTouch,this.findPath(a);let h=Object.assign(Object.assign({},a),{path:a.path.clone()});a.path.addList(u.path.list),this.checkPath(a),this.downData=null,this.emit(it$1.BEFORE_UP,a),this.emit(it$1.UP,a),this.touchLeave(a),a.isCancel||(this.tap(a),this.menuTap(a)),this.dragger.dragEnd(a),this.updateCursor(h)}pointerCancel(){let a=Object.assign({},this.dragger.dragData);a.isCancel=!0,this.pointerUp(a)}menu(a){this.findPath(a),this.emit(it$1.MENU,a),this.waitMenuTap=!0,!this.downData&&this.waitRightTap&&this.menuTap(a)}menuTap(a){this.waitRightTap&&this.waitMenuTap&&(this.emit(it$1.MENU_TAP,a),this.waitRightTap=this.waitMenuTap=!1)}createTransformer(){}move(a){}zoom(a){}rotate(a){}transformEnd(){}wheel(a){}multiTouch(a,u){}keyDown(a){if(!this.config.keyEvent)return;this.emit(pt$1.BEFORE_DOWN,a,this.defaultPath);let{code:u}=a;this.downKeyMap[u]||(this.downKeyMap[u]=!0,K.setDownCode(u),this.emit(pt$1.HOLD,a,this.defaultPath),this.moveMode&&(this.cancelHover(),this.updateCursor())),this.emit(pt$1.DOWN,a,this.defaultPath)}keyUp(a){if(!this.config.keyEvent)return;this.emit(pt$1.BEFORE_UP,a,this.defaultPath);let{code:u}=a;this.downKeyMap[u]=!1,K.setUpCode(u),this.emit(pt$1.UP,a,this.defaultPath),this.cursor===`grab`&&this.updateCursor()}pointerHover(a){!this.canHover||this.dragging&&!this.p.dragHover||(a.path||=new fh,this.pointerOverOrOut(a),this.pointerEnterOrLeave(a))}pointerOverOrOut(a){let{path:u}=a,{overPath:h}=this;this.overPath=u,h?u.indexAt(0)!==h.indexAt(0)&&(this.emit(it$1.OUT,a,h),this.emit(it$1.OVER,a,u)):this.emit(it$1.OVER,a,u)}pointerEnterOrLeave(a){let{path:u}=a;this.downData&&!this.moveMode&&(u=u.clone(),this.downData.path.forEach(a=>u.add(a)));let{enterPath:h}=this;this.enterPath=u,this.emit(it$1.LEAVE,a,h,u),this.emit(it$1.ENTER,a,u,h)}touchLeave(a){a.pointerType===`touch`&&this.enterPath&&(this.emit(it$1.LEAVE,a),this.dragger.dragging&&this.emit(ht$1.LEAVE,a))}tap(a){let{pointer:u}=this.config,h=this.longTap(a);if(!u.tapMore&&h||!this.waitTap)return;u.tapMore&&this.emitTap(a);let Wn=Date.now()-this.downTime,ec=[it$1.DOUBLE_TAP,it$1.DOUBLE_CLICK].some(u=>Rt$1(a.path,u));Wn<u.tapTime+50&&ec?(this.tapCount++,this.tapCount===2?(this.tapWaitCancel(),this.emitDoubleTap(a)):(clearTimeout(this.tapTimer),this.tapTimer=setTimeout(()=>{u.tapMore||(this.tapWaitCancel(),this.emitTap(a))},u.tapTime))):u.tapMore||(this.tapWaitCancel(),this.emitTap(a))}findPath(a,u){let{hitRadius:h,through:Wn}=this.p,{bottomList:ec,target:tc}=this;m.backgrounder||a.origin||tc&&tc.updateLayout();let nc=this.selector.getByPoint(a,h,Object.assign({bottomList:ec,name:a.type},u||{through:Wn}));return nc.throughPath&&(a.throughPath=nc.throughPath),a.path=nc.path,nc.path}isRootPath(a){return a&&a.path.list[0].isLeafer}isTreePath(a){let u=this.target.app;return!(!u||!u.isApp)&&u.editor&&!a.path.has(u.editor)&&a.path.has(u.tree)&&!a.target.syncEventer}checkPath(a,u){(u||this.moveMode&&!bt$1(a.path))&&(a.path=this.defaultPath)}canMove(a){return a&&(this.moveMode||this.m.drag===`auto`&&!Ct$1(a.path))&&!bt$1(a.path)}isDrag(a){return this.dragger.getList().has(a)}isPress(a){return this.downData&&this.downData.path.has(a)}isHover(a){return this.enterPath&&this.enterPath.has(a)}isFocus(a){return this.focusData===a}cancelHover(){let{hoverData:a}=this;a&&(a.path=this.defaultPath,this.pointerHover(a))}updateDownData(a,u,h){let{downData:Wn}=this;!a&&Wn&&(a=Wn),a&&(this.findPath(a,u),h&&Wn&&a.path.addList(Wn.path.list),this.downData=a)}updateHoverData(a){a||=this.hoverData,a&&(this.findPath(a,{exclude:this.dragger.getList(!1,!0),name:it$1.MOVE}),this.hoverData=a)}updateCursor(a){if(!this.config.cursor||!this.canHover)return;if(a||=(this.updateHoverData(),this.downData||this.hoverData),this.dragger.moving)return this.setCursor(`grabbing`);if(this.canMove(a))return this.setCursor(this.downData?`grabbing`:`grab`);if(!a)return;let u,h,{path:Wn}=a;for(let a=0,ec=Wn.length;a<ec&&(u=Wn.list[a],h=u.syncEventer&&u.syncEventer.cursor||u.cursor,!h);a++);this.setCursor(h)}setCursor(a){this.cursor=a}getLocal(a,u){let h=this.canvas.getClientBounds(u),Wn={x:a.clientX-h.x,y:a.clientY-h.y},{bounds:ec}=this.canvas;return Wn.x*=ec.width/h.width,Wn.y*=ec.height/h.height,this.p.snap&&lt$2.round(Wn),Wn}emitTap(a){this.emit(it$1.TAP,a),this.emit(it$1.CLICK,a)}emitDoubleTap(a){this.emit(it$1.DOUBLE_TAP,a),this.emit(it$1.DOUBLE_CLICK,a)}pointerWaitCancel(){this.tapWaitCancel(),this.longPressWaitCancel()}tapWait(){clearTimeout(this.tapTimer),this.waitTap=!0}tapWaitCancel(){this.waitTap&&(clearTimeout(this.tapTimer),this.waitTap=!1,this.tapCount=0)}longPressWait(a){clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(()=>{this.longPressed=!0,this.emit(it$1.LONG_PRESS,a)},this.p.longPressTime)}longTap(a){let u;return this.longPressed&&(this.emit(it$1.LONG_TAP,a),(Rt$1(a.path,it$1.LONG_TAP)||Rt$1(a.path,it$1.LONG_PRESS))&&(u=!0)),this.longPressWaitCancel(),u}longPressWaitCancel(){this.longPressTimer&&(clearTimeout(this.longPressTimer),this.longPressed=!1)}__onResize(){let{dragOut:a}=this.m;this.shrinkCanvasBounds=new Vt$3(this.canvas.bounds),this.shrinkCanvasBounds.spread(-(o(a)?a:2))}__listenEvents(){let{target:a}=this;this.__eventIds=[a.on_(jo.RESIZE,this.__onResize,this)],a.once(qo.READY,()=>this.__onResize())}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}emit(a,u,h,Wn){this.running&&function(a,u,h,Wn){if(!h&&!u.path)return;let ec;u.type=a,h?u=Object.assign(Object.assign({},u),{path:h}):h=u.path,u.target=h.indexAt(0);try{for(let tc=h.length-1;tc>-1;tc--){if(ec=h.list[tc],Ot$1(ec,a,u,!0,Wn))return;ec.isApp&&wt$1(ec,a,u,!0,Wn)}for(let tc=0,nc=h.length;tc<nc;tc++)if(ec=h.list[tc],ec.isApp&&wt$1(ec,a,u,!1,Wn),Ot$1(ec,a,u,!1,Wn))return}catch(a){Pt$1.error(a)}}(a,u,h,Wn)}destroy(){this.__eventIds.length&&(this.stop(),this.__removeListenEvents(),this.dragger.destroy(),this.transformer&&this.transformer.destroy(),this.downData=this.overPath=this.enterPath=null)}},St$1=class{static set(a,u){this.custom[a]=u}static get(a){return this.custom[a]}};St$1.custom={};var kt$1=class extends _e$2{constructor(){super(...arguments),this.maxTotal=1e3,this.pathList=new fh,this.pixelList=new fh}getPixelType(a,u){return this.__autoClear(),this.pixelList.add(a),oe$2.hitCanvas(u)}getPathType(a){return this.__autoClear(),this.pathList.add(a),oe$2.hitCanvas()}clearImageType(){this.__clearLeafList(this.pixelList)}clearPathType(){this.__clearLeafList(this.pathList)}__clearLeafList(a){a.length&&(a.forEach(a=>{a.__hitCanvas&&=(a.__hitCanvas.destroy(),null)}),a.reset())}__autoClear(){this.pathList.length+this.pixelList.length>this.maxTotal&&this.clear()}clear(){this.clearPathType(),this.clearImageType()}};m.getSelector=function(a){return a.leafer?a.leafer.selector:m.selector||=oe$2.selector()};var{toInnerRadiusPointOf:Bt$1,copy:At$1,setRadius:Ht$1}=lt$2,{hitRadiusPoint:It$1,hitPoint:Ft$1}=Ut$3,Nt$1={},Kt$1={},Wt$1=ih.prototype;Wt$1.hit=function(a,u=0){this.updateLayout(),At$1(Kt$1,a),Ht$1(Kt$1,u);let h=this.__world;return!!(u?It$1(h,Kt$1):Ft$1(h,Kt$1))&&(this.isBranch?m.getSelector(this).hitPoint(Object.assign({},Kt$1),u,{target:this}):this.__hitWorld(Kt$1))},Wt$1.__hitWorld=function(a){let u=this.__;if(!u.hitSelf)return!1;let h=this.__world,Wn=this.__layout,ec=h.width<10&&h.height<10;if(u.hitRadius&&(At$1(Nt$1,a),Ht$1(a=Nt$1,u.hitRadius)),Bt$1(a,h,Nt$1),u.hitBox||ec){if(Ut$3.hitRadiusPoint(Wn.boxBounds,Nt$1))return!0;if(ec)return!1}return!Wn.hitCanvasChanged&&this.__hitCanvas||(this.__updateHitCanvas(),Wn.boundsChanged||(Wn.hitCanvasChanged=!1)),this.__hit(Nt$1)},Wt$1.__hitFill=function(a){let u=this.__hitCanvas;return u&&u.hitFill(a,this.__.windingRule)},Wt$1.__hitStroke=function(a,u){let h=this.__hitCanvas;return h&&h.hitStroke(a,u)},Wt$1.__hitPixel=function(a){let u=this.__hitCanvas;return u&&u.hitPixel(a,this.__layout.renderBounds,u.hitScale)},Wt$1.__drawHitPath=function(a){a&&this.__drawRenderPath(a)};var Vt$1=new gt$1,Ut$1=ce$1.prototype;Ut$1.__updateHitCanvas=function(){this.__box&&this.__box.__updateHitCanvas();let{hitCanvasManager:a}=this.leafer||this.parent&&this.parent.leafer||{};if(!a)return;let u=this.__,h=(u.__isAlphaPixelFill||u.__isCanvas)&&u.hitFill===`pixel`,Wn=u.__isAlphaPixelStroke&&u.hitStroke===`pixel`,ec=h||Wn;this.__hitCanvas||=ec?a.getPixelType(this,{contextSettings:{willReadFrequently:!0}}):a.getPathType(this);let tc=this.__hitCanvas;if(ec){let{renderBounds:a}=this.__layout,ec=m.image.hitCanvasSize,nc=tc.hitScale=qt$2.set(0,0,ec,ec).getFitMatrix(a).a,{x:rc,y:ic,width:ac,height:oc}=qt$2.set(a).scale(nc);tc.resize({width:ac,height:oc,pixelRatio:1}),tc.clear(),Zi$1.patternLocked=!0,this.__renderShape(tc,{matrix:Vt$1.setWith(this.__world).scaleWith(1/nc).invertWith().translate(-rc,-ic),ignoreFill:!h,ignoreStroke:!Wn}),Zi$1.patternLocked=!1,tc.resetTransform(),u.__isHitPixel=!0}else u.__isHitPixel&&=!1;this.__drawHitPath(tc),tc.setStrokeOptions(u)},Ut$1.__hit=function(a){if(this.__box&&this.__box.__hit(a))return!0;let u=this.__;if(u.__isHitPixel&&this.__hitPixel(a))return!0;let{hitFill:h}=u,Wn=(u.fill||u.__isCanvas)&&(h===`path`||h===`pixel`&&!(u.__isAlphaPixelFill||u.__isCanvas))||h===`all`;if(Wn&&this.__hitFill(a))return!0;let{hitStroke:ec,__maxStrokeWidth:tc}=u,nc=u.stroke&&(ec===`path`||ec===`pixel`&&!u.__isAlphaPixelStroke)||ec===`all`;if(!Wn&&!nc)return!1;let rc=2*a.radiusX,ic=rc;if(nc)switch(u.strokeAlign){case`inside`:if(ic+=2*tc,!Wn&&this.__hitFill(a)&&this.__hitStroke(a,ic))return!0;ic=rc;break;case`center`:ic+=tc;break;case`outside`:if(ic+=2*tc,!Wn){if(!this.__hitFill(a)&&this.__hitStroke(a,ic))return!0;ic=rc}}return!!ic&&this.__hitStroke(a,ic)};var jt$1=ce$1.prototype,Xt$1=we$1.prototype,Yt$1=Be$1.prototype;Xt$1.__updateHitCanvas=Yt$1.__updateHitCanvas=function(){this.stroke||this.cornerRadius||(this.fill||this.__.__isCanvas)&&this.hitFill===`pixel`||this.hitStroke===`all`?jt$1.__updateHitCanvas.call(this):this.__hitCanvas&&=null},Xt$1.__hitFill=Yt$1.__hitFill=function(a){return this.__hitCanvas?jt$1.__hitFill.call(this,a):Ut$3.hitRadiusPoint(this.__layout.boxBounds,a)},_i$1.prototype.__drawHitPath=function(a){let{__lineHeight:u,fontSize:h,__baseLine:Wn,__letterSpacing:ec,__textDrawData:tc}=this.__;a.beginPath(),ec<0?this.__drawPathByBox(a):tc.rows.forEach(ec=>a.rect(ec.x,ec.y-Wn,ec.width,u<h?h:u))},ge$1.prototype.pick=function(a,u){return u||=e,this.updateLayout(),m.getSelector(this).getByPoint(a,u.hitRadius||0,Object.assign(Object.assign({},u),{target:this}))};var zt$1=Se$2.prototype;zt$1.hitFill=function(a,u){return u?this.context.isPointInPath(a.x,a.y,u):this.context.isPointInPath(a.x,a.y)},zt$1.hitStroke=function(a,u){return this.strokeWidth=u,this.context.isPointInStroke(a.x,a.y)},zt$1.hitPixel=function(a,u,h=1){let{x:Wn,y:ec,radiusX:tc,radiusY:nc}=a;u&&(Wn-=u.x,ec-=u.y),qt$2.set(Wn-tc,ec-nc,2*tc,2*nc).scale(h).ceil();let{data:rc}=this.context.getImageData(qt$2.x,qt$2.y,qt$2.width||1,qt$2.height||1);for(let a=0,u=rc.length;a<u;a+=4)if(rc[a+3]>0)return!0;return rc[3]>0};var Z=$t$2.get(`LeaferCanvas`),J=class extends Se$2{set zIndex(a){let{style:u}=this.view;u.zIndex=a,this.setAbsolute(this.view)}set childIndex(a){let{view:u,parentView:h}=this;if(u&&h){let Wn=h.children[a];Wn?(this.setAbsolute(Wn),h.insertBefore(u,Wn)):h.appendChild(Wn)}}init(){let{config:a}=this,u=a.view||a.canvas;u?this.__createViewFrom(u):this.__createView();let{style:h}=this.view;if(h.display||=`block`,this.parentView=this.view.parentElement,this.parentView){let a=this.parentView.style;a.webkitUserSelect=a.userSelect=`none`}m.syncDomFont&&!this.parentView&&(h.display=`none`,document.body&&document.body.appendChild(this.view)),this.__createContext(),this.autoLayout||this.resize(a)}set backgroundColor(a){this.view.style.backgroundColor=a}get backgroundColor(){return this.view.style.backgroundColor}set hittable(a){this.view.style.pointerEvents=a?`auto`:`none`}get hittable(){return this.view.style.pointerEvents!==`none`}__createView(){this.view=document.createElement(`canvas`)}__createViewFrom(a){let u=i(a)?document.getElementById(a):a;if(u)if(u instanceof HTMLCanvasElement)this.view=u;else{let a=u;if(u===window||u===document){let u=document.createElement(`div`),{style:h}=u;h.position=`absolute`,h.top=h.bottom=h.left=h.right=`0px`,document.body.appendChild(u),a=u}this.__createView();let h=this.view;a.hasChildNodes()&&(this.setAbsolute(h),a.style.position||(a.style.position=`relative`)),a.appendChild(h)}else Z.error(`no id: ${a}`),this.__createView()}setAbsolute(a){let{style:u}=a;u.position=`absolute`,u.top=u.left=`0px`}updateViewSize(){let{width:a,height:u,pixelRatio:h}=this,{style:Wn}=this.view;if(this.unreal){let{config:a,autoWidthStr:u,autoHeightStr:h}=this;a.width?(s(u)&&(this.autoWidthStr=Wn.width||``),Wn.width=a.width+`px`):s(u)||(Wn.width=u),a.height?(s(h)&&(this.autoHeightStr=Wn.height||``),Wn.height=a.height+`px`):s(h)||(Wn.height=h)}else Wn.width=a+`px`,Wn.height=u+`px`,this.view.width=Math.ceil(a*h),this.view.height=Math.ceil(u*h)}updateClientBounds(){this.view.parentElement&&(this.clientBounds=this.view.getBoundingClientRect())}startAutoLayout(a,u){if(this.resizeListener=u,a){if(this.autoBounds=a,this.resizeObserver)return;try{this.resizeObserver=new ResizeObserver(a=>{this.updateClientBounds();for(let u of a)this.checkAutoBounds(u.contentRect)});let a=this.parentView;a?(this.resizeObserver.observe(a),this.checkAutoBounds(a.getBoundingClientRect())):(this.checkAutoBounds(this.view),Z.warn(`no parent`))}catch{this.imitateResizeObserver()}this.stopListenPixelRatio()}else this.listenPixelRatio(),this.unreal&&this.updateViewSize()}imitateResizeObserver(){this.autoLayout&&(this.parentView&&this.checkAutoBounds(this.parentView.getBoundingClientRect()),m.requestRender(this.imitateResizeObserver.bind(this)))}listenPixelRatio(){this.windowListener||window.addEventListener(`resize`,this.windowListener=()=>{let a=m.devicePixelRatio;if(!this.config.pixelRatio&&this.pixelRatio!==a){let{width:u,height:h}=this;this.emitResize({width:u,height:h,pixelRatio:a})}})}stopListenPixelRatio(){this.windowListener&&=(window.removeEventListener(`resize`,this.windowListener),null)}checkAutoBounds(a){let u=this.view,{x:h,y:Wn,width:ec,height:tc}=this.autoBounds.getBoundsFrom(a),nc={width:ec,height:tc,pixelRatio:this.config.pixelRatio?this.pixelRatio:m.devicePixelRatio};if(!this.isSameSize(nc)){let{style:a}=u;a.marginLeft=h+`px`,a.marginTop=Wn+`px`,this.emitResize(nc)}}stopAutoLayout(){this.autoLayout=!1,this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeListener=this.resizeObserver=null}emitResize(a){let u={};_.copyAttrs(u,this,Pe$2),this.resize(a),this.resizeListener&&!s(this.width)&&this.resizeListener(new jo(a,u))}unrealCanvas(){if(!this.unreal&&this.parentView){let a=this.view;a&&a.remove(),this.view=this.parentView,this.unreal=!0}}destroy(){if(this.view){if(this.stopAutoLayout(),this.stopListenPixelRatio(),!this.unreal){let a=this.view;a.parentElement&&a.remove()}super.destroy()}}};Fi$1(CanvasRenderingContext2D.prototype),Fi$1(Path2D.prototype);var{mineType:tt,fileType:et}=Ui$1;function it(a,u){m.origin={createCanvas(a,u){let h=document.createElement(`canvas`);return h.width=a,h.height=u,h},canvasToDataURL:(a,u,h)=>{let Wn=tt(u),ec=a.toDataURL(Wn,h);return Wn===`image/bmp`?ec.replace(`image/png;`,`image/bmp;`):ec},canvasToBolb:(a,u,h)=>new Promise(Wn=>a.toBlob(Wn,tt(u),h)),canvasSaveAs:(a,u,h)=>{let Wn=a.toDataURL(tt(et(u)),h);return m.origin.download(Wn,u)},download:(a,u)=>new Promise(h=>{let Wn=document.createElement(`a`);Wn.href=a,Wn.download=u,document.body.appendChild(Wn),Wn.click(),document.body.removeChild(Wn),h()}),loadImage:a=>new Promise((u,h)=>{let Wn=new m.origin.Image,{crossOrigin:ec}=m.image;ec&&(Wn.setAttribute(`crossOrigin`,ec),Wn.crossOrigin=ec),Wn.onload=()=>{u(Wn)},Wn.onerror=a=>{h(a)},Wn.src=m.image.getRealURL(a)}),Image,PointerEvent,DragEvent},m.event={stopDefault(a){a.preventDefault()},stopNow(a){a.stopImmediatePropagation()},stop(a){a.stopPropagation()}},m.canvas=oe$2.canvas(),m.conicGradientSupport=!!m.canvas.context.createConicGradient}Object.assign(oe$2,{canvas:(a,u)=>new J(a,u),image:a=>new en(a)}),m.name=`web`,m.isMobile=`ontouchstart`in window,m.requestRender=function(a){window.requestAnimationFrame(a)},sn(m,`devicePixelRatio`,{get:()=>devicePixelRatio});var{userAgent:st}=navigator;st.indexOf(`Firefox`)>-1?(m.conicGradientRotate90=!0,m.intWheelDeltaY=!0,m.syncDomFont=!0):(/iPhone|iPad|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent))&&(m.fullImageShadow=!0),st.indexOf(`Windows`)>-1?(m.os=`Windows`,m.intWheelDeltaY=!0):st.indexOf(`Mac`)>-1?m.os=`Mac`:st.indexOf(`Linux`)>-1&&(m.os=`Linux`);var nt=class{get childrenChanged(){return this.hasAdd||this.hasRemove||this.hasVisible}get updatedList(){if(this.hasRemove){let a=new fh;return this.__updatedList.list.forEach(u=>{u.leafer&&a.add(u)}),a}return this.__updatedList}constructor(a,u){this.totalTimes=0,this.config={},this.__updatedList=new fh,this.target=a,u&&(this.config=_.default(u,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}update(){this.changed=!0,this.running&&this.target.emit(Vo.REQUEST)}__onAttrChange(a){this.__updatedList.add(a.target),this.update()}__onChildEvent(a){a.type===Io.ADD?(this.hasAdd=!0,this.__pushChild(a.child)):(this.hasRemove=!0,this.__updatedList.add(a.parent)),this.update()}__pushChild(a){this.__updatedList.add(a),a.isBranch&&this.__loopChildren(a)}__loopChildren(a){let{children:u}=a;for(let a=0,h=u.length;a<h;a++)this.__pushChild(u[a])}__onRquestData(){this.target.emitEvent(new Ho(Ho.DATA,{updatedList:this.updatedList})),this.__updatedList=new fh,this.totalTimes++,this.changed=this.hasVisible=this.hasRemove=this.hasAdd=!1}__listenEvents(){this.__eventIds=[this.target.on_([[Ao.CHANGE,this.__onAttrChange,this],[[Io.ADD,Io.REMOVE],this.__onChildEvent,this],[Ho.REQUEST,this.__onRquestData,this]])]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&=(this.stop(),this.__removeListenEvents(),this.__updatedList=null)}},{updateAllMatrix:ot,updateBounds:rt,updateChange:at}=io,{pushAllChildBranch:ht,pushAllParent:lt}=yo,{worldBounds:ct}=_o,dt=class{constructor(a){this.updatedBounds=new Vt$3,this.beforeBounds=new Vt$3,this.afterBounds=new Vt$3,l(a)&&(a=new fh(a)),this.updatedList=a}setBefore(){this.beforeBounds.setListWithFn(this.updatedList.list,ct)}setAfter(){this.afterBounds.setListWithFn(this.updatedList.list,ct),this.updatedBounds.setList([this.beforeBounds,this.afterBounds])}merge(a){this.updatedList.addList(a.updatedList.list),this.beforeBounds.add(a.beforeBounds),this.afterBounds.add(a.afterBounds),this.updatedBounds.add(a.updatedBounds)}destroy(){this.updatedList=null}},{updateAllMatrix:ut,updateAllChange:ft}=io,pt=$t$2.get(`Layouter`),gt=class a{constructor(a,u){this.totalTimes=0,this.config={},this.__levelList=new gh,this.target=a,u&&(this.config=_.default(u,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}layout(){if(this.layouting||!this.running)return;let{target:a}=this;this.times=0;try{a.emit(Go.START),this.layoutOnce(),a.emitEvent(new Go(Go.END,this.layoutedBlocks,this.times))}catch(a){pt.error(a)}this.layoutedBlocks=null}layoutAgain(){this.layouting?this.waitAgain=!0:this.layoutOnce()}layoutOnce(){return this.layouting?pt.warn(`layouting`):this.times>3?pt.warn(`layout max times`):(this.times++,this.totalTimes++,this.layouting=!0,this.target.emit(Ho.REQUEST),this.totalTimes>1?this.partLayout():this.fullLayout(),this.layouting=!1,void(this.waitAgain&&(this.waitAgain=!1,this.layoutOnce())))}partLayout(){if(!this.__updatedList?.length)return;let a=se$2.start(`PartLayout`),{target:u,__updatedList:h}=this,{BEFORE:Wn,LAYOUT:ec,AFTER:tc}=Go,nc=this.getBlocks(h);nc.forEach(a=>a.setBefore()),u.emitEvent(new Go(Wn,nc,this.times)),this.extraBlock=null,h.sort(),function(a,u){let h;a.list.forEach(a=>{h=a.__layout,u.without(a)&&!h.proxyZoom&&(h.matrixChanged?(ot(a,!0),u.add(a),a.isBranch&&ht(a,u),lt(a,u)):h.boundsChanged&&(u.add(a),a.isBranch&&(a.__tempNumber=0),lt(a,u)))})}(h,this.__levelList),function(a){let u,h,Wn;a.sort(!0),a.levels.forEach(ec=>{u=a.levelMap[ec];for(let a=0,ec=u.length;a<ec;a++){if(h=u[a],h.isBranch&&h.__tempNumber){Wn=h.children;for(let a=0,u=Wn.length;a<u;a++)Wn[a].isBranch||rt(Wn[a])}rt(h)}})}(this.__levelList),function(a){a.list.forEach(at)}(h),this.extraBlock&&nc.push(this.extraBlock),nc.forEach(a=>a.setAfter()),u.emitEvent(new Go(ec,nc,this.times)),u.emitEvent(new Go(tc,nc,this.times)),this.addBlocks(nc),this.__levelList.reset(),this.__updatedList=null,se$2.end(a)}fullLayout(){let u=se$2.start(`FullLayout`),{target:h}=this,{BEFORE:Wn,LAYOUT:ec,AFTER:tc}=Go,nc=this.getBlocks(new fh(h));h.emitEvent(new Go(Wn,nc,this.times)),a.fullLayout(h),nc.forEach(a=>{a.setAfter()}),h.emitEvent(new Go(ec,nc,this.times)),h.emitEvent(new Go(tc,nc,this.times)),this.addBlocks(nc),se$2.end(u)}static fullLayout(a){ut(a,!0),a.isBranch?yo.updateBounds(a):io.updateBounds(a),ft(a)}addExtra(a){if(!this.__updatedList.has(a)){let{updatedList:u,beforeBounds:h}=this.extraBlock||=new dt([]);u.length?h.add(a.__world):h.set(a.__world),u.add(a)}}createBlock(a){return new dt(a)}getBlocks(a){return[this.createBlock(a)]}addBlocks(a){this.layoutedBlocks?this.layoutedBlocks.push(...a):this.layoutedBlocks=a}__onReceiveWatchData(a){this.__updatedList=a.data.updatedList}__listenEvents(){this.__eventIds=[this.target.on_([[Go.REQUEST,this.layout,this],[Go.AGAIN,this.layoutAgain,this],[Ho.DATA,this.__onReceiveWatchData,this]])]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&=(this.stop(),this.__removeListenEvents(),this.config=null)}},_t=$t$2.get(`Renderer`),wt=class a{get needFill(){return!(this.canvas.allowBackgroundColor||!this.config.fill)}constructor(a,u,h){this.FPS=60,this.totalTimes=0,this.times=0,this.config={usePartRender:!0,maxFPS:120},this.frames=[],this.target=a,this.canvas=u,h&&(this.config=_.default(h,this.config)),this.__listenEvents()}start(){this.running=!0,this.update(!1)}stop(){this.running=!1}update(a=!0){this.changed||=a,this.__requestRender()}requestLayout(){this.target.emit(Go.REQUEST)}checkRender(){if(this.running){let{target:a}=this;a.isApp&&(a.emit(Vo.CHILD_START,a),a.children.forEach(a=>{a.renderer.FPS=this.FPS,a.renderer.checkRender()}),a.emit(Vo.CHILD_END,a)),this.changed&&this.canvas.view&&this.render(),this.target.emit(Vo.NEXT)}}render(a){if(!this.running||!this.canvas.view)return this.update();let{target:u}=this;this.times=0,this.totalBounds=new Vt$3,_t.log(u.innerName,`--->`);try{this.emitRender(Vo.START),this.renderOnce(a),this.emitRender(Vo.END,this.totalBounds),Zi$1.clearRecycled()}catch(a){this.rendering=!1,_t.error(a)}_t.log(`-------------|`)}renderAgain(){this.rendering?this.waitAgain=!0:this.renderOnce()}renderOnce(a){if(this.rendering)return _t.warn(`rendering`);if(this.times>3)return _t.warn(`render max times`);if(this.times++,this.totalTimes++,this.rendering=!0,this.changed=!1,this.renderBounds=new Vt$3,this.renderOptions={},a)this.emitRender(Vo.BEFORE),a();else{if(this.requestLayout(),this.ignore)return void(this.ignore=this.rendering=!1);this.emitRender(Vo.BEFORE),this.config.usePartRender&&this.totalTimes>1?this.partRender():this.fullRender()}this.emitRender(Vo.RENDER,this.renderBounds,this.renderOptions),this.emitRender(Vo.AFTER,this.renderBounds,this.renderOptions),this.updateBlocks=null,this.rendering=!1,this.waitAgain&&(this.waitAgain=!1,this.renderOnce())}partRender(){let{canvas:a,updateBlocks:u}=this;u&&(this.mergeBlocks(),u.forEach(u=>{a.bounds.hit(u)&&!u.isEmpty()&&this.clipRender(u)}))}clipRender(u){let h=se$2.start(`PartRender`),{canvas:Wn}=this,ec=u.getIntersect(Wn.bounds),tc=new Vt$3(ec);Wn.save(),ec.spread(a.clipSpread).ceil(),Wn.clearWorld(ec),Wn.clipWorld(ec),this.__render(ec,tc),Wn.restore(),se$2.end(h)}fullRender(){let a=se$2.start(`FullRender`),{canvas:u}=this;u.save(),u.clear(),this.__render(u.bounds),u.restore(),se$2.end(a)}__render(a,u){let{canvas:h}=this,Wn=a.includes(this.target.__world),ec=Wn?{includes:Wn}:{bounds:a,includes:Wn};this.needFill&&h.fillWorld(a,this.config.fill),$t$2.showRepaint&&$t$2.drawRepaint(h,a),m.render(this.target,h,ec),this.renderBounds=u||=a,this.renderOptions=ec,this.totalBounds.isEmpty()?this.totalBounds=u:this.totalBounds.add(u),h.updateRender(u)}addBlock(a){this.updateBlocks||=[],this.updateBlocks.push(a)}mergeBlocks(){let{updateBlocks:a}=this;if(a){let u=new Vt$3;u.setList(a),a.length=0,a.push(u)}}__requestRender(){let a=this.target;if(this.requestTime||!a)return;if(a.parentApp)return a.parentApp.requestRender(!1);this.requestTime=this.frameTime||Date.now();let u=()=>{let a=1e3/((this.frameTime=Date.now())-this.requestTime),{maxFPS:h}=this.config;if(h&&a>h)return m.requestRender(u);let{frames:Wn}=this;Wn.length>30&&Wn.shift(),Wn.push(a),this.FPS=Math.round(Wn.reduce((a,u)=>a+u,0)/Wn.length),this.requestTime=0,this.checkRender()};m.requestRender(u)}__onResize(a){if(!this.canvas.unreal){if(a.bigger||!a.samePixelRatio){let{width:u,height:h}=a.old;if(!new Vt$3(0,0,u,h).includes(this.target.__world)||this.needFill||!a.samePixelRatio)return this.addBlock(this.canvas.bounds),void this.target.forceUpdate(`surface`)}this.addBlock(new Vt$3(0,0,1,1)),this.update()}}__onLayoutEnd(a){a.data&&a.data.map(a=>{let u;a.updatedList&&a.updatedList.list.some(a=>(u=!a.__world.width||!a.__world.height,u&&=(a.isLeafer||_t.tip(a.innerName,`: empty`),!a.isBranch||a.isBranchLeaf),u)),this.addBlock(u?this.canvas.bounds:a.updatedBounds)})}emitRender(a,u,h){this.target.emitEvent(new Vo(a,this.times,u,h))}__listenEvents(){this.__eventIds=[this.target.on_([[Vo.REQUEST,this.update,this],[Go.END,this.__onLayoutEnd,this],[Vo.AGAIN,this.renderAgain,this],[jo.RESIZE,this.__onResize,this]])]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&=(this.stop(),this.__removeListenEvents(),this.config={},this.canvas=null)}};wt.clipSpread=10;var{hitRadiusPoint:mt}=Ut$3,vt=class{constructor(a,u){this.target=a,this.selector=u}getByPoint(a,u,h){u||=0,h||={};let Wn=h.through||!1,ec=h.ignoreHittable||!1,tc=h.target||this.target;this.exclude=h.exclude||null,this.point={x:a.x,y:a.y,radiusX:u,radiusY:u},this.findList=new fh(h.findList),h.findList||this.hitBranch(tc.isBranchLeaf?{children:[tc]}:tc);let{list:nc}=this.findList,rc=this.getBestMatchLeaf(nc,h.bottomList,ec,!!h.findList),ic=ec?this.getPath(rc):this.getHitablePath(rc);return this.clear(),Wn?{path:ic,target:rc,throughPath:nc.length?this.getThroughPath(nc):ic}:{path:ic,target:rc}}hitPoint(a,u,h){return!!this.getByPoint(a,u,h).target}getBestMatchLeaf(a,u,h,Wn){let ec=this.findList=new fh;if(a.length){let u,{x:Wn,y:tc}=this.point,nc={x:Wn,y:tc,radiusX:0,radiusY:0};for(let Wn=0,tc=a.length;Wn<tc;Wn++)if(u=a[Wn],(h||io.worldHittable(u))&&(this.hitChild(u,nc),ec.length)){if(u.isBranchLeaf&&a.some(a=>a!==u&&io.hasParent(a,u))){ec.reset();break}return ec.list[0]}}if(u){for(let a=0,h=u.length;a<h;a++)if(this.hitChild(u[a].target,this.point,u[a].proxy),ec.length)return ec.list[0]}return Wn?null:h?a[0]:a.find(a=>io.worldHittable(a))}getPath(a){let u=new fh,h=[],{target:Wn}=this;for(;a&&(a.syncEventer&&h.push(a.syncEventer),u.add(a),(a=a.parent)!==Wn););return h.length&&h.forEach(a=>{for(;a&&(a.__.hittable&&u.add(a),(a=a.parent)!==Wn););}),Wn&&u.add(Wn),u}getHitablePath(a){let u=this.getPath(a&&a.hittable?a:null),h,Wn=new fh;for(let a=u.list.length-1;a>-1&&(h=u.list[a],h.__.hittable)&&(Wn.addAt(h,0),h.__.hitChildren&&(!h.isLeafer||h.mode!==`draw`));a--);return Wn}getThroughPath(a){let u=new fh,h=[];for(let u=a.length-1;u>-1;u--)h.push(this.getPath(a[u]));let Wn,ec,tc;for(let a=0,nc=h.length;a<nc;a++){Wn=h[a],ec=h[a+1];for(let a=0,h=Wn.length;a<h&&(tc=Wn.list[a],!ec||!ec.has(tc));a++)u.add(tc)}return u}hitBranch(a){this.eachFind(a.children,a.__onlyHitMask)}eachFind(a,u){let h,Wn,{point:ec}=this;for(let tc=a.length-1;tc>-1;tc--)if(h=a[tc],h.__.visible&&(!u||h.__.mask))if(Wn=!!h.__.hitRadius||mt(h.__world,ec),h.isBranch){if(Wn||h.__ignoreHitWorld){if(h.isBranchLeaf&&h.__.__clipAfterFill&&!h.__hitWorld(ec))continue;h.topChildren&&this.eachFind(h.topChildren,!1),this.eachFind(h.children,h.__onlyHitMask),h.isBranchLeaf&&this.hitChild(h,ec)}}else Wn&&this.hitChild(h,ec)}hitChild(a,u,h){if((!this.exclude||!this.exclude.has(a))&&a.__hitWorld(u)){let{parent:Wn}=a;if(Wn&&Wn.__hasMask&&!a.__.mask){let h,ec=[],{children:tc}=Wn;for(let Wn=0,nc=tc.length;Wn<nc;Wn++)if(h=tc[Wn],h.__.mask&&ec.push(h),h===a){if(ec&&!ec.every(a=>a.__hitWorld(u)))return;break}}this.findList.add(h||a)}}clear(){this.point=null,this.findList=null,this.exclude=null}destroy(){this.clear()}},yt=class{constructor(a,u){this.config={},u&&(this.config=_.default(u,this.config)),this.picker=new vt(this.target=a,this),this.finder=oe$2.finder&&oe$2.finder()}getByPoint(a,u,h){let{target:Wn,picker:ec}=this;return m.backgrounder&&Wn&&Wn.updateLayout(),ec.getByPoint(a,u,h)}hitPoint(a,u,h){return this.picker.hitPoint(a,u,h)}getBy(a,u,h,Wn){return this.finder?this.finder.getBy(a,u,h,Wn):ne$2.need(`find`)}destroy(){this.picker.destroy(),this.finder&&this.finder.destroy()}};Object.assign(oe$2,{watcher:(a,u)=>new nt(a,u),layouter:(a,u)=>new gt(a,u),renderer:(a,u,h)=>new wt(a,u,h),selector:(a,u)=>new yt(a,u)}),m.layout=gt.fullLayout,m.render=function(a,u,h){let Wn=Object.assign(Object.assign({},h),{topRendering:!0});h.topList=new fh,a.__render(u,h),h.topList.length&&h.topList.forEach(a=>a.__render(u,Wn))};var xt={convert(a,u){let h=_t$1.getBase(a),{x:Wn,y:ec}=u,tc=Object.assign(Object.assign({},h),{x:Wn,y:ec,width:a.width,height:a.height,pointerType:a.pointerType,pressure:a.pressure});return tc.pointerType===`pen`&&(tc.tangentialPressure=a.tangentialPressure,tc.tiltX=a.tiltX,tc.tiltY=a.tiltY,tc.twist=a.twist),tc},convertMouse(a,u){let h=_t$1.getBase(a),{x:Wn,y:ec}=u;return Object.assign(Object.assign({},h),{x:Wn,y:ec,width:1,height:1,pointerType:`mouse`,pressure:.5})},convertTouch(a,u){let h=xt.getTouch(a),Wn=_t$1.getBase(a),{x:ec,y:tc}=u;return Object.assign(Object.assign({},Wn),{x:ec,y:tc,width:1,height:1,pointerType:`touch`,multiTouch:a.touches.length>1,pressure:h.force})},getTouch:a=>a.targetTouches[0]||a.changedTouches[0]},bt={convert(a){let u=_t$1.getBase(a);return Object.assign(Object.assign({},u),{code:a.code,key:a.key})}},{pathCanDrag:St}=_t$1,kt=class extends Mt$1{get notPointer(){let{p:a}=this;return a.type!==`pointer`||a.touch||this.useMultiTouch}get notTouch(){let{p:a}=this;return a.type===`mouse`||this.usePointer}get notMouse(){return this.usePointer||this.useTouch}__listenEvents(){super.__listenEvents();let a=this.view=this.canvas.view;this.viewEvents={pointerdown:this.onPointerDown,mousedown:this.onMouseDown,touchstart:this.onTouchStart,pointerleave:this.onPointerLeave,contextmenu:this.onContextMenu,wheel:this.onWheel,gesturestart:this.onGesturestart,gesturechange:this.onGesturechange,gestureend:this.onGestureend},this.windowEvents={pointermove:this.onPointerMove,pointerup:this.onPointerUp,pointercancel:this.onPointerCancel,mousemove:this.onMouseMove,mouseup:this.onMouseUp,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchCancel,keydown:this.onKeyDown,keyup:this.onKeyUp,scroll:this.onScroll};let{viewEvents:u,windowEvents:h}=this;for(let h in u)u[h]=u[h].bind(this),a.addEventListener(h,u[h]);for(let a in h)h[a]=h[a].bind(this),window.addEventListener(a,h[a])}__removeListenEvents(){super.__removeListenEvents();let{viewEvents:a,windowEvents:u}=this;for(let u in a)this.view.removeEventListener(u,a[u]),this.viewEvents={};for(let a in u)window.removeEventListener(a,u[a]),this.windowEvents={}}getTouches(a){let u=[];for(let h=0,Wn=a.length;h<Wn;h++)u.push(a[h]);return u}preventDefaultPointer(a){let{pointer:u}=this.config;u.preventDefault&&a.preventDefault()}preventDefaultWheel(a){let{wheel:u}=this.config;u.preventDefault&&a.preventDefault()}preventWindowPointer(a){return!this.downData&&a.target!==this.view}onKeyDown(a){this.keyDown(bt.convert(a))}onKeyUp(a){this.keyUp(bt.convert(a))}onContextMenu(a){this.config.pointer.preventDefaultMenu&&a.preventDefault(),this.menu(xt.convert(a,this.getLocal(a)))}onScroll(){this.canvas.updateClientBounds()}onPointerDown(a){this.preventDefaultPointer(a),this.notPointer||(this.usePointer||=!0,this.pointerDown(xt.convert(a,this.getLocal(a))))}onPointerMove(a,u){if(this.notPointer||this.preventWindowPointer(a))return;this.usePointer||=!0;let h=xt.convert(a,this.getLocal(a,!0));u?this.pointerHover(h):this.pointerMove(h)}onPointerLeave(a){this.onPointerMove(a,!0)}onPointerUp(a){this.downData&&this.preventDefaultPointer(a),this.notPointer||this.preventWindowPointer(a)||this.pointerUp(xt.convert(a,this.getLocal(a)))}onPointerCancel(){this.useMultiTouch||this.pointerCancel()}onMouseDown(a){this.preventDefaultPointer(a),this.notMouse||this.pointerDown(xt.convertMouse(a,this.getLocal(a)))}onMouseMove(a){this.notMouse||this.preventWindowPointer(a)||this.pointerMove(xt.convertMouse(a,this.getLocal(a,!0)))}onMouseUp(a){this.downData&&this.preventDefaultPointer(a),this.notMouse||this.preventWindowPointer(a)||this.pointerUp(xt.convertMouse(a,this.getLocal(a)))}onMouseCancel(){this.notMouse||this.pointerCancel()}onTouchStart(a){let u=xt.getTouch(a),h=this.getLocal(u,!0),{preventDefault:Wn}=this.config.touch;(!0===Wn||Wn===`auto`&&St(this.findPath(h)))&&a.preventDefault(),this.multiTouchStart(a),this.notTouch||(this.touchTimer&&=(window.clearTimeout(this.touchTimer),0),this.useTouch=!0,this.pointerDown(xt.convertTouch(a,h)))}onTouchMove(a){if(this.multiTouchMove(a),this.notTouch||this.preventWindowPointer(a))return;let u=xt.getTouch(a);this.pointerMove(xt.convertTouch(a,this.getLocal(u)))}onTouchEnd(a){if(this.multiTouchEnd(),this.notTouch||this.preventWindowPointer(a))return;this.touchTimer&&clearTimeout(this.touchTimer),this.touchTimer=setTimeout(()=>{this.useTouch=!1},500);let u=xt.getTouch(a);this.pointerUp(xt.convertTouch(a,this.getLocal(u)))}onTouchCancel(){this.notTouch||this.pointerCancel()}multiTouchStart(a){this.useMultiTouch=a.touches.length>1,this.touches=this.useMultiTouch?this.getTouches(a.touches):void 0,this.useMultiTouch&&this.pointerCancel()}multiTouchMove(a){if(this.useMultiTouch&&a.touches.length>1){let u=this.getTouches(a.touches),h=this.getKeepTouchList(this.touches,u);h.length>1&&(this.multiTouch(_t$1.getBase(a),h),this.touches=u)}}multiTouchEnd(){this.touches=null,this.useMultiTouch=!1,this.transformEnd()}getKeepTouchList(a,u){let h,Wn=[];return a.forEach(a=>{h=u.find(u=>u.identifier===a.identifier),h&&Wn.push({from:this.getLocal(a),to:this.getLocal(h)})}),Wn}getLocalTouchs(a){return a.map(a=>this.getLocal(a))}onWheel(a){this.preventDefaultWheel(a),this.wheel(Object.assign(Object.assign(Object.assign({},_t$1.getBase(a)),this.getLocal(a)),{deltaX:a.deltaX,deltaY:a.deltaY}))}onGesturestart(a){this.useMultiTouch||(this.preventDefaultWheel(a),this.lastGestureScale=1,this.lastGestureRotation=0)}onGesturechange(a){if(this.useMultiTouch)return;this.preventDefaultWheel(a);let u=_t$1.getBase(a);Object.assign(u,this.getLocal(a));let h=a.scale/this.lastGestureScale,Wn=(a.rotation-this.lastGestureRotation)/Math.PI*180*(N$1.within(this.config.wheel.rotateSpeed,0,1)/4+.1);this.zoom(Object.assign(Object.assign({},u),{scale:h*h})),this.rotate(Object.assign(Object.assign({},u),{rotation:Wn})),this.lastGestureScale=a.scale,this.lastGestureRotation=a.rotation}onGestureend(a){this.useMultiTouch||(this.preventDefaultWheel(a),this.transformEnd())}setCursor(a){super.setCursor(a);let u=[];this.eachCursor(a,u),d(u[u.length-1])&&u.push(`default`),this.canvas.view.style.cursor=u.map(a=>d(a)?`url(${a.url}) ${a.x||0} ${a.y||0}`:a).join(`,`)}eachCursor(a,u,h=0){if(h++,l(a))a.forEach(a=>this.eachCursor(a,u,h));else{let Wn=i(a)&&St$1.get(a);Wn&&h<2?this.eachCursor(Wn,u,h):u.push(a)}}destroy(){this.view&&(super.destroy(),this.view=null,this.touches=null)}};function Bt(a,u,h){a.__.__font?Pt$2.fillText(a,u,h):a.__.windingRule?u.fill(a.__.windingRule):u.fill()}function Tt(a,u,h,Wn,ec){let tc=h.__;d(a)?Pt$2.drawStrokesStyle(a,u,!1,h,Wn,ec):(Wn.setStroke(a,tc.__strokeWidth*u,tc),Wn.stroke()),tc.__useArrow&&Pt$2.strokeArrow(a,h,Wn,ec)}function Lt(a,u,h,Wn,ec){let tc=h.__;d(a)?Pt$2.drawStrokesStyle(a,u,!0,h,Wn,ec):(Wn.setStroke(a,tc.__strokeWidth*u,tc),Pt$2.drawTextStroke(h,Wn,ec))}function Et(a,u,h,Wn,ec){let tc=Wn.getSameCanvas(!0,!0);tc.font=h.__.__font,Lt(a,2,h,tc,ec),tc.blendMode=u===`outside`?`destination-out`:`destination-in`,Pt$2.fillText(h,tc,ec),tc.blendMode=`normal`,io.copyCanvasByWorld(h,Wn,tc),tc.recycle(h.__nowWorld)}var{getSpread:Rt,copyAndSpread:Pt,toOuterOf:Mt,getOuterOf:Ct,getByMove:At,move:Ot,getIntersectData:Dt}=Ut$3,Wt={},It,{stintSet:Ft}=_,{hasTransparent:zt}=At$2;function jt(a,u,h){if(!d(u)||!1===u.visible||u.opacity===0)return;let Wn,{boxBounds:ec}=h.__layout;switch(u.type){case`image`:Wn=Ft$2.image(h,a,u,ec,!It||!It[u.url]);break;case`linear`:Wn=Wt$2.linearGradient(u,ec);break;case`radial`:Wn=Wt$2.radialGradient(u,ec);break;case`angular`:Wn=Wt$2.conicGradient(u,ec);break;case`solid`:let{type:tc,color:nc,opacity:rc}=u;Wn={type:tc,style:At$2.string(nc,rc)};break;default:s(u.r)||(Wn={type:`solid`,style:At$2.string(u)})}if(Wn&&(Wn.originPaint=u,i(Wn.style)&&zt(Wn.style)&&(Wn.isTransparent=!0),u.style)){if(u.style.strokeWidth===0)return;Wn.strokeStyle=u.style}return Wn}var Ut={compute:function(a,u){let h=u.__,Wn=[],ec,tc,nc,rc=h.__input[a];l(rc)||(rc=[rc]),It=Ft$2.recycleImage(a,h);for(let h,ec=0,tc=rc.length;ec<tc;ec++)(h=jt(a,rc[ec],u))&&(Wn.push(h),h.strokeStyle&&(nc||=1,h.strokeStyle.strokeWidth&&(nc=Math.max(nc,h.strokeStyle.strokeWidth))));h[`_`+a]=Wn.length?Wn:void 0,Wn.length?(Wn.every(a=>a.isTransparent)&&(Wn.some(a=>a.image)&&(ec=!0),tc=!0),a===`fill`?(Ft(h,`__isAlphaPixelFill`,ec),Ft(h,`__isTransparentFill`,tc)):(Ft(h,`__isAlphaPixelStroke`,ec),Ft(h,`__isTransparentStroke`,tc),Ft(h,`__hasMultiStrokeStyle`,nc))):h.__removePaint(a,!1)},fill:function(a,u,h,Wn){h.fillStyle=a,Bt(u,h,Wn)},fills:function(a,u,h,Wn){let ec,tc,nc;for(let rc=0,ic=a.length;rc<ic;rc++){if(ec=a[rc],tc=ec.originPaint,ec.image){if(nc?nc++:nc=1,Ft$2.checkImage(ec,!u.__.__font,u,h,Wn))continue;if(!ec.style){nc===1&&ec.image.isPlacehold&&u.drawImagePlaceholder(ec,h,Wn);continue}}if(h.fillStyle=ec.style,ec.transform||tc.scaleFixed){if(h.save(),ec.transform&&h.transform(ec.transform),tc.scaleFixed){let{scaleX:a,scaleY:Wn}=u.getRenderScaleData(!0);(!0===tc.scaleFixed||tc.scaleFixed===`zoom-in`&&a>1&&Wn>1)&&h.scale(1/a,1/Wn)}tc.blendMode&&(h.blendMode=tc.blendMode),Bt(u,h,Wn),h.restore()}else tc.blendMode?(h.saveBlendMode(tc.blendMode),Bt(u,h,Wn),h.restoreBlendMode()):Bt(u,h,Wn)}},fillPathOrText:Bt,fillText:function(a,u,h){let Wn=a.__,{rows:ec,decorationY:tc}=Wn.__textDrawData,nc;Wn.__isPlacehold&&Wn.placeholderColor&&(u.fillStyle=Wn.placeholderColor);for(let a=0,h=ec.length;a<h;a++)nc=ec[a],nc.text?u.fillText(nc.text,nc.x,nc.y):nc.data&&nc.data.forEach(a=>{u.fillText(a.char,a.x,nc.y)});if(tc){let{decorationColor:a,decorationHeight:h}=Wn.__textDrawData;a&&(u.fillStyle=a),ec.forEach(a=>tc.forEach(Wn=>u.fillRect(a.x,a.y+Wn,a.width,h)))}},stroke:function(a,u,h,Wn){let ec=u.__;if(ec.__strokeWidth)if(ec.__font)Pt$2.strokeText(a,u,h,Wn);else switch(ec.strokeAlign){case`center`:Tt(a,1,u,h,Wn);break;case`inside`:(function(a,u,h,Wn){h.save(),h.clipUI(u),Tt(a,2,u,h,Wn),h.restore()})(a,u,h,Wn);break;case`outside`:(function(a,u,h,Wn){let ec=u.__;if(ec.__fillAfterStroke)Tt(a,2,u,h,Wn);else{let{renderBounds:tc}=u.__layout,nc=h.getSameCanvas(!0,!0);u.__drawRenderPath(nc),Tt(a,2,u,nc,Wn),nc.clipUI(ec),nc.clearWorld(tc),io.copyCanvasByWorld(u,h,nc),nc.recycle(u.__nowWorld)}})(a,u,h,Wn)}},strokes:function(a,u,h,Wn){Pt$2.stroke(a,u,h,Wn)},strokeText:function(a,u,h,Wn){switch(u.__.strokeAlign){case`center`:Lt(a,1,u,h,Wn);break;case`inside`:Et(a,`inside`,u,h,Wn);break;case`outside`:u.__.__fillAfterStroke?Lt(a,2,u,h,Wn):Et(a,`outside`,u,h,Wn)}},drawTextStroke:function(a,u,h){let Wn,ec=a.__.__textDrawData,{rows:tc,decorationY:nc}=ec;for(let a=0,h=tc.length;a<h;a++)Wn=tc[a],Wn.text?u.strokeText(Wn.text,Wn.x,Wn.y):Wn.data&&Wn.data.forEach(a=>{u.strokeText(a.char,a.x,Wn.y)});if(nc){let{decorationHeight:a}=ec;tc.forEach(h=>nc.forEach(Wn=>u.strokeRect(h.x,h.y+Wn,h.width,a)))}},drawStrokesStyle:function(a,u,h,Wn,ec,tc){let nc,rc=Wn.__,{__hasMultiStrokeStyle:ic}=rc;ic||ec.setStroke(void 0,rc.__strokeWidth*u,rc);for(let ac=0,oc=a.length;ac<oc;ac++)if(nc=a[ac],(!nc.image||!Ft$2.checkImage(nc,!1,Wn,ec,tc))&&nc.style){if(ic){let{strokeStyle:a}=nc;a?ec.setStroke(nc.style,rc.__getRealStrokeWidth(a)*u,rc,a):ec.setStroke(nc.style,rc.__strokeWidth*u,rc)}else ec.strokeStyle=nc.style;nc.originPaint.blendMode?(ec.saveBlendMode(nc.originPaint.blendMode),h?Pt$2.drawTextStroke(Wn,ec,tc):ec.stroke(),ec.restoreBlendMode()):h?Pt$2.drawTextStroke(Wn,ec,tc):ec.stroke()}},shape:function(a,u,h){let Wn=u.getSameCanvas(),ec=u.bounds,tc=a.__nowWorld,nc=a.__layout,rc=a.__nowWorldShapeBounds||={},ic,ac,oc,sc,cc,lc;Mt(nc.strokeSpread?(Pt(Wt,nc.boxBounds,nc.strokeSpread),Wt):nc.boxBounds,tc,rc);let{scaleX:uc,scaleY:dc}=a.getRenderScaleData(!0);if(ec.includes(rc))lc=Wn,ic=cc=rc,ac=tc;else{let Wn;Wn=m.fullImageShadow?rc:Dt(nc.renderShapeSpread?Rt(ec,T.swapAndScale(nc.renderShapeSpread,uc,dc)):ec,rc),sc=ec.getFitMatrix(Wn);let{a:fc,d:pc}=sc;sc.a<1&&(lc=u.getSameCanvas(),a.__renderShape(lc,h),uc*=fc,dc*=pc),cc=Ct(rc,sc),ic=At(cc,-sc.e,-sc.f),ac=Ct(tc,sc),Ot(ac,-sc.e,-sc.f);let mc=h.matrix;mc?(oc=new gt$1(sc),oc.multiply(mc),fc*=mc.scaleX,pc*=mc.scaleY):oc=sc,oc.withScale(fc,pc),h=Object.assign(Object.assign({},h),{matrix:oc})}return a.__renderShape(Wn,h),{canvas:Wn,matrix:oc,fitMatrix:sc,bounds:ic,renderBounds:ac,worldCanvas:lc,shapeBounds:cc,scaleX:uc,scaleY:dc}}},Gt,Yt=new Vt$3,{isSame:Xt}=Ut$3;function Vt(a,u,h,Wn,ec,tc){if(u===`fill`&&!a.__.__naturalWidth){let u=a.__;if(u.__naturalWidth=Wn.width/u.pixelRatio,u.__naturalHeight=Wn.height/u.pixelRatio,u.__autoSide)return a.forceUpdate(`width`),a.__proxyData&&(a.setProxyAttr(`width`,u.width),a.setProxyAttr(`height`,u.height)),!1}return ec.data||Ft$2.createData(ec,Wn,h,tc),!0}function Ht(a,u){Kt(a,No.LOAD,u)}function Nt(a,u){Kt(a,No.LOADED,u)}function qt(a,u,h){u.error=h,a.forceUpdate(`surface`),Kt(a,No.ERROR,u)}function Kt(a,u,h){a.hasEvent(u)&&a.emitEvent(new No(u,h))}function Qt(a,u){let{leafer:h}=a;h&&h.viewReady&&(h.renderer.ignore=u)}var{get:$t,translate:Zt}=$$1,Jt=new Vt$3,te={},ee={};function ie(a,u,h,Wn){let ec=i(a)||Wn?(Wn?h-Wn*u:h%u)/((Wn||Math.floor(h/u))-1):a;return a===`auto`&&ec<0?0:ec}var se={},ne=j$1(),{get:oe,set:re,rotateOfOuter:ae,translate:he,scaleOfOuter:le,multiplyParent:ce,scale:de,rotate:ue,skew:fe}=$$1;function pe(a,u,h,Wn,ec,tc,nc,rc){nc&&ue(a,nc),rc&&fe(a,rc.x,rc.y),ec&&de(a,ec,tc),he(a,u.x+h,u.y+Wn)}function ge(a,u,h,Wn){return new(h||=Promise)(function(ec,tc){function nc(a){try{ic(Wn.next(a))}catch(a){tc(a)}}function rc(a){try{ic(Wn.throw(a))}catch(a){tc(a)}}function ic(a){var u;a.done?ec(a.value):(u=a.value,u instanceof h?u:new h(function(a){a(u)})).then(nc,rc)}ic((Wn=Wn.apply(a,u||[])).next())})}var{get:_e,scale:we,copy:me}=$$1,{getFloorScale:ve}=N$1,{abs:ye}=Math,xe={image:function(a,u,h,Wn,ec){let tc,nc,rc=Zi$1.get(h);return Gt&&h===Gt.paint&&Xt(Wn,Gt.boxBounds)?tc=Gt.leafPaint:(tc={type:h.type,image:rc},rc.hasAlphaPixel&&(tc.isTransparent=!0),Gt=rc.use>1?{leafPaint:tc,paint:h,boxBounds:Yt.set(Wn)}:null),(ec||rc.loading)&&(nc={image:rc,attrName:u,attrValue:h}),rc.ready?(Vt(a,u,h,rc,tc,Wn),ec&&(Ht(a,nc),Nt(a,nc))):rc.error?ec&&qt(a,nc,rc.error):(ec&&(Qt(a,!0),Ht(a,nc)),tc.loadId=rc.load(()=>{Qt(a,!1),a.destroyed||(Vt(a,u,h,rc,tc,Wn)&&(rc.hasAlphaPixel&&(a.__layout.hitCanvasChanged=!0),a.forceUpdate(`surface`)),Nt(a,nc)),tc.loadId=void 0},u=>{Qt(a,!1),qt(a,nc,u),tc.loadId=void 0}),a.placeholderColor&&(a.placeholderDelay?setTimeout(()=>{rc.ready||(rc.isPlacehold=!0,a.forceUpdate(`surface`))},a.placeholderDelay):rc.isPlacehold=!0)),tc},checkImage:function(a,u,h,Wn,ec){let{scaleX:tc,scaleY:nc}=Ft$2.getImageRenderScaleData(a,h,Wn,ec),{image:rc,data:ic,originPaint:ac}=a,{exporting:oc}=ec;return!(!ic||a.patternId===tc+`-`+nc&&!oc)&&(u&&(ic.repeat?u=!1:ac.changeful||m.name===`miniapp`&&jo.isResizing(h)||oc||(u=m.image.isLarge(rc,tc,nc))),u?(h.__.__isFastShadow&&(Wn.fillStyle=a.style||`#000`,Wn.fill()),Ft$2.drawImage(a,tc,nc,h,Wn,ec),!0):(!a.style||ac.sync||oc?Ft$2.createPattern(a,h,Wn,ec):Ft$2.createPatternTask(a,h,Wn,ec),!1))},drawImage:function(a,u,h,Wn,ec,tc){let{data:nc,image:rc}=a,{blendMode:ic}=a.originPaint,{opacity:ac,transform:oc}=nc,sc=rc.getFull(nc.filters),cc=Wn.__,lc,{width:uc,height:dc}=rc;(lc=oc&&!oc.onlyScale||cc.path||cc.cornerRadius)||ac||ic?(ec.save(),lc&&ec.clipUI(Wn),ic&&(ec.blendMode=ic),ac&&(ec.opacity*=ac),oc&&ec.transform(oc),ec.drawImage(sc,0,0,uc,dc),ec.restore()):(nc.scaleX&&(uc*=nc.scaleX,dc*=nc.scaleY),ec.drawImage(sc,0,0,uc,dc))},getImageRenderScaleData:function(a,u,h,Wn){let ec=u.getRenderScaleData(!0,a.originPaint.scaleFixed),{data:tc}=a;if(h){let{pixelRatio:a}=h;ec.scaleX*=a,ec.scaleY*=a}return tc&&tc.scaleX&&(ec.scaleX*=Math.abs(tc.scaleX),ec.scaleY*=Math.abs(tc.scaleY)),ec},recycleImage:function(a,u){let h=u[`_`+a];if(l(h)){let Wn,ec,tc,nc,rc;for(let ic=0,ac=h.length;ic<ac;ic++)Wn=h[ic],ec=Wn.image,rc=ec&&ec.url,rc&&(tc||={},tc[rc]=!0,Zi$1.recycle(ec),ec.loading&&(nc||(nc=u.__input&&u.__input[a]||[],l(nc)||(nc=[nc])),ec.unload(h[ic].loadId,!nc.some(a=>a.url===rc))));return tc}return null},createPatternTask:function(a,u,h,Wn){a.patternTask||=Zi$1.patternTasker.add(()=>ge(this,void 0,void 0,function*(){a.patternTask=null,h.bounds.hit(u.__nowWorld)&&Ft$2.createPattern(a,u,h,Wn),u.forceUpdate(`surface`)}),300)},createPattern:function(a,u,h,Wn){let{scaleX:ec,scaleY:tc}=Ft$2.getImageRenderScaleData(a,u,h,Wn),nc=ec+`-`+tc;if(a.patternId!==nc&&!u.destroyed&&(!m.image.isLarge(a.image,ec,tc)||a.data.repeat)){let{image:h,data:Wn}=a,{transform:rc,gap:ic}=Wn,ac=Ft$2.getPatternFixScale(a,ec,tc),oc,sc,cc,{width:lc,height:uc}=h;ac&&(ec*=ac,tc*=ac),lc*=ec,uc*=tc,ic&&(sc=ic.x*ec/ye(Wn.scaleX||1),cc=ic.y*tc/ye(Wn.scaleY||1)),(rc||ec!==1||tc!==1)&&(ec*=ve(lc+(sc||0)),tc*=ve(uc+(cc||0)),oc=_e(),rc&&me(oc,rc),we(oc,1/ec,1/tc));let dc=h.getCanvas(lc,uc,Wn.opacity,Wn.filters,sc,cc,u.leafer&&u.leafer.config.smooth);a.style=h.getPattern(dc,Wn.repeat||m.origin.noRepeat||`no-repeat`,oc,a),a.patternId=nc}},getPatternFixScale:function(a,u,h){let{image:Wn}=a,ec,tc=m.image.maxPatternSize,nc=Wn.width*Wn.height;return Wn.isSVG?u>1&&(ec=Math.ceil(u)/u):tc>nc&&(tc=nc),(nc*=u*h)>tc&&(ec=Math.sqrt(tc/nc)),ec},createData:function(a,u,h,Wn){a.data=Ft$2.getPatternData(h,Wn,u)},getPatternData:function(a,u,h){a.padding&&(u=Jt.set(u).shrink(a.padding)),a.mode===`strench`&&(a.mode=`stretch`);let{width:Wn,height:ec}=h,{opacity:tc,mode:nc,align:rc,offset:ic,scale:ac,size:oc,rotation:sc,skew:cc,clipSize:lc,repeat:uc,gap:dc,filters:fc}=a,pc=u.width===Wn&&u.height===ec,mc={mode:nc},hc=rc!==`center`&&(sc||0)%180==90,gc,_c;switch(Ut$3.set(ee,0,0,hc?ec:Wn,hc?Wn:ec),nc&&nc!==`cover`&&nc!==`fit`?((ac||oc)&&(N$1.getScaleData(ac,oc,h,te),gc=te.scaleX,_c=te.scaleY),(rc||dc||uc)&&(gc&&Ut$3.scale(ee,gc,_c,!0),rc&&Ot$3.toPoint(rc,ee,u,ee,!0,!0))):pc&&!sc||(gc=_c=Ut$3.getFitScale(u,ee,nc!==`fit`),Ut$3.put(u,h,rc,gc,!1,ee),Ut$3.scale(ee,gc,_c,!0)),ic&&lt$2.move(ee,ic),nc){case`stretch`:pc?gc&&=_c=void 0:(gc=u.width/Wn,_c=u.height/ec,Ft$2.stretchMode(mc,u,gc,_c));break;case`normal`:case`clip`:if(ee.x||ee.y||gc||lc||sc||cc){let a,h;lc&&(a=u.width/lc.width,h=u.height/lc.height),Ft$2.clipMode(mc,u,ee.x,ee.y,gc,_c,sc,cc,a,h),a&&(gc=gc?gc*a:a,_c=_c?_c*h:h)}break;case`repeat`:(!pc||gc||sc||cc)&&Ft$2.repeatMode(mc,u,Wn,ec,ee.x,ee.y,gc,_c,sc,cc,rc,a.freeTransform),uc||(mc.repeat=`repeat`);let h=d(uc);(dc||h)&&(mc.gap=function(a,u,h,Wn,ec){let tc,nc;return d(a)?(tc=a.x,nc=a.y):tc=nc=a,{x:ie(tc,h,ec.width,u&&u.x),y:ie(nc,Wn,ec.height,u&&u.y)}}(dc,h&&uc,ee.width,ee.height,u));break;default:gc&&Ft$2.fillOrFitMode(mc,u,ee.x,ee.y,gc,_c,sc)}return mc.transform||(u.x||u.y)&&Zt(mc.transform=$t(),u.x,u.y),gc&&(mc.scaleX=gc,mc.scaleY=_c),tc&&tc<1&&(mc.opacity=tc),fc&&(mc.filters=fc),uc&&(mc.repeat=i(uc)?uc===`x`?`repeat-x`:`repeat-y`:`repeat`),mc},stretchMode:function(a,u,h,Wn){let ec=oe(),{x:tc,y:nc}=u;tc||nc?he(ec,tc,nc):ec.onlyScale=!0,de(ec,h,Wn),a.transform=ec},fillOrFitMode:function(a,u,h,Wn,ec,tc,nc){let rc=oe();he(rc,u.x+h,u.y+Wn),de(rc,ec,tc),nc&&ae(rc,{x:u.x+u.width/2,y:u.y+u.height/2},nc),a.transform=rc},clipMode:function(a,u,h,Wn,ec,tc,nc,rc,ic,ac){let oc=oe();pe(oc,u,h,Wn,ec,tc,nc,rc),ic&&(nc||rc?(re(ne),le(ne,u,ic,ac),ce(oc,ne)):le(oc,u,ic,ac)),a.transform=oc},repeatMode:function(a,u,h,Wn,ec,tc,nc,rc,ic,ac,oc,sc){let cc=oe();if(sc)pe(cc,u,ec,tc,nc,rc,ic,ac);else{if(ic)if(oc===`center`)ae(cc,{x:h/2,y:Wn/2},ic);else switch(ue(cc,ic),ic){case 90:he(cc,Wn,0);break;case 180:he(cc,h,Wn);break;case 270:he(cc,0,h)}se.x=u.x+ec,se.y=u.y+tc,he(cc,se.x,se.y),nc&&le(cc,se,nc,rc)}a.transform=cc}},{toPoint:be}=vt$2,{hasTransparent:Se}=At$2,ke={},Be={};function Te(a,u,h,Wn){if(h){let ec,tc,nc,rc;for(let a=0,ic=h.length;a<ic;a++)ec=h[a],i(ec)?(nc=a/(ic-1),tc=At$2.string(ec,Wn)):(nc=ec.offset,tc=At$2.string(ec.color,Wn)),u.addColorStop(nc,tc),!rc&&Se(tc)&&(rc=!0);rc&&(a.isTransparent=!0)}}var{getAngle:Le,getDistance:Ee}=lt$2,{get:Re,rotateOfOuter:Pe,scaleOfOuter:Me}=$$1,{toPoint:Ce}=vt$2,Ae={},Oe={};function De(a,u,h,Wn,ec){let tc,{width:nc,height:rc}=a;if(nc!==rc||Wn){let a=Le(u,h);tc=Re(),ec?(Me(tc,u,nc/rc*(Wn||1),1),Pe(tc,u,a+90)):(Me(tc,u,1,nc/rc*(Wn||1)),Pe(tc,u,a))}return tc}var{getDistance:We}=lt$2,{toPoint:Ie}=vt$2,Fe={},ze={},je={linearGradient:function(a,u){let{from:h,to:Wn,type:ec,opacity:tc}=a;be(h||`top`,u,ke),be(Wn||`bottom`,u,Be);let nc=m.canvas.createLinearGradient(ke.x,ke.y,Be.x,Be.y),rc={type:ec,style:nc};return Te(rc,nc,a.stops,tc),rc},radialGradient:function(a,u){let{from:h,to:Wn,type:ec,opacity:tc,stretch:nc}=a;Ce(h||`center`,u,Ae),Ce(Wn||`bottom`,u,Oe);let rc=m.canvas.createRadialGradient(Ae.x,Ae.y,0,Ae.x,Ae.y,Ee(Ae,Oe)),ic={type:ec,style:rc};Te(ic,rc,a.stops,tc);let ac=De(u,Ae,Oe,nc,!0);return ac&&(ic.transform=ac),ic},conicGradient:function(a,u){let{from:h,to:Wn,type:ec,opacity:tc,stretch:nc}=a;Ie(h||`center`,u,Fe),Ie(Wn||`bottom`,u,ze);let rc=m.conicGradientSupport?m.canvas.createConicGradient(0,Fe.x,Fe.y):m.canvas.createRadialGradient(Fe.x,Fe.y,0,Fe.x,Fe.y,We(Fe,ze)),ic={type:ec,style:rc};Te(ic,rc,a.stops,tc);let ac=De(u,Fe,ze,nc||1,m.conicGradientRotate90);return ac&&(ic.transform=ac),ic},getTransform:De},{copy:Ue,move:Ge,toOffsetOutBounds:Ye}=Ut$3,{max:Xe,abs:Ve}=Math,He={},Ne=new gt$1,qe={};function Ke(a,u){let h,Wn,ec,tc,nc=0,rc=0,ic=0,ac=0;return u.forEach(a=>{h=a.x||0,Wn=a.y||0,tc=1.5*(a.blur||0),ec=Ve(a.spread||0),nc=Xe(nc,ec+tc-Wn),rc=Xe(rc,ec+tc+h),ic=Xe(ic,ec+tc+Wn),ac=Xe(ac,ec+tc-h)}),nc===rc&&rc===ic&&ic===ac?nc:[nc,rc,ic,ac]}function Qe(a,u,h){let{shapeBounds:Wn}=h,ec,tc;m.fullImageShadow?(Ue(He,a.bounds),Ge(He,u.x-Wn.x,u.y-Wn.y),ec=a.bounds,tc=He):(ec=Wn,tc=u),a.copyWorld(h.canvas,ec,tc)}var{toOffsetOutBounds:$e}=Ut$3,Ze={},ti={shadow:function(a,u,h){let Wn,ec,{__nowWorld:tc}=a,{shadow:nc}=a.__,{worldCanvas:rc,bounds:ic,renderBounds:ac,shapeBounds:oc,scaleX:sc,scaleY:cc}=h,lc=u.getSameCanvas(),uc=nc.length-1;Ye(ic,qe,ac),nc.forEach((nc,dc)=>{let fc=1;if(nc.scaleFixed){let a=Math.abs(tc.scaleX);a>1&&(fc=1/a)}lc.setWorldShadow(qe.offsetX+(nc.x||0)*sc*fc,qe.offsetY+(nc.y||0)*cc*fc,(nc.blur||0)*sc*fc,At$2.string(nc.color)),ec=Tt$2.getShadowTransform(a,lc,h,nc,qe,fc),ec&&lc.setTransform(ec),Qe(lc,qe,h),ec&&lc.resetTransform(),Wn=ac,nc.box&&(lc.restore(),lc.save(),rc&&(lc.copyWorld(lc,ac,tc,`copy`),Wn=tc),rc?lc.copyWorld(rc,tc,tc,`destination-out`):lc.copyWorld(h.canvas,oc,ic,`destination-out`)),io.copyCanvasByWorld(a,u,lc,Wn,nc.blendMode),uc&&dc<uc&&lc.clearWorld(Wn)}),lc.recycle(Wn)},innerShadow:function(a,u,h){let Wn,ec,{__nowWorld:tc}=a,{innerShadow:nc}=a.__,{worldCanvas:rc,bounds:ic,renderBounds:ac,shapeBounds:oc,scaleX:sc,scaleY:cc}=h,lc=u.getSameCanvas(),uc=nc.length-1;$e(ic,Ze,ac),nc.forEach((nc,dc)=>{let fc=1;if(nc.scaleFixed){let a=Math.abs(tc.scaleX);a>1&&(fc=1/a)}lc.save(),lc.setWorldShadow(Ze.offsetX+(nc.x||0)*sc*fc,Ze.offsetY+(nc.y||0)*cc*fc,(nc.blur||0)*sc*fc),ec=Tt$2.getShadowTransform(a,lc,h,nc,Ze,fc,!0),ec&&lc.setTransform(ec),Qe(lc,Ze,h),lc.restore(),rc?(lc.copyWorld(lc,ac,tc,`copy`),lc.copyWorld(rc,tc,tc,`source-out`),Wn=tc):(lc.copyWorld(h.canvas,oc,ic,`source-out`),Wn=ac),lc.fillWorld(Wn,At$2.string(nc.color),`source-in`),io.copyCanvasByWorld(a,u,lc,Wn,nc.blendMode),uc&&dc<uc&&lc.clearWorld(Wn)}),lc.recycle(Wn)},blur:function(a,u,h){let{blur:Wn}=a.__;h.setWorldBlur(Wn*a.__nowWorld.a),h.copyWorldToInner(u,a.__nowWorld,a.__layout.renderBounds),h.filter=`none`},backgroundBlur:function(a,u,h){},getShadowRenderSpread:Ke,getShadowTransform:function(a,u,h,Wn,ec,tc,nc){if(Wn.spread){let h=2*Wn.spread*tc*(nc?-1:1),{width:rc,height:ic}=a.__layout.strokeBounds;return Ne.set().scaleOfOuter({x:(ec.x+ec.width/2)*u.pixelRatio,y:(ec.y+ec.height/2)*u.pixelRatio},1+h/rc,1+h/ic),Ne}},isTransformShadow(a){},getInnerShadowSpread:Ke},{excludeRenderBounds:ei}=_o,ii;function si(a,u,h,Wn,ec,tc,nc,rc){switch(u){case`grayscale`:ii||(ii=!0,ec.useGrayscaleAlpha(a.__nowWorld));case`alpha`:(function(a,u,h,Wn,ec,tc){let nc=a.__nowWorld;h.resetTransform(),h.opacity=1,h.useMask(Wn,nc),tc&&Wn.recycle(nc),oi(a,u,h,1,ec,tc)})(a,h,Wn,ec,nc,rc);break;case`opacity-path`:oi(a,h,Wn,tc,nc,rc);break;case`path`:rc&&h.restore()}}function ni(a){return a.getSameCanvas(!1,!0)}function oi(a,u,h,Wn,ec,tc){let nc=a.__nowWorld;u.resetTransform(),u.opacity=Wn,u.copyWorld(h,nc,void 0,ec),tc?h.recycle(nc):h.clearWorld(nc)}ge$1.prototype.__renderMask=function(a,u){let h,Wn,ec,tc,nc,rc,{children:ic}=this;for(let ac=0,oc=ic.length;ac<oc;ac++){if(h=ic[ac],rc=h.__.mask,rc){nc&&(si(this,nc,a,ec,Wn,tc,void 0,!0),Wn=ec=null),rc!==`clipping`&&rc!==`clipping-path`||ei(h,u)||h.__render(a,u),tc=h.__.opacity,ii=!1,rc===`path`||rc===`clipping-path`?(tc<1?(nc=`opacity-path`,ec||=ni(a)):(nc=`path`,a.save()),h.__clip(ec||a,u)):(nc=rc===`grayscale`?`grayscale`:`alpha`,Wn||=ni(a),ec||=ni(a),h.__render(Wn,u));continue}let oc=tc===1&&h.__.__blendMode;oc&&si(this,nc,a,ec,Wn,tc,void 0,!1),ei(h,u)||h.__render(ec||a,u),oc&&si(this,nc,a,ec,Wn,tc,oc,!1)}si(this,nc,a,ec,Wn,tc,void 0,!0)};var ri=`>)]}%!?,.:;'"`,ai=ri+`_#~&*+\\=|`,hi=new RegExp([[19968,40959],[13312,19903],[131072,173791],[173824,177983],[177984,178207],[178208,183983],[183984,191471],[196608,201551],[201552,205743],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12736,12783],[12800,13055],[13056,13311],[63744,64255],[65072,65103],[127488,127743],[194560,195103]].map(([a,u])=>`[\\u${a.toString(16)}-\\u${u.toString(16)}]`).join(`|`));function li(a){let u={};return a.split(``).forEach(a=>u[a]=!0),u}var ci=li(`ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz`),di=li(`{[(<'"`),ui=li(ri),fi=li(ai),pi=li(`- `),gi;(function(a){a[a.Letter=0]=`Letter`,a[a.Single=1]=`Single`,a[a.Before=2]=`Before`,a[a.After=3]=`After`,a[a.Symbol=4]=`Symbol`,a[a.Break=5]=`Break`})(gi||={});var{Letter:_i,Single:wi,Before:mi,After:vi,Symbol:yi,Break:xi}=gi;function bi(a){return ci[a]?_i:pi[a]?xi:di[a]?mi:ui[a]?vi:fi[a]?yi:hi.test(a)?wi:_i}var Si={trimRight(a){let{words:u}=a,h,Wn=0,ec=u.length;for(let tc=ec-1;tc>-1&&(h=u[tc].data[0],h.char===` `);tc--)Wn++,a.width-=h.width;Wn&&u.splice(ec-Wn,Wn)}};function ki(a,u,h){switch(u){case`title`:return h?a.toUpperCase():a;case`upper`:return a.toUpperCase();case`lower`:return a.toLowerCase();default:return a}}var{trimRight:Bi}=Si,{Letter:Ti,Single:Li,Before:Ei,After:Ri,Symbol:Pi,Break:Mi}=gi,Ci,Ai,Oi,Di,Wi,Ii,Fi,zi,ji,Ui,Gi,Yi,Xi,Vi,Hi,Ni,qi,Ki=[];function Qi(a,u){ji&&!zi&&(zi=ji),Ci.data.push({char:a,width:u}),Oi+=u}function $i(){Di+=Oi,Ci.width=Oi,Ai.words.push(Ci),Ci={data:[]},Oi=0}function Zi(){Vi&&=(Hi.paraNumber++,Ai.paraStart=!0,!1),ji&&(Ai.startCharSize=zi,Ai.endCharSize=ji,zi=0),Ai.width=Di,Ni.width?Bi(Ai):qi&&Ji(),Ki.push(Ai),Ai={words:[]},Di=0}function Ji(){Di>(Hi.maxWidth||0)&&(Hi.maxWidth=Di)}var{top:ts,right:es,bottom:is,left:ss}=wt$2;function ns(a,u,h){let{bounds:Wn,rows:ec}=a;Wn[u]+=h;for(let a=0;a<ec.length;a++)ec[a][u]+=h}Object.assign(Bt$2,{getDrawData:function(a,u){i(a)||(a=String(a));let h=0,Wn=0,ec=u.__getInput(`width`)||0,tc=u.__getInput(`height`)||0,{__padding:nc}=u;nc&&(ec?(h=nc[ss],ec-=nc[es]+nc[ss],!ec&&(ec=.01)):u.autoSizeAlign||(h=nc[ss]),tc?(Wn=nc[ts],tc-=nc[ts]+nc[is],!tc&&(tc=.01)):u.autoSizeAlign||(Wn=nc[ts]));let rc={bounds:{x:h,y:Wn,width:ec,height:tc},rows:[],paraNumber:0,font:m.canvas.font=u.__font};return function(a,u,h){Hi=a,Ki=a.rows,Ni=a.bounds,qi=!Ni.width&&!h.autoSizeAlign;let{__letterSpacing:Wn,paraIndent:ec,textCase:tc}=h,{canvas:nc}=m,{width:rc}=Ni;if(h.__isCharMode){let a=h.textWrap!==`none`,ic=h.textWrap===`break`;Vi=!0,Gi=null,zi=Fi=ji=Oi=Di=0,Ci={data:[]},Ai={words:[]},Wn&&(u=[...u]);for(let h=0,ac=u.length;h<ac;h++)Ii=u[h],Ii===`
`?(Oi&&$i(),Ai.paraEnd=!0,Zi(),Vi=!0):(Ui=bi(Ii),Ui===Ti&&tc!==`none`&&(Ii=ki(Ii,tc,!Oi)),Fi=nc.measureText(Ii).width,Wn&&(Wn<0&&(ji=Fi),Fi+=Wn),Yi=Ui===Li&&(Gi===Li||Gi===Ti)||Gi===Li&&Ui!==Ri,Xi=!(Ui!==Ei&&Ui!==Li||Gi!==Pi&&Gi!==Ri),Wi=Vi&&ec?rc-ec:rc,a&&rc&&Di+Oi+Fi>Wi&&(ic?(Oi&&$i(),Di&&Zi()):(Xi||=Ui===Ti&&Gi==Ri,(Yi||Xi||Ui===Mi||Ui===Ei||Ui===Li||Oi+Fi>Wi)&&Oi&&$i(),Di&&Zi())),Ii===` `&&!0!==Vi&&Di+Oi===0||(Ui===Mi?(Ii===` `&&Oi&&$i(),Qi(Ii,Fi),$i()):((Yi||Xi)&&Oi&&$i(),Qi(Ii,Fi))),Gi=Ui);Oi&&$i(),Di&&Zi(),Ki.length>0&&(Ki[Ki.length-1].paraEnd=!0)}else u.split(`
`).forEach(a=>{Hi.paraNumber++,Di=nc.measureText(a).width,Ki.push({x:ec||0,text:a,width:Di,paraStart:!0}),qi&&Ji()})}(rc,a,u),nc&&function(a,u,h,Wn,ec){if(!Wn&&h.autoSizeAlign)switch(h.textAlign){case`left`:ns(u,`x`,a[ss]);break;case`right`:ns(u,`x`,-a[es])}if(!ec&&h.autoSizeAlign)switch(h.verticalAlign){case`top`:ns(u,`y`,a[ts]);break;case`bottom`:ns(u,`y`,-a[is])}}(nc,rc,u,ec,tc),function(a,u){let{rows:h,bounds:Wn}=a,ec=h.length,{__lineHeight:tc,__baseLine:nc,__letterSpacing:rc,__clipText:ic,textAlign:ac,verticalAlign:oc,paraSpacing:sc,autoSizeAlign:cc}=u,{x:lc,y:uc,width:dc,height:fc}=Wn,pc=tc*ec+(sc?sc*(a.paraNumber-1):0),mc=nc;if(ic&&pc>fc)pc=Math.max(fc,tc),ec>1&&(a.overflow=ec);else if(fc||cc)switch(oc){case`middle`:uc+=(fc-pc)/2;break;case`bottom`:uc+=fc-pc}mc+=uc;let hc,gc,_c,vc=dc||cc?dc:a.maxWidth;for(let nc=0,oc=ec;nc<oc;nc++){if(hc=h[nc],hc.x=lc,hc.width<dc||hc.width>dc&&!ic)switch(ac){case`center`:hc.x+=(vc-hc.width)/2;break;case`right`:hc.x+=vc-hc.width}hc.paraStart&&sc&&nc>0&&(mc+=sc),hc.y=mc,mc+=tc,a.overflow>nc&&mc>pc&&(hc.isOverflow=!0,a.overflow=nc+1),gc=hc.x,_c=hc.width,rc<0&&(hc.width<0?(_c=-hc.width+u.fontSize+rc,gc-=_c,_c+=u.fontSize):_c-=rc),gc<Wn.x&&(Wn.x=gc),_c>Wn.width&&(Wn.width=_c),ic&&dc&&dc<_c&&(hc.isOverflow=!0,a.overflow||=h.length)}Wn.y=uc,Wn.height=pc}(rc,u),u.__isCharMode&&function(a,u,h){let{rows:Wn}=a,{textAlign:ec,paraIndent:tc,letterSpacing:nc}=u,rc=h&&ec.includes(`both`),ic=rc||h&&ec.includes(`justify`),ac=ic&&ec.includes(`letter`),oc,sc,cc,lc,uc,dc,fc,pc,mc,hc;Wn.forEach(a=>{a.words&&=(uc=tc&&a.paraStart?tc:0,pc=a.words.length,ic&&(hc=!a.paraEnd||rc,sc=h-a.width-uc,ac?lc=sc/(a.words.reduce((a,u)=>a+u.data.length,0)-1):cc=pc>1?sc/(pc-1):0),dc=nc||a.isOverflow||ac?0:cc?1:2,a.isOverflow&&!nc&&(a.textMode=!0),dc===2?(a.x+=uc,function(a){a.text=``,a.words.forEach(u=>{u.data.forEach(u=>{a.text+=u.char})})}(a)):(a.x+=uc,oc=a.x,a.data=[],a.words.forEach((u,h)=>{dc===1?(fc={char:``,x:oc},oc=function(a,u,h){return a.forEach(a=>{h.char+=a.char,u+=a.width}),u}(u.data,oc,fc),(a.isOverflow||fc.char!==` `)&&a.data.push(fc)):oc=function(a,u,h,Wn,ec){return a.forEach(a=>{(Wn||a.char!==` `)&&(a.x=u,h.push(a)),u+=a.width,ec&&(u+=ec)}),u}(u.data,oc,a.data,a.isOverflow,hc&&lc),hc&&(mc=h===pc-1,cc?mc||(oc+=cc,a.width+=cc):lc&&(a.width+=lc*(u.data.length-(mc?1:0))))})),null)})}(rc,u,ec),rc.overflow&&function(a,u,h,Wn){if(!Wn)return;let{rows:ec,overflow:tc}=a,{textOverflow:nc}=u;if(ec.splice(tc),nc&&nc!==`show`){let a,rc;nc===`hide`?nc=``:nc===`ellipsis`&&(nc=`...`);let ic=nc?m.canvas.measureText(nc).width:0,ac=h+Wn-ic;(u.textWrap===`none`?ec:[ec[tc-1]]).forEach(u=>{if(u.isOverflow&&u.data){let h=u.data.length-1;for(let Wn=h;Wn>-1&&(a=u.data[Wn],rc=a.x+a.width,!(Wn===h&&rc<ac));Wn--){if(rc<ac&&a.char!==` `||!Wn){u.data.splice(Wn+1),u.width-=a.width;break}u.width-=a.width}u.width+=ic,u.data.push({char:nc,x:rc}),u.textMode&&function(a){a.text=``,a.data.forEach(u=>{a.text+=u.char}),a.data=null}(u)}})}}(rc,u,h,ec),u.textDecoration!==`none`&&function(a,u){let h,Wn=0,{fontSize:ec,textDecoration:tc}=u;switch(a.decorationHeight=ec/11,d(tc)?(h=tc.type,tc.color&&(a.decorationColor=At$2.string(tc.color)),tc.offset&&(Wn=Math.min(.3*ec,Math.max(tc.offset,.15*-ec)))):h=tc,h){case`under`:a.decorationY=[.15*ec+Wn];break;case`delete`:a.decorationY=[.35*-ec];break;case`under-delete`:a.decorationY=[.15*ec+Wn,.35*-ec]}}(rc,u),rc}}),Object.assign(At$2,{string:function(a,u){if(!a)return`#000`;let h=o(u)&&u<1;if(i(a)){if(!h||!At$2.object)return a;a=At$2.object(a)}let Wn=s(a.a)?1:a.a;h&&(Wn*=u);let ec=a.r+`,`+a.g+`,`+a.b;return Wn===1?`rgb(`+ec+`)`:`rgba(`+ec+`,`+Wn+`)`}}),Object.assign(Pt$2,Ut),Object.assign(Ft$2,xe),Object.assign(Wt$2,je),Object.assign(Tt$2,ti),Object.assign(oe$2,{interaction:(a,u,h,Wn)=>new kt(a,u,h,Wn),hitCanvas:(a,u)=>new J(a,u),hitCanvasManager:()=>new kt$1}),it();var _hoisted_1$3={class:`flex flex-col items-center justify-center gap-8 lg:flex-row lg:items-start transition-colors duration-300`},_hoisted_2$2={class:`relative rounded-3xl border-8 border-slate-200 bg-black p-1 shadow-2xl dark:border-white/10`},_hoisted_3$2={key:0,class:`absolute inset-x-2 inset-y-2 z-10 flex flex-col items-center justify-center rounded-2xl bg-black/80 backdrop-blur-sm`},_hoisted_4$1={key:1,class:`absolute inset-x-2 inset-y-2 z-10 flex flex-col items-center justify-center rounded-2xl bg-black/40 backdrop-blur-sm`},_hoisted_5$1={class:`flex w-64 flex-col gap-6`},_hoisted_6={class:`rounded-3xl border border-white bg-white/80 p-6 shadow-sm dark:border-white/5 dark:bg-white/5 backdrop-blur-md`},_hoisted_7={class:`flex flex-col gap-4`},_hoisted_8={class:`flex flex-col`},_hoisted_9={class:`text-4xl font-black text-slate-800 dark:text-white tabular-nums`},_hoisted_10={class:`flex items-center gap-2`},_hoisted_11={class:`text-xs font-bold text-slate-500 dark:text-slate-400 uppercase`},ROWS=20,COLS=10,BLOCK_SIZE=30,TICK_RATE=500,game_default=_plugin_vue_export_helper_default({__name:`game`,setup(tc){let rc=[[[1,1,1,1]],[[1,1],[1,1]],[[0,1,0],[1,1,1]],[[1,0,0],[1,1,1]],[[0,0,1],[1,1,1]],[[0,1,1],[1,1,0]],[[1,1,0],[0,1,1]]],oc=[null,`#00d2ff`,`#f5af19`,`#9d50bb`,`#ff4b1f`,`#2575fc`,`#84fab0`,`#ff0000`],cc=ref(0),dc=ref(!0),fc=ref(!1),pc=null,gc=null,_c=[],bc=null,xc=null,Sc=()=>{pc=new fe$1({view:`leafer-view`,width:COLS*BLOCK_SIZE,height:ROWS*BLOCK_SIZE,fill:`#000`}),gc=new ge$1,pc.add(gc),Cc()},Cc=()=>{let a=new ge$1({opacity:.1});for(let u=0;u<=COLS;u++)a.add(new we$1({x:u*BLOCK_SIZE,y:0,width:1,height:ROWS*BLOCK_SIZE,fill:`#fff`}));for(let u=0;u<=ROWS;u++)a.add(new we$1({x:0,y:u*BLOCK_SIZE,width:COLS*BLOCK_SIZE,height:1,fill:`#fff`}));pc.add(a)},wc=()=>{_c=Array.from({length:ROWS},()=>Array(COLS).fill(0))},Tc=()=>{let a=Math.floor(Math.random()*rc.length),u=rc[a];bc={shape:u,colorIndex:a+1,x:Math.floor(COLS/2)-Math.floor(u[0].length/2),y:0},Ec(0,0,bc.shape)&&Fc()},Ec=(a,u,h)=>{for(let Wn=0;Wn<h.length;Wn++)for(let ec=0;ec<h[Wn].length;ec++)if(h[Wn][ec]){let h=bc.x+ec+a,tc=bc.y+Wn+u;if(h<0||h>=COLS||tc>=ROWS||tc>=0&&_c[tc][h]!==0)return!0}return!1},Dc=a=>a[0].map((u,h)=>a.map(a=>a[h]).reverse()),Oc=()=>{bc.shape.forEach((a,u)=>{a.forEach((a,h)=>{if(a){let a=bc.y+u,Wn=bc.x+h;a>=0&&(_c[a][Wn]=bc.colorIndex)}})}),kc(),Tc(),Ac()},kc=()=>{let a=0;for(let u=ROWS-1;u>=0;u--)_c[u].every(a=>a!==0)&&(_c.splice(u,1),_c.unshift(Array(COLS).fill(0)),a++,u++);a>0&&(cc.value+=a*100)},Ac=()=>{if(gc){gc.clear();for(let a=0;a<ROWS;a++)for(let u=0;u<COLS;u++)_c[a][u]&&gc.add(new we$1({x:u*BLOCK_SIZE,y:a*BLOCK_SIZE,width:BLOCK_SIZE-1,height:BLOCK_SIZE-1,fill:oc[_c[a][u]],cornerRadius:4}));bc&&bc.shape.forEach((a,u)=>{a.forEach((a,h)=>{a&&gc.add(new we$1({x:(bc.x+h)*BLOCK_SIZE,y:(bc.y+u)*BLOCK_SIZE,width:BLOCK_SIZE-1,height:BLOCK_SIZE-1,fill:oc[bc.colorIndex],cornerRadius:4,shadow:{x:0,y:0,blur:10,color:oc[bc.colorIndex]}}))})})}},jc=(a,u)=>{dc.value||fc.value||(Ec(a,u,bc.shape)?u>0&&Oc():(bc.x+=a,bc.y+=u,Ac()))},Mc=()=>{if(dc.value||fc.value)return;let a=Dc(bc.shape);Ec(0,0,a)?Ec(-1,0,a)?Ec(1,0,a)||(bc.x+=1,bc.shape=a):(--bc.x,bc.shape=a):bc.shape=a,Ac()},Nc=()=>{wc(),cc.value=0,dc.value=!1,fc.value=!1,Tc(),Ac(),xc&&clearInterval(xc),xc=setInterval(()=>jc(0,1),TICK_RATE)},Pc=()=>{dc.value||(fc.value=!fc.value,fc.value?clearInterval(xc):xc=setInterval(()=>jc(0,1),TICK_RATE))},Fc=()=>{dc.value=!0,clearInterval(xc)},Ic=a=>{if(!dc.value)switch(a.code){case`ArrowLeft`:jc(-1,0);break;case`ArrowRight`:jc(1,0);break;case`ArrowDown`:jc(0,1);break;case`ArrowUp`:Mc();break;case`Space`:Pc();break}};return onMounted(()=>{Sc(),window.addEventListener(`keydown`,Ic)}),onUnmounted(()=>{pc&&pc.destroy(),xc&&clearInterval(xc),window.removeEventListener(`keydown`,Ic)}),(ec,tc)=>{let nc=ElButton;return openBlock(),createElementBlock(`div`,_hoisted_1$3,[createBaseVNode(`div`,_hoisted_2$2,[tc[3]||=createBaseVNode(`div`,{id:`leafer-view`,class:`canvas-area overflow-hidden rounded-2xl`},null,-1),dc.value?(openBlock(),createElementBlock(`div`,_hoisted_3$2,[tc[1]||=createBaseVNode(`h2`,{class:`mb-4 text-4xl font-black text-white italic tracking-widest`},`GAME OVER`,-1),createVNode(nc,{type:`primary`,size:`large`,round:``,class:`px-8 scale-110`,onClick:Nc},{default:withCtx(()=>tc[0]||=[createTextVNode(`RESTART`)]),_:1})])):createCommentVNode(``,!0),!dc.value&&fc.value?(openBlock(),createElementBlock(`div`,_hoisted_4$1,[tc[2]||=createBaseVNode(`h2`,{class:`mb-4 text-3xl font-black text-white tracking-widest`},`PAUSED`,-1),createVNode(nc,{type:`primary`,circle:``,size:`large`,icon:`VideoPlay`,onClick:Pc})])):createCommentVNode(``,!0)]),createBaseVNode(`div`,_hoisted_5$1,[createBaseVNode(`div`,_hoisted_6,[tc[5]||=createBaseVNode(`h3`,{class:`mb-4 text-xs font-black uppercase tracking-widest text-slate-400`},`Score Control`,-1),createBaseVNode(`div`,_hoisted_7,[createBaseVNode(`div`,_hoisted_8,[tc[4]||=createBaseVNode(`span`,{class:`text-[10px] font-bold text-slate-400`},`CURRENT SCORE`,-1),createBaseVNode(`span`,_hoisted_9,toDisplayString(cc.value),1)]),createBaseVNode(`div`,_hoisted_10,[createBaseVNode(`div`,{class:normalizeClass([`h-2 w-2 rounded-full`,dc.value?`bg-red-500`:fc.value?`bg-yellow-500`:`bg-emerald-500`])},null,2),createBaseVNode(`span`,_hoisted_11,toDisplayString(dc.value?`Stopped`:fc.value?`Paused`:`Playing`),1)]),dc.value?createCommentVNode(``,!0):(openBlock(),createBlock(nc,{key:0,onClick:Pc,type:fc.value?`success`:`warning`,size:`small`,round:``,plain:``,block:``},{default:withCtx(()=>[createTextVNode(toDisplayString(fc.value?`Resume`:`Pause`),1)]),_:1},8,[`type`]))])]),tc[6]||=createStaticVNode(`<div class="rounded-3xl border border-white bg-white/80 p-6 shadow-sm dark:border-white/5 dark:bg-white/5 backdrop-blur-md" data-v-40462db3><h3 class="mb-4 text-xs font-black uppercase tracking-widest text-slate-400" data-v-40462db3>How to Play</h3><div class="grid grid-cols-2 gap-4" data-v-40462db3><div class="flex flex-col" data-v-40462db3><kbd class="mb-1 inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-800 dark:bg-white/10 dark:text-white font-bold" data-v-40462db3></kbd><span class="text-[10px] font-medium text-slate-500" data-v-40462db3>ROTATE</span></div><div class="flex flex-col" data-v-40462db3><kbd class="mb-1 inline-flex h-8 w-8 items-center justify-center rounded-lg bg-slate-100 text-slate-800 dark:bg-white/10 dark:text-white font-bold" data-v-40462db3></kbd><span class="text-[10px] font-medium text-slate-500" data-v-40462db3>SPEED</span></div><div class="flex flex-col" data-v-40462db3><kbd class="mb-1 inline-flex h-8 w-16 items-center justify-center rounded-lg bg-slate-100 text-slate-800 dark:bg-white/10 dark:text-white font-bold" data-v-40462db3> </kbd><span class="text-[10px] font-medium text-slate-500" data-v-40462db3>MOVE</span></div><div class="flex flex-col" data-v-40462db3><kbd class="mb-1 inline-flex h-8 w-16 items-center justify-center rounded-lg bg-slate-100 text-slate-800 dark:bg-white/10 dark:text-white font-bold" data-v-40462db3>SP</kbd><span class="text-[10px] font-medium text-slate-500" data-v-40462db3>PAUSE</span></div></div></div>`,1)])])}}},[[`__scopeId`,`data-v-40462db3`]]),_hoisted_1$2={class:`flow-chart-container overflow-hidden rounded-3xl border border-slate-200 bg-slate-100/30 transition-all duration-300 dark:border-white/10 dark:bg-black/20`},_hoisted_2$1={class:`controls pointer-events-none absolute bottom-4 left-4 rounded-xl border border-white bg-white/80 p-3 shadow-lg backdrop-blur-md dark:border-white/5 dark:bg-white/5`},_hoisted_3$1={class:`flex items-center gap-2`},process_default=_plugin_vue_export_helper_default(defineComponent({__name:`process`,setup(a){let Wn=()=>{let a=document.documentElement.classList.contains(`dark`);return{nodeWidth:140,nodeHeight:60,gapX:80,gapY:40,nodeColor:a?`#1e293b`:`#ffffff`,nodeStroke:`#3b82f6`,textColor:a?`#f8fafc`:`#1e293b`,lineColor:a?`#475569`:`#94a3b8`,endNodeColor:a?`#334155`:`#f1f5f9`,endNodeStroke:`#64748b`,canvasBg:a?`transparent`:`#ffffff`}},rc=ref(null),ac=shallowRef(null),oc=ref({id:`root`,label:`Start Session`,children:[]}),sc=ref({x:0,y:0}),dc=()=>Math.random().toString(36).substr(2,9),mc=(a,u)=>{if(a.children.length===0){a.height=u.nodeHeight;return}let h=0;a.children.forEach(a=>{mc(a,u),h+=a.height+u.gapY}),h-=u.gapY,a.height=Math.max(u.nodeHeight,h)},hc=0,gc=(a,u,h,Wn)=>{let ec=h+(a.height-Wn.nodeHeight)/2;a.x=u,a.y=ec,u>hc&&(hc=u);let tc=h;a.children.forEach(a=>{gc(a,u+Wn.nodeWidth+Wn.gapX,tc,Wn),tc+=a.height+Wn.gapY})},_c=a=>{hc=0,mc(oc.value,a),gc(oc.value,60,60,a),sc.value={x:hc+a.nodeWidth+a.gapX,y:oc.value.y}},bc=(a,u,h,Wn,ec)=>{let tc=a+(h-a)/2,nc=`M ${a} ${u} L ${tc} ${u} L ${tc} ${Wn} L ${h} ${Wn}`;return[new hi$1({stroke:ec.lineColor,strokeWidth:2,path:nc}),new hi$1({fill:ec.lineColor,path:`M ${h} ${Wn} L ${h-8} ${Wn-5} L ${h-8} ${Wn+5} Z`})]},xc=(a,u,h)=>{if(!ac.value)return;let Wn=new ge$1({x:a.x,y:a.y});h&&h.x!==void 0&&bc(h.x+u.nodeWidth,h.y+u.nodeHeight/2,a.x,a.y+u.nodeHeight/2,u).forEach(a=>ac.value.tree.add(a)),a.children.length===0&&bc(a.x+u.nodeWidth,a.y+u.nodeHeight/2,sc.value.x,sc.value.y+u.nodeHeight/2,u).forEach(a=>ac.value.tree.add(a));let ec=new we$1({width:u.nodeWidth,height:u.nodeHeight,fill:u.nodeColor,stroke:u.nodeStroke,strokeWidth:2,cornerRadius:12,shadow:{x:0,y:10,blur:20,color:`rgba(0,0,0,0.05)`}}),tc=new _i$1({text:a.label,fontSize:13,fontWeight:`bold`,fill:u.textColor,width:u.nodeWidth,height:u.nodeHeight,textAlign:`center`,verticalAlign:`middle`});Wn.add(ec),Wn.add(tc);let nc=new ge$1({x:u.nodeWidth-10,y:u.nodeHeight/2,cursor:`pointer`});if(nc.add(new Fe$1({width:22,height:22,x:-11,y:-11,fill:`#10b981`,shadow:{x:0,y:4,blur:10,color:`rgba(16,185,129,0.3)`}})),nc.add(new _i$1({text:`+`,fontSize:18,fill:`#fff`,x:-11,y:-11,width:22,height:22,textAlign:`center`,verticalAlign:`middle`})),nc.on(it$1.TAP,u=>{u.stop(),a.children.push({id:dc(),label:`Task ${Math.floor(Math.random()*100)}`,children:[]}),Cc()}),Wn.add(nc),a.id!==`root`){let h=new ge$1({x:u.nodeWidth,y:0,cursor:`pointer`});h.add(new Fe$1({width:18,height:18,x:-9,y:-9,fill:`#ef4444`})),h.add(new _i$1({text:``,fontSize:14,fill:`#fff`,x:-9,y:-10,width:18,height:18,textAlign:`center`,verticalAlign:`middle`})),h.on(it$1.TAP,u=>{u.stop();let h=u=>{let Wn=u.children.findIndex(u=>u.id===a.id);return Wn===-1?u.children.some(h):(u.children.splice(Wn,1),!0)};h(oc.value),Cc()}),Wn.add(h)}ac.value.tree.add(Wn),a.children.forEach(h=>xc(h,u,a))},Sc=a=>{if(!ac.value)return;let u=new ge$1({x:sc.value.x,y:sc.value.y});u.add(new we$1({width:a.nodeWidth,height:a.nodeHeight,fill:a.endNodeColor,stroke:a.endNodeStroke,strokeWidth:2,cornerRadius:30})),u.add(new _i$1({text:`COMPLETE`,fontSize:12,fontWeight:`black`,fill:a.endNodeStroke,width:a.nodeWidth,height:a.nodeHeight,textAlign:`center`,verticalAlign:`middle`})),ac.value.tree.add(u)},Cc=()=>{if(!ac.value)return;ac.value.tree.clear();let a=Wn();ac.value.config.fill=a.canvasBg,_c(a),xc(oc.value,a),Sc(a)};return onMounted(()=>{rc.value&&(ac.value=new F({view:rc.value,tree:{},fill:Wn().canvasBg,move:{scroll:!0}}),Cc()),new MutationObserver(()=>Cc()).observe(document.documentElement,{attributes:!0,attributeFilter:[`class`]})}),onUnmounted(()=>{ac.value&&ac.value.destroy()}),(a,Wn)=>{let ec=ElIcon;return openBlock(),createElementBlock(`div`,_hoisted_1$2,[createBaseVNode(`div`,{ref_key:`canvasContainer`,ref:rc,class:`canvas-view`},null,512),createBaseVNode(`div`,_hoisted_2$1,[createBaseVNode(`div`,_hoisted_3$1,[createVNode(ec,{class:`text-blue-500`},{default:withCtx(()=>[createVNode(unref(info_filled_default))]),_:1}),Wn[0]||=createBaseVNode(`p`,{class:`text-[10px] font-bold uppercase tracking-wider text-slate-500 dark:text-slate-400`},[createTextVNode(` Click `),createBaseVNode(`span`,{class:`text-emerald-500`},`+`),createTextVNode(` to add steps. All ends auto-connect to Finish. `)],-1)])])])}}}),[[`__scopeId`,`data-v-8f397064`]]),_hoisted_1$1={class:`flex flex-col gap-4`},base_default=defineComponent({__name:`base`,setup(a){let h=null,Wn=ref(null),tc=()=>{if(!Wn.value)return;let a=document.documentElement.classList.contains(`dark`);h=new fe$1({view:Wn.value,fill:a?`transparent`:`#ffffff`});let u=new we$1({x:100,y:150,width:120,height:120,fill:`#32cd79`,cornerRadius:[12,4,12,4],draggable:!0,shadow:{x:0,y:10,blur:20,color:`rgba(50,205,121,0.2)`},event:{[it$1.ENTER]:function(a){a.current.fill=`#3b82f6`},[it$1.LEAVE]:function(a){a.current.fill=`#32cd79`}}}),ec=new Ze$1({x:250,y:200,width:150,strokeWidth:4,stroke:`#3b82f6`,strokeCap:`round`});h.add(u),h.add(ec)};return onMounted(()=>{tc(),new MutationObserver(()=>{if(h){let a=document.documentElement.classList.contains(`dark`);h.config.fill=a?`transparent`:`#ffffff`}}).observe(document.documentElement,{attributes:!0,attributeFilter:[`class`]})}),onUnmounted(()=>{h&&h.destroy()}),(a,h)=>(openBlock(),createElementBlock(`div`,_hoisted_1$1,[h[0]||=createBaseVNode(`div`,{class:`flex items-center justify-between`},[createBaseVNode(`h3`,{class:`text-sm font-bold text-slate-700 dark:text-slate-300`},`Basic Shapes & Interaction`),createBaseVNode(`span`,{class:`text-[10px] font-medium text-slate-400 font-mono`},`LEAFER-UI v1.0`)],-1),createBaseVNode(`div`,{ref_key:`canvasContainer`,ref:Wn,class:`h-[500px] w-full overflow-hidden rounded-2xl border border-slate-200 bg-white transition-all dark:border-white/10 dark:bg-black/20`},null,512)]))}}),_hoisted_1={class:`h-full w-full bg-slate-50 p-8 transition-colors duration-300 dark:bg-[#111317] overflow-y-auto`},_hoisted_2={class:`rounded-3xl border border-white bg-white/50 p-6 shadow-xl backdrop-blur-sm dark:border-white/5 dark:bg-white/5`},_hoisted_3={class:`p-4`},_hoisted_4={class:`p-4`},_hoisted_5={class:`p-4`},leaferjs_default=_plugin_vue_export_helper_default(defineComponent({__name:`index`,setup(a){return(a,Wn)=>{let ec=ElTabPane,tc=ElTabs;return openBlock(),createElementBlock(`div`,_hoisted_1,[Wn[0]||=createBaseVNode(`div`,{class:`mb-8`},[createBaseVNode(`h1`,{class:`text-3xl font-black tracking-tight text-slate-900 dark:text-white`},`LeaferJS `),createBaseVNode(`p`,{class:`mt-2 text-slate-500 dark:text-slate-400`},`High-performance 2D rendering and interactive canvas experiments.`)],-1),createBaseVNode(`div`,_hoisted_2,[createVNode(tc,{"tab-position":`left`,class:`modern-tabs`},{default:withCtx(()=>[createVNode(ec,{label:`Canvas Basics`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_3,[createVNode(base_default)])]),_:1}),createVNode(ec,{label:`Tetris Game`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_4,[createVNode(game_default)])]),_:1}),createVNode(ec,{label:`Flow Chart`},{default:withCtx(()=>[createBaseVNode(`div`,_hoisted_5,[createVNode(process_default)])]),_:1})]),_:1})])])}}}),[[`__scopeId`,`data-v-e5c12117`]]);export{leaferjs_default as default};