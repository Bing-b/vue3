import{$ as ElButton,$n as markRaw,At as more_filled_default,Bn as resolveDirective,Cn as guardReactiveProps,Hn as toHandlers,Hr as __toESM,Ht as share_default,In as pushScopeId,Ir as toDisplayString,Jn as withCtx,Kn as watch,L as ElDropdown,Ln as renderList,Mr as normalizeProps,Nn as openBlock,Nr as normalizeStyle,On as mergeProps,Pn as popScopeId,Qt as _plugin_vue_export_helper_default,R as ElDropdownItem,Rn as renderSlot,Vn as resolveDynamicComponent,Xn as withScopeId,Yn as withDirectives,bt as edit_default,cn as Fragment,dn as computed,fn as createBaseVNode,gt as delete_default,hn as createElementBlock,ir as shallowReactive,jr as normalizeClass,kn as nextTick,mn as createCommentVNode,pn as createBlock,rr as ref,ur as unref,vn as createTextVNode,wn as h,xn as defineComponent,yn as createVNode,z as ElDropdownMenu,zn as resolveComponent}from"./index-_fc2eCpQ.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            */function getInternetExplorerVersion(){var e=window.navigator.userAgent,k=e.indexOf(`MSIE `);if(k>0)return parseInt(e.substring(k+5,e.indexOf(`.`,k)),10);if(e.indexOf(`Trident/`)>0){var A=e.indexOf(`rv:`);return parseInt(e.substring(A+3,e.indexOf(`.`,A)),10)}var j=e.indexOf(`Edge/`);return j>0?parseInt(e.substring(j+5,e.indexOf(`.`,j)),10):-1}var isIE;function initCompat(){initCompat.init||(initCompat.init=!0,isIE=getInternetExplorerVersion()!==-1)}var script$3={name:`ResizeObserver`,props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:[`notify`],mounted(){initCompat(),nextTick(()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()});let e=document.createElement(`object`);this._resizeObject=e,e.setAttribute(`aria-hidden`,`true`),e.setAttribute(`tabindex`,-1),e.onload=this.addResizeHandlers,e.type=`text/html`,isIE&&this.$el.appendChild(e),e.data=`about:blank`,isIE||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit(`notify`,{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener(`resize`,this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!isIE&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener(`resize`,this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}},_withId=withScopeId(`data-v-b329ee4c`);pushScopeId(`data-v-b329ee4c`);var _hoisted_1$2={class:`resize-observer`,tabindex:`-1`};popScopeId(),script$3.render=_withId((e,k,A,j,M,N)=>(openBlock(),createBlock(`div`,_hoisted_1$2))),script$3.__scopeId=`data-v-b329ee4c`,script$3.__file=`src/components/ResizeObserver.vue`;function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},_typeof$1(e)}function _classCallCheck(e,k){if(!(e instanceof k))throw TypeError(`Cannot call a class as a function`)}function _defineProperties(e,k){for(var A=0;A<k.length;A++){var j=k[A];j.enumerable=j.enumerable||!1,j.configurable=!0,`value`in j&&(j.writable=!0),Object.defineProperty(e,j.key,j)}}function _createClass(e,k,A){return k&&_defineProperties(e.prototype,k),A&&_defineProperties(e,A),e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _iterableToArray(e){if(typeof Symbol<`u`&&Symbol.iterator in Object(e))return Array.from(e)}function _unsupportedIterableToArray(e,k){if(e){if(typeof e==`string`)return _arrayLikeToArray(e,k);var A=Object.prototype.toString.call(e).slice(8,-1);if(A===`Object`&&e.constructor&&(A=e.constructor.name),A===`Map`||A===`Set`)return Array.from(e);if(A===`Arguments`||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A))return _arrayLikeToArray(e,k)}}function _arrayLikeToArray(e,k){(k==null||k>e.length)&&(k=e.length);for(var A=0,j=Array(k);A<k;A++)j[A]=e[A];return j}function _nonIterableSpread(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function processOptions(e){return typeof e==`function`?{callback:e}:e}function throttle(e,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j,M,N,P=function(P){if(N=[...arguments].slice(1),!(j&&P===M)){var F=A.leading;typeof F==`function`&&(F=F(P,M)),(!j||P!==M)&&F&&e.apply(void 0,[P].concat(_toConsumableArray(N))),M=P,clearTimeout(j),j=setTimeout(function(){e.apply(void 0,[P].concat(_toConsumableArray(N))),j=0},k)}};return P._clear=function(){clearTimeout(j),j=null},P}function deepEqual(e,k){if(e===k)return!0;if(_typeof$1(e)===`object`){for(var A in e)if(!deepEqual(e[A],k[A]))return!1;return!0}return!1}var VisibilityState=function(){function e(k,A,j){_classCallCheck(this,e),this.el=k,this.observer=null,this.frozen=!1,this.createObserver(A,j)}return _createClass(e,[{key:`createObserver`,value:function(e,k){var A=this;if(this.observer&&this.destroyObserver(),!this.frozen){if(this.options=processOptions(e),this.callback=function(e,k){A.options.callback(e,k),e&&A.options.once&&(A.frozen=!0,A.destroyObserver())},this.callback&&this.options.throttle){var j=(this.options.throttleOptions||{}).leading;this.callback=throttle(this.callback,this.options.throttle,{leading:function(e){return j===`both`||j===`visible`&&e||j===`hidden`&&!e}})}this.oldResult=void 0,this.observer=new IntersectionObserver(function(e){var k=e[0];if(e.length>1){var j=e.find(function(e){return e.isIntersecting});j&&(k=j)}if(A.callback){var M=k.isIntersecting&&k.intersectionRatio>=A.threshold;if(M===A.oldResult)return;A.oldResult=M,A.callback(M,k)}},this.options.intersection),nextTick(function(){A.observer&&A.observer.observe(A.el)})}}},{key:`destroyObserver`,value:function(){this.observer&&=(this.observer.disconnect(),null),this.callback&&this.callback._clear&&(this.callback._clear(),this.callback=null)}},{key:`threshold`,get:function(){return this.options.intersection&&typeof this.options.intersection.threshold==`number`?this.options.intersection.threshold:0}}]),e}();function beforeMount(e,k,A){var j=k.value;j&&(typeof IntersectionObserver>`u`||(e._vue_visibilityState=new VisibilityState(e,j,A)))}function updated(e,k,A){var j=k.value,M=k.oldValue;if(!deepEqual(j,M)){var N=e._vue_visibilityState;if(!j){unmounted(e);return}N?N.createObserver(j,A):beforeMount(e,{value:j},A)}}function unmounted(e){var k=e._vue_visibilityState;k&&(k.destroyObserver(),delete e._vue_visibilityState)}var ObserveVisibility={beforeMount,updated,unmounted};function mitt_es_default(e){return{all:e||=new Map,on:function(k,A){var j=e.get(k);j&&j.push(A)||e.set(k,[A])},off:function(k,A){var j=e.get(k);j&&j.splice(j.indexOf(A)>>>0,1)},emit:function(k,A){(e.get(k)||[]).slice().map(function(e){e(A)}),(e.get(`*`)||[]).slice().map(function(e){e(k,A)})}}}var config={itemsLimit:1e3},regex=/(auto|scroll)/;function parents(e,k){return e.parentNode===null?k:parents(e.parentNode,k.concat([e]))}var style=function(e,k){return getComputedStyle(e,null).getPropertyValue(k)},overflow=function(e){return style(e,`overflow`)+style(e,`overflow-y`)+style(e,`overflow-x`)},scroll=function(e){return regex.test(overflow(e))};function getScrollParent(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var k=parents(e.parentNode,[]),A=0;A<k.length;A+=1)if(scroll(k[A]))return k[A];return document.scrollingElement||document.documentElement}}function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},_typeof(e)}var props={items:{type:Array,required:!0},keyField:{type:String,default:`id`},direction:{type:String,default:`vertical`,validator:function(e){return[`vertical`,`horizontal`].includes(e)}},listTag:{type:String,default:`div`},itemTag:{type:String,default:`div`}};function simpleArray(){return this.items.length&&_typeof(this.items[0])!==`object`}var supportsPassive=!1;if(typeof window<`u`){supportsPassive=!1;try{var opts=Object.defineProperty({},`passive`,{get:function(){supportsPassive=!0}});window.addEventListener(`test`,null,opts)}catch{}}var uid=0,script$2={name:`RecycleScroller`,components:{ResizeObserver:script$3},directives:{ObserveVisibility},props:{...props,itemSize:{type:Number,default:null},gridItems:{type:Number,default:void 0},itemSecondarySize:{type:Number,default:void 0},minItemSize:{type:[Number,String],default:null},sizeField:{type:String,default:`size`},typeField:{type:String,default:`type`},buffer:{type:Number,default:200},pageMode:{type:Boolean,default:!1},prerender:{type:Number,default:0},emitUpdate:{type:Boolean,default:!1},updateInterval:{type:Number,default:0},skipHover:{type:Boolean,default:!1},listTag:{type:String,default:`div`},itemTag:{type:String,default:`div`},listClass:{type:[String,Object,Array],default:``},itemClass:{type:[String,Object,Array],default:``}},emits:[`resize`,`visible`,`hidden`,`update`,`scroll-start`,`scroll-end`],data(){return{pool:[],totalSize:0,ready:!1,hoverKey:null}},computed:{sizes(){if(this.itemSize===null){let e={"-1":{accumulator:0}},k=this.items,A=this.sizeField,j=this.minItemSize,M=1e4,N=0,P;for(let F=0,I=k.length;F<I;F++)P=k[F][A]||j,P<M&&(M=P),N+=P,e[F]={accumulator:N,size:P};return this.$_computedMinItemSize=M,e}return[]},simpleArray,itemIndexByKey(){let{keyField:e,items:k}=this,A={};for(let j=0,M=k.length;j<M;j++)A[k[j][e]]=j;return A}},watch:{items(){this.updateVisibleItems(!0)},pageMode(){this.applyPageMode(),this.updateVisibleItems(!1)},sizes:{handler(){this.updateVisibleItems(!1)},deep:!0},gridItems(){this.updateVisibleItems(!0)},itemSecondarySize(){this.updateVisibleItems(!0)}},created(){this.$_startIndex=0,this.$_endIndex=0,this.$_views=new Map,this.$_unusedViews=new Map,this.$_scrollDirty=!1,this.$_lastUpdateScrollPosition=0,this.prerender&&(this.$_prerender=!0,this.updateVisibleItems(!1)),this.gridItems&&this.itemSize},mounted(){this.applyPageMode(),this.$nextTick(()=>{this.$_prerender=!1,this.updateVisibleItems(!0),this.ready=!0})},activated(){let e=this.$_lastUpdateScrollPosition;typeof e==`number`&&this.$nextTick(()=>{this.scrollToPosition(e)})},beforeUnmount(){this.removeListeners()},methods:{addView(e,A,j,M,N){let P=shallowReactive({item:j,position:0,nr:markRaw({id:uid++,index:A,used:!0,key:M,type:N})});return e.push(P),P},unuseView(e,k=!1){let A=this.$_unusedViews,j=e.nr.type,M=A.get(j);M||(M=[],A.set(j,M)),M.push(e),k||(e.nr.used=!1,e.position=-9999)},handleResize(){this.$emit(`resize`),this.ready&&this.updateVisibleItems(!1)},handleScroll(e){if(!this.$_scrollDirty){if(this.$_scrollDirty=!0,this.$_updateTimeout)return;let e=()=>requestAnimationFrame(()=>{this.$_scrollDirty=!1;let{continuous:e}=this.updateVisibleItems(!1,!0);e||(clearTimeout(this.$_refreshTimout),this.$_refreshTimout=setTimeout(this.handleScroll,this.updateInterval+100))});e(),this.updateInterval&&(this.$_updateTimeout=setTimeout(()=>{this.$_updateTimeout=0,this.$_scrollDirty&&e()},this.updateInterval))}},handleVisibilityChange(e,k){this.ready&&(e||k.boundingClientRect.width!==0||k.boundingClientRect.height!==0?(this.$emit(`visible`),requestAnimationFrame(()=>{this.updateVisibleItems(!1)})):this.$emit(`hidden`))},updateVisibleItems(e,k=!1){let A=this.itemSize,j=this.gridItems||1,M=this.itemSecondarySize||A,N=this.$_computedMinItemSize,P=this.typeField,F=this.simpleArray?null:this.keyField,I=this.items,L=I.length,R=this.sizes,z=this.$_views,B=this.$_unusedViews,V=this.pool,H=this.itemIndexByKey,U,W,G,K,q;if(!L)U=W=K=q=G=0;else if(this.$_prerender)U=K=0,W=q=Math.min(this.prerender,I.length),G=null;else{let e=this.getScroll();if(k){let k=e.start-this.$_lastUpdateScrollPosition;if(k<0&&(k=-k),A===null&&k<N||k<A)return{continuous:!0}}this.$_lastUpdateScrollPosition=e.start;let M=this.buffer;e.start-=M,e.end+=M;let P=0;if(this.$refs.before&&(P=this.$refs.before.scrollHeight,e.start-=P),this.$refs.after){let k=this.$refs.after.scrollHeight;e.end+=k}if(A===null){let k,A=0,j=L-1,M=~~(L/2),N;do N=M,k=R[M].accumulator,k<e.start?A=M:M<L-1&&R[M+1].accumulator>e.start&&(j=M),M=~~((A+j)/2);while(M!==N);for(M<0&&(M=0),U=M,G=R[L-1].accumulator,W=M;W<L&&R[W].accumulator<e.end;W++);for(W===-1?W=I.length-1:(W++,W>L&&(W=L)),K=U;K<L&&P+R[K].accumulator<e.start;K++);for(q=K;q<L&&P+R[q].accumulator<e.end;q++);}else{U=~~(e.start/A*j);let k=U%j;U-=k,W=Math.ceil(e.end/A*j),K=Math.max(0,Math.floor((e.start-P)/A*j)),q=Math.floor((e.end-P)/A*j),U<0&&(U=0),W>L&&(W=L),K<0&&(K=0),q>L&&(q=L),G=Math.ceil(L/j)*A}}W-U>config.itemsLimit&&this.itemsLimitError(),this.totalSize=G;let J,Y=U<=this.$_endIndex&&W>=this.$_startIndex;if(Y)for(let k=0,A=V.length;k<A;k++)J=V[k],J.nr.used&&(e&&(J.nr.index=H[J.item[F]]),(J.nr.index==null||J.nr.index<U||J.nr.index>=W)&&this.unuseView(J));let X=Y?null:new Map,Z,Q,$;for(let e=U;e<W;e++){Z=I[e];let k=F?Z[F]:Z;if(k==null)throw Error(`Key is ${k} on item (keyField is '${F}')`);if(J=z.get(k),!A&&!R[e].size){J&&this.unuseView(J);continue}Q=Z[P];let N=B.get(Q),L=!1;if(!J)Y?J=N&&N.length?N.pop():this.addView(V,e,Z,k,Q):($=X.get(Q)||0,(!N||$>=N.length)&&(J=this.addView(V,e,Z,k,Q),this.unuseView(J,!0),N=B.get(Q)),J=N[$],X.set(Q,$+1)),z.delete(J.nr.key),J.nr.used=!0,J.nr.index=e,J.nr.key=k,J.nr.type=Q,z.set(k,J),L=!0;else if(!J.nr.used&&(J.nr.used=!0,L=!0,N)){let e=N.indexOf(J);e!==-1&&N.splice(e,1)}J.item=Z,L&&(e===I.length-1&&this.$emit(`scroll-end`),e===0&&this.$emit(`scroll-start`)),A===null?(J.position=R[e-1].accumulator,J.offset=0):(J.position=Math.floor(e/j)*A,J.offset=e%j*M)}return this.$_startIndex=U,this.$_endIndex=W,this.emitUpdate&&this.$emit(`update`,U,W,K,q),clearTimeout(this.$_sortTimer),this.$_sortTimer=setTimeout(this.sortViews,this.updateInterval+300),{continuous:Y}},getListenerTarget(){let e=getScrollParent(this.$el);return window.document&&(e===window.document.documentElement||e===window.document.body)&&(e=window),e},getScroll(){let{$el:e,direction:k}=this,A=k===`vertical`,j;if(this.pageMode){let k=e.getBoundingClientRect(),M=A?k.height:k.width,N=-(A?k.top:k.left),P=A?window.innerHeight:window.innerWidth;N<0&&(P+=N,N=0),N+P>M&&(P=M-N),j={start:N,end:N+P}}else j=A?{start:e.scrollTop,end:e.scrollTop+e.clientHeight}:{start:e.scrollLeft,end:e.scrollLeft+e.clientWidth};return j},applyPageMode(){this.pageMode?this.addListeners():this.removeListeners()},addListeners(){this.listenerTarget=this.getListenerTarget(),this.listenerTarget.addEventListener(`scroll`,this.handleScroll,supportsPassive?{passive:!0}:!1),this.listenerTarget.addEventListener(`resize`,this.handleResize)},removeListeners(){this.listenerTarget&&=(this.listenerTarget.removeEventListener(`scroll`,this.handleScroll),this.listenerTarget.removeEventListener(`resize`,this.handleResize),null)},scrollToItem(e){let k,A=this.gridItems||1;k=this.itemSize===null?e>0?this.sizes[e-1].accumulator:0:Math.floor(e/A)*this.itemSize,this.scrollToPosition(k)},scrollToPosition(e){let k=this.direction===`vertical`?{scroll:`scrollTop`,start:`top`}:{scroll:`scrollLeft`,start:`left`},A,j,M;if(this.pageMode){let N=getScrollParent(this.$el),P=N.tagName===`HTML`?0:N[k.scroll],F=N.getBoundingClientRect(),I=this.$el.getBoundingClientRect()[k.start]-F[k.start];A=N,j=k.scroll,M=e+P+I}else A=this.$el,j=k.scroll,M=e;A[j]=M},itemsLimitError(){throw setTimeout(()=>{}),Error(`Rendered items limit reached`)},sortViews(){this.pool.sort((e,k)=>e.nr.index-k.nr.index)}}},_hoisted_1$1={key:0,ref:`before`,class:`vue-recycle-scroller__slot`},_hoisted_2$1={key:1,ref:`after`,class:`vue-recycle-scroller__slot`};function render$1(e,k,A,M,P,F){let I=resolveComponent(`ResizeObserver`),L=resolveDirective(`observe-visibility`);return withDirectives((openBlock(),createElementBlock(`div`,{class:normalizeClass([`vue-recycle-scroller`,{ready:P.ready,"page-mode":A.pageMode,[`direction-${e.direction}`]:!0}]),onScrollPassive:k[0]||=(...e)=>F.handleScroll&&F.handleScroll(...e)},[e.$slots.before?(openBlock(),createElementBlock(`div`,_hoisted_1$1,[renderSlot(e.$slots,`before`)],512)):createCommentVNode(`v-if`,!0),(openBlock(),createBlock(resolveDynamicComponent(A.listTag),{ref:`wrapper`,style:normalizeStyle({[e.direction===`vertical`?`minHeight`:`minWidth`]:P.totalSize+`px`}),class:normalizeClass([`vue-recycle-scroller__item-wrapper`,A.listClass])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(P.pool,k=>(openBlock(),createBlock(resolveDynamicComponent(A.itemTag),mergeProps({key:k.nr.id,style:P.ready?{transform:`translate${e.direction===`vertical`?`Y`:`X`}(${k.position}px) translate${e.direction===`vertical`?`X`:`Y`}(${k.offset}px)`,width:A.gridItems?`${e.direction===`vertical`&&A.itemSecondarySize||A.itemSize}px`:void 0,height:A.gridItems?`${e.direction===`horizontal`&&A.itemSecondarySize||A.itemSize}px`:void 0}:null,class:[`vue-recycle-scroller__item-view`,[A.itemClass,{hover:!A.skipHover&&P.hoverKey===k.nr.key}]]},toHandlers(A.skipHover?{}:{mouseenter:()=>{P.hoverKey=k.nr.key},mouseleave:()=>{P.hoverKey=null}})),{default:withCtx(()=>[renderSlot(e.$slots,`default`,{item:k.item,index:k.nr.index,active:k.nr.used})]),_:2},1040,[`style`,`class`]))),128)),renderSlot(e.$slots,`empty`)]),_:3},8,[`style`,`class`])),e.$slots.after?(openBlock(),createElementBlock(`div`,_hoisted_2$1,[renderSlot(e.$slots,`after`)],512)):createCommentVNode(`v-if`,!0),createVNode(I,{onNotify:F.handleResize},null,8,[`onNotify`])],34)),[[L,F.handleVisibilityChange]])}script$2.render=render$1,script$2.__file=`src/components/RecycleScroller.vue`;var script$1={name:`DynamicScroller`,components:{RecycleScroller:script$2},provide(){return typeof ResizeObserver<`u`&&(this.$_resizeObserver=new ResizeObserver(e=>{requestAnimationFrame(()=>{if(Array.isArray(e)){for(let k of e)if(k.target&&k.target.$_vs_onResize){let e,A;if(k.borderBoxSize){let j=k.borderBoxSize[0];e=j.inlineSize,A=j.blockSize}else e=k.contentRect.width,A=k.contentRect.height;k.target.$_vs_onResize(k.target.$_vs_id,e,A)}}})})),{vscrollData:this.vscrollData,vscrollParent:this,vscrollResizeObserver:this.$_resizeObserver}},inheritAttrs:!1,props:{...props,minItemSize:{type:[Number,String],required:!0}},emits:[`resize`,`visible`],data(){return{vscrollData:{active:!0,sizes:{},keyField:this.keyField,simpleArray:!1}}},computed:{simpleArray,itemsWithSize(){let e=[],{items:k,keyField:A,simpleArray:j}=this,M=this.vscrollData.sizes,N=k.length;for(let P=0;P<N;P++){let N=k[P],F=j?P:N[A],I=M[F];I===void 0&&!this.$_undefinedMap[F]&&(I=0),e.push({item:N,id:F,size:I})}return e}},watch:{items(){this.forceUpdate()},simpleArray:{handler(e){this.vscrollData.simpleArray=e},immediate:!0},direction(e){this.forceUpdate(!0)},itemsWithSize(e,k){let A=this.$el.scrollTop,j=0,M=0,N=Math.min(e.length,k.length);for(let P=0;P<N&&!(j>=A);P++)j+=k[P].size||this.minItemSize,M+=e[P].size||this.minItemSize;let P=M-j;P!==0&&(this.$el.scrollTop+=P)}},beforeCreate(){this.$_updates=[],this.$_undefinedSizes=0,this.$_undefinedMap={},this.$_events=mitt_es_default()},activated(){this.vscrollData.active=!0},deactivated(){this.vscrollData.active=!1},unmounted(){this.$_events.all.clear()},methods:{onScrollerResize(){this.$refs.scroller&&this.forceUpdate(),this.$emit(`resize`)},onScrollerVisible(){this.$_events.emit(`vscroll:update`,{force:!1}),this.$emit(`visible`)},forceUpdate(e=!1){(e||this.simpleArray)&&(this.vscrollData.sizes={}),this.$_events.emit(`vscroll:update`,{force:!0})},scrollToItem(e){let k=this.$refs.scroller;k&&k.scrollToItem(e)},getItemSize(e,k=void 0){let A=this.simpleArray?k??this.items.indexOf(e):e[this.keyField];return this.vscrollData.sizes[A]||0},scrollToBottom(){if(this.$_scrollingToBottom)return;this.$_scrollingToBottom=!0;let e=this.$el;this.$nextTick(()=>{e.scrollTop=e.scrollHeight+5e3;let k=()=>{e.scrollTop=e.scrollHeight+5e3,requestAnimationFrame(()=>{e.scrollTop=e.scrollHeight+5e3,this.$_undefinedSizes===0?this.$_scrollingToBottom=!1:requestAnimationFrame(k)})};requestAnimationFrame(k)})}}};function render(e,k,A,j,N,P){let F=resolveComponent(`RecycleScroller`);return openBlock(),createBlock(F,mergeProps({ref:`scroller`,items:P.itemsWithSize,"min-item-size":A.minItemSize,direction:e.direction,"key-field":`id`,"list-tag":e.listTag,"item-tag":e.itemTag},e.$attrs,{onResize:P.onScrollerResize,onVisible:P.onScrollerVisible}),{default:withCtx(({item:k,index:A,active:j})=>[renderSlot(e.$slots,`default`,normalizeProps(guardReactiveProps({item:k.item,index:A,active:j,itemWithSize:k})))]),before:withCtx(()=>[renderSlot(e.$slots,`before`)]),after:withCtx(()=>[renderSlot(e.$slots,`after`)]),empty:withCtx(()=>[renderSlot(e.$slots,`empty`)]),_:3},16,[`items`,`min-item-size`,`direction`,`list-tag`,`item-tag`,`onResize`,`onVisible`])}script$1.render=render,script$1.__file=`src/components/DynamicScroller.vue`;var script={name:`DynamicScrollerItem`,inject:[`vscrollData`,`vscrollParent`,`vscrollResizeObserver`],props:{item:{required:!0},watchData:{type:Boolean,default:!1},active:{type:Boolean,required:!0},index:{type:Number,default:void 0},sizeDependencies:{type:[Array,Object],default:null},emitResize:{type:Boolean,default:!1},tag:{type:String,default:`div`}},emits:[`resize`],computed:{id(){if(this.vscrollData.simpleArray)return this.index;if(this.vscrollData.keyField in this.item)return this.item[this.vscrollData.keyField];throw Error(`keyField '${this.vscrollData.keyField}' not found in your item. You should set a valid keyField prop on your Scroller`)},size(){return this.vscrollData.sizes[this.id]||0},finalActive(){return this.active&&this.vscrollData.active}},watch:{watchData:`updateWatchData`,id(e,k){if(this.$el.$_vs_id=this.id,this.size||this.onDataUpdate(),this.$_sizeObserved){let A=this.vscrollData.sizes[k],j=this.vscrollData.sizes[e];A!=null&&A!==j&&this.applySize(A)}},finalActive(e){this.size||(e?this.vscrollParent.$_undefinedMap[this.id]||(this.vscrollParent.$_undefinedSizes++,this.vscrollParent.$_undefinedMap[this.id]=!0):this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=!1)),this.vscrollResizeObserver?e?this.observeSize():this.unobserveSize():e&&this.$_pendingVScrollUpdate===this.id&&this.updateSize()}},created(){if(!this.$isServer&&(this.$_forceNextVScrollUpdate=null,this.updateWatchData(),!this.vscrollResizeObserver)){for(let e in this.sizeDependencies)this.$watch(()=>this.sizeDependencies[e],this.onDataUpdate);this.vscrollParent.$_events.on(`vscroll:update`,this.onVscrollUpdate)}},mounted(){this.finalActive&&(this.updateSize(),this.observeSize())},beforeUnmount(){this.vscrollParent.$_events.off(`vscroll:update`,this.onVscrollUpdate),this.unobserveSize()},methods:{updateSize(){this.finalActive?this.$_pendingSizeUpdate!==this.id&&(this.$_pendingSizeUpdate=this.id,this.$_forceNextVScrollUpdate=null,this.$_pendingVScrollUpdate=null,this.computeSize(this.id)):this.$_forceNextVScrollUpdate=this.id},updateWatchData(){this.watchData&&!this.vscrollResizeObserver?this.$_watchData=this.$watch(`item`,()=>{this.onDataUpdate()},{deep:!0}):this.$_watchData&&=(this.$_watchData(),null)},onVscrollUpdate({force:e}){!this.finalActive&&e&&(this.$_pendingVScrollUpdate=this.id),(this.$_forceNextVScrollUpdate===this.id||e||!this.size)&&this.updateSize()},onDataUpdate(){this.updateSize()},computeSize(e){this.$nextTick(()=>{if(this.id===e){let e=this.$el.offsetWidth,k=this.$el.offsetHeight;this.applyWidthHeight(e,k)}this.$_pendingSizeUpdate=null})},applyWidthHeight(e,k){let A=~~(this.vscrollParent.direction===`vertical`?k:e);A&&this.size!==A&&this.applySize(A)},applySize(e){this.vscrollParent.$_undefinedMap[this.id]&&(this.vscrollParent.$_undefinedSizes--,this.vscrollParent.$_undefinedMap[this.id]=void 0),this.vscrollData.sizes[this.id]=e,this.emitResize&&this.$emit(`resize`,this.id)},observeSize(){this.vscrollResizeObserver&&(this.$_sizeObserved||=(this.vscrollResizeObserver.observe(this.$el),this.$el.$_vs_id=this.id,this.$el.$_vs_onResize=this.onResize,!0))},unobserveSize(){this.vscrollResizeObserver&&(this.$_sizeObserved&&=(this.vscrollResizeObserver.unobserve(this.$el),this.$el.$_vs_onResize=void 0,!1))},onResize(e,k,A){this.id===e&&this.applyWidthHeight(k,A)}},render(){return h(this.tag,this.$slots.default())}};script.__file=`src/components/DynamicScrollerItem.vue`;var minItemSize=60,virtualList_default=defineComponent({__name:`index`,props:{data:{default:()=>[]},size:{default:10},autoRrefresh:{type:Boolean,default:!0}},emits:[`onScrollEnd`],setup(e,{emit:k}){let A=k,j=ref(null),M=computed(()=>e.size*minItemSize);return watch(()=>e.data,()=>{nextTick(()=>{j.value&&e.autoRrefresh&&j.value.forceUpdate()})},{deep:1}),(e,k)=>(openBlock(),createBlock(unref(script$1),{ref_key:`scrollerRef`,ref:j,items:e.data,"min-item-size":minItemSize,onScrollEnd:k[0]||=e=>A(`onScrollEnd`),style:normalizeStyle({maxHeight:`${M.value}px`,overflowY:`auto`}),class:`h-full`,"key-field":`id`},{default:withCtx(({item:k,index:A,active:j})=>[createVNode(unref(script),{item:k,active:j,"data-index":A},{default:withCtx(()=>[renderSlot(e.$slots,`default`,{item:k,index:A})]),_:2},1032,[`item`,`active`,`data-index`])]),_:3},8,[`items`,`style`]))}}),_hoisted_1={class:`demo-card`},_hoisted_2={class:`demo-content`},_hoisted_3={class:`list-container`},_hoisted_4={class:`list-item`},_hoisted_5={class:`item-info`},_hoisted_6={class:`item-avatar`},_hoisted_7={class:`item-text`},infinite_virtual_list_default=_plugin_vue_export_helper_default({__name:`infinite-virtual-list`,setup(k){let j=ref(Array.from({length:1e3},(e,k)=>({id:k+1,text:`这是虚拟列表中的第 ${k+1} 个数据项`})));return(k,M)=>{let N=ElButton,P=ElDropdownItem,I=ElDropdownMenu,z=ElDropdown,V=virtualList_default;return openBlock(),createElementBlock(`div`,_hoisted_1,[M[3]||=createBaseVNode(`div`,{class:`demo-info`},[createBaseVNode(`h4`,{class:`title`},`虚拟长列表 (Virtual List)`),createBaseVNode(`p`,{class:`desc`},`高效渲染海量数据，仅在视口区域内生成 DOM 节点`)],-1),createBaseVNode(`div`,_hoisted_2,[createBaseVNode(`div`,_hoisted_3,[createVNode(V,{data:j.value,itemSize:60,maxSize:20},{default:withCtx(({row:e})=>[createBaseVNode(`div`,_hoisted_4,[createBaseVNode(`div`,_hoisted_5,[createBaseVNode(`div`,_hoisted_6,toDisplayString(e.text.charAt(0))+toDisplayString(e.id),1),createBaseVNode(`span`,_hoisted_7,toDisplayString(e.text),1)]),createVNode(z,{placement:`bottom`,trigger:`click`},{dropdown:withCtx(()=>[createVNode(I,null,{default:withCtx(()=>[createVNode(P,{icon:unref(edit_default)},{default:withCtx(()=>M[0]||=[createTextVNode(`编辑项目`)]),_:1},8,[`icon`]),createVNode(P,{icon:unref(share_default)},{default:withCtx(()=>M[1]||=[createTextVNode(`分享此项`)]),_:1},8,[`icon`]),createVNode(P,{icon:unref(delete_default),divided:``,type:`danger`},{default:withCtx(()=>M[2]||=[createTextVNode(`删除`)]),_:1},8,[`icon`])]),_:1})]),default:withCtx(()=>[createVNode(N,{link:``,icon:unref(more_filled_default)},null,8,[`icon`])]),_:1})])]),_:1},8,[`data`])])])])}}},[[`__scopeId`,`data-v-100ecd69`]]);export{infinite_virtual_list_default as default};