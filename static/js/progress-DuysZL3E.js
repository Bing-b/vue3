/* empty css             *//* empty css                  *//* empty css                    */import{g as P,l as x,B as y,m as I}from"./ui-BeUbgTob.js";import{r as k,c as C,W as E,x as S,ag as F,y as b,z as B,A as f,P as o,u as l,H as g,L as h}from"./core-DwZ6MPRT.js";var d={exports:{}},v;function q(){return v||(v=1,function(u,a){const e=function(t){t||(t={}),this.timeConstant=t.timeConstant||1e3,this.progress=0,this._running=!1,this._intervalFrequency=100,this.autoStart=t.autoStart||!1,this.parent=t.parent,this.parentStart=t.parentStart,this.parentEnd=t.parentEnd,this.autoStart&&this.start()};e.prototype.start=function(){this._time=0,this._intervalId=setInterval(this._onInterval.bind(this),this._intervalFrequency)},e.prototype._onInterval=function(){this._time+=this._intervalFrequency,this.setProgress(1-Math.exp(-1*this._time/this.timeConstant))},e.prototype.end=function(){this.stop(),this.setProgress(1)},e.prototype.stop=function(){clearInterval(this._intervalId),this._intervalId=null},e.prototype.createSubProgress=function(t){const s=t.start||this.progress,n=t.end||1,r=Object.assign({},t,{parent:this,parentStart:s,parentEnd:n,start:null,end:null});return new e(r)},e.prototype.setProgress=function(t){this.progress=t,this.parent&&this.parent.setProgress((this.parentEnd-this.parentStart)*this.progress+this.parentStart)},u.exports=e}(d)),d.exports}var w=q();const N=P(w);function T(u,a){const e=new N({timeConstant:5e3,autoStart:a}),t=k(e.progress),s=C(()=>parseInt(t.value*100+""));let n;E(()=>{p()});function r(){(!s.value||s.value===100)&&(e.start(),c())}function i(){e.end(),t.value=e.progress}function c(){p(),n=setInterval(()=>{t.value=e.progress},100)}function p(){n&&clearInterval(n),n=null}return{progress:t,percentage:s,start:r,end:i}}const V={class:"p-5"},j={class:"flex gap-10"},L=S({__name:"progress",setup(u){const a=T(),e=a.percentage,{start:t,end:s}=a;return(n,r)=>{const i=x,c=F("Plus"),p=y,m=I;return B(),b("div",V,[r[4]||(r[4]=f("p",null,"模拟进度条",-1)),f("div",j,[o(i,{percentage:l(e),striped:!0,"striped-flow":!0,class:"w-1/2"},null,8,["percentage"]),o(i,{type:"circle",percentage:l(e)},null,8,["percentage"])]),f("div",null,[o(m,{type:"primary",onClick:r[0]||(r[0]=_=>l(t)())},{default:g(()=>[o(p,null,{default:g(()=>[o(c)]),_:1}),r[2]||(r[2]=h("开始"))]),_:1}),o(m,{type:"danger",onClick:r[1]||(r[1]=_=>l(s)())},{default:g(()=>r[3]||(r[3]=[h("结束")])),_:1})])])}}});export{L as default};
