import{C as ElTableColumn,Hr as __toESM,Ir as toDisplayString,J as ElTag,Jn as withCtx,Lt as rank_default,Mn as onUnmounted,Nn as openBlock,Qt as _plugin_vue_export_helper_default,S as ElTable,X as ElRadioGroup,Xt as ElIcon,Y as ElRadioButton,fn as createBaseVNode,g as ElMessage,hn as createElementBlock,i as nanoid,jn as onMounted,kn as nextTick,qn as watchEffect,r as sortable_esm_default,rr as ref,ur as unref,vn as createTextVNode,xn as defineComponent,yn as createVNode}from"./index-usVY9R6Z.js";/* empty css            *//* empty css            *//* empty css            */import"./css-pkVQ7h14.js";/* empty css            *//* empty css            *//* empty css            *//* empty css            *//* empty css            */const useDragTable=e=>{let g=ref(),_=ref(``),v=ref([]),y,b=()=>{if(!v.value||!g.value)return;ElMessage.warning(`初始化`);let _=e?.type&&e.type===`custom-table`?g.value:g.value.$el.querySelector(`.el-table__body-wrapper tbody`),y=e?.handle?e.handle:`.el-table__row`;return sortable_esm_default.create(_,{animation:100,handle:y,onEnd(e){let{oldIndex:g,newIndex:_}=e,y=v.value.splice(g,1)[0];v.value.splice(_,0,y),v.value.forEach(e=>{e.id||=nanoid(8)})}})};return watchEffect(()=>{_.value&&y&&y.destroy(),nextTick(()=>{y=b()})}),onUnmounted(()=>{y&&y.destroy()}),{dragWrapperRef:g,dragDataKey:_,dragData:v}};var _hoisted_1={class:`demo-card`},_hoisted_2={class:`demo-header`},_hoisted_3={class:`actions`},_hoisted_4={class:`table-wrapper`},_hoisted_5={class:`user-name`},sortTable_default=_plugin_vue_export_helper_default(defineComponent({__name:`sortTable`,setup(g){let{dragWrapperRef:x,dragDataKey:S,dragData:C}=useDragTable();ref([]);let w=ref([{name:`张三`,value:`1`},{name:`李四`,value:`2`},{name:`小帅`,value:`3`}]),E=ref([{name:`哪吒`,value:`3`},{name:`敖丙`,value:`4`},{name:`申公豹`,value:`6`}]),D=ref(`data1`),O=e=>{e===`data1`?A():M()},A=()=>{S.value=`name`,C.value=w.value},M=()=>{S.value=`name`,C.value=E.value};return onMounted(()=>{A()}),(g,S)=>{let w=ElRadioButton,T=ElRadioGroup,E=ElIcon,k=ElTableColumn,A=ElTag,j=ElTable;return openBlock(),createElementBlock(`div`,_hoisted_1,[createBaseVNode(`div`,_hoisted_2,[S[3]||=createBaseVNode(`div`,{class:`header-content`},[createBaseVNode(`h4`,{class:`title`},`交互式可拖拽表格`),createBaseVNode(`p`,{class:`desc`},`基于 SortableJS 实现，支持跨数据集切换并保持拖拽功能`)],-1),createBaseVNode(`div`,_hoisted_3,[createVNode(T,{modelValue:D.value,"onUpdate:modelValue":S[0]||=e=>D.value=e,onChange:O},{default:withCtx(()=>[createVNode(w,{label:`data1`},{default:withCtx(()=>S[1]||=[createTextVNode(`数据集 A`)]),_:1}),createVNode(w,{label:`data2`},{default:withCtx(()=>S[2]||=[createTextVNode(`数据集 B`)]),_:1})]),_:1},8,[`modelValue`])])]),createBaseVNode(`div`,_hoisted_4,[createVNode(j,{data:unref(C),ref_key:`dragWrapperRef`,ref:x,"row-key":`name`,border:``,stripe:``,"highlight-current-row":``},{default:withCtx(()=>[createVNode(k,{label:`排序`,width:`80`,align:`center`},{default:withCtx(()=>[createVNode(E,{class:`drag-handle`},{default:withCtx(()=>[createVNode(unref(rank_default))]),_:1})]),_:1}),createVNode(k,{label:`姓名`,prop:`name`},{default:withCtx(({row:e})=>[createBaseVNode(`span`,_hoisted_5,toDisplayString(e.name),1)]),_:1}),createVNode(k,{label:`权重/数量`,prop:`value`,align:`center`},{default:withCtx(({row:e})=>[createVNode(A,{type:e.value>3?`success`:`info`},{default:withCtx(()=>[createTextVNode(toDisplayString(e.value),1)]),_:2},1032,[`type`])]),_:1})]),_:1},8,[`data`])])])}}}),[[`__scopeId`,`data-v-7a99c773`]]);export{sortTable_default as default};